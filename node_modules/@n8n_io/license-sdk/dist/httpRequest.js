"use strict";var a=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var y=(t,e)=>{for(var n in e)a(t,n,{get:e[n],enumerable:!0})},f=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of l(e))!m.call(t,r)&&r!==n&&a(t,r,{get:()=>e[r],enumerable:!(o=h(e,r))||o.enumerable});return t};var g=t=>f(a({},"__esModule",{value:!0}),t);var T={};y(T,{default:()=>b,postRequest:()=>p});module.exports=g(T);var s=require("undici"),c=require("url"),d=Object.fromEntries(["http","https"].map(t=>{let e=process.env[`${t}_proxy`];return e?[`${t}:`,new s.ProxyAgent(e)]:[]})),x=(process.env.no_proxy??"").split(",").map(t=>t.trim()),w=(0,s.getGlobalDispatcher)();(0,s.setGlobalDispatcher)(new class extends s.Dispatcher{dispatch(t,e){if(t.origin){let{host:n,protocol:o}=typeof t.origin=="string"?new c.URL(t.origin):t.origin;if(!x.some(r=>r.startsWith(".")?n.endsWith(r):n===r)){let r=d[o];r&&r.dispatch(t,e)}}return w.dispatch(t,e)}});async function p(t,e,n={}){let o=new AbortController,r=setTimeout(()=>{o.abort()},n.timeoutInMs??3e4);try{let i=await(0,s.fetch)(t,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},signal:o.signal}),u=await i.json();return{status:i.status,data:u}}catch(i){throw new Error("Connection Error",{cause:i})}finally{clearTimeout(r)}}var b={postRequest:p};0&&(module.exports={postRequest});
//# sourceMappingURL=httpRequest.js.map