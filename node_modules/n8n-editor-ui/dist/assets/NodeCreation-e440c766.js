import{h as v,_ as f}from"./n8n-91a817dd.js";import{u as _,N as B,g as S,D as k,a as b,S as T}from"./index-683d9781.js";import{m as w}from"./pinia-b59a3de7.js";import{d as E,aD as h,b as u,o as p,f as C,n as a,g as N,e as l,k as $,c as g,w as A,aE as D}from"./vendor-c8bad0e4.js";import"./luxon-19e1de07.js";import"./esprima-next-8c7e8ff9.js";import"./lodash-es-876af2e5.js";import"./@fortawesome/vue-fontawesome-6e8401ca.js";import"./@fortawesome/fontawesome-svg-core-984d6dde.js";import"./axios-706baf85.js";import"./flatted-8b14da7d.js";import"./vue-i18n-6b44b0b1.js";import"./dateformat-ce9c2f3c.js";import"./@jsplumb/browser-ui-70b0a0d6.js";import"./@jsplumb/core-0a463c13.js";import"./@jsplumb/util-98a92a84.js";import"./@jsplumb/common-fe415eb9.js";import"./@jsplumb/connector-bezier-53998944.js";import"./uuid-cf522c50.js";import"./@n8n/codemirror-lang-sql-9a304659.js";import"./codemirror-lang-n8n-expression-47e67c3a.js";import"./codemirror-lang-html-n8n-4223f8c7.js";import"./fast-json-stable-stringify-44009db8.js";import"./prettier-8be78f6f.js";import"./@vueuse/core-5943aedd.js";import"./timeago.js-a9e71aec.js";import"./file-saver-cc6d9044.js";import"./vue-json-pretty-cfc4ef1d.js";import"./humanize-duration-b7379348.js";import"./v3-infinite-loading-ff016886.js";import"./vue-agile-b5edbe38.js";import"./copy-to-clipboard-4501bff5.js";import"./vue3-touch-events-ee55ce04.js";import"./@fortawesome/free-solid-svg-icons-c96f0de9.js";import"./@fortawesome/free-regular-svg-icons-74cb85f8.js";const I=h(async()=>v(()=>import("./NodeCreator-425f5bd3.js"),["assets/NodeCreator-425f5bd3.js","assets/index-683d9781.js","assets/vendor-c8bad0e4.js","assets/pinia-b59a3de7.js","assets/n8n-91a817dd.js","assets/luxon-19e1de07.js","assets/esprima-next-8c7e8ff9.js","assets/lodash-es-876af2e5.js","assets/@fortawesome/vue-fontawesome-6e8401ca.js","assets/@fortawesome/fontawesome-svg-core-984d6dde.js","assets/n8n-def62baf.css","assets/axios-706baf85.js","assets/flatted-8b14da7d.js","assets/vue-i18n-6b44b0b1.js","assets/dateformat-ce9c2f3c.js","assets/@jsplumb/browser-ui-70b0a0d6.js","assets/@jsplumb/core-0a463c13.js","assets/@jsplumb/util-98a92a84.js","assets/@jsplumb/common-fe415eb9.js","assets/@jsplumb/connector-bezier-53998944.js","assets/uuid-cf522c50.js","assets/@n8n/codemirror-lang-sql-9a304659.js","assets/codemirror-lang-n8n-expression-47e67c3a.js","assets/codemirror-lang-html-n8n-4223f8c7.js","assets/fast-json-stable-stringify-44009db8.js","assets/prettier-8be78f6f.js","assets/@vueuse/core-5943aedd.js","assets/timeago.js-a9e71aec.js","assets/file-saver-cc6d9044.js","assets/vue-json-pretty-cfc4ef1d.js","assets/humanize-duration-b7379348.js","assets/v3-infinite-loading-ff016886.js","assets/vue-agile-b5edbe38.js","assets/vue-agile-d964f598.css","assets/copy-to-clipboard-4501bff5.js","assets/vue3-touch-events-ee55ce04.js","assets/@fortawesome/free-solid-svg-icons-c96f0de9.js","assets/@fortawesome/free-regular-svg-icons-74cb85f8.js","assets/index-ac404141.css","assets/NodeCreator-69549990.css"])),P=E({name:"node-creation",components:{NodeCreator:I},props:{nodeViewScale:{type:Number,required:!0},createNodeActive:{type:Boolean,default:!1}},data(){return{showStickyButton:!1}},computed:{...w(_)},methods:{onCreateMenuHoverIn(e){const t=e.target;this.showStickyButton=!0;const d=o=>{if(t){const r=t.getBoundingClientRect(),c=r.height,s=r.width,i=r.left,n=i+s,m=r.top,y=m+c;o.pageX>i&&o.pageX<n&&o.pageY>m&&o.pageY<y||(this.showStickyButton=!1,document.removeEventListener("mousemove",d,!1))}};document.addEventListener("mousemove",d,!1)},openNodeCreator(){this.$emit("toggleNodeCreator",{source:B.ADD_NODE_BUTTON,createNodeActive:!0})},addStickyNote(){document.activeElement&&document.activeElement.blur();const e=[...this.uiStore.nodeViewOffsetPosition],t=S(this.nodeViewScale,e);t[0]-=k/2,t[1]-=b/2,this.$emit("addNode",[{nodeTypeName:T,position:t}])},closeNodeCreator(){this.$emit("toggleNodeCreator",{createNodeActive:!1})},nodeTypeSelected(e){this.$emit("addNode",e.map(t=>({nodeTypeName:t}))),this.closeNodeCreator()}}}),O="_nodeButtonsWrapper_q5bvi_5",V="_addStickyButton_q5bvi_14",q="_visibleButton_q5bvi_21",H="_noEvents_q5bvi_26",L="_nodeCreatorButton_q5bvi_30",M="_nodeCreatorPlus_q5bvi_47",W={nodeButtonsWrapper:O,addStickyButton:V,visibleButton:q,noEvents:H,nodeCreatorButton:L,nodeCreatorPlus:M};function Y(e,t,d,o,r,c){const s=u("n8n-icon-button"),i=u("NodeCreator");return p(),C("div",null,[e.createNodeActive?$("",!0):(p(),C("div",{key:0,class:a([e.$style.nodeButtonsWrapper,e.showStickyButton?e.$style.noEvents:""]),onMouseenter:t[1]||(t[1]=(...n)=>e.onCreateMenuHoverIn&&e.onCreateMenuHoverIn(...n))},[N("div",{class:a(e.$style.nodeCreatorButton),"data-test-id":"node-creator-plus-button"},[l(s,{size:"xlarge",icon:"plus",type:"tertiary",class:a(e.$style.nodeCreatorPlus),onClick:e.openNodeCreator,title:e.$locale.baseText("nodeView.addNode")},null,8,["class","onClick","title"]),N("div",{class:a([e.$style.addStickyButton,e.showStickyButton?e.$style.visibleButton:""]),onClick:t[0]||(t[0]=(...n)=>e.addStickyNote&&e.addStickyNote(...n)),"data-test-id":"add-sticky-button"},[l(s,{type:"tertiary",icon:["far","note-sticky"],title:e.$locale.baseText("nodeView.addSticky")},null,8,["title"])],2)],2)],34)),(p(),g(D,null,{default:A(()=>[l(i,{active:e.createNodeActive,onNodeTypeSelected:e.nodeTypeSelected,onCloseNodeCreator:e.closeNodeCreator},null,8,["active","onNodeTypeSelected","onCloseNodeCreator"])]),_:1}))])}const R={$style:W},we=f(P,[["render",Y],["__cssModules",R]]);export{we as default};
//# sourceMappingURL=NodeCreation-e440c766.js.map
