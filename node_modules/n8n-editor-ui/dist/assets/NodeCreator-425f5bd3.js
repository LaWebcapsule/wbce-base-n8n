import{C as Y,v as oe,w as j,T as F,p as yt,x as de,W as Q,E as ft,y as $e,M as Ne,z as Be,O as He,R as Le,A as Ue,H as Ke,F as xe,B as ze,G as ne,r as ue,m as pe,d as Se,I as je,N as ke,S as mt,J as vt,K as _t,L as ge,P as Fe,Q as ye,U as qe,V as ht,X as Ie,Y as Tt,Z as bt,u as wt}from"./index-683d9781.js";import{d as H,o as k,c as L,w as A,r as X,Z as Xe,y as G,i as $,a0 as Re,v as ve,P as Ze,a1 as Me,b as B,f as R,g as I,e as O,n as w,k as M,s as _e,ab as fe,j as K,X as Qe,V as Oe,a4 as he,Y as Je,t as W,$ as et,C as J,M as kt,a9 as Ct,m as me,ad as tt,am as $t,ah as Nt,aI as St,l as re}from"./vendor-c8bad0e4.js";import{_ as U}from"./n8n-91a817dd.js";import{d as ot}from"./pinia-b59a3de7.js";import"./axios-706baf85.js";import"./dateformat-ce9c2f3c.js";import{v as Ae}from"./uuid-cf522c50.js";import{m as It,x as Te,y as nt}from"./lodash-es-876af2e5.js";import"./flatted-8b14da7d.js";import"./vue-i18n-6b44b0b1.js";import"./@fortawesome/vue-fontawesome-6e8401ca.js";import"./@fortawesome/fontawesome-svg-core-984d6dde.js";import"./luxon-19e1de07.js";import"./@jsplumb/browser-ui-70b0a0d6.js";import"./@jsplumb/core-0a463c13.js";import"./@jsplumb/util-98a92a84.js";import"./@jsplumb/common-fe415eb9.js";import"./@jsplumb/connector-bezier-53998944.js";import"./@n8n/codemirror-lang-sql-9a304659.js";import"./codemirror-lang-n8n-expression-47e67c3a.js";import"./codemirror-lang-html-n8n-4223f8c7.js";import"./fast-json-stable-stringify-44009db8.js";import"./prettier-8be78f6f.js";import"./esprima-next-8c7e8ff9.js";import"./@vueuse/core-5943aedd.js";import"./timeago.js-a9e71aec.js";import"./file-saver-cc6d9044.js";import"./vue-json-pretty-cfc4ef1d.js";import"./humanize-duration-b7379348.js";import"./v3-infinite-loading-ff016886.js";import"./vue-agile-b5edbe38.js";import"./copy-to-clipboard-4501bff5.js";import"./vue3-touch-events-ee55ce04.js";import"./@fortawesome/free-solid-svg-icons-c96f0de9.js";import"./@fortawesome/free-regular-svg-icons-74cb85f8.js";const At=30,Et=30,Lt=30,Rt=15,Mt=-15,Ye=-200,Ot=-5;function Vt(t,e){let o=0,n=0;for(;o<t.length&&n<e.length;){const r=t.charAt(o).toLowerCase(),p=e.charAt(n).toLowerCase();r===p&&o++,++n}return t.length!==0&&e.length!==0&&o===t.length}function Dt(t,e){return st(t,e,0,0,null,[],256,0,0,5)}function st(t,e,o,n,r,p,v,h,s,d){let g=0;if(++s>=d)return{matched:!1,outScore:g};if(o===t.length||n===e.length)return{matched:!1,outScore:g};let f=!1,i=[],l=0,a=!0;for(;o<t.length&&n<e.length;){if(t[o].toLowerCase()===e[n].toLowerCase()){if(h>=v)return{matched:!1,outScore:g};a&&r&&(p=[...r],a=!1);const y=[],c=st(t,e,o,n+1,p,y,v,h,s,d),_=c.outScore;c.matched&&((!f||_>l)&&(i=[...y],l=_),f=!0),p[h++]=n,++o}++n}const m=o===t.length;if(m){g=100;let y=Mt*p[0];y=y<Ye?Ye:y,g+=y;const c=e.length-h;g+=Ot*c;for(let _=0;_<h;_++){const u=p[_];if(_>0){const T=p[_-1];u===T+1&&(g+=At)}if(u>0){const T=e[u-1],b=e[u];T!==T.toUpperCase()&&b!==b.toLowerCase()&&(g+=Lt),(T==="_"||T===" ")&&(g+=Et)}else g+=Rt}return f&&(!m||l>g)?(p=[...i],g=l,{matched:!0,outScore:g}):m?{matched:!0,outScore:g}:{matched:!1,outScore:g}}return{matched:!1,outScore:g}}function Pt(t,e){if(t.hasOwnProperty(e))return t[e];const o=e.split(".");let n=t,r=0;for(;n&&r<o.length;)n=n[o[r]],r++;return n}function Bt(t,e,o){const n=e.reduce((r,p)=>{let v=[];o.forEach(({key:s,weight:d})=>{const g=Pt(p,s);Array.isArray(g)?v=v.concat(g.map(f=>({value:f,weight:d}))):typeof g=="string"&&v.push({value:g,weight:d})});const h=v.reduce((s,{value:d,weight:g})=>{if(!Vt(t,d))return s;const f=Dt(t,d);f.outScore*=g;const{matched:i,outScore:l}=f;return!s&&i||i&&s&&l>s.outScore?f:s},null);return h&&r.push({score:h.outScore,item:p}),r},[]);return n.sort((r,p)=>p.score-r.score),n}const Ht=H({name:"SlideTransition"});function Ut(t,e,o,n,r,p){return k(),L(Xe,{name:"slide"},{default:A(()=>[X(t.$slots,"default",{},void 0,!0)]),_:3})}const Kt=U(Ht,[["render",Ut],["__scopeId","data-v-88e2114c"]]),xt="data-keyboard-nav-id",We=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Escape","Tab"],q=ot("nodeCreatorKeyboardNavigation",()=>{const t=G([]),e=G(null),o=G({});function n(y){return y==null?void 0:y.getAttribute("data-keyboard-nav-type")}function r(y){return(y==null?void 0:y.getAttribute(xt))||void 0}async function p(){return new Promise(y=>{a(),setTimeout(()=>{t.value=Array.from(document.querySelectorAll("[data-keyboard-nav-type]")).map(c=>new WeakRef(c)),y()},0)})}function v(y,c){Object.values(o.value).filter(T=>T.keyboardKeys.includes(y)).forEach(T=>{if(!e.value)return;(T.condition===void 0||T.condition(n(c)||"",e.value))&&e.value&&T.handler(e.value,y)})}async function h(y){var N,C,D;const c=y.key;if(!We.includes(c))return;y.preventDefault(),y.stopPropagation(),await p();const _=t.value.findIndex(P=>r(P==null?void 0:P.deref())===e.value),u=(N=t.value[_])==null?void 0:N.deref(),T=c==="ArrowDown",b=c==="ArrowUp";if(u){if(T){const P=_<t.value.length-1?_+1:0;d((C=t.value[P])==null?void 0:C.deref())}if(b){const P=_>0?_-1:t.value.length-1;d((D=t.value[P])==null?void 0:D.deref())}v(c,u)}}function s(y){e.value=y}function d(y){const c=r(y);c&&(s(c),y!=null&&y.scrollIntoView&&(y==null||y.scrollIntoView({block:"center"})))}async function g(y){var c;await p(),d((c=t.value[y])==null?void 0:c.deref())}function f(){document.addEventListener("keydown",h,{capture:!0})}function i(){a(),document.removeEventListener("keydown",h,{capture:!0})}function l(y,c){c.keyboardKeys.forEach(_=>{if(We.includes(_))o.value={...o.value,[y]:c};else throw new Error(`Key ${_} is not supported`)})}function a(){t.value=[]}function m(){return t.value.findIndex(y=>r(y==null?void 0:y.deref())===e.value)}return{activeItemId:e,attachKeydownEvent:f,refreshSelectableItems:p,detachKeydownEvent:i,registerKeyHook:l,getActiveItemIndex:m,setActiveItemId:s,setActiveItemIndex:g}});function ee(t,e,o="node"){var r,p,v;const n={uuid:Ae(),key:t.name,subcategory:e??((v=(p=(r=t.codex)==null?void 0:r.subcategories)==null?void 0:p[Y])==null?void 0:v[0])??oe,properties:{...t},type:o};return n}function zt(t){return t.reduce((e,o)=>{var p,v,h,s;return(((v=(p=o.codex)==null?void 0:p.categories)==null?void 0:v.includes(Y))?((s=(h=o==null?void 0:o.codex)==null?void 0:h.subcategories)==null?void 0:s[Y])??[]:[oe]).forEach(d=>{e[d]||(e[d]=[]),e[d].push(ee(o,d))}),e},{})}function at(t){return t.sort((e,o)=>{var p,v,h,s;if(e.type!=="node"||o.type!=="node")return-1;const n=((v=(p=e.properties)==null?void 0:p.displayName)==null?void 0:v.toLowerCase())||e.key,r=((s=(h=o.properties)==null?void 0:h.displayName)==null?void 0:s.toLowerCase())||o.key;return n.localeCompare(r,void 0,{sensitivity:"base"})})}function Ge(t,e){const o=t.toLowerCase().replace("trigger","").trimEnd();return(Bt(o,e,[{key:"properties.displayName",weight:2},{key:"properties.codex.alias",weight:1}])||[]).map(({item:r})=>r)}const V=ot("nodeCreatorViewStacks",()=>{const t=j(),{getActiveItemIndex:e}=q(),o=G([]),n=$(()=>{const a=o.value[o.value.length-1];if(!(a!=null&&a.baselineItems))return a.items?d(a.items):[];if(a.search&&v.value){const m=v.value.length>0?v.value:a.baselineItems;return d(Ge(a.search||"",m))}return d(a.baselineItems)}),r=$(()=>{const a=o.value[o.value.length-1];return a?{...a,items:n.value,hasSearch:(a.baselineItems||[]).length>8||(a==null?void 0:a.hasSearch)}:{}}),p=$(()=>r.value.mode||F),v=$(()=>{const a=o.value[o.value.length-1];return!a||!a.searchItems?[]:a.searchItems.map(m=>ee(m,a.subcategory))}),h=$(()=>{const a=o.value[o.value.length-1];if(!a||!a.search)return[];const m=t.mergedNodes.map(c=>ee(c));return d(Ge(a.search||"",m)).filter(c=>!n.value.find(_=>_.key===c.key))});function s(){const a=o.value[o.value.length-1];if(!a||!r.value.uuid)return;const m=zt(t.mergedNodes);let y=(a==null?void 0:a.items)??m[(a==null?void 0:a.subcategory)??oe]??[];if((a.forceIncludeNodes??[]).length>0){const c=t.mergedNodes.filter(_=>{var u;return(u=a.forceIncludeNodes)==null?void 0:u.includes(_.name)}).map(_=>ee(_,a.subcategory));y.push(...c)}a.baseFilter&&(y=y.filter(a.baseFilter)),a.itemsMapper&&(y=y.map(a.itemsMapper)),a.items||at(y),i({baselineItems:y})}function d(a){return a.map(m=>({...m,uuid:`${m.key}-${Ae()}`}))}function g(a){r.value.uuid&&i({activeIndex:e()});const m=Ae();o.value.push({...a,uuid:m,transitionDirection:"in",activeIndex:0}),s()}function f(){r.value.uuid&&(o.value.pop(),i({transitionDirection:"out"}))}function i(a){const m=o.value[o.value.length-1],y=o.value.findIndex(c=>c.uuid===m.uuid);m&&Object.keys(a).forEach(c=>{const _=c;o.value[y]={...o.value[y],[c]:a[_]}})}function l(){o.value=[]}return{viewStacks:o,activeViewStack:r,activeViewStackMode:p,globalSearchItemsDiff:h,resetViewStacks:l,updateCurrentViewStack:i,pushViewStack:g,popViewStack:f}}),rt="placeholder_recommended";function Yt(...t){return yt.baseText(...t)}const te=It(Yt,(...t)=>JSON.stringify(t)),Ce={"n8n-nodes-base.hubspotTrigger":(t,e)=>{var n,r,p;const o=(n=t==null?void 0:t.options)==null?void 0:n[0];return(p=(r=o==null?void 0:o.values[0])==null?void 0:r.options)==null?void 0:p.map(v=>({...ie(e),actionKey:v.value,displayName:te("nodeCreator.actionsCategory.onEvent",{interpolate:{event:Te(v.name)}}),description:v.description||"",displayOptions:t.displayOptions,values:{eventsUi:{eventValues:[{name:v.value}]}}}))}};function ie(t,e){const o=t.group.includes("trigger"),n=te(o?"nodeCreator.actionsCategory.triggers":"nodeCreator.actionsCategory.actions");return{name:t.name,group:t.group,codex:{label:e||"",categories:[n]},iconUrl:t.iconUrl,icon:t.icon,defaults:t.defaults}}function Wt(t){if(t.properties.find(r=>r.name==="resource"))return[];const e=t.properties.find(r=>{var p;return((p=r.name)==null?void 0:p.toLowerCase())==="operation"});if(!e||!e.options)return[];const n=e.options.filter(r=>!["*",""," "].includes(r.name)).map(r=>({...ie(t),actionKey:r.value,displayName:r.action??Te(r.name),description:r.description??"",displayOptions:e.displayOptions,values:{[e.name]:e.type==="multiOptions"?[r.value]:r.value}}));return n.length===0?[]:n}function Gt(t){var h,s;const e=["event","events","trigger on"],o=(h=t.displayName)==null?void 0:h.toLowerCase().includes("trigger"),n=t.properties.find(d=>{var g;return e.includes((g=d.displayName)==null?void 0:g.toLowerCase())});if(!o)return[];if(!n||!n.options)return[{...ie(t),actionKey:rt,displayName:te("nodeCreator.actionsCategory.onNewEvent",{interpolate:{event:t.displayName.replace("Trigger","").trimEnd()}}),description:""}];const r=n.options.filter(d=>!["*",""," "].includes(d.name));return((s=Ce[t.name])==null?void 0:s.call(Ce,n,t))??r.map(d=>({...ie(t),actionKey:d.value,displayName:d.action??te("nodeCreator.actionsCategory.onEvent",{interpolate:{event:Te(d.name)}}),description:d.description||"",displayOptions:n.displayOptions,values:{[n.name]:n.type==="multiOptions"?[d.value]:d.value}}))}function jt(t){const e=[];return t.properties.filter(n=>{var r;return((r=n.displayName)==null?void 0:r.toLowerCase())==="resource"}).forEach(n=>{(n.options||[]).filter(r=>r.value!==de).forEach((r,p,v)=>{const h=v.length===1,s=t.properties.find(g=>{var f,i,l;return g.name==="operation"&&(((l=(i=(f=g.displayOptions)==null?void 0:f.show)==null?void 0:i.resource)==null?void 0:l.includes(r.value))||h)});if(!(s!=null&&s.options))return;const d=(s.options||[]).map(g=>{var l;const f=g.action??`${r.name} ${Te(g.name)}`,i=h?{show:{resource:[(l=v[0])==null?void 0:l.value]}}:s==null?void 0:s.displayOptions;return{...ie(t,`${r.name} ${te("nodeCreator.actionsCategory.actions")}`),actionKey:g.value,description:(g==null?void 0:g.description)??"",displayOptions:i,values:{operation:(s==null?void 0:s.type)==="multiOptions"?[g.value]:g.value},displayName:f,group:["trigger"]}});e.push(...d)})}),e}function Ft(){function t(r){return r?[...Gt(r),...Wt(r),...jt(r)]:[]}function e(r){return r.length<=1?[]:r.filter((p,v,h)=>{if(p.actionKey===de)return!1;const d=p.actionKey===rt;return!d||d&&h.length>1})}function o(r){const{displayName:p,defaults:v,description:h,name:s,group:d,icon:g,iconUrl:f,codex:i}=r;return{displayName:p,defaults:v,description:h,name:s,group:d,icon:g,iconUrl:f,codex:i}}function n(r){const p=[...r],v={},h=[];return p.filter(s=>!s.group.includes("trigger")).forEach(s=>{const d=t(s);v[s.name]=d,h.push(o(s))}),p.filter(s=>s.group.includes("trigger")).forEach(s=>{const d=s.name.replace("Trigger",""),g=t(s),f=(v==null?void 0:v[d])||[],i=h.find(l=>l.name===d);if(i&&(f==null?void 0:f.length)>0){const l=e([...f,...g]);v[d]=l,i.description=s.description}else v[s.name]=e(g),h.push(o(s))}),{actions:v,mergedNodes:h}}return{generateMergedNodesAndActions:n}}function it(){const t=ne();return{value:F,title:t.baseText("nodeCreator.triggerHelperPanel.selectATrigger"),subtitle:t.baseText("nodeCreator.triggerHelperPanel.selectATriggerDescription"),items:[{key:oe,type:"subcategory",properties:{forceIncludeNodes:[Q,ft],title:"App Trigger Nodes",icon:"satellite-dish"}},{key:$e,type:"node",category:[Y],properties:{group:[],name:$e,displayName:t.baseText("nodeCreator.triggerHelperPanel.scheduleTriggerDisplayName"),description:t.baseText("nodeCreator.triggerHelperPanel.scheduleTriggerDescription"),icon:"fa:clock"}},{key:Q,type:"node",category:[Y],properties:{group:[],name:Q,displayName:t.baseText("nodeCreator.triggerHelperPanel.webhookTriggerDisplayName"),description:t.baseText("nodeCreator.triggerHelperPanel.webhookTriggerDescription"),iconData:{type:"file",icon:"webhook",fileBuffer:"/static/webhook-icon.svg"}}},{key:Ne,type:"node",category:[Y],properties:{group:[],name:Ne,displayName:t.baseText("nodeCreator.triggerHelperPanel.manualTriggerDisplayName"),description:t.baseText("nodeCreator.triggerHelperPanel.manualTriggerDescription"),icon:"fa:mouse-pointer"}},{key:Be,type:"node",category:[Y],properties:{group:[],name:Be,displayName:t.baseText("nodeCreator.triggerHelperPanel.workflowTriggerDisplayName"),description:t.baseText("nodeCreator.triggerHelperPanel.workflowTriggerDescription"),icon:"fa:sign-out-alt"}},{type:"subcategory",key:He,category:Y,properties:{title:He,icon:"folder-open"}}]}}function ct(){const t=ne();return{value:Le,title:t.baseText("nodeCreator.triggerHelperPanel.whatHappensNext"),items:[{key:oe,type:"subcategory",properties:{title:"App Regular Nodes",icon:"globe"}},{type:"subcategory",key:Ue,category:Y,properties:{title:Ue,icon:"pen"}},{type:"subcategory",key:Ke,category:Y,properties:{title:Ke,icon:"toolbox"}},{type:"subcategory",key:xe,category:Y,properties:{title:xe,icon:"code-branch"}},{type:"subcategory",key:ze,category:Y,properties:{title:ze,icon:"file-alt"}},{key:F,type:"view",properties:{title:t.baseText("nodeCreator.triggerHelperPanel.addAnotherTrigger"),icon:"bolt",description:t.baseText("nodeCreator.triggerHelperPanel.addAnotherTriggerDescription")}}]}}const qt=["placeholder","value"],Xt=H({__name:"SearchBar",props:{placeholder:{default:""},modelValue:{default:""}},emits:["update:modelValue"],setup(t,{expose:e,emit:o}){const n=Re({inputRef:null});function r(){var s;(s=n.inputRef)==null||s.focus()}function p(s){const d=s.target;o("update:modelValue",d.value)}function v(){o("update:modelValue","")}ve(()=>{ue("nodeCreator_searchBar.mount",pe(),{inputRef:n.inputRef}),setTimeout(r,0)}),Ze(()=>{var s;(s=n.inputRef)==null||s.remove()});const{inputRef:h}=Me(n);return e({focus:r}),(s,d)=>{const g=B("font-awesome-icon");return k(),R("div",{class:w(s.$style.searchContainer),"data-test-id":"search-bar"},[I("div",{class:w({[s.$style.prefix]:!0,[s.$style.active]:s.modelValue.length>0})},[O(g,{icon:"search",size:"sm"})],2),I("div",{class:w(s.$style.text)},[I("input",{placeholder:s.placeholder,value:s.modelValue,class:w(s.$style.input),ref_key:"inputRef",ref:h,autofocus:"","data-test-id":"node-creator-search-bar",tabindex:"0",onInput:p},null,42,qt)],2),s.modelValue.length>0?(k(),R("div",{key:0,class:w(s.$style.suffix),onClick:v},[I("button",{class:w([s.$style.clear,s.$style.clickable])},[O(g,{icon:"times-circle"})],2)],2)):M("",!0)],2)}}}),Zt="_searchContainer_1wh9v_5",Qt="_prefix_1wh9v_21",Jt="_active_1wh9v_26",eo="_text_1wh9v_30",to="_suffix_1wh9v_46",oo="_clear_1wh9v_52",no={searchContainer:Zt,prefix:Qt,active:Jt,text:eo,suffix:to,clear:oo},so={$style:no},ao=U(Xt,[["__cssModules",so]]),be=()=>{const t=j(),e=_e(),o=$(()=>({actions:(e==null?void 0:e.proxy.$locale.baseText("nodeCreator.actionsCategory.actions"))??"",triggers:(e==null?void 0:e.proxy.$locale.baseText("nodeCreator.actionsCategory.triggers"))??""}));function n(f){const i=[Q,$e];return t.mergedNodes.filter(a=>i.some(m=>m===a.name)).map(a=>{const m=ee(a,f,"action");if(m.type==="action"){const c=`nodeCreator.actionsPlaceholderNode.${a.name.replace("n8n-nodes-base.","")}`,_=e==null?void 0:e.proxy.$locale.baseText(c);_!==c&&(m.properties.displayName=_)}return m})}function r(f,i){return f.filter(l=>l.type==="action"&&l.properties.codex.categories.includes(i))}function p(f){var y,c,_,u;const i=at([...f]),l=new Set;for(const T of i){if(T.type!=="action")continue;const b=(c=(y=T.properties)==null?void 0:y.codex)==null?void 0:c.label;l.add(b)}if(l.size<=1)return i;const a=new Map;for(let T=0;T<i.length;T++){const b=i[T];if(b.type!=="action")continue;const N=(u=(_=b.properties)==null?void 0:_.codex)==null?void 0:u.label;a.has(N)||a.set(N,T)}let m=0;for(const T of l){const b={uuid:T,type:"label",key:T,subcategory:i[0].key,properties:{key:T}},N=a.get(T)+m;i.splice(N,0,b),m++}return i}function v(f,i,l=!0){const a=r(f,i);return l?p(a):a}function h(f){const i=f.displayOptions,l=Object.keys((i==null?void 0:i.show)||{}).reduce((a,m)=>{var y,c;return a[m]=(c=(y=i==null?void 0:i.show)==null?void 0:y[m])==null?void 0:c[0],a},{});return{name:f.displayName,key:f.name,value:{...f.values,...l}}}function s(f){if(!f)return[];const{selectedView:i,openSource:l}=j(),{workflowTriggerNodes:a}=Se(),m=je().isTriggerNode(f),y=a.length>0,c=i===F,_=f===mt;return![ke.PLUS_ENDPOINT,ke.NODE_CONNECTION_ACTION,ke.NODE_CONNECTION_DROP].includes(l)&&!m&&!y&&c&&!_?[Ne,f]:[f]}function d(f,i,l=""){const{$onAction:a}=Se(),m=a(({name:y,after:c,store:{setLastNodeParameters:_},args:u})=>{y!=="addNode"||u[0].type!==f.key||c(()=>{_(f),i&&g(f,i,l),m()})});return m}function g(f,i,l){const a={node_type:f.key,action:f.name,source_mode:l.toLowerCase(),resource:f.value.resource||""};ue("nodeCreateList.addAction",pe(),a),i==null||i.trackNodesPanel("nodeCreateList.addAction",a)}return{actionsCategoryLocales:o,getPlaceholderTriggerActions:n,parseCategoryActions:v,getNodeTypesWithManualTrigger:s,getActionData:h,setAddedNodeActionParameters:d}},ro=["innerHTML"],io=H({__name:"NodeItem",props:{nodeType:{},subcategory:{},active:{type:Boolean,default:!1}},setup(t){const e=t,o=ne(),n=qe(),{actions:r}=j(),{getNodeTypesWithManualTrigger:p}=be(),v=G(!1),h=G({x:-100,y:-100}),s=G(null),d=$(()=>o.headerText({key:`headers.${a.value}.description`,fallback:e.nodeType.description})),g=$(()=>i.value),f=$(()=>i.value?"node-creator-action-item":"node-creator-node-item"),i=$(()=>l.value.length>1),l=$(()=>r[e.nodeType.name]||[]),a=$(()=>o.shortNodeType(e.nodeType.name)||""),m=$(()=>({top:`${h.value.y}px`,left:`${h.value.x}px`})),y=$(()=>vt(e.nodeType.name)),c=$(()=>{const C=e.nodeType.displayName.trimEnd();return o.headerText({key:`headers.${a.value}.displayName`,fallback:i.value?C.replace("Trigger",""):C})}),_=$(()=>e.nodeType.group.includes("trigger")&&!i.value);function u(C){document.body.addEventListener("dragover",T);const{pageX:D,pageY:P}=C;C.dataTransfer&&(C.dataTransfer.effectAllowed="copy",C.dataTransfer.dropEffect="copy",C.dataTransfer.setDragImage(s.value,0,0),C.dataTransfer.setData("nodeTypeName",p(e.nodeType.name).join(","))),v.value=!0,h.value={x:D,y:P}}function T(C){if(!v.value||C.pageX===0&&C.pageY===0)return;const[D,P]=Fe([],[C.pageX-ye/2,C.pageY-ye/2]);h.value={x:D,y:P}}function b(C){document.body.removeEventListener("dragover",T),v.value=!1,setTimeout(()=>{h.value={x:-100,y:-100}},300)}function N(C){C.target.localName==="a"&&n.track("user clicked cnr docs link",{source:"nodes panel node"})}return(C,D)=>{const P=B("n8n-node-creator-node");return k(),L(P,{draggable:!g.value,onDragstart:u,onDragend:b,class:w(C.$style.nodeItem),description:C.subcategory!==K(oe)?d.value:"",title:c.value,"show-action-arrow":g.value,"is-trigger":_.value,"data-test-id":f.value},fe({icon:A(()=>[O(ge,{nodeType:C.nodeType},null,8,["nodeType"])]),dragContent:A(()=>[I("div",{class:w(C.$style.draggableDataTransfer),ref_key:"draggableDataTransfer",ref:s},null,2),Qe(I("div",{class:w(C.$style.draggable),style:Oe(m.value)},[O(ge,{nodeType:C.nodeType,onClickCapture:D[0]||(D[0]=he(()=>{},["stop"])),size:40,shrink:!1},null,8,["nodeType"])],6),[[Je,v.value]])]),_:2},[y.value?{name:"tooltip",fn:A(()=>[I("p",{class:w(C.$style.communityNodeIcon),innerHTML:K(o).baseText("generic.communityNode.tooltip",{interpolate:{packageName:C.nodeType.name.split(".")[0],docURL:K(_t)}}),onClick:N},null,10,ro)]),key:"0"}:void 0]),1032,["draggable","class","description","title","show-action-arrow","is-trigger","data-test-id"])}}}),co="_nodeItem_nbf3g_5",lo="_communityNodeIcon_nbf3g_13",uo="_draggable_nbf3g_17",po="_draggableDataTransfer_nbf3g_31",go={nodeItem:co,communityNodeIcon:lo,draggable:uo,draggableDataTransfer:po},yo={$style:go},fo=U(io,[["__cssModules",yo]]),mo=H({__name:"SubcategoryItem",props:{item:{}},setup(t){const e=t,o=ne(),n=$(()=>nt(e.item.subcategory||e.item.title));return(r,p)=>{const v=B("n8n-node-icon"),h=B("n8n-node-creator-node");return k(),L(h,{class:w(r.$style.subCategory),title:K(o).baseText(`nodeCreator.subcategoryNames.${n.value}`),isTrigger:!1,description:K(o).baseText(`nodeCreator.subcategoryDescriptions.${n.value}`),showActionArrow:!0},{icon:A(()=>[O(v,{type:"icon",name:r.item.icon,circle:!1,showTooltip:!1},null,8,["name"])]),_:1},8,["class","title","description"])}}}),vo="_subCategory_1js79_5",_o={subCategory:vo},ho={$style:_o},To=U(mo,[["__cssModules",ho]]),bo=["textContent"],wo=H({__name:"LabelItem",props:{item:{}},setup(t){return(e,o)=>(k(),R("div",{class:w(e.$style.label)},[I("span",{class:w(e.$style.name),textContent:W(e.item.key)},null,10,bo)],2))}}),ko="_label_92wv5_5",Co={label:ko},$o={$style:Co},No=U(wo,[["__cssModules",$o]]),So=H({__name:"ActionItem",props:{nodeType:{},action:{}},setup(t){const e=t,o=_e(),n=o==null?void 0:o.proxy.$telemetry,{getActionData:r,getNodeTypesWithManualTrigger:p,setAddedNodeActionParameters:v}=be(),{activeViewStack:h}=V(),s=Re({dragging:!1,draggablePosition:{x:-100,y:-100},storeWatcher:null,draggableDataTransfer:null}),d=$(()=>({top:`${s.draggablePosition.y}px`,left:`${s.draggablePosition.x}px`})),g=$(()=>r(e.action)),f=c=>{var _;return((_=c.name)==null?void 0:_.toLowerCase().includes("trigger"))||c.name===Q};function i(c){var T;document.body.addEventListener("dragover",l);const{pageX:_,pageY:u}=c;c.dataTransfer&&(c.dataTransfer.effectAllowed="copy",c.dataTransfer.dropEffect="copy",c.dataTransfer.setDragImage(s.draggableDataTransfer,0,0),c.dataTransfer.setData("nodeTypeName",p((T=g.value)==null?void 0:T.key).join(",")),n&&(s.storeWatcher=v(g.value,n,h.rootView)),document.body.addEventListener("dragend",a)),s.dragging=!0,s.draggablePosition={x:_,y:u}}function l(c){if(!s.dragging||c.pageX===0&&c.pageY===0)return;const[_,u]=Fe([],[c.pageX-ye/2,c.pageY-ye/2]);s.draggablePosition={x:_,y:u}}function a(c){s.storeWatcher&&s.storeWatcher(),document.body.removeEventListener("dragend",a),document.body.removeEventListener("dragover",l),s.dragging=!1,setTimeout(()=>{s.draggablePosition={x:-100,y:-100}},300)}const{draggableDataTransfer:m,dragging:y}=Me(s);return(c,_)=>{const u=B("n8n-node-creator-node");return k(),L(u,{onDragstart:i,onDragend:a,draggable:"",class:w(c.$style.action),title:c.action.displayName,isTrigger:f(c.action),"data-keyboard-nav":"true"},{dragContent:A(()=>[I("div",{class:w(c.$style.draggableDataTransfer),ref_key:"draggableDataTransfer",ref:m},null,2),Qe(I("div",{class:w(c.$style.draggable),style:Oe(d.value)},[O(ge,{nodeType:c.nodeType,onClickCapture:_[0]||(_[0]=he(()=>{},["stop"])),size:40,shrink:!1},null,8,["nodeType"])],6),[[Je,K(y)]])]),icon:A(()=>[O(ge,{nodeType:c.action},null,8,["nodeType"])]),_:1},8,["class","title","isTrigger"])}}}),Io="_action_vsx3h_5",Ao="_nodeIcon_vsx3h_17",Eo="_draggable_vsx3h_21",Lo="_draggableDataTransfer_vsx3h_35",Ro={action:Io,nodeIcon:Ao,draggable:Eo,draggableDataTransfer:Lo},Mo={$style:Ro},Oo=U(So,[["__cssModules",Mo]]),Vo=H({__name:"ViewItem",props:{view:{}},setup(t){return(e,o)=>{const n=B("n8n-node-icon"),r=B("n8n-node-creator-node");return k(),L(r,{class:w(e.$style.view),title:e.view.title,isTrigger:!1,description:e.view.description,showActionArrow:!0},{icon:A(()=>[O(n,{type:"icon",name:e.view.icon,circle:!1,showTooltip:!1},null,8,["name"])]),_:1},8,["class","title","description"])}}}),Do="_view_5t09j_5",Po={view:Do},Bo={$style:Po},Ho=U(Vo,[["__cssModules",Bo]]),Uo=["data-keyboard-nav-type","data-keyboard-nav-id","onClick"],Ko={key:0},xo=20,zo=5,Yo=H({__name:"ItemsRenderer",props:{elements:{default:()=>[]},activeIndex:{},disabled:{type:Boolean},lazyRender:{type:Boolean,default:!0}},emits:["selected","dragstart","dragend"],setup(t,{emit:e}){const o=t,n=G([]),r=G(0),p=$(()=>{var i;return(i=q())==null?void 0:i.activeItemId});function v(){if(o.elements.length<=xo||o.lazyRender===!1){n.value=o.elements;return}n.value.length<o.elements.length&&(n.value.push(...o.elements.slice(n.value.length,n.value.length+zo)),r.value=window.requestAnimationFrame(v))}function h(i,l,a){o.disabled||e(i||"dragstart",l,a)}function s(i){i.style.height="0"}function d(i){i.style.height=`${i.scrollHeight}px`}function g(i){i.style.height=`${i.scrollHeight}px`}function f(i){i.style.height="0"}return ve(()=>{v()}),et(()=>{window.cancelAnimationFrame(r.value),n.value=[]}),J(()=>o.elements,()=>{window.cancelAnimationFrame(r.value),n.value=[],v()}),(i,l)=>{const a=B("n8n-loading");return i.elements.length>0?(k(),R("div",{key:0,class:w(i.$style.itemsRenderer),name:"accordion",onBeforeEnter:s,onEnter:d,onBeforeLeave:g,onLeave:f},[X(i.$slots,"default"),(k(!0),R(kt,null,Ct(i.elements,m=>(k(),R("div",{key:m.uuid,"data-test-id":"item-iterator-item",class:w({clickable:!i.disabled,[i.$style.active]:p.value===m.uuid,[i.$style.iteratorItem]:!0,[i.$style[m.type]]:!0}),ref_for:!0,ref:"iteratorItems","data-keyboard-nav-type":m.type!=="label"?m.type:void 0,"data-keyboard-nav-id":m.uuid,onClick:y=>h("selected",m)},[n.value.includes(m)?(k(),R("div",Ko,[m.type==="label"?(k(),L(No,{key:0,item:m},null,8,["item"])):M("",!0),m.type==="subcategory"?(k(),L(To,{key:1,item:m.properties},null,8,["item"])):M("",!0),m.type==="node"?(k(),L(fo,{key:2,nodeType:m.properties,active:!0,subcategory:m.subcategory},null,8,["nodeType","subcategory"])):M("",!0),m.type==="action"?(k(),L(Oo,{key:3,nodeType:m.properties,action:m.properties,active:!0},null,8,["nodeType","action"])):m.type==="view"?(k(),L(Ho,{key:4,view:m.properties,class:w(i.$style.viewItem)},null,8,["view","class"])):M("",!0)])):(k(),L(a,{key:1,loading:!0,rows:1,variant:"p",class:w(i.$style.itemSkeleton)},null,8,["class"]))],10,Uo))),128))],34)):(k(),R("div",{key:1,class:w(i.$style.empty)},[X(i.$slots,"empty")],2))}}}),Wo="_itemSkeleton_7kw47_5",Go="_iteratorItem_7kw47_9",jo="_label_7kw47_21",Fo="_category_7kw47_21",qo="_active_7kw47_24",Xo="_empty_7kw47_28",Zo="_itemsRenderer_7kw47_32",Qo="_view_7kw47_41",Jo={itemSkeleton:Wo,iteratorItem:Go,label:jo,category:Fo,active:qo,empty:Xo,itemsRenderer:Zo,view:Qo},en={$style:Jo},Ve=U(Yo,[["__cssModules",en]]),tn=["textContent"],on=H({__name:"CategoryItem",props:{expanded:{type:Boolean,default:!0},active:{type:Boolean},count:{},name:{},isTrigger:{type:Boolean}},setup(t){const e=t,o=$(()=>{const n=e.count||0;return n>0?`${e.name} (${n})`:e.name});return(n,r)=>{const p=B("font-awesome-icon");return k(),R("div",me({class:n.$style.categoryWrapper},n.$attrs,{"data-keyboard-nav":"true","data-test-id":"node-creator-category-item"}),[I("div",{class:w({[n.$style.category]:!0,[n.$style.active]:n.active})},[I("span",{class:w(n.$style.name)},[I("span",{textContent:W(o.value)},null,8,tn),n.isTrigger?(k(),L(p,{key:0,icon:"bolt",size:"xs",class:w(n.$style.triggerIcon)},null,8,["class"])):M("",!0),X(n.$slots,"default")],2),n.expanded?(k(),L(p,{key:0,icon:"chevron-down",class:w(n.$style.arrow)},null,8,["class"])):(k(),L(p,{key:1,class:w(n.$style.arrow),icon:"chevron-up"},null,8,["class"]))],2)],16)}}}),nn="_triggerIcon_jzfdi_5",sn="_category_jzfdi_10",an="_active_jzfdi_31",rn="_name_jzfdi_35",cn="_arrow_jzfdi_40",ln={triggerIcon:nn,category:sn,active:an,name:rn,arrow:cn},dn={$style:ln},un=U(on,[["__cssModules",dn]]),pn=["data-category-collapsed"],gn=["innerHTML"],yn=H({__name:"CategorizedItemsRenderer",props:{elements:{default:()=>[]},category:{},disabled:{type:Boolean},activeIndex:{},isTriggerCategory:{type:Boolean},mouseOverTooltip:{},expanded:{type:Boolean}},setup(t){const e=t,o=_e(),{popViewStack:n}=V(),{registerKeyHook:r}=q(),{workflowId:p}=Se(),v=$(()=>{var l;return(l=q())==null?void 0:l.activeItemId}),h=$(()=>e.elements.filter(({type:l})=>l==="action").length),s=G(e.expanded??!1);function d(){g(!s.value)}function g(l){s.value=l,s.value&&(o==null||o.proxy.$telemetry.trackNodesPanel("nodeCreateList.onCategoryExpanded",{category_name:e.category,workflow_id:p}))}function f(){s.value||g(!0)}function i(){if(!s.value){n();return}g(!1)}return J(()=>e.elements,()=>{g(!0)}),r(`CategoryRight_${e.category}`,{keyboardKeys:["ArrowRight"],condition:(l,a)=>l==="category"&&e.category===a,handler:f}),r(`CategoryToggle_${e.category}`,{keyboardKeys:["Enter"],condition:(l,a)=>l==="category"&&e.category===a,handler:d}),r(`CategoryLeft_${e.category}`,{keyboardKeys:["ArrowLeft"],condition:(l,a)=>l==="category"&&e.category===a,handler:i}),(l,a)=>{const m=B("n8n-icon"),y=B("n8n-tooltip");return k(),R("div",{class:w(l.$style.categorizedItemsRenderer),"data-category-collapsed":!s.value},[O(un,{class:w(l.$style.categoryItem),name:l.category,disabled:l.disabled,active:v.value===l.category,count:h.value,expanded:s.value,isTrigger:l.isTriggerCategory,"data-keyboard-nav-type":"category","data-keyboard-nav-id":l.category,onClick:d},{default:A(()=>[l.mouseOverTooltip?(k(),R("span",{key:0,class:w(l.$style.mouseOverTooltip)},[O(y,{placement:"top","popper-class":l.$style.tooltipPopper},{content:A(()=>[I("div",{innerHTML:l.mouseOverTooltip},null,8,gn)]),default:A(()=>[O(m,{icon:"question-circle",size:"small"})]),_:1},8,["popper-class"])],2)):M("",!0)]),_:1},8,["class","name","disabled","active","count","expanded","isTrigger","data-keyboard-nav-id"]),s.value&&h.value>0&&l.$slots.default?(k(),R("div",{key:0,class:w(l.$style.contentSlot)},[X(l.$slots,"default")],2)):M("",!0),s.value?(k(),L(Ve,me({key:1},l.$attrs,{elements:l.elements,isTrigger:l.isTriggerCategory}),{default:A(()=>[]),empty:A(()=>[X(l.$slots,"empty",tt($t({elements:l.elements})))]),_:3},16,["elements","isTrigger"])):M("",!0)],10,pn)}}}),fn="_mouseOverTooltip_1c8m2_5",mn="_categorizedItemsRenderer_1c8m2_12",vn="_tooltipPopper_1c8m2_16",_n="_contentSlot_1c8m2_20",hn={mouseOverTooltip:fn,categorizedItemsRenderer:mn,tooltipPopper:vn,contentSlot:_n},Tn={$style:hn},Ee=U(yn,[["__cssModules",Tn]]),bn=["innerHTML"],wn=["innerHTML"],kn=["innerHTML"],Cn=["innerHTML"],$n=["onClick","innerHTML"],Nn=H({__name:"ActionsMode",emits:{nodeTypeSelected:t=>!0},setup(t,{emit:e}){const o=_e(),n=o==null?void 0:o.proxy.$telemetry,{userActivated:r}=ht(),{popViewStack:p,updateCurrentViewStack:v}=V(),{registerKeyHook:h}=q(),{getNodeTypesWithManualTrigger:s,setAddedNodeActionParameters:d,getActionData:g,getPlaceholderTriggerActions:f,parseCategoryActions:i,actionsCategoryLocales:l}=be(),a=$(()=>ce(u.value,l.value.triggers,!1)),m=$(()=>ce(u.value,l.value.actions,!T.value)),y=$(()=>ce(V().activeViewStack.baselineItems||[],l.value.triggers,!1)),c=$(()=>ce(V().activeViewStack.baselineItems||[],l.value.actions,!T.value)),_=$(()=>a.value.length||T.value?l.value.triggers:`${l.value.triggers} (${C.length})`),u=$(()=>(V().activeViewStack.items||[]).filter(S=>S.properties.actionKey!==de)),T=$(()=>V().activeViewStack.search),b=$(()=>V().activeViewStack.subcategory),N=$(()=>V().activeViewStack.rootView),C=f(b.value||""),D=$(()=>i(V().activeViewStack.baselineItems||[],l.value.triggers,!T.value).length===0),P=$(()=>(V().activeViewStack.baselineItems||[]).some(x=>(x.properties.actionKey??"")===de)===!0),Z=$(()=>N.value===F);h("ActionsKeyRight",{keyboardKeys:["ArrowRight","Enter"],condition:S=>S==="action",handler:dt}),h("ActionsKeyLeft",{keyboardKeys:["ArrowLeft"],condition:S=>S==="action",handler:lt});function ce(S,E,x=!1){return i(S,E,x)}function lt(){p()}function dt(S){const x=[...u.value,...C].find(z=>z.uuid===S);x&&le(x)}function le(S){const E=g(S.properties);if(C.some(z=>z.key===S.key)&&Z.value){const z=u.value[0].key;e("nodeTypeSelected",[E.key,z])}else e("nodeTypeSelected",s(E.key));n&&d(E,n,N.value)}function ut(){var se,ae,Pe;const S=V().activeViewStack,E=(se=S.baselineItems||[])==null?void 0:se.filter(we=>we.key.toLowerCase().includes("trigger")).length,z={app_identifier:[...u.value,...C][0].key,actions:(ae=S.baselineItems||[])==null?void 0:ae.map(we=>we.properties.displayName),regular_action_count:((Pe=S.baselineItems||[])==null?void 0:Pe.length)-E,trigger_action_count:E};ue("nodeCreateList.onViewActions",pe(),z),n==null||n.trackNodesPanel("nodeCreateList.onViewActions",z)}function De(){v({search:""})}function pt(){const S={name:"",key:Ie,value:{authentication:"predefinedCredentialType"}};e("nodeTypeSelected",[Ie]),n&&d(S);const E=u.value[0].key;ue("nodeCreateList.onActionsCustmAPIClicked",pe(),{app_identifier:E}),n==null||n.trackNodesPanel("nodeCreateList.onActionsCustmAPIClicked",{app_identifier:E})}const gt=H({props:{rootView:{type:String}},setup(S,{slots:E}){return()=>{var x,z,se,ae;return Nt("div",{},S.rootView===Le?[(x=E.actions)==null?void 0:x.call(E),(z=E.triggers)==null?void 0:z.call(E)]:[(se=E.triggers)==null?void 0:se.call(E),(ae=E.actions)==null?void 0:ae.call(E)])}}});return ve(()=>{ut()}),(S,E)=>{const x=B("n8n-callout"),z=B("n8n-info-tip");return k(),R("div",{class:w(S.$style.container)},[O(K(gt),{rootView:N.value},fe({_:2},[Z.value||y.value.length!==0?{name:"triggers",fn:A(()=>[O(Ee,{elements:a.value,category:_.value,mouseOverTooltip:S.$locale.baseText("nodeCreator.actionsTooltip.triggersStartWorkflow"),isTriggerCategory:"",expanded:Z.value||m.value.length===0,onSelected:le},fe({_:2},[D.value?{name:"empty",fn:A(()=>[D.value?(k(),L(x,{key:0,theme:"info",iconless:"",slim:"","data-test-id":"actions-panel-no-triggers-callout"},{default:A(()=>[I("span",{innerHTML:S.$locale.baseText("nodeCreator.actionsCallout.noTriggerItems",{interpolate:{nodeName:b.value}})},null,8,bn)]),_:1})):M("",!0),O(Ve,{onSelected:le,elements:K(C)},null,8,["elements"])]),key:"0"}:{name:"empty",fn:A(()=>[I("p",{class:w(S.$style.resetSearch),innerHTML:S.$locale.baseText("nodeCreator.actionsCategory.noMatchingTriggers"),onClick:De},null,10,["innerHTML"])]),key:"1"}]),1032,["elements","category","mouseOverTooltip","expanded"])]),key:"0"}:void 0,!Z.value||c.value.length!==0?{name:"actions",fn:A(()=>[O(Ee,{elements:m.value,category:K(l).actions,mouseOverTooltip:S.$locale.baseText("nodeCreator.actionsTooltip.actionsPerformStep"),expanded:!Z.value||a.value.length===0,onSelected:le},{empty:A(()=>[T.value?(k(),R("p",{key:1,class:w(S.$style.resetSearch),innerHTML:S.$locale.baseText("nodeCreator.actionsCategory.noMatchingActions"),onClick:De,"data-test-id":"actions-panel-no-matching-actions"},null,10,Cn)):(k(),L(z,{key:0,theme:"info",type:"note",class:w(S.$style.actionsEmpty)},{default:A(()=>[I("span",{innerHTML:S.$locale.baseText("nodeCreator.actionsCallout.noActionItems",{interpolate:{nodeName:b.value}})},null,8,kn)]),_:1},8,["class"]))]),default:A(()=>[!K(r)&&Z.value?(k(),L(x,{key:0,theme:"info",iconless:"",slim:"","data-test-id":"actions-panel-activation-callout"},{default:A(()=>[I("span",{innerHTML:S.$locale.baseText("nodeCreator.actionsCallout.triggersStartWorkflow")},null,8,wn)]),_:1})):M("",!0)]),_:1},8,["elements","category","mouseOverTooltip","expanded"])]),key:"1"}:void 0]),1032,["rootView"]),P.value?(k(),R("div",{key:0,class:w(S.$style.apiHint)},[I("span",{onClick:he(pt,["prevent"]),innerHTML:S.$locale.baseText("nodeCreator.actionsList.apiCall",{interpolate:{node:b.value}})},null,8,$n)],2)):M("",!0)],2)}}}),Sn="_container_1tz2w_5",In="_resetSearch_1tz2w_11",An="_actionsEmpty_1tz2w_25",En="_apiHint_1tz2w_33",Ln={container:Sn,resetSearch:In,actionsEmpty:An,apiHint:En},Rn={$style:Ln},Mn=U(Nn,[["__cssModules",Rn]]),On={},Vn={width:"75px",height:"75px",viewBox:"0 0 75 75",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Dn=St('<title>no-nodes-keyart</title><g id="Nodes-panel-prototype-V2.1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="nodes-panel-(component)" transform="translate(-2085.000000, -352.000000)"><g id="nodes_panel" transform="translate(1880.000000, 151.000000)"><g id="Panel" transform="translate(50.000000, 0.000000)"><g id="Group-3" transform="translate(105.000000, 171.000000)"><g id="no-nodes-keyart" transform="translate(50.000000, 30.000000)"><rect id="Rectangle" x="0" y="0" width="75" height="75"></rect><g id="Group" transform="translate(6.562500, 8.164062)" fill="#C4C8D1" fill-rule="nonzero"><polygon id="Rectangle" transform="translate(49.192016, 45.302553) rotate(-45.000000) translate(-49.192016, -45.302553) " points="44.5045606 32.0526802 53.8794707 32.0526802 53.8794707 58.5524261 44.5045606 58.5524261"></polygon><path d="M48.125,23.0859375 C54.15625,23.0859375 59.0625,18.1796875 59.0625,12.1484375 C59.0625,10.3359375 58.5625,8.6484375 57.78125,7.1484375 L49.34375,15.5859375 L44.6875,10.9296875 L53.125,2.4921875 C51.625,1.7109375 49.9375,1.2109375 48.125,1.2109375 C42.09375,1.2109375 37.1875,6.1171875 37.1875,12.1484375 C37.1875,13.4296875 37.4375,14.6484375 37.84375,15.7734375 L32.0625,21.5546875 L26.5,15.9921875 L28.71875,13.7734375 L24.3125,9.3671875 L30.9375,2.7421875 C27.28125,-0.9140625 21.34375,-0.9140625 17.6875,2.7421875 L6.625,13.8046875 L11.03125,18.2109375 L2.21875,18.2109375 L1.38777878e-15,20.4296875 L11.0625,31.4921875 L13.28125,29.2734375 L13.28125,20.4296875 L17.6875,24.8359375 L19.90625,22.6171875 L25.46875,28.1796875 L2.3125,51.3359375 L8.9375,57.9609375 L44.5,22.4296875 C45.625,22.8359375 46.84375,23.0859375 48.125,23.0859375 Z" id="Path"></path></g></g></g></g></g></g></g>',2),Pn=[Dn];function Bn(t,e){return k(),R("svg",Vn,Pn)}const Hn=U(On,[["render",Bn]]),Un=["textContent"],Kn=["textContent"],xn=H({__name:"NoResults",props:{showIcon:{type:Boolean},showRequest:{type:Boolean},rootView:{}},setup(t){return(e,o)=>{const n=B("n8n-link"),r=B("font-awesome-icon");return k(),R("div",{class:w({[e.$style.noResults]:!0,[e.$style.iconless]:!e.showIcon}),"data-test-id":"node-creator-no-results"},[e.showIcon?(k(),R("div",{key:0,class:w(e.$style.icon)},[O(Hn)],2)):M("",!0),I("div",{class:w(e.$style.title)},[X(e.$slots,"title"),I("p",{textContent:W(e.$locale.baseText("nodeCreator.noResults.weDidntMakeThatYet"))},null,8,Un),I("div",{class:w(e.$style.action)},[re(W(e.$locale.baseText("nodeCreator.noResults.dontWorryYouCanProbablyDoItWithThe"))+" ",1),e.rootView===K(Le)?(k(),L(n,{key:0,onClick:o[0]||(o[0]=p=>e.$emit("addHttpNode"))},{default:A(()=>[re(W(e.$locale.baseText("nodeCreator.noResults.httpRequest")),1)]),_:1})):M("",!0),e.rootView===K(F)?(k(),L(n,{key:1,onClick:o[1]||(o[1]=p=>e.$emit("addWebhookNode"))},{default:A(()=>[re(W(e.$locale.baseText("nodeCreator.noResults.webhook")),1)]),_:1})):M("",!0),re(" "+W(e.$locale.baseText("nodeCreator.noResults.node")),1)],2)],2),e.showRequest?(k(),R("div",{key:1,class:w(e.$style.request)},[I("p",{textContent:W(e.$locale.baseText("nodeCreator.noResults.wantUsToMakeItFaster"))},null,8,Kn),I("div",null,[O(n,{to:K(Tt)},{default:A(()=>[I("span",null,W(e.$locale.baseText("nodeCreator.noResults.requestTheNode")),1),re("Â  "),I("span",null,[O(r,{class:w(e.$style.external),icon:"external-link-alt",title:e.$locale.baseText("nodeCreator.noResults.requestTheNode")},null,8,["class","title"])])]),_:1},8,["to"])])],2)):M("",!0)],2)}}}),zn="_noResults_1jje6_5",Yn="_title_1jje6_18",Wn="_action_1jje6_27",Gn="_request_1jje6_28",jn="_icon_1jje6_44",Fn="_external_1jje6_50",qn={noResults:zn,title:Yn,action:Wn,request:Gn,icon:jn,external:Fn},Xn={$style:qn},Zn=U(xn,[["__cssModules",Xn]]),Qn=H({__name:"NodesMode",emits:{nodeTypeSelected:t=>!0},setup(t,{emit:e}){const o=ne(),n=qe(),{mergedNodes:r,actions:p}=j(),{baseUrl:v}=bt(),{getNodeTypesWithManualTrigger:h}=be(),{pushViewStack:s,popViewStack:d}=V(),{registerKeyHook:g}=q(),f=$(()=>V().activeViewStack),i=$(()=>V().globalSearchItemsDiff);function l(u){e("nodeTypeSelected",u.length===1?h(u[0]):u)}function a(u){var T,b;if(u.type==="subcategory"){const N=o.baseText(`nodeCreator.subcategoryNames.${nt(u.properties.title)}`);s({subcategory:u.key,title:N,mode:"nodes",rootView:f.value.rootView,forceIncludeNodes:u.properties.forceIncludeNodes,baseFilter:y,itemsMapper:m}),n.trackNodesPanel("nodeCreateList.onSubcategorySelected",{subcategory:u.key})}if(u.type==="node"){const N=(p==null?void 0:p[u.key])||[];if(N.length<=1){l([u.key]);return}const C=u.properties.iconUrl?`${v}${u.properties.iconUrl}`:(T=u.properties.icon)==null?void 0:T.split(":")[1],D=N==null?void 0:N.map(P=>ee(P,u.properties.displayName,"action"));s({subcategory:u.properties.displayName,title:u.properties.displayName,nodeIcon:{color:((b=u.properties.defaults)==null?void 0:b.color)||"",icon:C,iconType:u.properties.iconUrl?"file":"icon"},rootView:f.value.rootView,hasSearch:!0,mode:"actions",items:D})}if(u.type==="view"){const N=u.key===F?it():ct();s({title:N.title,subtitle:(N==null?void 0:N.subtitle)??"",items:N.items,hasSearch:!0,rootView:N.value,mode:"nodes",searchItems:r})}}function m(u){var C,D;if(u.type!=="node")return u;const T=u.properties.group.includes("trigger"),N=((p==null?void 0:p[u.key])||[]).length>0;return T&&N&&((C=u.properties)!=null&&C.codex&&(u.properties.codex.alias=[...((D=u.properties.codex)==null?void 0:D.alias)||[],u.properties.displayName]),u.properties.displayName=u.properties.displayName.replace(" Trigger","")),u}function y(u){if(u.type!=="node")return!1;const T=u.properties.group.includes("trigger"),N=((p==null?void 0:p[u.key])||[]).length>0;return f.value.rootView===F?N||T:N||!T}function c(){d()}function _(u){const b=[...f.value.items||[],...i.value||[]].find(N=>N.uuid===u);b&&a(b)}return g("MainViewArrowRight",{keyboardKeys:["ArrowRight","Enter"],condition:u=>["subcategory","node","view"].includes(u),handler:_}),g("MainViewArrowLeft",{keyboardKeys:["ArrowLeft"],condition:u=>["subcategory","node","view"].includes(u),handler:c}),(u,T)=>(k(),R("span",null,[O(Ve,{elements:f.value.items,onSelected:a,class:w(u.$style.items)},fe({_:2},[(f.value.items||[]).length===0&&i.value.length===0?{name:"empty",fn:A(()=>[O(Zn,{rootView:f.value.rootView,showIcon:"",showRequest:"",onAddWebhookNode:T[0]||(T[0]=b=>l([K(Q)])),onAddHttpNode:T[1]||(T[1]=b=>l([K(Ie)]))},null,8,["rootView"])]),key:"0"}:void 0]),1032,["elements","class"]),i.value.length>0?(k(),L(Ee,{key:0,elements:i.value,category:u.$locale.baseText("nodeCreator.categoryNames.otherCategories"),onSelected:a},null,8,["elements","category"])):M("",!0)]))}}),Jn="_items_1t7lf_5",es={items:Jn},ts={$style:es},os=U(Qn,[["__cssModules",ts]]),ns=["textContent"],ss=["textContent"],as=H({__name:"NodesListPanel",setup(t){const e=ne(),{mergedNodes:o}=j(),{pushViewStack:n,popViewStack:r,updateCurrentViewStack:p}=V(),{setActiveItemIndex:v,attachKeydownEvent:h,detachKeydownEvent:s}=q(),d=$(()=>V().activeViewStack),g=$(()=>V().viewStacks),f=$(()=>V().activeViewStackMode==="actions"),i=$(()=>f.value?e.baseText("nodeCreator.actionsCategory.searchActions",{interpolate:{node:d.value.title}}):e.baseText("nodeCreator.searchBar.searchNodes")),l=$(()=>j().selectedView);function a(c){d.value.uuid&&(p({search:c}),v(d.value.activeIndex??0))}function m(){const c=d.value.mode==="actions"?1:0;v(d.value.activeIndex||0||c)}ve(()=>{h(),v(d.value.activeIndex??0)}),et(()=>{s()}),J(()=>l.value,c=>{const _=c===F?it():ct();n({title:_.title,subtitle:(_==null?void 0:_.subtitle)??"",items:_.items,hasSearch:!0,mode:"nodes",rootView:c,searchItems:o})},{immediate:!0});function y(){r()}return(c,_)=>{const u=B("font-awesome-icon"),T=B("n8n-node-icon");return g.value.length>0?(k(),L(Xe,{key:0,name:`panel-slide-${d.value.transitionDirection}`,onAfterLeave:m},{default:A(()=>[(k(),R("aside",{class:w(c.$style.nodesListPanel),onKeydownCapture:_[0]||(_[0]=he(()=>{},["stop"])),key:`${d.value.uuid}`},[I("header",{class:w({[c.$style.header]:!0,[c.$style.hasBg]:!d.value.subtitle}),"data-test-id":"nodes-list-header"},[I("div",{class:w(c.$style.top)},[g.value.length>1?(k(),R("button",{key:0,class:w(c.$style.backButton),onClick:y},[O(u,{class:w(c.$style.backButtonIcon),icon:"arrow-left",size:"2x"},null,8,["class"])],2)):M("",!0),d.value.nodeIcon?(k(),L(T,{key:1,class:w(c.$style.nodeIcon),type:d.value.nodeIcon.iconType||"unknown",src:d.value.nodeIcon.icon,name:d.value.nodeIcon.icon,color:d.value.nodeIcon.color,circle:!1,showTooltip:!1,size:16},null,8,["class","type","src","name","color"])):M("",!0),d.value.title?(k(),R("p",{key:2,class:w(c.$style.title),textContent:W(d.value.title)},null,10,ns)):M("",!0)],2),d.value.subtitle?(k(),R("p",{key:0,class:w({[c.$style.subtitle]:!0,[c.$style.offsetSubtitle]:g.value.length>1}),textContent:W(d.value.subtitle)},null,10,ss)):M("",!0)],2),d.value.hasSearch?(k(),L(ao,{key:0,class:w(c.$style.searchBar),placeholder:i.value?i.value:c.$locale.baseText("nodeCreator.searchBar.searchNodes"),modelValue:d.value.search,"onUpdate:modelValue":a},null,8,["class","placeholder","modelValue"])):M("",!0),I("div",{class:w(c.$style.renderedItems)},[f.value&&d.value.subcategory?(k(),L(Mn,tt(me({key:0},c.$attrs)),null,16)):(k(),L(os,me({key:1,rootView:l.value},c.$attrs),null,16,["rootView"]))],2)],34))]),_:1},8,["name"])):M("",!0)}}}),rs="_backButton_uvop2_27",is="_backButtonIcon_uvop2_34",cs="_nodeIcon_uvop2_40",ls="_renderedItems_uvop2_45",ds="_searchBar_uvop2_57",us="_nodesListPanel_uvop2_61",ps="_footer_uvop2_78",gs="_top_uvop2_89",ys="_header_uvop2_94",fs="_hasBg_uvop2_100",ms="_title_uvop2_105",vs="_subtitle_uvop2_115",_s="_offsetSubtitle_uvop2_123",hs={backButton:rs,backButtonIcon:is,nodeIcon:cs,renderedItems:ls,searchBar:ds,nodesListPanel:us,footer:ps,top:gs,header:ys,hasBg:fs,title:ms,subtitle:vs,offsetSubtitle:_s},Ts={$style:hs},bs=U(as,[["__cssModules",Ts]]),ws=H({__name:"NodeCreator",props:{active:{type:Boolean},onNodeTypeSelected:{type:Function}},emits:["closeNodeCreator","nodeTypeSelected"],setup(t,{emit:e}){const o=t,{resetViewStacks:n}=V(),{registerKeyHook:r}=q(),p=wt(),{setShowScrim:v,setActions:h,setMergeNodes:s}=j(),{generateMergedNodesAndActions:d}=Ft(),g=Re({nodeCreator:null,mousedownInsideEvent:null}),f=$(()=>j().showScrim),i=$(()=>V().viewStacks.length),l=$(()=>({top:`${p.bannersHeight+p.headerHeight}px`}));function a(){var b;if(g.mousedownInsideEvent){const N=new MouseEvent("click",{bubbles:!0,cancelable:!0});(b=g.mousedownInsideEvent.target)==null||b.dispatchEvent(N),g.mousedownInsideEvent=null,m()}}function m(){document.removeEventListener("mouseup",a),document.removeEventListener("touchstart",a)}function y(){g.mousedownInsideEvent=null,m()}function c(b){g.mousedownInsideEvent=b,document.addEventListener("mouseup",a),document.addEventListener("touchstart",a)}function _(b){b.preventDefault()}function u(b){if(!b.dataTransfer)return;const N=b.dataTransfer.getData("nodeTypeName"),C=g.nodeCreator.getBoundingClientRect();N&&b.pageX>=C.x&&b.pageY>=C.y&&b.stopPropagation()}J(()=>o.active,b=>{b===!1&&(v(!1),n())}),J(i,b=>{b===0&&(e("closeNodeCreator"),v(!1))}),r("NodeCreatorCloseEscape",{keyboardKeys:["Escape"],handler:()=>e("closeNodeCreator")}),r("NodeCreatorCloseTab",{keyboardKeys:["Tab"],handler:()=>e("closeNodeCreator")}),J(()=>je().visibleNodeTypes,b=>{const{actions:N,mergedNodes:C}=d(b);h(N),s(C)},{immediate:!0});const{nodeCreator:T}=Me(g);return Ze(()=>{m()}),(b,N)=>(k(),R("div",null,[I("aside",{class:w({[b.$style.nodeCreatorScrim]:!0,[b.$style.active]:f.value})},null,2),O(Kt,null,{default:A(()=>[b.active?(k(),R("div",{key:0,class:w(b.$style.nodeCreator),style:Oe(l.value),ref_key:"nodeCreator",ref:T,onDragover:_,onDrop:u,onMousedown:c,onMouseup:y,"data-test-id":"node-creator"},[O(bs,{onNodeTypeSelected:b.onNodeTypeSelected},null,8,["onNodeTypeSelected"])],38)):M("",!0)]),_:1})]))}}),ks="_nodeCreator_py8o5_9",Cs="_nodeCreatorScrim_py8o5_20",$s="_active_py8o5_32",Ns={nodeCreator:ks,nodeCreatorScrim:Cs,active:$s},Ss={$style:Ns},la=U(ws,[["__cssModules",Ss]]);export{la as default};
//# sourceMappingURL=NodeCreator-425f5bd3.js.map
