var MO=Object.defineProperty;var LO=(e,t,s)=>t in e?MO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var qe=(e,t,s)=>(LO(e,typeof t!="symbol"?t+"":t,s),s);import{y as Be,i as we,C as jn,a0 as en,d as J,b as E,o as y,c as R,w as v,g as D,r as Ke,k as W,n as $,t as N,j as Z,e as b,l as V,f as P,v as Is,ab as Ms,V as zt,a4 as Qe,aa as Ts,s as gh,$ as Iv,x as Xs,M as Ie,a9 as Re,aw as _c,ax as Pc,ar as Ls,X as He,Y as nt,Z as Sa,P as Mv,aC as Lv,aD as ho,aE as No,aF as Ic,aG as Mc,a as Fv,aH as FO,m as Lc,a7 as BO,aI as RO,T as Bv,ad as VO,am as UO,aJ as WO,aK as jO,as as qO}from"./vendor-c8bad0e4.js";import{d as wt,m as be,s as zO,c as HO,P as QO}from"./pinia-b59a3de7.js";import{a as Fc}from"./axios-706baf85.js";import{p as Rv}from"./flatted-8b14da7d.js";import{d as Ze,x as GO,l as YO,g as Vv,e as at,f as XO,h as qn,u as Uv,j as KO,k as Dm,W as JO,m as An,_ as te,E as ZO,n as Wv,o as Co,p as yh,q as wh,r as eD,s as bh,t as tD,v as sD,w as Am,y as nD,N as oD,z as iD,A as rD,B as aD,C as lD,D as uD,F as cD,G as dD,H as pD,I as Ry,J as hD,K as mD,M as Jn,L as pi,O as fD,P as gD,Q as yD,R as ka,S as jv,T as wD,U as qv,V as bD,X as vD,Y as TD,Z as SD,$ as kD,a0 as ED,a1 as xD}from"./n8n-91a817dd.js";import{c as CD}from"./vue-i18n-6b44b0b1.js";import{F as zv}from"./@fortawesome/vue-fontawesome-6e8401ca.js";import{d as fi}from"./dateformat-ce9c2f3c.js";import{q as Vy,d as ol,r as OD,l as DD,g as jt,e as AD,v as $D,s as Ao,w as vh,_ as Hv}from"./lodash-es-876af2e5.js";import{D as Lo}from"./luxon-19e1de07.js";import{c as Uy,E as Zu,a as ec,b as Wy,d as cr,r as ND,s as mp,e as Th,f as Sh,n as _D,g as jy,h as ou,i as PD}from"./@jsplumb/browser-ui-70b0a0d6.js";import{H as ID,X as MD,Y as fp,W as LD,V as FD,Z as BD,_ as qy,$ as zy,a0 as Hy,a1 as iu}from"./@jsplumb/core-0a463c13.js";import{v as RD}from"./@jsplumb/util-98a92a84.js";import{B as VD}from"./@jsplumb/connector-bezier-53998944.js";import{v as Ds}from"./uuid-cf522c50.js";import{d as tt,o as UD,q as WD,r as kh,T as jD,f as vr,F as Bc,u as $m,S as il,v as gp,w as qD,x as zD,e as Qv,y as HD,A as Gv,z as Rn,B as Yv,D as Eh,G as QD,H as GD,J as Xv,K as Nm,M as Kv,O as Jv,P as Zv,Q as YD,R as eT,U as XD,p as KD,g as _m,b as rl,V as _n,W as Pm,X as Im,t as Se,Y as al,Z as tT,_ as ll,$ as Ia,a0 as bs,a1 as xh,s as sT,L as nT,h as oT,j as Qy,m as iT,n as rT,E as Rc,C as JD,i as aT,c as lT,l as yp,I as ZD,a as Cs,N as eA,a2 as tA,a3 as uT,a4 as sA,a5 as nA,a6 as oA,a7 as iA,a8 as rA,a9 as aA,aa as lA,ab as Mm,ac as uA,ad as Lm,ae as Fm,af as tc,ag as Bm,ah as Rm,ai as Vm,aj as cA,ak as dA,al as pA,am as hA,an as mA,ao as fA,ap as gA,aq as yA,ar as wA}from"./@n8n/codemirror-lang-sql-9a304659.js";import{p as bA}from"./codemirror-lang-n8n-expression-47e67c3a.js";import{j as vA,s as TA,l as SA,a as kA,h as EA,b as xA,c as Gy}from"./codemirror-lang-html-n8n-4223f8c7.js";import{s as CA}from"./fast-json-stable-stringify-44009db8.js";import{s as ma}from"./prettier-8be78f6f.js";import{a as OA}from"./esprima-next-8c7e8ff9.js";import{u as DA,d as Yy,i as Ch,n as cT,t as sc,a as dT,b as AA,c as $A}from"./@vueuse/core-5943aedd.js";import{r as NA,f as _A}from"./timeago.js-a9e71aec.js";import{F as Iu}from"./file-saver-cc6d9044.js";import{V as pT}from"./vue-json-pretty-cfc4ef1d.js";import{h as PA}from"./humanize-duration-b7379348.js";import{K as IA}from"./v3-infinite-loading-ff016886.js";import{V as MA}from"./vue-agile-b5edbe38.js";import{c as LA}from"./copy-to-clipboard-4501bff5.js";import{v as FA}from"./vue3-touch-events-ee55ce04.js";import{l as BA}from"./@fortawesome/fontawesome-svg-core-984d6dde.js";import{f as RA,a as VA,b as UA,c as WA,d as jA,e as qA,g as zA,h as HA,i as QA,j as GA,k as YA,l as XA,m as KA,n as JA,o as ZA,p as e$,q as t$,r as s$,s as n$,t as o$,u as i$,v as r$,w as a$,x as l$,y as u$,z as c$,A as d$,B as p$,C as h$,D as m$,E as f$,F as g$,G as y$,H as w$,I as b$,J as v$,K as T$,L as S$,M as k$,N as E$,O as x$,P as C$,Q as O$,R as D$,S as A$,T as $$,U as N$,V as _$,W as P$,X as I$,Y as M$,Z as L$,_ as F$,$ as B$,a0 as R$,a1 as V$,a2 as U$,a3 as W$,a4 as j$,a5 as q$,a6 as z$,a7 as H$,a8 as Q$,a9 as G$,aa as Y$,ab as X$,ac as K$,ad as J$,ae as Z$,af as eN,ag as tN,ah as sN,ai as nN,aj as oN,ak as iN,al as rN,am as aN,an as lN,ao as uN,ap as cN,aq as dN,ar as pN,as as hN,at as mN,au as fN,av as gN,aw as yN,ax as wN,ay as bN,az as vN,aA as TN,aB as SN,aC as kN,aD as EN,aE as xN,aF as CN,aG as ON,aH as DN,aI as AN,aJ as $N,aK as NN,aL as _N,aM as PN,aN as IN,aO as MN,aP as LN,aQ as FN,aR as BN,aS as RN,aT as VN,aU as UN,aV as WN,aW as jN,aX as qN,aY as zN,aZ as HN,a_ as QN,a$ as GN,b0 as YN,b1 as XN,b2 as KN,b3 as JN,b4 as ZN,b5 as e_,b6 as t_,b7 as s_,b8 as n_,b9 as o_,ba as i_,bb as r_,bc as a_}from"./@fortawesome/free-solid-svg-icons-c96f0de9.js";import{f as l_}from"./@fortawesome/free-regular-svg-icons-74cb85f8.js";import"./@jsplumb/common-fe415eb9.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();const hT=999;class Xy extends Error{constructor(s,n={}){super(s);qe(this,"httpStatusCode");qe(this,"errorCode");qe(this,"serverStackTrace");this.name="ResponseError";const{errorCode:o,httpStatusCode:i,stack:r}=n;o&&(this.errorCode=o),i&&(this.httpStatusCode=i),r&&(this.serverStackTrace=r)}}async function Um(e){const{method:t,baseURL:s,endpoint:n,headers:o,data:i}=e,r={method:t,url:n,baseURL:s,headers:o};({}).NODE_ENV!=="production"&&!s.includes("api.n8n.io")&&!s.includes("n8n.cloud")&&(r.withCredentials=!0),["POST","PATCH","PUT"].includes(t)?r.data=i:r.params=i;try{return(await Fc.request(r)).data}catch(l){if(l.message==="Network Error")throw new Xy("Can't connect to n8n.",{errorCode:hT});const m=l.response.data;throw m!==void 0&&m.message!==void 0?m.name==="NodeApiError"?(m.httpStatusCode=l.response.status,m):new Xy(m.message,{errorCode:m.code,httpStatusCode:l.response.status,stack:m.stack}):l}}async function xe(e,t,s,n){return(await Um({method:t,baseURL:e.baseUrl,endpoint:s,headers:{sessionid:e.sessionId},data:n})).data}async function Ss(e,t,s,n){return Um({method:"GET",baseURL:e,endpoint:t,headers:n,data:s})}async function ul(e,t,s,n){return Um({method:"POST",baseURL:e,endpoint:t,headers:n,data:s})}function u_(e){const t={...e,workflowData:e.workflowData,data:Rv(e.data)};return t.finished=t.finished?t.finished:!1,e.id&&(t.id=e.id),t}const Wm="https://api.n8n.io/api",mT="/prompts/onboarding",c_="/accounts/onboarding";async function d_(e,t){return Ss(Wm,mT,{instance_id:e,user_id:`${e}#${t.id}`,is_owner:t.isOwner,survey_results:t.personalizationAnswers})}async function p_(e,t,s){try{return await ul(Wm,mT,{instance_id:e,user_id:`${e}#${t.id}`,email:s})}catch(n){throw n}}async function h_(e,t,s,n){return ul(Wm,c_,{instance_id:e,user_id:`${e}#${t.id}`,email:s,agree:n})}const m_=12582912,fT=204800,f_=250,no="[filled at execution time]",fr="__CUSTOM_API_CALL__",lt="__EMPTY__",g_=1,y_="My workflow",jm=128,Ky=" copy",fa="_NODE_OUTPUT_DEFAULT_KEY_",gT="_QUICKSTART_NOTE_",qm=24,cl="about",Vc="changePassword",Ws="editCredential",Uc="selectCredential",Mu="deleteUser",Wc="inviteUser",jc="duplicate",qc="tagsManager",gi="versions",Pn="settings",dl="workflowShare",zc="personalization",zm="contactPrompt",Hc="valueSurvey",Ma="activation",pl="onboardingCallSignup",Qc="communityPackageInstall",so="communityPackageManageConfirm",In="importCurl",Tr="settingsLogStream",Sr="sourceControlPush",La="sourceControlPull",$n={UNINSTALL:"uninstall",UPDATE:"update",VIEW_DOCS:"view-documentation"},Jy=768,Zy=992,ew=1200,tw=1920,Hm="https://api.n8n.io/api/",Tn="docs.n8n.io",w_=`https://${Tn}/integrations/builtin/`,b_=`https://${Tn}/integrations/builtin/credentials/`,v_=`https://${Tn}/data/data-pinning/`,T_=`https://${Tn}/data/data-editing/`,S_="https://api.npms.io/v2/",yT="https://www.npmjs.com/package/",sw="https://www.npmjs.com/search?q=keywords%3An8n-community-node-package",gr=`https://${Tn}/integrations/community-nodes/installation/`,k_="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm",E_=`https://${Tn}/integrations/community-nodes/risks/`,x_=`https://${Tn}/integrations/creating-nodes/code/create-n8n-nodes-module/`,Qm=`https://${Tn}/code-examples/expressions/`,C_="https://n8n.io/pricing",O_="n8n-nodes-base.bambooHr",D_="n8n-nodes-base.calendlyTrigger",hl="n8n-nodes-base.code",wT="n8n-nodes-base.cron",A_="n8n-nodes-base.clearbit",$_="n8n-nodes-base.filter",N_="n8n-nodes-base.githubTrigger",__="n8n-nodes-base.googleSheets",bT="n8n-nodes-base.errorTrigger",Oh="n8n-nodes-base.elasticSecurity",P_="n8n-nodes-base.emailSend",rCe="n8n-nodes-base.emailReadImap",I_="n8n-nodes-base.executeCommand",Dh="n8n-nodes-base.html",_o="n8n-nodes-base.httpRequest",M_="n8n-nodes-base.hubspotTrigger",vT="n8n-nodes-base.if",TT="n8n-nodes-base.interval",ST="n8n-nodes-base.itemLists",nw="n8n-nodes-base.jira",Ah="n8n-nodes-base.jiraTrigger",L_="n8n-nodes-base.microsoftExcel",Bo="n8n-nodes-base.manualTrigger",F_="n8n-nodes-base.microsoftTeams",B_="n8n-nodes-base.noOp",As="n8n-nodes-base.stickyNote",R_="n8n-nodes-base.notionTrigger",V_="n8n-nodes-base.pagerDuty",kT="n8n-nodes-base.salesforce",U_="n8n-nodes-base.segment",Gm="n8n-nodes-base.set",kr="n8n-nodes-base.scheduleTrigger",W_="n8n-nodes-base.serviceNow",nc="n8n-nodes-base.slack",ET="n8n-nodes-base.spreadsheetFile",xT="n8n-nodes-base.splitInBatches",Lr="n8n-nodes-base.start",CT="n8n-nodes-base.switch",j_="n8n-nodes-base.theHiveTrigger",OT="n8n-nodes-base.quickbooks",q_="n8n-nodes-base.wait",Ns="n8n-nodes-base.webhook",z_="n8n-nodes-base.workableTrigger",H_="n8n-nodes-base.executeWorkflowTrigger",Q_="n8n-nodes-base.wooCommerceTrigger",G_="n8n-nodes-base.xero",ow="n8n-nodes-base.zendesk",Y_="n8n-nodes-base.zendeskTrigger",X_=[Lr,Bo,kr,wT,TT],K_=[bT,Bo,H_],J_=[xT],ei={NO_TRIGGER_EXECUTION_TOOLTIP:"no_trigger_execution_tooltip",PLUS_ENDPOINT:"plus_endpoint",TRIGGER_PLACEHOLDER_BUTTON:"trigger_placeholder_button",ADD_NODE_BUTTON:"add_node_button",TAB:"tab",NODE_CONNECTION_ACTION:"node_connection_action",NODE_CONNECTION_DROP:"node_connection_drop","":""},Z_="Core Nodes",aCe="*",eP="Regular",Lu="Trigger",lCe="Other Trigger Nodes",uCe="Data Transformation",cCe="Files",dCe="Flow",pCe="Helpers",hCe="https://n8n-community.typeform.com/to/K1fBVTZ3",tP="n8n-instance-id",DT="3000-01-01T00:00:00.000Z",sP="email",nP="workArea",oP="finance",wp="IT-Engineering",iw="product",rw="sales-businessDevelopment",aw="security",Us="companyType",iP="saas",AT="ecommerce",rP="education",aP="msp",lP="digital-agency",uP="systems-integrator",bp="other",un="personal",lw="companyIndustryExtended",cP="otherCompanyIndustryExtended",dP="physical-retail-or-services",pP="real-estate-or-construction",hP="government",mP="legal-industry",fP="marketing-industry",gP="media-industry",yP="manufacturing-industry",wP="msp",bP="healthcare",vP="finance-insurance-industry",TP="it-industry",SP="security-industry",kP="telecoms",uw="other",Ym="companySize",EP="<20",xP="20-99",CP="100-499",Xm="500-999",Km="1000+",OP="personalUser",cw="automationGoalSm",DP="lead-generation",AP="customer-communication",$P="actions",NP="ad-campaign",_P="reporting",PP="data-syncing",dw="other",IP="automationGoalSmOther",yr="codingSkill",MP="automationBeneficiary",LP="myself",FP="my-team",BP="other-teams",pw="reportedSource",RP="reportedSourceOther",VP="google",UP="twitter",WP="linkedin",jP="youtube",qP="friend",zP="podcast",HP="event",hw="other",QP="automationGoal",mw="automationGoalDevops",GP="automationGoalDevopsOther",YP="other",XP="ci-cd",KP="cloud-infrastructure-orchestration",JP="data-syncing",ZP="incident-response",e2="monitoring-alerting",t2="reporting",s2="ticketing-systems-integrations",vp="customer-integrations",Tp="customer-support",Sp="finance-accounting",kp="hr",n2="operations",Ep="product",xp="sales-marketing",Cp="security",$h="other",fw="not-sure-yet",Yi="role",o2="roleOther",i2="business-owner",r2="customer-support",a2="data-science",Op="devops",Dp="it",Ap="engineering",$p="sales-and-marketing",l2="security",gw="other",$T="cancel",u2="close",bt="confirm",Gc=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,NT="N8N_HIDE_ACTIVATION_ALERT",yw="N8N_PIN_DATA_DISCOVERY_NDV",Nh="N8N_PIN_DATA_DISCOVERY_CANVAS",ww="N8N_MAPPING_ONBOARDED",bw="N8N_MAIN_PANEL_RELATIVE_WIDTH",c2="N8N_THEME",vw="N8N_EXPERIMENT_OVERRIDES",d2="https://n8n-community.typeform.com/to/BvmzxqYv#nodename=",p2=`
                                                                    //////
                                                                 ///////////
                                                               /////      ////
                                               ///////////////////         ////
                                             //////////////////////       ////
     ///////               ///////          ////                /////////////
  ////////////          ////////////       ////                    ///////
 ////       ////       ////       ////    ////
/////        /////////////         //////////
 /////     ////       ////       ////     ////
  ////////////          ////////////       ////           ////////
    ///////                //////           ////        /////////////
                                             /////////////        ////
                                                //////////        ////
                                                       ////      ////
                                                        ///////////
                                                          //////

Love n8n? Help us build the future of automation! https://n8n.io/careers?utm_source=n8n_user&utm_medium=console_output
`,h2=["n8n-nodes-base.start","n8n-nodes-base.respondToWebhook"];var ee=(e=>(e.HOMEPAGE="Homepage",e.COLLECTION="TemplatesCollectionView",e.EXECUTIONS="Executions",e.EXECUTION_PREVIEW="ExecutionPreview",e.EXECUTION_HOME="ExecutionsLandingPage",e.TEMPLATE="TemplatesWorkflowView",e.TEMPLATES="TemplatesSearchView",e.CREDENTIALS="CredentialsView",e.VARIABLES="VariablesView",e.NEW_WORKFLOW="NodeViewNew",e.WORKFLOW="NodeViewExisting",e.DEMO="WorkflowDemo",e.TEMPLATE_IMPORT="WorkflowTemplate",e.SIGNIN="SigninView",e.SIGNUP="SignupView",e.SIGNOUT="SignoutView",e.SETUP="SetupView",e.FORGOT_PASSWORD="ForgotMyPasswordView",e.CHANGE_PASSWORD="ChangePasswordView",e.USERS_SETTINGS="UsersSettings",e.LDAP_SETTINGS="LdapSettings",e.PERSONAL_SETTINGS="PersonalSettings",e.API_SETTINGS="APISettings",e.NOT_FOUND="NotFoundView",e.FAKE_DOOR="ComingSoon",e.COMMUNITY_NODES="CommunityNodes",e.WORKFLOWS="WorkflowsView",e.WORKFLOW_EXECUTIONS="WorkflowExecutions",e.USAGE="Usage",e.LOG_STREAMING_SETTINGS="LogStreamingSettingsView",e.SSO_SETTINGS="SSoSettings",e.SAML_ONBOARDING="SamlOnboarding",e.SOURCE_CONTROL="SourceControl",e.AUDIT_LOGS="AuditLogs",e))(ee||{}),_T=(e=>(e.ENVIRONMENTS="environments",e.LOGGING="logging",e.SSO="sso",e))(_T||{});const PT=14,IT=3e5,m2=[{name:"First item",code:1},{name:"Second item",code:2}],f2=["$binary","$data","$env","$evaluateExpression","$execution","$input","$item","$jmespath","$json","$node","$now","$parameter","$parameters","$position","$prevNode","$resumeWebhookUrl","$runIndex","$today","$vars","$workflow"],mCe=160,fCe=240;var rs=(e=>(e.DUPLICATE="duplicate",e.DOWNLOAD="download",e.IMPORT_FROM_URL="import-from-url",e.IMPORT_FROM_FILE="import-from-file",e.PUSH="push",e.SETTINGS="settings",e.DELETE="delete",e))(rs||{}),ot=(e=>(e.AdvancedExecutionFilters="advancedExecutionFilters",e.Sharing="sharing",e.Ldap="ldap",e.LogStreaming="logStreaming",e.Variables="variables",e.Saml="saml",e.SourceControl="sourceControl",e.AuditLogs="auditLogs",e))(ot||{});const sr=360;var _t=(e=>(e.WORKFLOW="workflow",e.EXECUTIONS="executions",e.SETTINGS="settings",e))(_t||{});const g2=["ftp","ftps","dict","imap","imaps","ldap","ldaps","mqtt","pop","pop3s","rtmp","rtsp","scp","sftp","smb","smbs","smtp","smtps","telnet","tftp"],Tw={ftp:"FTP",ftps:"FTP",ldap:"LDAP",ldaps:"LDAP",mqtt:"MQTT",imap:"IMAP",imaps:"IMAP"};var ts=(e=>(e.COMMUNITY_NODES="communityNodes",e.ROOT="root",e.SETTINGS="settings",e.UI="ui",e.USERS="users",e.WORKFLOWS="workflows",e.WORKFLOWS_EE="workflowsEE",e.NDV="ndv",e.TEMPLATES="templates",e.NODE_TYPES="nodeTypes",e.CREDENTIALS="credentials",e.TAGS="tags",e.VERSIONS="versions",e.NODE_CREATOR="nodeCreator",e.WEBHOOKS="webhooks",e.HISTORY="history",e))(ts||{});const y2=15e3,_h=[_o,Ns,q_],w2="authentication",wr={name:"011_ask_AI",control:"control",gpt3:"gpt3",gpt4:"gpt4"},b2=[wr.name],v2=[$_],T2=["href","name","target","title","class","id","style"],S2=["p","strong","b","code","a","br","i","em","small","details","summary"];window.location.host.includes("stage-app.n8n.cloud");const k2="https://stage-api.n8n.cloud",E2="https://api.n8n.cloud",x2=5e3,gCe="_!^&*",Sw=600,Np=15,C2=12e3,{VUE_APP_URL_BASE_API:O2}={VUE_APP_PUBLIC_PATH:"/{{BASE_PATH}}/",BASE_URL:"/%7B%7BBASE_PATH%7D%7D/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},fe=wt(ts.ROOT,{state:()=>({baseUrl:O2??(window.BASE_PATH==="/{{'/{{BASE_PATH}}/'}}/"?"/":window.BASE_PATH),restEndpoint:!window.REST_ENDPOINT||window.REST_ENDPOINT==="{{REST_ENDPOINT}}"?"rest":window.REST_ENDPOINT,defaultLocale:"en",endpointWebhook:"webhook",endpointWebhookTest:"webhook-test",pushConnectionActive:!0,timezone:"America/New_York",executionTimeout:-1,maxExecutionTimeout:Number.MAX_SAFE_INTEGER,versionCli:"0.0.0",oauthCallbackUrls:{},n8nMetadata:{},sessionId:Math.random().toString(36).substring(2,15),urlBaseWebhook:"http://localhost:5678/",urlBaseEditor:"http://localhost:5678",isNpmAvailable:!1,instanceId:""}),getters:{getBaseUrl(){return this.baseUrl},getWebhookUrl(){return`${this.urlBaseWebhook}${this.endpointWebhook}`},getWebhookTestUrl(){return`${this.urlBaseEditor}${this.endpointWebhookTest}`},getRestUrl(){return`${this.baseUrl}${this.restEndpoint}`},getRestCloudApiContext(){return{baseUrl:window.location.host.includes("stage-app.n8n.cloud")?k2:E2,sessionId:""}},getRestApiContext(){return{baseUrl:this.getRestUrl,sessionId:this.sessionId}}},actions:{setUrlBaseWebhook(e){const t=e.endsWith("/")?e:`${e}/`;this.urlBaseWebhook=t},setUrlBaseEditor(e){const t=e.endsWith("/")?e:`${e}/`;this.urlBaseEditor=t},setEndpointWebhook(e){this.endpointWebhook=e},setEndpointWebhookTest(e){this.endpointWebhookTest=e},setTimezone(e){this.timezone=e},setExecutionTimeout(e){this.executionTimeout=e},setMaxExecutionTimeout(e){this.maxExecutionTimeout=e},setVersionCli(e){this.versionCli=e},setInstanceId(e){this.instanceId=e},setOauthCallbackUrls(e){this.oauthCallbackUrls=e},setN8nMetadata(e){this.n8nMetadata=e},setDefaultLocale(e){this.defaultLocale=e},setIsNpmAvailable(e){this.isNpmAvailable=e}}});async function D2(e,t){return xe(e,"POST","/curl-to-json",{curlCommand:t})}async function kw(e,t){const s=await xe(e,"GET","/workflows/new",t?{name:t}:{});return{name:s.name,onboardingFlowEnabled:s.onboardingFlowEnabled===!0,settings:s.defaultSettings}}async function A2(e,t,s){const n=s?{filter:s}:void 0;return xe(e,"GET",`/workflows/${t}`,n)}async function $2(e,t){return xe(e,"GET","/workflows",t?{filter:t}:void 0)}async function N2(e){return xe(e,"GET","/active")}async function _2(e,t){return xe(e,"GET","/executions-current",{filter:t})}async function P2(e,t,s){return xe(e,"GET","/executions",{filter:t,...s})}async function I2(e,t){return xe(e,"GET",`/executions/${t}`)}const oc=Ze(),qt=Ze(),Ph=Ze(),Ih=Ze(),as=Ze(),MT=({scale:e,offset:[t,s]})=>(e/=1.25,t/=1.25,s/=1.25,t+=window.innerWidth/10,s+=window.innerHeight/10,{scale:e,offset:[t,s]}),LT=({scale:e,offset:[t,s]})=>(e*=1.25,t-=window.innerWidth/10,s-=window.innerHeight/10,t*=1.25,s*=1.25,{scale:e,offset:[t,s]}),M2=e=>{if(e.scale>1)for(;e.scale>1;)e=MT(e);else for(;e.scale<1;)e=LT(e);return e.scale=1,e},ic=(e,t)=>{const s=Math.ceil(e/t),n=t*s,o=e*t>0?t*(s+1):t*(s-1);return Math.abs(e-n)<Math.abs(e-o)?n:o},Ea=e=>{var t;return(t=e.meta)!=null&&t.nodeView?_t.WORKFLOW:[ee.WORKFLOW_EXECUTIONS,ee.EXECUTION_PREVIEW,ee.EXECUTION_HOME].map(String).includes(String(e.name))?_t.EXECUTIONS:null},Ew=e=>{const t=e.sourceEndpoint.parameters,s=e.targetEndpoint.parameters,n=_e().getNodeById(t.nodeId),o=_e().getNodeById(s.nodeId);return n&&o?[{node:n.name,type:t.type,index:t.index},{node:o.name,type:s.type,index:s.index}]:null};async function Jm(e,t,s){var i;if(!window.n8nExternalHooks)return;const[n,o]=e.split(".");if((i=window.n8nExternalHooks[n])!=null&&i[o]){const r=window.n8nExternalHooks[n][o];for(const l of r)await l(t,s)}}function Fa(e){return GO(e,{onTagAttr:(s,n,o)=>{if(s==="img"&&n==="src"){const r=o.split("#")[0].match(/\.(jpeg|jpg|gif|png|webp)$/)!==null&&o.startsWith("/static/");if(!o.startsWith("https://")&&!r)return""}if(T2.includes(n)||n.startsWith("data-"))return`${n}="${YO.friendlyAttrValue(o)}"`},onTag:s=>{if(!S2.includes(s))return""}})}function gs(e){return getComputedStyle(document.body).getPropertyValue(e)}function Er(e){window.document.title=e}const xw=e=>e.charAt(0).toUpperCase()+e.slice(1),FT=async()=>new Promise(e=>{setTimeout(()=>{var t;e(((t=document.getElementById("banners"))==null?void 0:t.clientHeight)??0)},0)});async function L2(e){const{data:t}=await Fc.get(e+"types/nodes.json",{withCredentials:!0});return t}async function F2(e){return xe(e,"GET","/node-translation-headers")}async function B2(e,t){return xe(e,"POST","/node-types",{nodeInfos:t})}async function R2(e,t){return xe(e,"GET","/node-parameter-options",t)}async function V2(e,t){return xe(e,"GET","/nodes-list-search",t)}async function U2(e,t){return xe(e,"GET","/get-mapping-fields",t)}function _p(e,t){let s=t.name;if(W2(e,t)||ga(e)){const n=dr(e).split(".");s=pr(n).join(".")}if(j2(e,t)||q2(e,t)){const n=[...dr(e).split("."),t.name];s=pr(n).join(".")}return s}const ga=e=>e.split(".").length>=3,W2=(e,t)=>e.split(".").length===2&&t.type==="collection",j2=(e,t)=>e.split(".").length>2&&t.type==="collection",q2=(e,t)=>t.type==="fixedCollection"&&e!=="parameters",dr=e=>e.replace(/\[.*?\]/g,"").replace("parameters.",""),pr=e=>e.reduce((t,s,n)=>(t.push(s),n===e.length-1||t.push(n%2===0?"options":"values"),t),[]),BT={cancel:"Cancel",codeNodeEditor:{linter:{useJson:"Access the properties of an item under `.json`, e.g. `item.json`"},completer:{all:"Get all items",first:"Get the first item",last:"Get the last item",itemMatching:"Get the item matching a specified input item. Pass the input item index"}},name:"Name",save:"Save",dismiss:"Dismiss",unlimited:"Unlimited",activate:"Activate",error:"Error"},RT={readMore:"Read more",learnMore:"Learn more",moreInfo:"More info",oauth2:{clientId:"Client ID",clientSecret:"Client Secret"}},VT="Error",UT="Forgot my password",WT="Settings",jT="Error connecting to n8n",qT={_reusableBaseText:BT,_reusableDynamicText:RT,"generic.any":"Any","generic.cancel":"Cancel","generic.confirm":"Confirm","generic.deleteWorkflowError":"Problem deleting workflow","generic.filtersApplied":"Filters are currently applied.","generic.field":"field","generic.fields":"fields","generic.learnMore":"Learn more","generic.reset":"Reset","generic.resetAllFilters":"Reset all filters","generic.communityNode":"Community Node","generic.communityNode.tooltip":`This is a node from our community. It's part of the {packageName} package. <a href="{docURL}" target="_blank" title="Read the n8n docs">Learn more</a>`,"generic.copy":"Copy","generic.delete":"Delete","generic.dontShowAgain":"Don't show again","generic.executions":"Executions","generic.or":"or","generic.clickToCopy":"Click to copy","generic.copiedToClipboard":"Copied to clipboard","generic.beta":"beta","generic.yes":"Yes","generic.no":"No","generic.retry":"Retry","generic.settings":"Settings","generic.service":"the service","generic.unsavedWork.confirmMessage.headline":"Save changes before leaving?","generic.unsavedWork.confirmMessage.message":"If you don't save, you will lose your changes.","generic.unsavedWork.confirmMessage.confirmButtonText":"Save","generic.unsavedWork.confirmMessage.cancelButtonText":"Leave without saving","generic.upgradeNow":"Upgrade now","generic.workflow":"Workflow","generic.workflowSaved":"Workflow changes saved","generic.editor":"Editor","about.aboutN8n":"About n8n","about.close":"Close","about.license":"License","about.n8nLicense":"Sustainable Use License + n8n Enterprise License","about.n8nVersion":"n8n Version","about.sourceCode":"Source Code","about.instanceID":"Instance ID","askAi.dialog.title":"'Ask AI' is almost ready","askAi.dialog.body":"We’re still applying the finishing touches. Soon, you will be able to <strong>automatically generate code from simple text prompts</strong>. Join the waitlist to get early access to this feature.","askAi.dialog.signup":"Join Waitlist","activationModal.butYouCanSeeThem":"but you can see them in the","activationModal.executionList":"execution list","activationModal.gotIt":"Got it","activationModal.ifYouChooseTo":"if you choose to","activationModal.saveExecutions":"save executions.","activationModal.theseExecutionsWillNotShowUp":"These executions will not show up immediately in the editor,","activationModal.workflowActivated":"Workflow activated","activationModal.yourTriggerWillNowFire":"Your trigger will now fire production executions automatically.","activationModal.yourTriggersWillNowFire":"Your triggers will now fire production executions automatically.","activationModal.yourWorkflowWillNowListenForEvents":"Your workflow will now listen for events from {serviceName} and trigger executions.","activationModal.yourWorkflowWillNowRegularlyCheck":"Your workflow will now regularly check {serviceName} for events and trigger executions for them.","auth.changePassword":"Change Password","auth.changePassword.currentPassword":"Current Password","auth.changePassword.error":"Problem changing the password","auth.changePassword.missingTokenError":"Missing token","auth.changePassword.missingUserIdError":"Missing user ID","auth.changePassword.passwordUpdated":"Password updated","auth.changePassword.passwordUpdatedMessage":"You can now sign in with your new password","auth.changePassword.passwordsMustMatchError":"Passwords must match","auth.changePassword.reenterNewPassword":"Re-enter New Password","auth.changePassword.tokenValidationError":"Issue validating invite token","auth.defaultPasswordRequirements":"8+ characters, at least 1 number and 1 capital letter","auth.validation.missingParameters":"Missing token or user id","auth.email":"Email","auth.firstName":"First Name","auth.lastName":"Last Name","auth.newPassword":"New Password","auth.password":"Password","auth.role":"Role","auth.roles.member":"Member","auth.roles.owner":"Owner","auth.agreement.label":"Inform me about security vulnerabilities if they arise","auth.setup.next":"Next","auth.setup.settingUpOwnerError":"Problem setting up owner","auth.setup.setupOwner":"Set up owner account","auth.signin":"Sign in","auth.signin.error":"Problem logging in","auth.signout":"Sign out","auth.signout.error":"Could not sign out","auth.signup.finishAccountSetup":"Finish account setup","auth.signup.missingTokenError":"Missing token","auth.signup.setupYourAccount":"Set up your account","auth.signup.setupYourAccountError":"Problem setting up your account","auth.signup.tokenValidationError":"Issue validating invite token","banners.nonProductionLicense.message":"This n8n instance is not licensed for production purposes!","banners.trial.message":"1 day left in your n8n trial | {count} days left in your n8n trial","banners.trialOver.message":"Your trial is over. Upgrade now to keep automating.","banners.v1.message":'n8n has been updated to version 1, introducing some breaking changes. Please consult the <a target="_blank" href="https://docs.n8n.io/1-0-migration-checklist">migration guide</a> for more information.',"binaryDataDisplay.backToList":"Back to list","binaryDataDisplay.backToOverviewPage":"Back to overview page","binaryDataDisplay.noDataFoundToDisplay":"No data found to display","binaryDataDisplay.yourBrowserDoesNotSupport":"Your browser does not support the video element. Kindly update it to latest version.","codeEdit.edit":"Edit","codeNodeEditor.askAi":"✨ Ask AI","codeNodeEditor.completer.$()":"Output data of the {nodeName} node","codeNodeEditor.completer.$execution":"Information about the current execution","codeNodeEditor.completer.$execution.id":"The ID of the current execution","codeNodeEditor.completer.$execution.mode":"How the execution was triggered: 'test' or 'production'","codeNodeEditor.completer.$execution.resumeUrl":"Used when using the 'wait' node to wait for a webhook. The webhook to call to resume execution","codeNodeEditor.completer.$execution.customData.set()":'Set custom data for the current execution. <a href="https://docs.n8n.io/workflows/executions/custom-executions-data/" target="_blank">Learn More</a>',"codeNodeEditor.completer.$execution.customData.get()":'Get custom data set in the current execution. <a href="https://docs.n8n.io/workflows/executions/custom-executions-data/" target="_blank">Learn More</a>',"codeNodeEditor.completer.$execution.customData.setAll()":'Set multiple custom data key/value pairs with an object for the current execution. <a href="https://docs.n8n.io/workflows/executions/custom-executions-data/" target="_blank">Learn More</a>',"codeNodeEditor.completer.$execution.customData.getAll()":'Get all custom data for the current execution. <a href="https://docs.n8n.io/workflows/executions/custom-executions-data/" target="_blank">Learn More</a>',"codeNodeEditor.completer.$input":"This node’s input data","codeNodeEditor.completer.$input.all":"@:_reusableBaseText.codeNodeEditor.completer.all","codeNodeEditor.completer.$input.first":"@:_reusableBaseText.codeNodeEditor.completer.first","codeNodeEditor.completer.$input.item":"The item that generated the current one","codeNodeEditor.completer.$input.itemMatching":"@:_reusableBaseText.codeNodeEditor.completer.itemMatching","codeNodeEditor.completer.$input.last":"@:_reusableBaseText.codeNodeEditor.completer.last","codeNodeEditor.completer.$itemIndex":"The position of the current item in the list of items","codeNodeEditor.completer.$jmespath":"Evaluate a JMESPath expression","codeNodeEditor.completer.$if":"Function that takes a condition and returns a value based on whether it's true or false.","codeNodeEditor.completer.$max":"Returns the largest of the numbers given as input parameters, or -Infinity if there are no parameters.","codeNodeEditor.completer.$min":"Returns the smallest of the numbers given as input parameters, or Infinity if there are no parameters.","codeNodeEditor.completer.$now":"The current timestamp (as a Luxon object)","codeNodeEditor.completer.$parameter":"The parameters of the current node","codeNodeEditor.completer.$prevNode":"The node providing the input data for this run","codeNodeEditor.completer.$prevNode.name":"The name of the node providing the input data for this run","codeNodeEditor.completer.$prevNode.outputIndex":"The output connector of the node providing input data for this run","codeNodeEditor.completer.$prevNode.runIndex":"The run of the node providing input data to the current one","codeNodeEditor.completer.$runIndex":"The index of the current run of this node","codeNodeEditor.completer.$today":"A timestamp representing the current day (at midnight, as a Luxon object)","codeNodeEditor.completer.$vars":"The variables defined in your instance","codeNodeEditor.completer.$vars.varName":"Variable set on this n8n instance. All variables evaluate to strings.","codeNodeEditor.completer.$workflow":"Information about the workflow","codeNodeEditor.completer.$workflow.active":"Whether the workflow is active or not (boolean)","codeNodeEditor.completer.$workflow.id":"The ID of the workflow","codeNodeEditor.completer.$workflow.name":"The name of the workflow","codeNodeEditor.completer.binary":"The item's binary (file) data","codeNodeEditor.completer.globalObject.assign":"Copy of the object containing all enumerable own properties","codeNodeEditor.completer.globalObject.entries":"The object's keys and values","codeNodeEditor.completer.globalObject.keys":"The object's keys","codeNodeEditor.completer.globalObject.values":"The object's values","codeNodeEditor.completer.json":"The item's JSON data. When in doubt, use this","codeNodeEditor.completer.luxon.dateTimeStaticMethods.expandFormat":"Produce the the fully expanded format token for the locale Does NOT quote characters, so quoted tokens will not round trip correctly.","codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromFormat":"Create a DateTime from an input string and format string.","codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromFormatExplain":"Explain how a string would be parsed by fromFormat().","codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromHTTP":"Create a DateTime from an HTTP header date","codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromISO":"Create a DateTime from an ISO 8601 string","codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromJSDate":"Create a DateTime from a JavaScript Date object. Uses the default zone","codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromMillis":"Create a DateTime from a number of milliseconds since the epoch (meaning since 1 January 1970 00:00:00 UTC). Uses the default zone","codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromObject":"Create a DateTime from a JavaScript object with keys like 'year' and 'hour' with reasonable defaults","codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromRFC2822":"Create a DateTime from an RFC 2822 string","codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromString":"Deprecated: use `fromFormat` instead.","codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromStringExplain":"Deprecated: use `fromFormatExplain` instead.","codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromSQL":"Create a DateTime from a SQL date, time, or datetime","codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromSeconds":"Create a DateTime from a number of seconds since the epoch (meaning since 1 January 1970 00:00:00 UTC). Uses the default zone","codeNodeEditor.completer.luxon.dateTimeStaticMethods.invalid":"Create an invalid DateTime.","codeNodeEditor.completer.luxon.dateTimeStaticMethods.isDateTime":"Check if an object is a DateTime. Works across context boundaries","codeNodeEditor.completer.luxon.dateTimeStaticMethods.local":"Create a local DateTime","codeNodeEditor.completer.luxon.dateTimeStaticMethods.max":"Return the max of several date times.","codeNodeEditor.completer.luxon.dateTimeStaticMethods.min":"Return the min of several date times.","codeNodeEditor.completer.luxon.dateTimeStaticMethods.now":"Create a DateTime for the current instant, in the system's time zone","codeNodeEditor.completer.luxon.dateTimeStaticMethods.parseFormatForOpts":"Produce the the fully expanded format token for the locale Does NOT quote characters, so quoted tokens will not round trip correctly.","codeNodeEditor.completer.luxon.dateTimeStaticMethods.utc":"Create a DateTime in UTC","codeNodeEditor.completer.luxon.instanceMethods.day":"Get the day of the month (1-30ish).","codeNodeEditor.completer.luxon.instanceMethods.daysInMonth":"Returns the number of days in this DateTime's month.","codeNodeEditor.completer.luxon.instanceMethods.daysInYear":"Returns the number of days in this DateTime's year.","codeNodeEditor.completer.luxon.instanceMethods.diff":"Return the difference between two DateTimes as a Duration.","codeNodeEditor.completer.luxon.instanceMethods.diffNow":"Return the difference between this DateTime and right now.","codeNodeEditor.completer.luxon.instanceMethods.endOf":"Set this DateTime to the end (meaning the last millisecond) of a unit of time.","codeNodeEditor.completer.luxon.instanceMethods.equals":"Equality check.","codeNodeEditor.completer.luxon.instanceMethods.hasSame":"Return whether this DateTime is in the same unit of time as another DateTime.","codeNodeEditor.completer.luxon.instanceMethods.hour":"Get the hour of the day (0-23).","codeNodeEditor.completer.luxon.instanceMethods.invalidExplanation":"Returns an explanation of why this DateTime became invalid, or null if the DateTime is valid.","codeNodeEditor.completer.luxon.instanceMethods.invalidReason":"Returns an error code if this DateTime is invalid, or null if the DateTime is valid.","codeNodeEditor.completer.luxon.instanceMethods.isInDST":"Get whether the DateTime is in a DST.","codeNodeEditor.completer.luxon.instanceMethods.isInLeapYear":"Returns true if this DateTime is in a leap year, false otherwise.","codeNodeEditor.completer.luxon.instanceMethods.isOffsetFixed":"Get whether this zone's offset ever changes, as in a DST.","codeNodeEditor.completer.luxon.instanceMethods.isValid":"Returns whether the DateTime is valid. Invalid DateTimes occur when The DateTime was created from invalid calendar information, such as the 13th month or February 30. The DateTime was created by an operation on another invalid date.","codeNodeEditor.completer.luxon.instanceMethods.locale":"Get the locale of a DateTime, such 'en-GB'. The locale is used when formatting the DateTime.","codeNodeEditor.completer.luxon.instanceMethods.max":"Return the max of several date times.","codeNodeEditor.completer.luxon.instanceMethods.millisecond":"Get the millisecond of the second (0-999).","codeNodeEditor.completer.luxon.instanceMethods.min":"Return the min of several date times","codeNodeEditor.completer.luxon.instanceMethods.minus":"Subtract hours, minutes, seconds, or milliseconds increases the timestamp by the right number of milliseconds.","codeNodeEditor.completer.luxon.instanceMethods.minute":"Get the minute of the hour (0-59).","codeNodeEditor.completer.luxon.instanceMethods.month":"Get the month (1-12).","codeNodeEditor.completer.luxon.instanceMethods.monthLong":"Get the human readable long month name, such as 'October'.","codeNodeEditor.completer.luxon.instanceMethods.monthShort":"Get the human readable short month name, such as 'Oct'.","codeNodeEditor.completer.luxon.instanceMethods.numberingSystem":"Get the numbering system of a DateTime, such 'beng'. The numbering system is used when formatting the DateTime.","codeNodeEditor.completer.luxon.instanceMethods.offset":"Get the UTC offset of this DateTime in minutes","codeNodeEditor.completer.luxon.instanceMethods.offsetNameLong":`Get the long human name for the zone's current offset, for example "Eastern Standard Time" or "Eastern Daylight Time".`,"codeNodeEditor.completer.luxon.instanceMethods.offsetNameShort":`Get the short human name for the zone's current offset, for example "EST" or "EDT".'`,"codeNodeEditor.completer.luxon.instanceMethods.offsetNumber":`Get the short human name for the zone's current offset, for example "EST" or "EDT".'`,"codeNodeEditor.completer.luxon.instanceMethods.ordinal":"Get the ordinal (meaning the day of the year).","codeNodeEditor.completer.luxon.instanceMethods.outputCalendar":"Get the output calendar of a DateTime, such 'islamic'. The output calendar is used when formatting the DateTime.","codeNodeEditor.completer.luxon.instanceMethods.plus":"Add hours, minutes, seconds, or milliseconds increases the timestamp by the right number of milliseconds.","codeNodeEditor.completer.luxon.instanceMethods.quarter":"Get the quarter.","codeNodeEditor.completer.luxon.instanceMethods.reconfigure":"'Set' the locale, numberingSystem, or outputCalendar. Returns a newly-constructed DateTime.","codeNodeEditor.completer.luxon.instanceMethods.resolvedLocaleOptions":"Returns the resolved Intl options for this DateTime. This is useful in understanding the behavior of formatting methods.","codeNodeEditor.completer.luxon.instanceMethods.second":"Get the second of the minute (0-59).","codeNodeEditor.completer.luxon.instanceMethods.set":"Set the values of specified units. Returns a newly-constructed DateTime.","codeNodeEditor.completer.luxon.instanceMethods.setLocale":"Set the locale. Returns a newly-constructed DateTime.","codeNodeEditor.completer.luxon.instanceMethods.setZone":"Set the DateTime's zone to specified zone. Returns a newly-constructed DateTime.","codeNodeEditor.completer.luxon.instanceMethods.startOf":"Set this DateTime to the beginning of a unit of time.","codeNodeEditor.completer.luxon.instanceMethods.toBSON":"Returns a BSON serializable equivalent to this DateTime.","codeNodeEditor.completer.luxon.instanceMethods.toFormat":"Returns a string representation of this DateTime formatted according to the specified format string.","codeNodeEditor.completer.luxon.instanceMethods.toHTTP":"Returns a string representation of this DateTime appropriate for use in HTTP headers.","codeNodeEditor.completer.luxon.instanceMethods.toISO":"Returns an ISO 8601-compliant string representation of this DateTime.","codeNodeEditor.completer.luxon.instanceMethods.toISODate":"Returns an ISO 8601-compliant string representation of this DateTime's date component.","codeNodeEditor.completer.luxon.instanceMethods.toISOTime":"Returns an ISO 8601-compliant string representation of this DateTime's time component.","codeNodeEditor.completer.luxon.instanceMethods.toISOWeekDate":"Returns an ISO 8601-compliant string representation of this DateTime's week date.","codeNodeEditor.completer.luxon.instanceMethods.toJSON":"Returns an ISO 8601 representation of this DateTime appropriate for use in JSON.","codeNodeEditor.completer.luxon.instanceMethods.toJsDate":"Returns a JavaScript Date equivalent to this DateTime.","codeNodeEditor.completer.luxon.instanceMethods.toLocal":"Set the DateTime's zone to the host's local zone. Returns a newly-constructed DateTime.","codeNodeEditor.completer.luxon.instanceMethods.toLocaleParts":'Returns an array of format "parts", meaning individual tokens along with metadata.',"codeNodeEditor.completer.luxon.instanceMethods.toLocaleString":"Returns a localized string representing this date. Accepts the same options as the Intl.DateTimeFormat constructor and any presets defined by Luxon.","codeNodeEditor.completer.luxon.instanceMethods.toMillis":"Returns the epoch milliseconds of this DateTime.","codeNodeEditor.completer.luxon.instanceMethods.toObject":"Returns a JavaScript object with this DateTime's year, month, day, and so on.","codeNodeEditor.completer.luxon.instanceMethods.toRFC2822":"Returns an RFC 2822-compatible string representation of this DateTime, always in UTC.","codeNodeEditor.completer.luxon.instanceMethods.toRelative":"Returns a string representation of a this time relative to now, such as 'in two days'.","codeNodeEditor.completer.luxon.instanceMethods.toRelativeCalendar":`Returns a string representation of this date relative to today, such as '"'yesterday' or 'next month'.`,"codeNodeEditor.completer.luxon.instanceMethods.toSQL":"Returns a string representation of this DateTime appropriate for use in SQL DateTime.","codeNodeEditor.completer.luxon.instanceMethods.toSQLDate":"Returns a string representation of this DateTime appropriate for use in SQL Date.","codeNodeEditor.completer.luxon.instanceMethods.toSQLTime":"Returns a string representation of this DateTime appropriate for use in SQL Time.","codeNodeEditor.completer.luxon.instanceMethods.toSeconds":"Returns the epoch seconds of this DateTime.","codeNodeEditor.completer.luxon.instanceMethods.toString":"Returns a string representation of this DateTime appropriate for debugging.","codeNodeEditor.completer.luxon.instanceMethods.toUTC":"Set the DateTime's zone to UTC. Returns a newly-constructed DateTime.","codeNodeEditor.completer.luxon.instanceMethods.toUnixInteger":"Returns the epoch seconds (as a whole number) of this DateTime.","codeNodeEditor.completer.luxon.instanceMethods.until":"Return an Interval spanning between this DateTime and another DateTime.","codeNodeEditor.completer.luxon.instanceMethods.valueOf":"Returns the epoch milliseconds of this DateTime.","codeNodeEditor.completer.luxon.instanceMethods.weekNumber":"Get the week number of the week year (1-52ish).","codeNodeEditor.completer.luxon.instanceMethods.weekYear":"Get the week year.","codeNodeEditor.completer.luxon.instanceMethods.weekday":"Get the day of the week. 1 is Monday and 7 is Sunday.","codeNodeEditor.completer.luxon.instanceMethods.weekdayLong":"Get the human readable long weekday, such as 'Monday'.","codeNodeEditor.completer.luxon.instanceMethods.weekdayShort":"Get the human readable short weekday, such as 'Mon'.","codeNodeEditor.completer.luxon.instanceMethods.weeksInWeekYear":"Returns the number of weeks in this DateTime's year.","codeNodeEditor.completer.luxon.instanceMethods.year":"Get the year.","codeNodeEditor.completer.luxon.instanceMethods.zone":"Get the time zone associated with this DateTime.","codeNodeEditor.completer.luxon.instanceMethods.zoneName":"Get the name of the time zone.","codeNodeEditor.completer.selector.all":"@:_reusableBaseText.codeNodeEditor.completer.all","codeNodeEditor.completer.selector.context":"Extra data about the node","codeNodeEditor.completer.selector.first":"@:_reusableBaseText.codeNodeEditor.completer.first","codeNodeEditor.completer.selector.item":"The item that generated the current one","codeNodeEditor.completer.selector.itemMatching":"@:_reusableBaseText.codeNodeEditor.completer.itemMatching","codeNodeEditor.completer.selector.last":"@:_reusableBaseText.codeNodeEditor.completer.last","codeNodeEditor.completer.selector.params":"The parameters of the node","codeNodeEditor.linter.allItems.firstOrLastCalledWithArg":"expects no argument.","codeNodeEditor.linter.allItems.emptyReturn":"Code doesn't return items properly. Please return an array of objects, one for each item you would like to output.","codeNodeEditor.linter.allItems.itemCall":"`item` is a property to access, not a method to call. Did you mean `.item` without brackets?","codeNodeEditor.linter.allItems.itemMatchingNoArg":"`.itemMatching()` expects an item index to be passed in as its argument.","codeNodeEditor.linter.allItems.unavailableItem":"Legacy `item` is only available in the 'Run Once for Each Item' mode.","codeNodeEditor.linter.allItems.unavailableProperty":"`.item` is only available in the 'Run Once for Each Item' mode.","codeNodeEditor.linter.allItems.unavailableVar":"is only available in the 'Run Once for Each Item' mode.","codeNodeEditor.linter.bothModes.directAccess.firstOrLastCall":"@:_reusableBaseText.codeNodeEditor.linter.useJson","codeNodeEditor.linter.bothModes.directAccess.itemProperty":"@:_reusableBaseText.codeNodeEditor.linter.useJson","codeNodeEditor.linter.bothModes.varDeclaration.itemProperty":"@:_reusableBaseText.codeNodeEditor.linter.useJson","codeNodeEditor.linter.bothModes.varDeclaration.itemSubproperty":"@:_reusableBaseText.codeNodeEditor.linter.useJson","codeNodeEditor.linter.eachItem.emptyReturn":"Code doesn't return an object. Please return an object representing the output item","codeNodeEditor.linter.eachItem.legacyItemAccess":"`item` is a legacy var. Consider using `$input.item`","codeNodeEditor.linter.eachItem.returnArray":"Code doesn't return an object. Array found instead. Please return an object representing the output item","codeNodeEditor.linter.eachItem.unavailableItems":"Legacy `items` is only available in the 'Run Once for All Items' mode.","codeNodeEditor.linter.eachItem.unavailableMethod":"Method `$input.{method}()` is only available in the 'Run Once for All Items' mode.","codeNodeEditor.linter.bothModes.syntaxError":"Syntax error","codeNodeEditor.askAi.placeholder":"Tell AI what you want the code to achieve. You can reference input data fields using dot notation (e.g. user.email)","codeNodeEditor.askAi.intro":"Hey AI, generate JavaScript code that...","codeNodeEditor.askAi.help":"Help","codeNodeEditor.askAi.generateCode":"Generate Code","codeNodeEditor.askAi.noInputData":"You can generate code once this node has incoming input data (from a node earlier in your workflow)","codeNodeEditor.askAi.sureLeaveTab":"Are you sure you want to switch tab? The code generation will stop","codeNodeEditor.askAi.areYouSure":"Are you sure?","codeNodeEditor.askAi.switchTab":"Switch Tab","codeNodeEditor.askAi.noPrompt":"First enter a prompt above before generating code","codeNodeEditor.askAi.onlyAllItemsMode":"Ask AI generation works only in 'Run Once for All Items' mode","codeNodeEditor.askAi.promptTooShort":"Enter a minimum of {minLength} characters before attempting to generate code","codeNodeEditor.askAi.generateCodeAndReplace":"Generate and Replace Code","codeNodeEditor.askAi.replaceCurrentCode":"Replace current code?","codeNodeEditor.askAi.areYouSureToReplace":"Are you sure you want to generate new code? Your current code will be replaced.","codeNodeEditor.askAi.loadingPhrase0":"AI cogs whirring, almost there…","codeNodeEditor.askAi.loadingPhrase1":"up up down down left right b a start…","codeNodeEditor.askAi.loadingPhrase2":"Consulting Jan Oberhauser…","codeNodeEditor.askAi.loadingPhrase3":"Gathering bytes and pieces…","codeNodeEditor.askAi.loadingPhrase4":"Checking if another AI knows the answer…","codeNodeEditor.askAi.loadingPhrase5":"Checking on Stack Overflow…","codeNodeEditor.askAi.loadingPhrase6":"Crunching data, AI-style…","codeNodeEditor.askAi.loadingPhrase7":"Stand by, AI magic at work…","codeNodeEditor.askAi.generationCompleted":"✨ Code generation completed","codeNodeEditor.askAi.generationFailed":"Code generation failed","codeNodeEditor.askAi.generationFailedUnknown":"Code generation failed due to an unknown reason. Try again in a few minutes.","codeNodeEditor.askAi.generationFailedDown":"We're sorry, our AI service is currently unavailable. Please try again later. If the problem persists, contact support.","codeNodeEditor.askAi.generationFailedRate":"We've hit our rate limit with our AI partner (too many requests). Please wait a minute before trying again.","codeNodeEditor.askAi.generationFailedTooLarge":"Your workflow data is too large for AI to process. Simplify the data being sent into the Code node and retry.","codeNodeEditor.tabs.askAi":"✨ Ask AI","codeNodeEditor.tabs.code":"Code","collectionParameter.choose":"Choose...","collectionParameter.noProperties":"No properties","credentialEdit.credentialConfig.accountConnected":"Account connected","credentialEdit.credentialConfig.clickToCopy":"Click To Copy","credentialEdit.credentialConfig.connectionTestedSuccessfully":"Connection tested successfully","credentialEdit.credentialConfig.couldntConnectWithTheseSettings":"Couldn’t connect with these settings","credentialEdit.credentialConfig.couldntConnectWithTheseSettings.sharee":"Problem with connection settings. {owner} may be able to fix this","credentialEdit.credentialConfig.needHelpFillingOutTheseFields":"Need help filling out these fields?","credentialEdit.credentialConfig.oAuthRedirectUrl":"OAuth Redirect URL","credentialEdit.credentialConfig.openDocs":"Open docs","credentialEdit.credentialConfig.pleaseCheckTheErrorsBelow":"Please check the errors below","credentialEdit.credentialConfig.pleaseCheckTheErrorsBelow.sharee":"Problem with connection settings. {owner} may be able to fix this","credentialEdit.credentialConfig.reconnect":"Reconnect","credentialEdit.credentialConfig.reconnectOAuth2Credential":"Reconnect OAuth2 Credential","credentialEdit.credentialConfig.redirectUrlCopiedToClipboard":"Redirect URL copied to clipboard","credentialEdit.credentialConfig.retry":"Retry","credentialEdit.credentialConfig.retryCredentialTest":"Retry credential test","credentialEdit.credentialConfig.retrying":"Retrying","credentialEdit.credentialConfig.subtitle":"In {appName}, use the URL above when prompted to enter an OAuth callback or redirect URL","credentialEdit.credentialConfig.theServiceYouReConnectingTo":"the service you're connecting to","credentialEdit.credentialConfig.missingCredentialType":"This credential's type isn't available. This usually happens when a previously installed community or custom node was uninstalled.","credentialEdit.credentialConfig.authTypeSelectorLabel":"Connect using","credentialEdit.credentialConfig.authTypeSelectorTooltip":"The authentication method to use for the connection","credentialEdit.credentialConfig.recommendedAuthTypeSuffix":"(recommended)","credentialEdit.credentialEdit.confirmMessage.beforeClose1.cancelButtonText":"Close","credentialEdit.credentialEdit.confirmMessage.beforeClose1.confirmButtonText":"Keep Editing","credentialEdit.credentialEdit.confirmMessage.beforeClose1.headline":"Close without saving?","credentialEdit.credentialEdit.confirmMessage.beforeClose1.message":"Are you sure you want to throw away the changes you made to the {credentialDisplayName} credential?","credentialEdit.credentialEdit.confirmMessage.beforeClose2.cancelButtonText":"Close","credentialEdit.credentialEdit.confirmMessage.beforeClose2.confirmButtonText":"Keep Editing","credentialEdit.credentialEdit.confirmMessage.beforeClose2.headline":"Close without connecting?","credentialEdit.credentialEdit.confirmMessage.beforeClose2.message":"You need to connect your credential for it to work","credentialEdit.credentialEdit.confirmMessage.deleteCredential.cancelButtonText":"","credentialEdit.credentialEdit.confirmMessage.deleteCredential.confirmButtonText":"Yes, delete","credentialEdit.credentialEdit.confirmMessage.deleteCredential.headline":"Delete Credential?","credentialEdit.credentialEdit.confirmMessage.deleteCredential.message":'Are you sure you want to delete "{savedCredentialName}"? This may break any workflows that use it.',"credentialEdit.credentialEdit.connection":"Connection","credentialEdit.credentialEdit.sharing":"Sharing","credentialEdit.credentialEdit.couldNotFindCredentialOfType":"Could not find credential of type","credentialEdit.credentialEdit.couldNotFindCredentialWithId":"Could not find credential with ID","credentialEdit.credentialEdit.delete":"Delete","credentialEdit.credentialEdit.details":"Details","credentialEdit.credentialEdit.saving":"Saving","credentialEdit.credentialEdit.showError.createCredential.title":"Problem creating credential","credentialEdit.credentialEdit.showError.deleteCredential.title":"Problem deleting credential","credentialEdit.credentialEdit.showError.generateAuthorizationUrl.message":"There was a problem generating the authorization URL","credentialEdit.credentialEdit.showError.generateAuthorizationUrl.title":"OAuth Authorization Error","credentialEdit.credentialEdit.showError.loadCredential.title":"Problem loading credential","credentialEdit.credentialEdit.showError.updateCredential.title":"Problem updating credential","credentialEdit.credentialEdit.showMessage.title":"Credential deleted","credentialEdit.credentialEdit.testing":"Testing","credentialEdit.credentialEdit.info.sharee":"Only {credentialOwnerName} can edit this connection","credentialEdit.credentialInfo.allowUseBy":"Allow use by","credentialEdit.credentialInfo.created":"Created","credentialEdit.credentialInfo.id":"ID","credentialEdit.credentialInfo.lastModified":"Last modified","credentialEdit.oAuthButton.connectMyAccount":"Connect my account","credentialEdit.oAuthButton.signInWithGoogle":"Sign in with Google","credentialEdit.credentialSharing.info.owner":"Sharing a credential allows people to use it in their workflows. They cannot access credential details.","credentialEdit.credentialSharing.info.instanceOwner":"You can view this credential because you are the instance owner (and rename or delete it too). To use it in a workflow, ask the credential owner to share it with you.","credentialEdit.credentialSharing.info.sharee":"Only {credentialOwnerName} can change who this credential is shared with","credentialEdit.credentialSharing.info.sharee.fallback":"the owner","credentialEdit.credentialSharing.select.placeholder":"Add users...","credentialEdit.credentialSharing.list.delete":"Remove","credentialEdit.credentialSharing.list.delete.confirm.title":"Remove access?","credentialEdit.credentialSharing.list.delete.confirm.message":"This may break any workflows in which {name} has used this credential","credentialEdit.credentialSharing.list.delete.confirm.confirmButtonText":"Remove","credentialEdit.credentialSharing.list.delete.confirm.cancelButtonText":"Cancel","credentialEdit.credentialSharing.isDefaultUser.title":"Sharing","credentialEdit.credentialSharing.isDefaultUser.description":"You first need to set up your owner account to enable credential sharing features.","credentialEdit.credentialSharing.isDefaultUser.button":"Go to settings","credentialSelectModal.addNewCredential":"Add new credential","credentialSelectModal.continue":"Continue","credentialSelectModal.searchForApp":"Search for app...","credentialSelectModal.selectAnAppOrServiceToConnectTo":"Select an app or service to connect to","credentialsList.addNew":"Add New","credentialsList.confirmMessage.cancelButtonText":"","credentialsList.confirmMessage.confirmButtonText":"Yes, delete","credentialsList.confirmMessage.headline":"Delete Credential?","credentialsList.confirmMessage.message":"Are you sure you want to delete {credentialName}?","credentialsList.createNewCredential":"Create New Credential","credentialsList.created":"Created","credentialsList.credentials":"Credentials","credentialsList.deleteCredential":"Delete Credential","credentialsList.editCredential":"Edit Credential","credentialsList.errorLoadingCredentials":"Error loading credentials","credentialsList.name":"@:_reusableBaseText.name","credentialsList.operations":"Operations","credentialsList.showError.deleteCredential.title":"Problem deleting credential","credentialsList.showMessage.title":"Credential deleted","credentialsList.type":"Type","credentialsList.updated":"Updated","credentialsList.yourSavedCredentials":"Your saved credentials","credentials.heading":"Credentials","credentials.add":"Add Credential","credentials.empty.heading":"{name}, let's set up a credential","credentials.empty.heading.userNotSetup":"Set up a credential","credentials.empty.description":"Credentials let workflows interact with your apps and services","credentials.empty.button":"Add first credential","credentials.menu.my":"My credentials","credentials.menu.all":"All credentials","credentials.item.open":"Open","credentials.item.delete":"Delete","credentials.item.updated":"Last updated","credentials.item.created":"Created","credentials.item.owner":"Owner","credentials.search.placeholder":"Search credentials...","credentials.filters.type":"Type","credentials.filters.active":"Some credentials may be hidden since filters are applied.","credentials.filters.active.reset":"Remove filters","credentials.sort.lastUpdated":"Sort by last updated","credentials.sort.lastCreated":"Sort by last created","credentials.sort.nameAsc":"Sort by name (A-Z)","credentials.sort.nameDesc":"Sort by name (Z-A)","credentials.noResults":"No credentials found","credentials.noResults.withSearch.switchToShared.preamble":"some credentials may be","credentials.noResults.withSearch.switchToShared.link":"hidden","credentials.noResults.switchToShared.preamble":"but there are some","credentials.noResults.switchToShared.link":"shared with you","dataDisplay.needHelp":"Need help?","dataDisplay.nodeDocumentation":"Node Documentation","dataDisplay.openDocumentationFor":"Open {nodeTypeDisplayName} documentation","dataMapping.dragColumnToFieldHint":"Drag onto a field to map column to that field","dataMapping.dragFromPreviousHint":"Map data from previous nodes to <b>{name}</b> by first clicking this button","dataMapping.success.title":"You just mapped some data!","dataMapping.success.moreInfo":'Check out our <a href="https://docs.n8n.io/data/data-mapping" target="_blank">docs</a> for more details on mapping data in n8n',"dataMapping.tableHint":"<img src='/static/data-mapping-gif.gif'/><br/> Drag a column onto <b>{name}</b> to map it","dataMapping.jsonHint":"<img src='/static/json-mapping-gif.gif'/><br/> Drag a JSON key onto <b>{name}</b> to map data","dataMapping.schemaHint":"<img src='/static/schema-mapping-gif.gif'/><br/> Drag a datapill onto <b>{name}</b> to map data","dataMapping.tableView.tableColumnsExceeded":"Some columns are hidden","dataMapping.tableView.tableColumnsExceeded.tooltip":"Your data has more than {columnLimit} columns so some are hidden. Switch to {link} to see all data.","dataMapping.tableView.tableColumnsExceeded.tooltip.link":"JSON view","dataMapping.schemaView.emptyData":"No data to show - item(s) exist, but they’re empty","displayWithChange.cancelEdit":"Cancel Edit","displayWithChange.clickToChange":"Click to Change","displayWithChange.setValue":"Set Value","duplicateWorkflowDialog.cancel":"@:_reusableBaseText.cancel","duplicateWorkflowDialog.chooseOrCreateATag":"Choose or create a tag","duplicateWorkflowDialog.duplicateWorkflow":"Duplicate Workflow","duplicateWorkflowDialog.enterWorkflowName":"Enter workflow name","duplicateWorkflowDialog.save":"Duplicate","duplicateWorkflowDialog.errors.missingName.title":"Name missing","duplicateWorkflowDialog.errors.missingName.message":"Please enter a name.","duplicateWorkflowDialog.errors.forbidden.title":"Duplicate workflow failed","duplicateWorkflowDialog.errors.forbidden.message":"This action is forbidden. Do you have the correct permissions?","duplicateWorkflowDialog.errors.generic.title":"Duplicate workflow failed",error:VT,"error.goBack":"Go back","error.pageNotFound":"Oops, couldn’t find that","executions.ExecutionStatus":"Execution status","executionDetails.confirmMessage.confirmButtonText":"Yes, delete","executionDetails.confirmMessage.headline":"Delete Execution?","executionDetails.confirmMessage.message":"Are you sure that you want to delete the current execution?","executionDetails.deleteExecution":"Delete this execution","executionDetails.executionFailed":"Execution failed","executionDetails.executionFailed.recoveredNodeTitle":"Can’t show data","executionDetails.executionFailed.recoveredNodeMessage":"The execution was interrupted, so the data was not saved. Try fixing the workflow and re-executing.","executionDetails.executionId":"Execution ID","executionDetails.executionWaiting":"Execution waiting","executionDetails.executionWasSuccessful":"Execution was successful","executionDetails.of":"of","executionDetails.openWorkflow":"Open Workflow","executionDetails.readOnly.readOnly":"Read only","executionDetails.readOnly.youreViewingTheLogOf":`You're viewing the log of a previous execution. You cannot<br />
		make changes since this execution already occurred. Make changes<br />
		to this workflow by clicking on its name on the left.`,"executionDetails.retry":"Retry of execution","executionDetails.runningTimeFinished":"in {time}","executionDetails.runningTimeRunning":"for","executionDetails.runningMessage":"Execution is running. It will show here once finished.","executionDetails.workflow":"workflow","executionsLandingPage.emptyState.noTrigger.heading":"Set up the first step. Then execute your workflow","executionsLandingPage.emptyState.noTrigger.buttonText":"Add first step...","executionsLandingPage.clickExecutionMessage":"Click on an execution from the list to view it","executionsLandingPage.emptyState.heading":"Nothing here yet","executionsLandingPage.emptyState.message":"New workflow executions will show here","executionsLandingPage.emptyState.accordion.title":"Which executions is this workflow saving?","executionsLandingPage.emptyState.accordion.titleWarning":"Some executions won’t be saved","executionsLandingPage.emptyState.accordion.productionExecutions":"Production executions","executionsLandingPage.emptyState.accordion.testExecutions":"Test executions","executionsLandingPage.emptyState.accordion.productionExecutionsWarningTooltip":`Not all production executions are being saved. Change this in the workflow's <a href="#">settings</a>`,"executionsLandingPage.emptyState.accordion.footer":"You can change this in","executionsLandingPage.emptyState.accordion.footer.settingsLink":"Workflow settings","executionsLandingPage.emptyState.accordion.footer.tooltipLink":"Save your workflow","executionsLandingPage.emptyState.accordion.footer.tooltipText":"in order to access workflow settings","executionsLandingPage.noResults":"No executions found","executionsList.allWorkflows":"All Workflows","executionsList.anyStatus":"Any Status","executionsList.autoRefresh":"Auto refresh","executionsList.canceled":"Canceled","executionsList.confirmMessage.cancelButtonText":"","executionsList.confirmMessage.confirmButtonText":"Yes, delete","executionsList.confirmMessage.headline":"Delete Executions?","executionsList.confirmMessage.message":"Are you sure that you want to delete the {numSelected} selected execution(s)?","executionsList.clearSelection":"Clear selection","executionsList.error":"Failed","executionsList.filters":"Filters","executionsList.loadMore":"Load More","executionsList.empty":"No executions","executionsList.loadedAll":"No more executions to fetch","executionsList.modes.error":"error","executionsList.modes.integrated":"integrated","executionsList.modes.manual":"manual","executionsList.modes.retry":"retry","executionsList.modes.trigger":"trigger","executionsList.modes.webhook":"webhook","executionsList.name":"@:_reusableBaseText.name","executionsList.openPastExecution":"Open Past Execution","executionsList.retryExecution":"Retry execution","executionsList.retryOf":"Retry of","executionsList.retryWithCurrentlySavedWorkflow":"Retry with currently saved workflow (from node with error)","executionsList.retryWithOriginalWorkflow":"Retry with original workflow (from node with error)","executionsList.running":"Running","executionsList.succeeded":"Succeeded","executionsList.selectStatus":"Select Status","executionsList.selectWorkflow":"Select Workflow","executionsList.selected":"{numSelected} execution selected:","executionsList.selectAll":"Select {executionNum} finished execution | Select all {executionNum} finished executions","executionsList.test":"Test execution","executionsList.showError.handleDeleteSelected.title":"Problem deleting executions","executionsList.showError.loadMore.title":"Problem loading executions","executionsList.showError.loadWorkflows.title":"Problem loading workflows","executionsList.showError.refreshData.title":"Problem loading data","executionsList.showError.retryExecution.title":"Problem with retry","executionsList.showError.stopExecution.title":"Problem stopping execution","executionsList.showMessage.handleDeleteSelected.title":"Execution deleted","executionsList.showMessage.retrySuccessfulFalse.title":"Retry unsuccessful","executionsList.showMessage.retrySuccessfulTrue.title":"Retry successful","executionsList.showMessage.stopExecution.message":"Execution ID {activeExecutionId}","executionsList.showMessage.stopExecution.title":"Execution stopped","executionsList.startedAt":"Started At","executionsList.started":"{date} at {time}","executionsList.id":"Execution ID","executionsList.status":"Status","executionsList.statusCanceled":"Canceled","executionsList.statusText":"{status} in {time}","executionsList.statusTextWithoutTime":"{status}","executionsList.statusRunning":"{status} for {time}","executionsList.statusWaiting":"{status} until {time}","executionsList.statusUnknown":"Could not complete","executionsList.stopExecution":"Stop Execution","executionsList.success":"Success","executionsList.successRetry":"Success retry","executionsList.unknown":"Could not complete","executionsList.unsavedWorkflow":"[UNSAVED WORKFLOW]","executionsList.waiting":"Waiting","executionsList.workflowExecutions":"Executions","executionsList.view":"View","executionsList.stop":"Stop","executionsList.statusTooltipText.theWorkflowIsWaitingIndefinitely":"The workflow is waiting indefinitely for an incoming webhook call.","executionSidebar.executionName":"Execution {id}","executionSidebar.searchPlaceholder":"Search executions...","executionView.onPaste.title":"Cannot paste here","executionView.onPaste.message":"This view is read-only. Switch to <i>Workflow</i> tab to be able to edit the current workflow","executionView.notFound.message":"Execution with id '{executionId}' could not be found!","executionsFilter.selectStatus":"Select Status","executionsFilter.selectWorkflow":"Select Workflow","executionsFilter.start":"Execution start","executionsFilter.startDate":"Earliest","executionsFilter.endDate":"Latest","executionsFilter.savedData":"Custom data (saved in execution)","executionsFilter.savedDataKey":"Key","executionsFilter.savedDataKeyPlaceholder":"ID","executionsFilter.savedDataValue":"Value (exact match)","executionsFilter.savedDataValuePlaceholder":"123","executionsFilter.reset":"Reset all","executionsFilter.customData.inputTooltip":"Upgrade plan to filter executions by custom data set at runtime. {link}","executionsFilter.customData.inputTooltip.link":"View plans","executionsFilter.customData.docsTooltip":"Filter executions by data that you have explicitly saved in them (by calling $execution.customData.set(key, value)). {link}","executionsFilter.customData.docsTooltip.link":"More info","expressionEdit.anythingInside":"Anything inside ","expressionEdit.isJavaScript":" is JavaScript.","expressionEdit.learnMore":"Learn more","expressionEdit.editExpression":"Edit Expression","expressionEdit.expression":"Expression","expressionEdit.resultOfItem1":"Result of item 1","expressionEdit.variableSelector":"Variable Selector","expressionEditor.uncalledFunction":"[this is a function, please add ()]","expressionModalInput.empty":"[empty]","expressionModalInput.undefined":"[undefined]","expressionModalInput.null":"null","fakeDoor.settings.environments.name":"Environments","fakeDoor.settings.sso.name":"Single Sign-On","fakeDoor.settings.sso.actionBox.title":"We’re working on this (as a paid feature)","fakeDoor.settings.sso.actionBox.title.cloud":"We’re working on this","fakeDoor.settings.sso.actionBox.description":"SSO will offer a secured and convenient way to access n8n using your existing credentials (Google, Github, Keycloak…)","fakeDoor.actionBox.button.label":"Join the list","fixedCollectionParameter.choose":"Choose...","fixedCollectionParameter.currentlyNoItemsExist":"Currently no items exist","fixedCollectionParameter.deleteItem":"Delete item","fixedCollectionParameter.moveDown":"Move down","fixedCollectionParameter.moveUp":"Move up",forgotPassword:UT,"forgotPassword.emailSentIfExists":"We’ve emailed {email} (if there’s a matching account)","forgotPassword.getRecoveryLink":"Email me a recovery link","forgotPassword.noSMTPToSendEmailWarning":"Please contact your admin. n8n isn’t set up to send email right now.","forgotPassword.recoverPassword":"Recover password","forgotPassword.recoveryEmailSent":"Recovery email sent","forgotPassword.returnToSignIn":"Back to sign in","forgotPassword.sendingEmailError":"Problem sending email","forgotPassword.ldapUserPasswordResetUnavailable":"Please contact your LDAP administrator to reset your password","forgotPassword.smtpErrorContactAdministrator":"Please contact your administrator (problem with your SMTP setup)","forms.resourceFiltersDropdown.filters":"Filters","forms.resourceFiltersDropdown.ownedBy":"Owned by","forms.resourceFiltersDropdown.sharedWith":"Shared with","forms.resourceFiltersDropdown.reset":"Reset all","generic.oauth1Api":"OAuth1 API","generic.oauth2Api":"OAuth2 API","genericHelpers.loading":"Loading","genericHelpers.min":"min","genericHelpers.minShort":"m","genericHelpers.sec":"sec","genericHelpers.secShort":"s","readOnly.showMessage.executions.message":"Executions are read-only. Make changes from the <b>Workflow</b> tab.","readOnly.showMessage.executions.title":"Cannot edit execution","readOnlyEnv.showMessage.executions.message":"Executions are read-only.","readOnlyEnv.showMessage.executions.title":"Cannot edit execution","readOnlyEnv.showMessage.workflows.message":"Workflows are read-only in protected instances.","readOnlyEnv.showMessage.workflows.title":"Cannot edit workflow","mainSidebar.aboutN8n":"About n8n","mainSidebar.confirmMessage.workflowDelete.cancelButtonText":"","mainSidebar.confirmMessage.workflowDelete.confirmButtonText":"Yes, delete","mainSidebar.confirmMessage.workflowDelete.headline":"Delete Workflow?","mainSidebar.confirmMessage.workflowDelete.message":"Are you sure that you want to delete '{workflowName}'?","mainSidebar.credentials":"Credentials","mainSidebar.variables":"Variables","mainSidebar.help":"Help","mainSidebar.helpMenuItems.course":"Course","mainSidebar.helpMenuItems.documentation":"Documentation","mainSidebar.helpMenuItems.forum":"Forum","mainSidebar.helpMenuItems.quickstart":"Quickstart","mainSidebar.new":"New","mainSidebar.newTemplate":"New from template","mainSidebar.open":"Open","mainSidebar.prompt.cancel":"@:_reusableBaseText.cancel","mainSidebar.prompt.import":"Import","mainSidebar.prompt.importWorkflowFromUrl":"Import Workflow from URL","mainSidebar.prompt.invalidUrl":"Invalid URL","mainSidebar.prompt.workflowUrl":"Workflow URL","mainSidebar.save":"@:_reusableBaseText.save","mainSidebar.showError.stopExecution.title":"Problem stopping execution","mainSidebar.showMessage.handleFileImport.message":"The file does not contain valid JSON data","mainSidebar.showMessage.handleFileImport.title":"Could not import file","mainSidebar.showMessage.handleSelect1.title":"Workflow deleted","mainSidebar.showMessage.handleSelect2.title":"Workflow created","mainSidebar.showMessage.handleSelect3.title":"Workflow created","mainSidebar.showMessage.stopExecution.title":"Execution stopped","mainSidebar.templates":"Templates","mainSidebar.workflows":"Workflows","mainSidebar.workflows.readOnlyEnv.tooltip":"Protected mode is active, so no workflows changes are allowed. Change this in Settings, under 'Source Control'","mainSidebar.executions":"All executions","menuActions.duplicate":"Duplicate","menuActions.download":"Download","menuActions.push":"Push to Git","menuActions.importFromUrl":"Import from URL...","menuActions.importFromFile":"Import from File...","menuActions.delete":"Delete","multipleParameter.addItem":"Add item","multipleParameter.currentlyNoItemsExist":"Currently no items exist","multipleParameter.deleteItem":"Delete item","multipleParameter.moveDown":"Move down","multipleParameter.moveUp":"Move up","ndv.backToCanvas":"Back to canvas","ndv.backToCanvas.waitingForTriggerWarning":"Waiting for a Trigger node to execute. Close this view to see the Workflow Canvas.","ndv.execute.executeNode":"Execute node","ndv.execute.executing":"Executing","ndv.execute.fetchEvent":"Fetch Test Event","ndv.execute.fixPrevious":"Fix previous node first","ndv.execute.listenForEvent":"Listen For Event","ndv.execute.listenForTestEvent":"Listen For Test Event","ndv.execute.stopListening":"Stop Listening","ndv.execute.nodeIsDisabled":"Enable node to execute","ndv.execute.requiredFieldsMissing":"Complete required fields first","ndv.execute.stopWaitingForWebhook.error":"Problem deleting test webhook","ndv.execute.workflowAlreadyRunning":"Workflow is already running","ndv.featureRequest":"I wish this node would...","ndv.input":"Input","ndv.input.nodeDistance":"({count} node back) | ({count} nodes back)","ndv.input.noNodesFound":"No nodes found","ndv.input.parentNodes":"Parent nodes","ndv.input.tooMuchData.title":"Input data is huge","ndv.input.noOutputDataInBranch":"No input data in this branch","ndv.input.noOutputDataInNode":"Node did not output any data. n8n stops executing the workflow when a node has no output data.","ndv.input.noOutputData":"No data","ndv.input.noOutputData.executePrevious":"Execute previous nodes","ndv.input.noOutputData.title":"No input data yet","ndv.input.noOutputData.hint":"(From the earliest node that has no output data yet)","ndv.input.executingPrevious":"Executing previous nodes...","ndv.input.notConnected.title":"Wire me up","ndv.input.notConnected.message":"This node can only receive input data if you connect it to another node.","ndv.input.notConnected.learnMore":"Learn more","ndv.input.disabled":"The '{nodeName}' node is disabled and won’t execute.","ndv.input.disabled.cta":"Enable it","ndv.output":"Output","ndv.output.edit":"Edit Output","ndv.output.all":"all","ndv.output.branch":"Branch","ndv.output.executing":"Executing node...","ndv.output.items":"item | items","ndv.output.noOutputData.message":"n8n stops executing the workflow when a node has no output data. You can change this default behaviour via","ndv.output.noOutputData.message.settings":"Settings","ndv.output.noOutputData.message.settingsOption":"> “Always Output Data”.","ndv.output.noOutputData.title":"No output data returned","ndv.output.noOutputDataInBranch":"No output data in this branch","ndv.output.of":" of ","ndv.output.pageSize":"Page Size","ndv.output.run":"Run","ndv.output.runNodeHint":"Execute this node to output data","ndv.output.insertTestData":"insert test data","ndv.output.staleDataWarning.regular":"Node parameters have changed.<br>Execute node again to refresh output.","ndv.output.staleDataWarning.pinData":"Node parameter changes will not affect pinned output data.","ndv.output.tooMuchData.message":"The node contains {size} MB of data. Displaying it may cause problems. <br /> If you do decide to display it, avoid the JSON view.","ndv.output.tooMuchData.showDataAnyway":"Show data anyway","ndv.output.tooMuchData.title":"Output data is large","ndv.output.waitingToRun":"Waiting to execute...","ndv.title.cancel":"Cancel","ndv.title.rename":"Rename","ndv.title.renameNode":"Rename node","ndv.pinData.pin.title":"Pin data","ndv.pinData.pin.description":"Node will always output this data instead of executing.","ndv.pinData.pin.link":"More info","ndv.pinData.pin.multipleRuns.title":"Run #{index} was pinned","ndv.pinData.pin.multipleRuns.description":"This run will be outputted each time the node is run.","ndv.pinData.unpinAndExecute.title":"Unpin output data?","ndv.pinData.unpinAndExecute.description":"Executing a node overwrites pinned data.","ndv.pinData.unpinAndExecute.cancel":"Cancel","ndv.pinData.unpinAndExecute.confirm":"Unpin and execute","ndv.pinData.beforeClosing.title":"Save output changes before closing?","ndv.pinData.beforeClosing.cancel":"Discard","ndv.pinData.beforeClosing.confirm":"Save","ndv.pinData.error.tooLarge.title":"Output data is too large to pin","ndv.pinData.error.tooLarge.description":"You can pin at most 12MB of output per workflow.","noTagsView.readyToOrganizeYourWorkflows":"Ready to organize your workflows?","noTagsView.withWorkflowTagsYouReFree":"With workflow tags, you're free to create the perfect tagging system for your flows","node.thisIsATriggerNode":'This is a Trigger node. <a target="_blank" href="https://docs.n8n.io/workflows/components/nodes/">Learn more</a>',"node.activateDeactivateNode":"Activate/Deactivate Node","node.deleteNode":"Delete Node","node.disabled":"Disabled","node.duplicateNode":"Duplicate Node","node.editNode":"Edit Node","node.executeNode":"Execute Node","node.issues":"Issues","node.nodeIsExecuting":"Node is executing","node.nodeIsWaitingTill":"Node is waiting until {date} {time}","node.theNodeIsWaitingIndefinitelyForAnIncomingWebhookCall":"The node is waiting for an incoming webhook call (indefinitely)","node.waitingForYouToCreateAnEventIn":"Waiting for you to create an event in {nodeType}","node.discovery.pinData.canvas":"You can pin this output instead of waiting for a test event. Open node to do so.","node.discovery.pinData.ndv":"You can pin this output instead of waiting for a test event.","nodeBase.clickToAddNodeOrDragToConnect":`Click to add node 
 or drag to connect`,"nodeCreator.actionsPlaceholderNode.scheduleTrigger":"On a Schedule","nodeCreator.actionsPlaceholderNode.webhook":"On a Webhook call","nodeCreator.actionsCategory.actions":"Actions","nodeCreator.actionsCategory.onNewEvent":"On new {event} event","nodeCreator.actionsCategory.onEvent":"On {event}","nodeCreator.actionsCategory.triggers":"Triggers","nodeCreator.actionsCategory.searchActions":"Search {node} Actions...","nodeCreator.actionsCategory.noMatchingActions":"No matching Actions. <i>Reset search</i>","nodeCreator.actionsCategory.noMatchingTriggers":"No matching Triggers. <i>Reset search</i>","nodeCreator.actionsList.apiCall":"Didn't find the right event? Make a <a data-action='addHttpNode'>custom {node} API call</a>","nodeCreator.actionsCallout.noActionItems":`We don't have <strong>{nodeName}</strong> actions yet. Have one in mind? Make a <a target="_blank" href="https://community.n8n.io/c/feature-requests/5"> request in our community</a>`,"nodeCreator.actionsCallout.triggersStartWorkflow":'Actions need to be triggered by another node, e.g. at regular intervals with the <strong>Schedule</strong> node. <a target="_blank" href="https://docs.n8n.io/integrations/builtin/"> Learn more</a>',"nodeCreator.actionsTooltip.triggersStartWorkflow":'A trigger is a step that starts your workflow. <a target="_blank" href="https://docs.n8n.io/integrations/builtin/"> Learn more</a>',"nodeCreator.actionsTooltip.actionsPerformStep":'Actions perform a step once your workflow has already started. <a target="_blank" href="https://docs.n8n.io/integrations/builtin/"> Learn more</a>',"nodeCreator.actionsCallout.noTriggerItems":"No <strong>{nodeName}</strong> Triggers available. Users often combine the following Triggers with <strong>{nodeName}</strong> Actions.","nodeCreator.categoryNames.otherCategories":"Results in other categories","nodeCreator.noResults.dontWorryYouCanProbablyDoItWithThe":"Don’t worry, you can probably do it with the","nodeCreator.noResults.httpRequest":"HTTP Request","nodeCreator.noResults.node":"node","nodeCreator.noResults.or":"or","nodeCreator.noResults.requestTheNode":"Request the node","nodeCreator.noResults.wantUsToMakeItFaster":"Want us to make it faster?","nodeCreator.noResults.weDidntMakeThatYet":"We didn't make that... yet","nodeCreator.noResults.webhook":"Webhook","nodeCreator.searchBar.searchNodes":"Search nodes...","nodeCreator.subcategoryDescriptions.appTriggerNodes":"Runs the flow when something happens in an app like Telegram, Notion or Airtable","nodeCreator.subcategoryDescriptions.appRegularNodes":"Do something in an app or service like Google Sheets, Telegram or Notion","nodeCreator.subcategoryDescriptions.dataTransformation":"Manipulate data, run JavaScript code, etc.","nodeCreator.subcategoryDescriptions.files":"CSV, XLS, XML, text, images, etc.","nodeCreator.subcategoryDescriptions.flow":"IF, Switch, Wait, Compare and Merge data, etc.","nodeCreator.subcategoryDescriptions.helpers":"HTTP Requests (API Calls), date and time, scrape HTML, RSS, SSH, etc.","nodeCreator.subcategoryDescriptions.otherTriggerNodes":"Runs the flow on workflow errors, file changes, etc.","nodeCreator.subcategoryNames.appTriggerNodes":"On app event","nodeCreator.subcategoryNames.appRegularNodes":"Action in an app","nodeCreator.subcategoryNames.dataTransformation":"Data transformation","nodeCreator.subcategoryNames.files":"Files","nodeCreator.subcategoryNames.flow":"Flow","nodeCreator.subcategoryNames.helpers":"Helpers","nodeCreator.subcategoryNames.otherTriggerNodes":"Other ways...","nodeCreator.triggerHelperPanel.addAnotherTrigger":"Add another trigger","nodeCreator.triggerHelperPanel.addAnotherTriggerDescription":"Triggers start your workflow. Workflows can have multiple triggers.","nodeCreator.triggerHelperPanel.title":"When should this workflow run?","nodeCreator.triggerHelperPanel.scheduleTriggerDisplayName":"On a schedule","nodeCreator.triggerHelperPanel.scheduleTriggerDescription":"Runs the flow every day, hour, or custom interval","nodeCreator.triggerHelperPanel.webhookTriggerDisplayName":"On webhook call","nodeCreator.triggerHelperPanel.webhookTriggerDescription":"Runs the flow when another app sends a webhook","nodeCreator.triggerHelperPanel.manualTriggerDisplayName":"Manually","nodeCreator.triggerHelperPanel.manualTriggerDescription":"Runs the flow on clicking a button in n8n","nodeCreator.triggerHelperPanel.whatHappensNext":"What happens next?","nodeCreator.triggerHelperPanel.selectATrigger":"Select a trigger","nodeCreator.triggerHelperPanel.selectATriggerDescription":"A trigger is a step that starts your workflow","nodeCreator.triggerHelperPanel.workflowTriggerDisplayName":"When called by another workflow","nodeCreator.triggerHelperPanel.workflowTriggerDescription":"Runs the flow when called by the Execute Workflow node from a different workflow","nodeCredentials.createNew":"Create New Credential","nodeCredentials.credentialFor":"Credential for {credentialType}","nodeCredentials.credentialsLabel":"Credential to connect with","nodeCredentials.issues":"Issues","nodeCredentials.selectCredential":"Select Credential","nodeCredentials.selectedCredentialUnavailable":"{name} (unavailable)","nodeCredentials.showMessage.message":'Nodes that used credential "{oldCredentialName}" have been updated to use "{newCredentialName}"',"nodeCredentials.showMessage.title":"Node credential updated","nodeCredentials.updateCredential":"Update Credential","nodeErrorView.cause":"Cause","nodeErrorView.copyToClipboard":"Copy to Clipboard","nodeErrorView.dataBelowMayContain":"Data below may contain sensitive information. Proceed with caution when sharing.","nodeErrorView.details":"Details","nodeErrorView.error":"ERROR","nodeErrorView.httpCode":"HTTP Code","nodeErrorView.inParameter":"In or underneath Parameter","nodeErrorView.itemIndex":"Item Index","nodeErrorView.runIndex":"Run Index","nodeErrorView.showMessage.title":"Copied to clipboard","nodeErrorView.stack":"Stack","nodeErrorView.theErrorCauseIsTooLargeToBeDisplayed":"The error cause is too large to be displayed","nodeErrorView.time":"Time","nodeErrorView.inputPanel.previousNodeError.title":"Error running node '{nodeName}'","nodeHelpers.credentialsUnset":"Credentials for '{credentialType}' are not set.","nodeSettings.alwaysOutputData.description":"If active, will output a single, empty item when the output would have been empty. Use to prevent the workflow finishing on this node.","nodeSettings.alwaysOutputData.displayName":"Always Output Data","nodeSettings.clickOnTheQuestionMarkIcon":"Click the '?' icon to open this node on n8n.io","nodeSettings.continueOnFail.description":"If active, the workflow continues even if this node's execution fails. When this occurs, the node passes along input data from previous nodes - so your workflow should account for unexpected output data.","nodeSettings.continueOnFail.displayName":"Continue On Fail","nodeSettings.docs":"Docs","nodeSettings.executeOnce.description":"If active, the node executes only once, with data from the first item it receives","nodeSettings.executeOnce.displayName":"Execute Once","nodeSettings.maxTries.description":"Number of times to attempt to execute the node before failing the execution","nodeSettings.maxTries.displayName":"Max. Tries","nodeSettings.noDescriptionFound":"No description found","nodeSettings.nodeDescription":"Node Description","nodeSettings.notes.description":"Optional note to save with the node","nodeSettings.notes.displayName":"Notes","nodeSettings.notesInFlow.description":"If active, the note above will display in the flow as a subtitle","nodeSettings.notesInFlow.displayName":"Display Note in Flow?","nodeSettings.parameters":"Parameters","nodeSettings.communityNodeTooltip":'This is a <a href="{docUrl}" target="_blank"/>community node</a>',"nodeSettings.retryOnFail.description":"If active, the node tries to execute again when it fails","nodeSettings.retryOnFail.displayName":"Retry On Fail","nodeSettings.scopes.expandedNoticeWithScopes":'<a data-key="toggle-expand">{count} scope</a> available for {activeCredential} credentials<br>{scopes}<br><a data-key="show-less">Show less</a> | <a data-key="toggle-expand">{count} scopes</a> available for {activeCredential} credentials<br>{scopes}<br><a data-key="show-less">Show less</a>',"nodeSettings.scopes.notice":'<a data-key="toggle-expand">{count} scope</a> available for {activeCredential} credentials | <a data-key="toggle-expand">{count} scopes</a> available for {activeCredential} credentials',"nodeSettings.theNodeIsNotValidAsItsTypeIsUnknown":"The node is not valid as its type ({nodeType}) is unknown","nodeSettings.communityNodeUnknown.title":"Install this node to use it","nodeSettings.communityNodeUnknown.description":"This node is not currently installed. It's part of the {action} community package.","nodeSettings.communityNodeUnknown.installLink.text":"How to install community nodes","nodeSettings.nodeTypeUnknown.description":"This node is not currently installed. It is either from a newer version of n8n, a {action}, or has an invalid structure","nodeSettings.nodeTypeUnknown.description.customNode":"custom node","nodeSettings.thisNodeDoesNotHaveAnyParameters":"This node does not have any parameters","nodeSettings.useTheHttpRequestNode":`Use the <b>HTTP Request</b> node to make a custom API call. We'll take care of the {nodeTypeDisplayName} auth for you. <a target="_blank" href="https://docs.n8n.io/integrations/custom-operations/">Learn more</a>`,"nodeSettings.waitBetweenTries.description":"How long to wait between each attempt (in milliseconds)","nodeSettings.waitBetweenTries.displayName":"Wait Between Tries (ms)","nodeSettings.hasForeignCredential":"To edit this node, either:<br/>a) Ask {owner} to share the credential with you, or<br/>b) Duplicate the node and add your own credential","nodeView.addNode":"Add node","nodeView.addATriggerNodeFirst":"Add a <a data-action='showNodeCreator'>Trigger Node</a> first","nodeView.addOrEnableTriggerNode":"<a data-action='showNodeCreator'>Add</a> or enable a Trigger node to execute the workflow","nodeView.addSticky":"Click to add sticky note","nodeView.cantExecuteNoTrigger":"Cannot execute workflow","nodeView.canvasAddButton.addATriggerNodeBeforeExecuting":"Add a Trigger Node before executing the workflow","nodeView.canvasAddButton.addFirstStep":"Add first step…","nodeView.confirmMessage.receivedCopyPasteData.cancelButtonText":"","nodeView.confirmMessage.receivedCopyPasteData.confirmButtonText":"Yes, import","nodeView.confirmMessage.receivedCopyPasteData.headline":"Import Workflow?","nodeView.confirmMessage.receivedCopyPasteData.message":"Workflow will be imported from<br /><i>{plainTextData}<i>","nodeView.couldntImportWorkflow":"Could not import workflow","nodeView.deletesTheCurrentExecutionData":"Deletes the current execution data","nodeView.executesTheWorkflowFromATriggerNode":"Runs the workflow, starting from a Trigger node","nodeView.itLooksLikeYouHaveBeenEditingSomething":"It looks like you made some edits. If you leave before saving, your changes will be lost.","nodeView.loadingTemplate":"Loading template","nodeView.moreInfo":"More info","nodeView.noNodesGivenToAdd":"No nodes to add specified","nodeView.prompt.cancel":"@:_reusableBaseText.cancel","nodeView.prompt.invalidName":"Invalid Name","nodeView.prompt.newName":"New Name","nodeView.prompt.rename":"Rename","nodeView.prompt.renameNode":"Rename Node","nodeView.redirecting":"Redirecting","nodeView.refresh":"Refresh","nodeView.resetZoom":"Reset Zoom","nodeView.runButtonText.executeWorkflow":"Execute Workflow","nodeView.runButtonText.executingWorkflow":"Executing Workflow","nodeView.runButtonText.waitingForTriggerEvent":"Waiting for Trigger Event","nodeView.showError.workflowError":"Workflow execution finished with an error","nodeView.showError.getWorkflowDataFromUrl.title":"Problem loading workflow","nodeView.showError.importWorkflowData.title":"Problem importing workflow","nodeView.showError.mounted1.message":"There was a problem loading init data","nodeView.showError.mounted1.title":"Init Problem","nodeView.showError.mounted2.message":"There was a problem initializing the workflow","nodeView.showError.mounted2.title":"Init Problem","nodeView.showError.openExecution.title":"Problem loading execution","nodeView.showError.openWorkflow.title":"Problem opening workflow","nodeView.showError.stopExecution.title":"Problem stopping execution","nodeView.showError.stopWaitingForWebhook.title":"Problem deleting test webhook","nodeView.showMessage.addNodeButton.message":"'{nodeTypeName}' is an unknown node type","nodeView.showMessage.addNodeButton.title":"Could not insert node","nodeView.showMessage.keyDown.title":"Workflow created","nodeView.showMessage.showMaxNodeTypeError.message":"Only one '{nodeTypeDataDisplayName}' node is allowed in a workflow | Only {count} '{nodeTypeDataDisplayName}' nodes are allowed in a workflow","nodeView.showMessage.showMaxNodeTypeError.title":"Could not insert node","nodeView.showMessage.stopExecutionCatch.unsaved.message":"This execution was canceled","nodeView.showMessage.stopExecutionCatch.unsaved.title":"Execution canceled","nodeView.showMessage.stopExecutionCatch.message":"It completed before it could be stopped","nodeView.showMessage.stopExecutionCatch.title":"Workflow finished executing","nodeView.showMessage.stopExecutionTry.title":"Execution stopped","nodeView.stopCurrentExecution":"Stop current execution","nodeView.stopWaitingForWebhookCall":"Stop waiting for webhook call","nodeView.stoppingCurrentExecution":"Stopping current execution","nodeView.thereWasAProblemLoadingTheNodeParametersOfNode":"There was a problem loading the parameters of the node","nodeView.thisExecutionHasntFinishedYet":"This execution hasn't finished yet","nodeView.toSeeTheLatestStatus":"to see the latest status","nodeView.workflowTemplateWithIdCouldNotBeFound":'Workflow template with ID "{templateId}" could not be found',"nodeView.workflowWithIdCouldNotBeFound":'Workflow with ID "{workflowId}" could not be found',"nodeView.zoomIn":"Zoom In","nodeView.zoomOut":"Zoom Out","nodeView.zoomToFit":"Zoom to Fit","nodeWebhooks.clickToCopyWebhookUrls":"Click to copy webhook URLs","nodeWebhooks.clickToDisplayWebhookUrls":"Click to display webhook URLs","nodeWebhooks.clickToHideWebhookUrls":"Click to hide webhook URLs","nodeWebhooks.invalidExpression":"[INVALID EXPRESSION]","nodeWebhooks.productionUrl":"Production URL","nodeWebhooks.showMessage.title":"URL copied","nodeWebhooks.testUrl":"Test URL","nodeWebhooks.webhookUrls":"Webhook URLs","onboardingCallSignupModal.title":"Your onboarding session","onboardingCallSignupModal.description":"Pop in your email and we'll send you some scheduling options","onboardingCallSignupModal.emailInput.placeholder":"Your work email","onboardingCallSignupModal.signupButton.label":"Submit","onboardingCallSignupModal.cancelButton.label":"Cancel","onboardingCallSignupModal.infoText.emailError":"This doesn't seem to be a valid email address","onboardingCallSignupSucess.title":"Check your email for the final step","onboardingCallSignupSucess.message":"You should receive a message from us shortly","onboardingCallSignupFailed.title":"Something went wrong","onboardingCallSignupFailed.message":"Your request could not be sent","onboardingCallSignupModal.confirmExit.title":"Are you sure?","onboardingWorkflow.stickyContent":`## 👇 Get started faster 
Lightning tour of the key concepts [4 min] 

[![n8n quickstart video](/static/quickstart_thumbnail.png#full-width)](https://www.youtube.com/watch?v=1MwSoB0gnM4)`,"openWorkflow.workflowImportError":"Could not import workflow","openWorkflow.workflowNotFoundError":"Could not find workflow","parameterInput.expressionResult":"e.g. {result}","parameterInput.anythingInside":"Anything inside ","parameterInput.isJavaScript":" is JavaScript.","parameterInput.learnMore":"Learn more","parameterInput.resultForItem":"Result for Item","parameterInput.emptyString":"[empty]","parameterInput.customApiCall":"Custom API Call","parameterInput.error":"ERROR","parameterInput.expression":"Expression","parameterInput.fixed":"Fixed","parameterInput.formatHtml":"Format HTML","parameterInput.issues":"Issues","parameterInput.loadingOptions":"Loading options...","parameterInput.openEditWindow":"Open Edit Window","parameterInput.parameter":'Parameter: "{shortPath}"',"parameterInput.parameterHasExpression":'Parameter: "{shortPath}" has an expression',"parameterInput.parameterHasIssues":'Parameter: "{shortPath}" has issues',"parameterInput.parameterHasIssuesAndExpression":'Parameter: "{shortPath}" has issues and an expression',"parameterInput.refreshList":"Refresh List","parameterInput.resetValue":"Reset Value","parameterInput.select":"Select","parameterInput.selectDateAndTime":"Select date and time","parameterInput.selectACredentialTypeFromTheDropdown":"Select a credential type from the dropdown","parameterInput.theValueIsNotSupported":'The value "{checkValue}" is not supported!',"parameterInputExpanded.openDocs":"Open docs","parameterInputExpanded.thisFieldIsRequired":"This field is required","parameterInputList.delete":"Delete","parameterInputList.deleteParameter":"Delete Parameter","parameterInputList.parameterOptions":"Parameter Options","personalizationModal.businessOwner":"Business Owner","personalizationModal.continue":"Continue","personalizationModal.cicd":"CI/CD","personalizationModal.cloudInfrastructureOrchestration":"Cloud infrastructure orchestration","personalizationModal.customerIntegrations":"Customer integrations","personalizationModal.customerSupport":"Customer support","personalizationModal.customizeN8n":"Customize n8n to you","personalizationModal.dataScience":"Data Science","personalizationModal.devops":"Devops","personalizationModal.digitalAgencyOrConsultant":"Marketing agency / consultancy","personalizationModal.eCommerce":"Ecommerce","personalizationModal.education":"Education","personalizationModal.engineering":"Engineering","personalizationModal.engineeringOrDevops":"Engineering / Devops","personalizationModal.errorWhileSubmittingResults":"Error while submitting results","personalizationModal.financeOrAccounting":"Finance / Accounting","personalizationModal.financeOrInsurance":"Finance / Insurance","personalizationModal.getStarted":"Get started","personalizationModal.government":"Government","personalizationModal.healthcare":"Healthcare","personalizationModal.howAreYourCodingSkills":"How are your coding skills?","personalizationModal.howBigIsYourCompany":"How big is your company?","personalizationModal.hr":"HR","personalizationModal.imNotUsingN8nForWork":"I'm not using n8n for work","personalizationModal.it":"IT","personalizationModal.legal":"Legal","personalizationModal.lessThan20People":"Less than 20 people","personalizationModal.managedServiceProvider":"Managed service provider","personalizationModal.manufacturing":"Manufacturing","personalizationModal.marketing":"Marketing","personalizationModal.media":"Media","personalizationModal.notSureYet":"Not sure yet","personalizationModal.operations":"Operations","personalizationModal.other":"Other","personalizationModal.otherPleaseSpecify":"Other (please specify)","personalizationModal.specifyReportedSource":"Specify how you heard about n8n","personalizationModal.people":"people","personalizationModal.physicalRetailOrServices":"Physical retail or services","personalizationModal.product":"Product (e.g. fast prototyping)","personalizationModal.realEstateOrConstruction":"Real estate / Construction","personalizationModal.saas":"Software as a service","personalizationModal.salesAndMarketing":"Sales and Marketing","personalizationModal.security":"Security","personalizationModal.select":"Select...","personalizationModal.howDidYouHearAboutN8n":"How did you hear about n8n?","personalizationModal.friendWordOfMouth":"Friend / Word of mouth","personalizationModal.podcast":"Podcast","personalizationModal.event":"Event","personalizationModal.myself":"Myself","personalizationModal.myTeam":"My team","personalizationModal.otherTeams":"Other teams","personalizationModal.specifyAutomationBeneficiary":"Who will your automations mainly be for?","personalizationModal.specifyYourRole":"Please specify your role","personalizationModal.specifyYourAutomationGoal":"Please specify your automation goal","personalizationModal.specifyYourCompanysIndustry":"Specify your company's industry","personalizationModal.support":"Support","personalizationModal.systemsIntegrator":"Systems integrator / Automation agency","personalizationModal.telecoms":"Telecoms","personalizationModal.thanks":"Thanks!","personalizationModal.theseQuestionsHelpUs":"These questions help us tailor n8n to you","personalizationModal.whichRoleBestDescribesYou":"Which role best describes you?","personalizationModal.whatAreYouLookingToAutomate":"What are you looking to automate?","personalizationModal.whatBestDescribesYourCompany":"What best describes your company?","personalizationModal.whichIndustriesIsYourCompanyIn":"Which industries is your company in?","personalizationModal.specifySalesMarketingGoal":"Which parts of Sales and Marketing?","personalizationModal.leadGeneration":"Lead generation, enrichment, routing","personalizationModal.customerCommunication":"Customer communication","personalizationModal.customerActions":"Actions when lead changes status","personalizationModal.yourEmailAddress":"Your email address","personalizationModal.email":"Enter your email..","personalizationModal.adCampaign":"Ad campaign management","personalizationModal.reporting":"Reporting","personalizationModal.ticketingSystemsIntegrations":"Ticketing systems integrations","personalizationModal.dataSynching":"Data syncing","personalizationModal.incidentResponse":"Incident response","personalizationModal.monitoringAndAlerting":"Monitoring and alerting","personalizationModal.specifyUsageMode":"Are you looking to do any of these?","personalizationModal.connectToInternalDB":"Connect to my company’s internal databases","personalizationModal.buildBackendServices":"Build backend services (endpoints)","personalizationModal.manipulateFiles":"Manipulate/transfer files","personalizationModal.specifyOtherSalesAndMarketingGoal":"Specify your other Sales and Marketing goals","pushConnection.nodeExecutedSuccessfully":"Node executed successfully","pushConnection.workflowExecutedSuccessfully":"Workflow executed successfully","pushConnectionTracker.cannotConnectToServer":"You have a connection issue or the server is down. <br />n8n should reconnect automatically once the issue is resolved.","pushConnectionTracker.connectionLost":"Connection lost","pushConnectionTracker.connectionLost.message":"Attempting to reconnect...","pushConnection.pollingNode.dataNotFound":"No {service} data found","pushConnection.pollingNode.dataNotFound.message":"We didn’t find any data in {service} to simulate an event. Please create one in {service} and try again.","pushConnection.executionFailed":"Execution failed","pushConnection.executionFailed.message":'There might not be enough memory to finish the execution. Tips for avoiding this <a target="_blank" href="https://docs.n8n.io/flow-logic/error-handling/memory-errors/">here</a>',"pushConnection.executionError":"There was a problem executing the workflow{error}","pushConnection.executionError.details":"<br /><strong>{details}</strong>","resourceLocator.id.placeholder":"Enter ID...","resourceLocator.mode.id":"By ID","resourceLocator.mode.url":"By URL","resourceLocator.mode.list":"From list","resourceLocator.mode.list.disabled.title":"Change to Fixed mode to choose From List","resourceLocator.mode.list.error.title":"Could not load list","resourceLocator.mode.list.error.description.part1":"Please","resourceLocator.mode.list.error.description.part2.hasCredentials":"check your credential","resourceLocator.mode.list.error.description.part2.noCredentials":"add your credential","resourceLocator.mode.list.noResults":"No results","resourceLocator.mode.list.openUrl":"Open URL","resourceLocator.mode.list.placeholder":"Choose...","resourceLocator.mode.list.searchRequired":"Enter a search term to show results","resourceLocator.modeSelector.placeholder":"Mode...","resourceLocator.openSpecificResource":"Open {entity} in {appName}","resourceLocator.openResource":"Open in {appName}","resourceLocator.search.placeholder":"Search...","resourceLocator.url.placeholder":"Enter URL...","resourceMapper.autoMappingNotice":"In this mode, make sure the incoming data fields are named the same as the {fieldWord} in {serviceName}. (Use a 'set' node before this node to change them if required.)","resourceMapper.mappingMode.label":"Mapping Column Mode","resourceMapper.mappingMode.defineBelow.name":"Map Each Column Manually","resourceMapper.mappingMode.defineBelow.description":"Set the value for each {fieldWord}","resourceMapper.mappingMode.autoMapInputData.name":"Map Automatically","resourceMapper.mappingMode.autoMapInputData.description":"Look for incoming data that matches the {fieldWord} in {serviceName}","resourceMapper.fetchingFields.message":"Fetching {fieldWord}","resourceMapper.fetchingFields.errorMessage":"Can't get {fieldWord}.","resourceMapper.fetchingFields.noFieldsFound":"No {fieldWord} found in {serviceName}.","resourceMapper.columnsToMatchOn.label":"{fieldWord} to Match On","resourceMapper.columnsToMatchOn.multi.description":"The {fieldWord} that identify the row(s) to modify","resourceMapper.columnsToMatchOn.single.description":"The {fieldWord} that identifies the row(s) to modify","resourceMapper.columnsToMatchOn.tooltip":"The {fieldWord} to compare when finding the rows to update","resourceMapper.columnsToMatchOn.noFieldsFound":"No {fieldWord} that can be used for matching found in {serviceName}.","resourceMapper.valuesToSend.label":"Values to Send","resourceMapper.valuesToUpdate.label":"Values to Update","resourceMapper.usingToMatch":"(using to match)","resourceMapper.usingToMatch.description":"This {fieldWord} won't be updated and can't be removed, as it's used for matching","resourceMapper.removeField":"Remove {fieldWord}","resourceMapper.mandatoryField.title":"This {fieldWord} is mandatory and can’t be removed","resourceMapper.addFieldToSend":"Add {fieldWord} to Send","resourceMapper.matching.title":"This {fieldWord} is used for matching and can’t be removed","resourceMapper.addAllFields":"Add All {fieldWord}","resourceMapper.removeAllFields":"Remove All {fieldWord}","resourceMapper.refreshFieldList":"Refresh {fieldWord} List","runData.emptyItemHint":"This is an item, but it's empty.","runData.emptyArray":"[empty array]","runData.emptyString":"[empty]","runData.emptyObject":"[empty object]","runData.unnamedField":"[Unnamed field]","runData.switchToBinary.info":"This item only has","runData.switchToBinary.binary":"binary data","runData.linking.hint":"Link displayed input and output runs","runData.unlinking.hint":"Unlink displayed input and output runs","runData.binary":"Binary","runData.copyItemPath":"Copy Item Path","runData.copyItemPath.toast":"Item path copied","runData.copyParameterPath":"Copy Parameter Path","runData.copyParameterPath.toast":"Parameter path copied","runData.copyValue":"Copy Selection","runData.copyValue.toast":"Output data copied","runData.copyToClipboard":"Copy to Clipboard","runData.copyDisabled":"First click on the output data you want to copy, then click this button.","runData.editOutput":"Edit Output","runData.editOutputInvalid":"Problem with output data","runData.editOutputInvalid.singleQuote":'Unexpected single quote. Please use double quotes (") instead',"runData.editOutputInvalid.onLine":"On line {line}:","runData.editOutputInvalid.atPosition":"(at position {position})","runData.editValue":"Edit Value","runData.downloadBinaryData":"Download","runData.executeNode":"Execute Node","runData.executionTime":"Execution Time","runData.fileExtension":"File Extension","runData.fileName":"File Name","runData.invalidPinnedData":"Invalid pinned data","runData.items":"Items","runData.json":"JSON","runData.schema":"Schema","runData.mimeType":"Mime Type","runData.fileSize":"File Size","runData.ms":"ms","runData.noBinaryDataFound":"No binary data found","runData.noData":"No data","runData.noTextDataFound":"No text data found","runData.nodeReturnedALargeAmountOfData":"Node returned a large amount of data","runData.output":"Output","runData.showBinaryData":"View","runData.startTime":"Start Time","runData.table":"Table","runData.pindata.learnMore":"Learn more","runData.pindata.thisDataIsPinned":"This data is pinned.","runData.pindata.unpin":"Unpin","runData.editor.save":"Save","runData.editor.cancel":"Cancel","runData.editor.copyDataInfo":"You can copy data from previous executions and paste it above.","saveButton.save":"@:_reusableBaseText.save","saveButton.saved":"Saved","saveButton.saving":"Saving",settings:WT,"settings.communityNodes":"Community nodes","settings.communityNodes.empty.title":"Supercharge your workflows with community nodes","settings.communityNodes.empty.description":"Install over {count} node packages contributed by our community.","settings.communityNodes.empty.description.no-packages":"Install node packages contributed by our community.","settings.communityNodes.empty.installPackageLabel":"Install a community node","settings.communityNodes.queueMode.warning":'You need to install community nodes manually because your instance is running in queue mode. <a href="{docURL}" target="_blank" title="Read the n8n docs">More info</a>',"settings.communityNodes.npmUnavailable.warning":'To use this feature, please <a href="{npmUrl}" target="_blank" title="How to install npm">install npm</a> and restart n8n.',"settings.communityNodes.notAvailableOnDesktop":"Feature unavailable on desktop. Please self-host to use community nodes.","settings.communityNodes.packageNodes.label":"{count} node | {count} nodes","settings.communityNodes.updateAvailable.tooltip":"A newer version is available","settings.communityNodes.viewDocsAction.label":"Documentation","settings.communityNodes.uninstallAction.label":"Uninstall package","settings.communityNodes.upToDate.tooltip":"You are up to date","settings.communityNodes.failedToLoad.tooltip":"There is a problem with this package, try uninstalling it then reinstalling to resolve this issue","settings.communityNodes.fetchError.title":"Problem fetching installed packages","settings.communityNodes.fetchError.message":"There may be a problem with your internet connection or your n8n instance","settings.communityNodes.installModal.title":"Install community nodes","settings.communityNodes.installModal.description":"Find community nodes to add on the npm public registry.","settings.communityNodes.browseButton.label":"Browse","settings.communityNodes.installModal.packageName.label":"npm Package Name","settings.communityNodes.installModal.packageName.tooltip":"<img src='/static/community_package_tooltip_img.png'/><p>This is the title of the package on <a href='{npmURL}'>npmjs.com</a></p><p>Install a specific version by adding it after {'@'}, e.g. <code>package-name{'@'}0.15.0</code></p>","settings.communityNodes.installModal.packageName.placeholder":"e.g. n8n-nodes-chatwork","settings.communityNodes.installModal.checkbox.label":"I understand the risks of installing unverified code from a public source.","settings.communityNodes.installModal.installButton.label":"Install","settings.communityNodes.installModal.installButton.label.loading":"Installing","settings.communityNodes.installModal.error.packageNameNotValid":"Package name must start with n8n-nodes-","settings.communityNodes.messages.install.success":"Package installed","settings.communityNodes.messages.install.error":"Error installing new package","settings.communityNodes.messages.uninstall.error":"Problem uninstalling package","settings.communityNodes.messages.uninstall.success.title":"Package uninstalled","settings.communityNodes.messages.update.success.title":"Package updated","settings.communityNodes.messages.update.success.message":"{packageName} updated to version {version}","settings.communityNodes.messages.update.error.title":"Problem updating package","settings.communityNodes.confirmModal.uninstall.title":"Uninstall package?","settings.communityNodes.confirmModal.uninstall.message":"Any workflows that use nodes from the {packageName} package won't be able to run. Are you sure?","settings.communityNodes.confirmModal.uninstall.buttonLabel":"Uninstall package","settings.communityNodes.confirmModal.uninstall.buttonLoadingLabel":"Uninstalling","settings.communityNodes.confirmModal.update.title":"Update community node package?","settings.communityNodes.confirmModal.update.message":"You are about to update {packageName} to version {version}","settings.communityNodes.confirmModal.update.description":"We recommend you deactivate workflows that use any of the package's nodes and reactivate them once the update is completed","settings.communityNodes.confirmModal.update.buttonLabel":"Update package","settings.communityNodes.confirmModal.update.buttonLoadingLabel":"Updating...","settings.goBack":"Go back","settings.personal":"Personal","settings.personal.basicInformation":"Basic Information","settings.personal.personalSettings":"Personal Settings","settings.personal.personalSettingsUpdated":"Personal details updated","settings.personal.personalSettingsUpdatedError":"Problem updating your details","settings.personal.save":"Save","settings.personal.security":"Security","settings.signup.signUpInviterInfo":"{firstName} {lastName} has invited you to n8n","settings.users":"Users","settings.users.confirmDataHandlingAfterDeletion":"What should we do with their data?","settings.users.confirmUserDeletion":"Are you sure you want to delete this invited user?","settings.users.delete":"Delete","settings.users.deleteConfirmationMessage":"Type “delete all data” to confirm","settings.users.deleteConfirmationText":"delete all data","settings.users.deleteUser":"Delete {user}","settings.users.actions.delete":"Delete User","settings.users.actions.reinvite":"Resend Invite","settings.users.actions.copyInviteLink":"Copy Invite Link","settings.users.actions.copyPasswordResetLink":"Copy Password Reset Link","settings.users.actions.allowSSOManualLogin":"Allow Manual Login","settings.users.actions.disallowSSOManualLogin":"Disallow Manual Login","settings.users.deleteWorkflowsAndCredentials":"Delete their workflows and credentials","settings.users.emailInvitesSent":"An invite email was sent to {emails}","settings.users.emailInvitesSentError":"Could not invite {emails}","settings.users.emailSentTo":"Email sent to {email}","settings.users.invalidEmailError":"{email} is not a valid email","settings.users.inviteLink.copy":"Copy Invite Link","settings.users.inviteLink.error":"Could not retrieve invite link","settings.users.invite":"Invite","settings.users.invite.tooltip":"SAML login is activated. Users should be created in the IdP and will be provisioned in n8n on their first sign on.","settings.users.inviteNewUsers":"Invite new users","settings.users.copyInviteUrls":"You can now send the invitation links directly to your users","settings.users.inviteResent":"Invite resent","settings.users.inviteUser":"Invite user","settings.users.inviteUser.inviteUrl":"Create invite link","settings.users.inviteXUser":"Invite {count} users","settings.users.inviteXUser.inviteUrl":"Create {count} invite links","settings.users.inviteUrlCreated":"Invite link copied to clipboard","settings.users.inviteUrlCreated.message":"Send the invite link to your invitee for activation","settings.users.passwordResetUrlCreated":"Password reset link copied to clipboard","settings.users.passwordResetUrlCreated.message":"Send the reset link to your user for them to reset their password","settings.users.allowSSOManualLogin":"Manual Login Allowed","settings.users.allowSSOManualLogin.message":"User can now login manually and through SSO","settings.users.disallowSSOManualLogin":"Manual Login Disallowed","settings.users.disallowSSOManualLogin.message":"User must now login through SSO only","settings.users.multipleInviteUrlsCreated":"Invite links created","settings.users.multipleInviteUrlsCreated.message":"Send the invite links to your invitees for activation","settings.users.newEmailsToInvite":"New User Email Addresses","settings.users.noUsersToInvite":"No users to invite","settings.users.setupMyAccount":"Set up my owner account","settings.users.setupToInviteUsers":"To invite users, set up your own account","settings.users.setupToInviteUsersInfo":'Invited users won’t be able to see workflows and credentials of other users unless you upgrade. <a href="https://docs.n8n.io/user-management/" target="_blank">More info</a> <br /> <br />',"settings.users.smtpToAddUsersWarning":'Set up SMTP before adding users (so that n8n can send them invitation emails). <a target="_blank" href="https://docs.n8n.io/hosting/authentication/user-management-self-hosted/">Instructions</a>',"settings.users.transferWorkflowsAndCredentials":"Transfer their workflows and credentials to another user","settings.users.transferredToUser":"Data transferred to {user}","settings.users.userDeleted":"User deleted","settings.users.userDeletedError":"Problem while deleting user","settings.users.userInvited":"User invited","settings.users.userInvitedError":"User could not be invited","settings.users.userReinviteError":"Could not reinvite user","settings.users.userToTransferTo":"User to transfer to","settings.users.usersEmailedError":"Couldn't send invite email","settings.users.usersInvited":"Users invited","settings.users.usersInvitedError":"Could not invite users","settings.api":"API","settings.n8napi":"n8n API","settings.log-streaming":"Log Streaming","settings.log-streaming.heading":"Log Streaming","settings.log-streaming.add":"Add new destination","settings.log-streaming.actionBox.title":"Available on the Enterprise plan","settings.log-streaming.actionBox.description":"Log Streaming is available as a paid feature. Learn more about it.","settings.log-streaming.actionBox.button":"See plans","settings.log-streaming.infoText":'Send logs to external endpoints of your choice. You can also write logs to a file or the console using environment variables. <a href="https://docs.n8n.io/log-streaming/" target="_blank">More info</a>',"settings.log-streaming.addFirstTitle":"Set up a destination to get started","settings.log-streaming.addFirst":"Add your first destination by clicking on the button and selecting a destination type.","settings.log-streaming.saving":"Saving","settings.log-streaming.delete":"Delete","settings.log-streaming.continue":"Continue","settings.log-streaming.selecttype":"Select type to create","settings.log-streaming.selecttypehint":"Select the type for the new log stream destination","settings.log-streaming.tab.settings":"Settings","settings.log-streaming.tab.events":"Events","settings.log-streaming.tab.events.title":"Select groups or single events to subscribe to:","settings.log-streaming.tab.events.anonymize":"Anonymize sensitive data","settings.log-streaming.tab.events.anonymize.info":"Fields containing personal information like name or email are anonymized","settings.log-streaming.eventGroup.n8n.audit":"Audit Events","settings.log-streaming.eventGroup.n8n.audit.info":"Will send events when user details or other audit data changes","settings.log-streaming.eventGroup.n8n.workflow":"Workflow Events","settings.log-streaming.eventGroup.n8n.workflow.info":"Will send workflow execution events","settings.log-streaming.eventGroup.n8n.user":"User","settings.log-streaming.eventGroup.n8n.node":"Node Executions","settings.log-streaming.eventGroup.n8n.node.info":"Will send step-wise execution events every time a node executes. Please note that this can lead to a high frequency of logged events and is probably not suitable for general use.","settings.log-streaming.$$AbstractMessageEventBusDestination":"Generic","settings.log-streaming.$$MessageEventBusDestinationWebhook":"Webhook","settings.log-streaming.$$MessageEventBusDestinationSentry":"Sentry","settings.log-streaming.$$MessageEventBusDestinationRedis":"Redis","settings.log-streaming.$$MessageEventBusDestinationSyslog":"Syslog","settings.log-streaming.destinationDelete.cancelButtonText":"","settings.log-streaming.destinationDelete.confirmButtonText":"Yes, delete","settings.log-streaming.destinationDelete.headline":"Delete Destination?","settings.log-streaming.destinationDelete.message":"Are you sure that you want to delete '{destinationName}'?","settings.log-streaming.addDestination":"Add new destination","settings.log-streaming.destinations":"Log destinations","settings.api.trial.upgradePlan.title":"Upgrade to use API","settings.api.trial.upgradePlan.description":`To prevent abuse, we limit API access to your workspace during your trial. If this is hindering your evaluation of n8n, please contact <a href="mailto:support{'@'}n8n.io">support{'@'}n8n.io</a>`,"settings.api.trial.upgradePlan.cta":"Upgrade plan","settings.api.create.description":'Control n8n programmatically using the <a href="https://docs.n8n.io/api" target="_blank">n8n API</a>',"settings.api.create.button":"Create an API Key","settings.api.create.button.loading":"Creating API Key...","settings.api.create.error":"Creating the API Key failed.","settings.api.delete.title":"Delete this API Key?","settings.api.delete.description":"Any application using this API Key will no longer have access to n8n. This operation cannot be undone.","settings.api.delete.button":"Delete Forever","settings.api.delete.error":"Deleting the API Key failed.","settings.api.delete.toast":"API Key deleted","settings.api.view.copy.toast":"API Key copied to clipboard","settings.api.view.apiPlayground":"API Playground","settings.api.view.info":"Use your API Key to control n8n programmatically using the {apiAction}. But if you only want to trigger workflows, consider using the {webhookAction} instead.","settings.api.view.info.api":"n8n API","settings.api.view.info.webhook":"webhook node","settings.api.view.myKey":"My API Key","settings.api.view.tryapi":"Try it out using the","settings.api.view.more-details":"You can find more details in","settings.api.view.external-docs":"the API documentation","settings.api.view.error":"Could not check if an api key already exists.","settings.version":"Version","settings.usageAndPlan.title":"Usage and plan","settings.usageAndPlan.description":"You’re on the {name} {type}","settings.usageAndPlan.plan":"Plan","settings.usageAndPlan.edition":"Edition","settings.usageAndPlan.error":"@:_reusableBaseText.error","settings.usageAndPlan.activeWorkflows":"Active workflows","settings.usageAndPlan.activeWorkflows.unlimited":"@:_reusableBaseText.unlimited","settings.usageAndPlan.activeWorkflows.count":"{count} of {limit}","settings.usageAndPlan.activeWorkflows.hint":"Active workflows with multiple triggers count multiple times","settings.usageAndPlan.button.activation":"Enter activation key","settings.usageAndPlan.button.plans":"View plans","settings.usageAndPlan.button.manage":"Manage plan","settings.usageAndPlan.dialog.activation.title":"Enter activation key","settings.usageAndPlan.dialog.activation.label":"Activation key","settings.usageAndPlan.dialog.activation.activate":"@:_reusableBaseText.activate","settings.usageAndPlan.dialog.activation.cancel":"@:_reusableBaseText.cancel","settings.usageAndPlan.license.activation.error.title":"Activation failed","settings.usageAndPlan.license.activation.success.title":"License activated","settings.usageAndPlan.license.activation.success.message":"Your {name} {type} has been successfully activated.","settings.usageAndPlan.desktop.title":"Upgrade to n8n Cloud for the full experience","settings.usageAndPlan.desktop.description":"Cloud plans allow you to collaborate with teammates. Plus you don’t need to leave this app open all the time for your workflows to run.","settings.sourceControl.title":"Environments","settings.sourceControl.actionBox.title":"Available on the Enterprise plan","settings.sourceControl.actionBox.description":"Use multiple instances for different environments (dev, prod, etc.), deploying between them via a Git repository.","settings.sourceControl.actionBox.description.link":"More info","settings.sourceControl.actionBox.buttonText":"See plans","settings.sourceControl.description":"Use multiple instances for different environments (dev, prod, etc.), deploying between them via a Git repository. {link}","settings.sourceControl.description.link":"More info","settings.sourceControl.gitConfig":"Git configuration","settings.sourceControl.repoUrl":"Git repository URL (SSH)","settings.sourceControl.repoUrlPlaceholder":"e.g. git{'@'}github.com:my-team/my-repository","settings.sourceControl.repoUrlInvalid":"The Git repository URL is not valid","settings.sourceControl.authorName":"Commit author  name","settings.sourceControl.authorEmail":"Commit author  email","settings.sourceControl.authorEmailInvalid":"The provided email is not correct","settings.sourceControl.sshKey":"SSH Key","settings.sourceControl.sshKeyDescription":"Paste the SSH key in your git repository/account settings. {link}","settings.sourceControl.sshKeyDescriptionLink":"More info","settings.sourceControl.refreshSshKey":"Refresh Key","settings.sourceControl.refreshSshKey.successful.title":"SSH Key refreshed successfully","settings.sourceControl.refreshSshKey.error.title":"SSH Key refresh failed","settings.sourceControl.button.continue":"Continue","settings.sourceControl.button.connect":"Connect","settings.sourceControl.button.disconnect":"Disconnect Git","settings.sourceControl.button.save":"Save settings","settings.sourceControl.instanceSettings":"Instance settings","settings.sourceControl.branches":"Branch connected to this n8n instance","settings.sourceControl.protected":"{bold}: prevent editing workflows (recommended for production environments).","settings.sourceControl.protected.bold":"Protected instance","settings.sourceControl.color":"Color","settings.sourceControl.switchBranch.title":"Switch to {branch} branch","settings.sourceControl.switchBranch.description":"Please confirm you want to switch the current n8n instance to the branch: {branch}","settings.sourceControl.sync.prompt.title":"Sync changes in {branch} branch","settings.sourceControl.sync.prompt.description":"All the changes on your n8n instances will be synced with branch {branch} on the remote git repository. The following git sequence will be executed: pull > commit > push.","settings.sourceControl.sync.prompt.placeholder":"Commit message","settings.sourceControl.sync.prompt.error":"Please enter a commit message","settings.sourceControl.button.push":"Push","settings.sourceControl.button.pull":"Pull","settings.sourceControl.modals.push.title":"Commit and push changes","settings.sourceControl.modals.push.description":"Workflows you push will overwrite any existing versions in the repository. ","settings.sourceControl.modals.push.description.learnMore":"More info","settings.sourceControl.modals.push.filesToCommit":"Files to commit","settings.sourceControl.modals.push.workflowsToCommit":"Select workflows","settings.sourceControl.modals.push.everythingIsUpToDate":"Everything is up to date","settings.sourceControl.modals.push.noWorkflowChanges":"No workflow changes to push. Only modified credentials, variables, and tags will be pushed. {link}","settings.sourceControl.modals.push.noWorkflowChanges.moreInfo":"More info","settings.sourceControl.modals.push.commitMessage":"Commit message","settings.sourceControl.modals.push.commitMessage.placeholder":"e.g. My commit","settings.sourceControl.modals.push.buttons.cancel":"Cancel","settings.sourceControl.modals.push.buttons.save":"Commit and Push","settings.sourceControl.modals.push.success.title":"Pushed successfully","settings.sourceControl.modals.push.success.description":"The files you selected were committed and pushed to the remote repository","settings.sourceControl.status.modified":"Modified","settings.sourceControl.status.deleted":"Deleted","settings.sourceControl.status.created":"New","settings.sourceControl.pull.oneLastStep.title":"One last step","settings.sourceControl.pull.oneLastStep.description":"You have new creds/vars. Fill them out to make sure your workflows function properly","settings.sourceControl.pull.success.title":"Pulled successfully","settings.sourceControl.pull.upToDate.title":"Up to date","settings.sourceControl.pull.upToDate.description":"No workflow changes to pull from Git","settings.sourceControl.modals.pull.title":"Pull changes","settings.sourceControl.modals.pull.description":"These workflows will be updated, and any local changes to them will be overridden. To keep the local version, push it before pulling.","settings.sourceControl.modals.pull.description.learnMore":"More info","settings.sourceControl.modals.pull.buttons.cancel":"@:_reusableBaseText.cancel","settings.sourceControl.modals.pull.buttons.save":"Pull and override","settings.sourceControl.modals.disconnect.title":"Disconnect Git repository","settings.sourceControl.modals.disconnect.message":"Please confirm you want to disconnect this n8n instance from the Git repository","settings.sourceControl.modals.disconnect.confirm":"Disconnect Git","settings.sourceControl.modals.disconnect.cancel":"@:_reusableBaseText.cancel","settings.sourceControl.modals.refreshSshKey.title":"Refresh SSH Key","settings.sourceControl.modals.refreshSshKey.message":"This will delete the current SSH key and create a new one. You will not be able to authenticate with the current key anymore.","settings.sourceControl.modals.refreshSshKey.cancel":"Cancel","settings.sourceControl.modals.refreshSshKey.confirm":"Refresh key","settings.sourceControl.loading.connecting":"Connecting","settings.sourceControl.toast.connected.title":"Git repository connected","settings.sourceControl.toast.connected.message":"Select the branch to complete the configuration","settings.sourceControl.toast.connected.error":"Error connecting to Git","settings.sourceControl.toast.disconnected.title":"Git repository disconnected","settings.sourceControl.toast.disconnected.message":"You can no longer sync your instance with the remote repository","settings.sourceControl.toast.disconnected.error":"Error disconnecting from Git","settings.sourceControl.loading.pull":"Pulling from remote","settings.sourceControl.loading.checkingForChanges":"Checking for changes","settings.sourceControl.loading.push":"Pushing to remote","settings.sourceControl.lastUpdated":"Last updated {date} at {time}","settings.sourceControl.saved.title":"Settings successfully saved","settings.sourceControl.refreshBranches.tooltip":"Reload branches list","settings.sourceControl.refreshBranches.success":"Branches successfully refreshed","settings.sourceControl.refreshBranches.error":"Error refreshing branches","settings.sourceControl.docs.url":"https://docs.n8n.io/source-control-environments/","settings.sourceControl.docs.setup.url":"https://docs.n8n.io/source-control-environments/setup/","settings.sourceControl.docs.setup.ssh.url":"https://docs.n8n.io/source-control-environments/setup/#step-3-set-up-a-deploy-key","settings.sourceControl.docs.using.url":"https://docs.n8n.io/source-control-environments/using/","settings.sourceControl.docs.using.pushPull.url":"https://docs.n8n.io/source-control-environments/using/push-pull","showMessage.cancel":"@:_reusableBaseText.cancel","settings.auditLogs.title":"Audit Logs","settings.auditLogs.actionBox.title":"Available on the Enterprise plan","settings.auditLogs.actionBox.description":"Upgrade to see the audit logs of your n8n instance.","settings.auditLogs.actionBox.buttonText":"See plans","showMessage.ok":"OK","showMessage.showDetails":"Show Details",startupError:jT,"startupError.message":"Could not connect to server. <a data-action='reload'>Refresh</a> to try again","tagsDropdown.createTag":'Create tag "{filter}"',"tagsDropdown.manageTags":"Manage tags","tagsDropdown.noMatchingTagsExist":"No matching tags exist","tagsDropdown.noTagsExist":"No tags exist","tagsDropdown.showError.message":"A problem occurred when trying to create the '{name}' tag","tagsDropdown.showError.title":"Could not create tag","tagsDropdown.typeToCreateATag":"Type to create a tag","tagsManager.couldNotDeleteTag":"Could not delete tag","tagsManager.done":"Done","tagsManager.manageTags":"Manage tags","tagsManager.showError.onCreate.message":"A problem occurred when trying to create the tag '{escapedName}'","tagsManager.showError.onCreate.title":"Could not create tag","tagsManager.showError.onDelete.message":"A problem occurred when trying to delete the tag '{escapedName}'","tagsManager.showError.onDelete.title":"Could not delete tag","tagsManager.showError.onUpdate.message":"A problem occurred when trying to update the tag '{escapedName}'","tagsManager.showError.onUpdate.title":"Could not update tag","tagsManager.showMessage.onDelete.title":"Tag deleted","tagsManager.showMessage.onUpdate.title":"Tag updated","tagsManager.tagNameCannotBeEmpty":"Tag name cannot be empty","tagsTable.areYouSureYouWantToDeleteThisTag":"Are you sure you want to delete this tag?","tagsTable.cancel":"@:_reusableBaseText.cancel","tagsTable.createTag":"Create tag","tagsTable.deleteTag":"Delete tag","tagsTable.editTag":"Edit Tag","tagsTable.name":"@:_reusableBaseText.name","tagsTable.noMatchingTagsExist":"No matching tags exist","tagsTable.saveChanges":"Save changes?","tagsTable.usage":"Usage","tagsTableHeader.addNew":"Add new","tagsTableHeader.searchTags":"Search Tags","tagsView.inUse":"{count} workflow | {count} workflows","tagsView.notBeingUsed":"Not being used","template.buttons.goBackButton":"Go back","template.buttons.useThisWorkflowButton":"Use this workflow","template.details.appsInTheCollection":"This collection features","template.details.appsInTheWorkflow":"Apps in this workflow","template.details.by":"by","template.details.categories":"Categories","template.details.created":"Created","template.details.details":"Details","template.details.times":"times","template.details.viewed":"Viewed","templates.allCategories":"All Categories","templates.categoriesHeading":"Categories","templates.collection":"Collection","templates.collections":"Collections","templates.collectionsNotFound":"Collection could not be found","templates.connectionWarning":"⚠️ There was a problem fetching workflow templates. Check your internet connection.","templates.heading":"Workflow templates","templates.newButton":"New blank workflow","templates.noSearchResults":"Nothing found. Try adjusting your search to see more.","templates.searchPlaceholder":"Search workflows","templates.workflows":"Workflows","templates.workflowsNotFound":"Workflow could not be found","textEdit.edit":"Edit","timeAgo.daysAgo":"%s days ago","timeAgo.hoursAgo":"%s hours ago","timeAgo.inDays":"in %s days","timeAgo.inHours":"in %s hours","timeAgo.inMinutes":"in %s minutes","timeAgo.inMonths":"in %s months","timeAgo.inOneDay":"in 1 day","timeAgo.inOneHour":"in 1 hour","timeAgo.inOneMinute":"in 1 minute","timeAgo.inOneMonth":"in 1 month","timeAgo.inOneWeek":"in 1 week","timeAgo.inOneYear":"in 1 year","timeAgo.inWeeks":"in %s weeks","timeAgo.inYears":"in %s years","timeAgo.justNow":"Just now","timeAgo.minutesAgo":"%s minutes ago","timeAgo.monthsAgo":"%s months ago","timeAgo.oneDayAgo":"1 day ago","timeAgo.oneHourAgo":"1 hour ago","timeAgo.oneMinuteAgo":"1 minute ago","timeAgo.oneMonthAgo":"1 month ago","timeAgo.oneWeekAgo":"1 week ago","timeAgo.oneYearAgo":"1 year ago","timeAgo.rightNow":"Right now","timeAgo.weeksAgo":"%s weeks ago","timeAgo.yearsAgo":"%s years ago","nodeIssues.credentials.notSet":"Credentials for {type} are not set.","nodeIssues.credentials.notAvailable":"Credential is not available","nodeIssues.credentials.doNotExist":"Credentials with name {name} do not exist for {type}.","nodeIssues.credentials.doNotExist.hint":"You can create credentials with the exact name and then they get auto-selected on refresh..","nodeIssues.credentials.notIdentified":"Credentials with name {name} exist for {type}.","nodeIssues.credentials.notIdentified.hint":"Credentials are not clearly identified. Please select the correct credentials.","ndv.trigger.moreInfo":"More info","ndv.trigger.copiedTestUrl":"Test URL copied to clipboard","ndv.trigger.webhookBasedNode.executionsHelp.inactive":`<b>While building your workflow</b>, click the 'listen' button, then go to {service} and make an event happen. This will trigger an execution, which will show up in this editor.<br /> <br /> <b>Once you're happy with your workflow</b>, <a data-key="activate">activate</a> it. Then every time there's a matching event in {service}, the workflow will execute. These executions will show up in the <a data-key="executions">executions list</a>, but not in the editor.`,"ndv.trigger.webhookBasedNode.executionsHelp.active":`<b>While building your workflow</b>, click the 'listen' button, then go to {service} and make an event happen. This will trigger an execution, which will show up in this editor.<br /> <br /> <b>Your workflow will also execute automatically</b>, since it's activated. Every time there’s a matching event in {service}, this node will trigger an execution. These executions will show up in the <a data-key="executions">executions list</a>, but not in the editor. `,"ndv.trigger.webhookNode.listening":"Listening for test event","ndv.trigger.webhookBasedNode.listening":"Listening for your trigger event","ndv.trigger.webhookNode.requestHint":"Make a {type} request to:","ndv.trigger.webhookBasedNode.serviceHint":"Go to {service} and create an event","ndv.trigger.webhookBasedNode.activationHint.inactive":'Once you’ve finished building your workflow, <a data-key="activate">activate it</a> to have it also listen continuously (you just won’t see those executions here).',"ndv.trigger.webhookBasedNode.activationHint.active":"This node will also trigger automatically on new {service} events (but those executions won’t show up here).","ndv.trigger.pollingNode.activationHint.inactive":'Once you’ve finished building your workflow, <a data-key="activate">activate it</a> to have it also check for events regularly (you just won’t see those executions here).',"ndv.trigger.pollingNode.activationHint.active":"This node will also trigger automatically on new {service} events (but those executions won’t show up here).","ndv.trigger.executionsHint.question":"When will this node trigger my flow?","ndv.trigger.pollingNode.fetchingEvent":"Fetching event","ndv.trigger.pollingNode.fetchingHint":"This node is looking for an event in {name} that is similar to the one you defined","ndv.trigger.pollingNode.executionsHelp.inactive":`<b>While building your workflow</b>, click the 'fetch' button to fetch a single mock event. It will show up in this editor.<br /><br /><b>Once you're happy with your workflow</b>, <a data-key="activate">activate</a> it. Then n8n will regularly check {service} for new events, and execute this workflow if it finds any. These executions will show up in the <a data-key="executions">executions list</a>, but not in the editor.`,"ndv.trigger.pollingNode.executionsHelp.active":`<b>While building your workflow</b>, click the 'fetch' button to fetch a single mock event. It will show up in this editor.<br /><br /><b>Your workflow will also execute automatically</b>, since it's activated. n8n will regularly check {app_name} for new events, and execute this workflow if it finds any. These executions will show up in the <a data-key="executions">executions list</a>, but not in the editor.`,"ndv.trigger.webhookBasedNode.action":"Pull in events from {name}","updatesPanel.andIs":"and is","updatesPanel.behindTheLatest":"behind the latest and greatest n8n","updatesPanel.howToUpdateYourN8nVersion":"How to update your n8n version","updatesPanel.version":"{numberOfVersions} version{howManySuffix}","updatesPanel.weVeBeenBusy":"We’ve been busy ✨","updatesPanel.youReOnVersion":"You’re on {currentVersionName}, which was released","variableSelector.context":"Context","variableSelector.currentNode":"Current Node","variableSelector.nodes":"Nodes","variableSelector.outputData":"Output Data","variableSelector.parameters":"Parameters","variableSelector.variableFilter":"Variable filter...","variableSelectorItem.binary":"Binary","variableSelectorItem.currentNode":"Current Node","variableSelectorItem.empty":"--- EMPTY ---","variableSelectorItem.inputData":"Input Data","variableSelectorItem.json":"JSON","variableSelectorItem.selectItem":"Select Item","versionCard.breakingChanges":"Breaking changes","versionCard.released":"Released","versionCard.securityUpdate":"Security update","versionCard.thisVersionHasASecurityIssue":"This version has a security issue.<br />It is listed here for completeness.","versionCard.unknown":"unknown","versionCard.version":"Version","workflowActivator.workflowIsActive":"Workflow is already active","workflowActivator.activateWorkflow":"Activate workflow","workflowActivator.deactivateWorkflow":"Deactivate workflow","workflowActivator.active":"Active","workflowActivator.inactive":"Inactive","workflowActivator.showError.title":"Workflow could not be {newStateName}","workflowActivator.showMessage.activeChangedNodesIssuesExistTrue.message":"Please resolve outstanding issues before you activate it","workflowActivator.showMessage.activeChangedNodesIssuesExistTrue.title":"Problem activating workflow","workflowActivator.showMessage.activeChangedWorkflowIdUndefined.message":"Please save it before activating","workflowActivator.showMessage.activeChangedWorkflowIdUndefined.title":"Problem activating workflow","workflowActivator.showMessage.displayActivationError.message.catchBlock":"Sorry there was a problem requesting the error","workflowActivator.showMessage.displayActivationError.message.errorDataNotUndefined":"The following error occurred on workflow activation:<br /><i>{message}</i>","workflowActivator.showMessage.displayActivationError.message.errorDataUndefined":"Unknown error","workflowActivator.showMessage.displayActivationError.title":"Problem activating workflow","workflowActivator.theWorkflowIsSetToBeActiveBut":"The workflow is activated but could not be started.<br />Click to display error message.","workflowActivator.thisWorkflowHasNoTriggerNodes":"This workflow has no trigger nodes that require activation","workflowDetails.share":"Share","workflowDetails.active":"Active","workflowDetails.addTag":"Add tag","workflowDetails.chooseOrCreateATag":"Choose or create a tag","workflowDetails.showMessage.message":"Please enter a name, or press 'esc' to go back to the old one","workflowDetails.showMessage.title":"Name missing","workflowHelpers.showMessage.title":"Problem saving workflow","workflowOpen.active":"Active","workflowOpen.couldNotLoadActiveWorkflows":"Could not load active workflows","workflowOpen.created":"Created","workflowOpen.filterWorkflows":"Filter by tags","workflowOpen.name":"@:_reusableBaseText.name","workflowOpen.openWorkflow":"Open Workflow","workflowOpen.searchWorkflows":"Search workflows...","workflowOpen.showError.title":"Problem loading workflows","workflowOpen.showMessage.message":"This is the current workflow","workflowOpen.showMessage.title":"Workflow already open","workflowOpen.updated":"Updated","workflowOpen.newWFButton.label":"Add workflow","workflowOpen.newWFButton.title":"Create a new workflow","workflowPreview.showError.arrayEmpty":"Must have an array of nodes","workflowPreview.showError.missingWorkflow":"Missing workflow","workflowPreview.showError.previewError.message":"Unable to preview workflow","workflowPreview.showError.missingExecution":"Missing workflow execution","workflowPreview.executionMode.showError.previewError.message":"Unable to preview workflow execution","workflowPreview.showError.previewError.title":"Preview error","workflowRun.noActiveConnectionToTheServer":"Lost connection to the server","workflowRun.showError.title":"Problem running workflow","workflowRun.showMessage.message":"Please fix them before executing","workflowRun.showMessage.title":"Workflow has issues","workflowSettings.callerIds":"IDs of workflows that can call this one","workflowSettings.callerIds.placeholder":"e.g. 14, 18","workflowSettings.callerPolicy":"This workflow can be called by","workflowSettings.callerPolicy.options.any":"Any workflow","workflowSettings.callerPolicy.options.workflowsFromSameOwner":"Workflows created by {owner}","workflowSettings.callerPolicy.options.workflowsFromSameOwner.owner":"me","workflowSettings.callerPolicy.options.workflowsFromSameOwner.fallback":"same owner","workflowSettings.callerPolicy.options.workflowsFromAList":"Selected workflows","workflowSettings.callerPolicy.options.none":"No other workflows","workflowSettings.defaultTimezone":"Default - {defaultTimezoneValue}","workflowSettings.defaultTimezoneNotValid":"Default Timezone not valid","workflowSettings.errorWorkflow":"Error Workflow","workflowSettings.executionOrder":"Execution Order","workflowSettings.helpTexts.errorWorkflow":"A second workflow to run if the current one fails.<br />The second workflow should an 'Error Trigger' node.","workflowSettings.helpTexts.executionTimeout":"How long the workflow should wait before timing out","workflowSettings.helpTexts.executionTimeoutToggle":"Whether to cancel workflow execution after a defined time","workflowSettings.helpTexts.saveDataErrorExecution":"Whether to save data of executions that fail","workflowSettings.helpTexts.saveDataSuccessExecution":"Whether to save data of executions that finish successfully","workflowSettings.helpTexts.saveExecutionProgress":"Whether to save data after each node execution. This allows you to resume from where execution stopped if there is an error, but may increase latency.","workflowSettings.helpTexts.saveManualExecutions":"Whether to save data of executions that are started manually from the editor","workflowSettings.helpTexts.timezone":"The timezone in which the workflow should run. Used by 'cron' node, for example.","workflowSettings.helpTexts.workflowCallerIds":"The IDs of the workflows that are allowed to execute this one (using an ‘execute workflow’ node). The ID can be found at the end of the workflow’s URL. Separate multiple IDs by commas.","workflowSettings.helpTexts.workflowCallerPolicy":"Workflows that are allowed to call this workflow using the Execute Workflow node","workflowSettings.hours":"hours","workflowSettings.minutes":"minutes","workflowSettings.noWorkflow":"- No Workflow -","workflowSettings.save":"@:_reusableBaseText.save","workflowSettings.saveDataErrorExecution":"Save failed production executions","workflowSettings.saveDataErrorExecutionOptions.defaultSave":"Default - {defaultValue}","workflowSettings.saveDataErrorExecutionOptions.doNotSave":"Do not save","workflowSettings.saveDataErrorExecutionOptions.save":"@:_reusableBaseText.save","workflowSettings.saveDataSuccessExecution":"Save successful production executions","workflowSettings.saveDataSuccessExecutionOptions.defaultSave":"Default - {defaultValue}","workflowSettings.saveDataSuccessExecutionOptions.doNotSave":"Do not save","workflowSettings.saveDataSuccessExecutionOptions.save":"@:_reusableBaseText.save","workflowSettings.saveExecutionProgress":"Save execution progress","workflowSettings.saveExecutionProgressOptions.defaultSave":"Default - {defaultValue}","workflowSettings.saveExecutionProgressOptions.no":"No","workflowSettings.saveExecutionProgressOptions.yes":"Yes","workflowSettings.saveManualExecutions":"Save manual executions","workflowSettings.saveManualOptions.defaultSave":"Default - {defaultValue}","workflowSettings.saveManualOptions.no":"No","workflowSettings.saveManualOptions.yes":"Yes","workflowSettings.seconds":"seconds","workflowSettings.selectOption":"Select Option","workflowSettings.settingsFor":"Workflow settings for {workflowName} (#{workflowId})","workflowSettings.showError.saveSettings1.errorMessage":"Timeout is activated but set to 0","workflowSettings.showError.saveSettings1.message":"There was a problem saving the settings","workflowSettings.showError.saveSettings1.title":"Problem saving settings","workflowSettings.showError.saveSettings2.errorMessage":"Maximum Timeout is: {hours} hours, {minutes} minutes, {seconds} seconds","workflowSettings.showError.saveSettings2.message":"The timeout is longer than allowed","workflowSettings.showError.saveSettings2.title":"Problem saving settings","workflowSettings.showError.saveSettings3.title":"Problem saving settings","workflowSettings.showMessage.saveSettings.title":"Workflow settings saved","workflowSettings.timeoutAfter":"Timeout After","workflowSettings.timeoutWorkflow":"Timeout Workflow","workflowSettings.timezone":"Timezone","workflows.heading":"Workflows","workflows.add":"Add Workflow","workflows.menu.my":"My workflows","workflows.menu.all":"All workflows","workflows.item.open":"Open","workflows.item.share":"Share...","workflows.item.duplicate":"Duplicate","workflows.item.delete":"Delete","workflows.item.updated":"Last updated","workflows.item.created":"Created","workflows.item.owner":"Owner","workflows.search.placeholder":"Search workflows...","workflows.filters":"Filters","workflows.filters.tags":"Tags","workflows.filters.status":"Status","workflows.filters.status.all":"All","workflows.filters.status.active":"Active","workflows.filters.status.deactivated":"Deactivated","workflows.filters.ownedBy":"Owned by","workflows.filters.sharedWith":"Shared with","workflows.filters.apply":"Apply filters","workflows.filters.reset":"Reset all","workflows.filters.active":"Some workflows may be hidden since filters are applied.","workflows.filters.active.reset":"Remove filters","workflows.sort.lastUpdated":"Sort by last updated","workflows.sort.lastCreated":"Sort by last created","workflows.sort.nameAsc":"Sort by name (A-Z)","workflows.sort.nameDesc":"Sort by name (Z-A)","workflows.noResults":"No workflows found","workflows.noResults.withSearch.switchToShared.preamble":"some workflows may be","workflows.noResults.withSearch.switchToShared.link":"hidden","workflows.noResults.switchToShared.preamble":"but there are some","workflows.noResults.switchToShared.link":"shared with you","workflows.empty.heading":"👋 Welcome {name}!","workflows.empty.heading.userNotSetup":"👋 Welcome!","workflows.empty.description":"Create your first workflow","workflows.empty.description.readOnlyEnv":"No workflows here yet","workflows.empty.startFromScratch":"Start from scratch","workflows.shareModal.title":"Share '{name}'","workflows.shareModal.select.placeholder":"Add users...","workflows.shareModal.list.delete":"Remove access","workflows.shareModal.list.delete.confirm.title":"Remove {name}'s access?","workflows.shareModal.list.delete.confirm.lastUserWithAccessToCredentials.message":"If you do this, the workflow will lose access to {name}’s credentials. <strong>Nodes that use those credentials will stop working</strong>.","workflows.shareModal.list.delete.confirm.confirmButtonText":"Remove access","workflows.shareModal.list.delete.confirm.cancelButtonText":"Cancel","workflows.shareModal.onSave.success.title":"Sharing updated","workflows.shareModal.onSave.error.title":"There was a problem saving sharing settings","workflows.shareModal.saveBeforeClose.title":"Save sharing changes?","workflows.shareModal.saveBeforeClose.message":"You have unsaved changes. Do you want to save them before closing?","workflows.shareModal.saveBeforeClose.confirmButtonText":"Save","workflows.shareModal.saveBeforeClose.cancelButtonText":"Close without saving","workflows.shareModal.save":"Save","workflows.shareModal.changesHint":"You made changes","workflows.shareModal.isDefaultUser.description":"You first need to set up your owner account to enable workflow sharing features.","workflows.shareModal.isDefaultUser.button":"Go to settings","workflows.shareModal.info.sharee":"Only {workflowOwnerName} can change who this workflow is shared with","workflows.shareModal.info.sharee.fallback":"the owner","workflows.roles.editor":"Editor","workflows.concurrentChanges.confirmMessage.title":"Workflow was changed by someone else","workflows.concurrentChanges.confirmMessage.message":'Someone saved this workflow while you were editing it. You can <a href="{url}" target="_blank">view their version</a> (in new tab).<br/><br/>Overwrite their changes with yours?',"workflows.concurrentChanges.confirmMessage.cancelButtonText":"Cancel","workflows.concurrentChanges.confirmMessage.confirmButtonText":"Overwrite and Save","importCurlModal.title":"Import cURL command","importCurlModal.input.label":"cURL Command","importCurlModal.input.placeholder":"Paste the cURL command here","ImportCurlModal.notice.content":"This will overwrite any changes you have already made","importCurlModal.button.label":"Import","importParameter.label":"Import cURL","importParameter.showError.invalidCurlCommand.title":"Couldn’t import cURL command","importParameter.showError.invalidCurlCommand.message":"This command is in an unsupported format","importParameter.showError.invalidProtocol1.title":"Use the {node} node","importParameter.showError.invalidProtocol2.title":"Invalid Protocol","importParameter.showError.invalidProtocol.message":"The HTTP node doesn’t support {protocol} requests","variables.heading":"Variables","variables.add":"Add Variable","variables.add.unavailable":"Upgrade plan to keep using variables","variables.add.unavailable.empty":"Upgrade plan to start using variables","variables.add.onlyOwnerCanCreate":"Only owner can create variables","variables.empty.heading":"{name}, let's set up a variable","variables.empty.heading.userNotSetup":"Set up a variable","variables.empty.description":"Variables can be used to store data that can be referenced easily across multiple workflows.","variables.empty.button":"Add first variable","variables.empty.notAllowedToCreate.heading":"{name}, start using variables","variables.empty.notAllowedToCreate.description":"Ask your n8n instance owner to create the variables you need. Once configured, you can utilize them in your workflows using the syntax $vars.MY_VAR.","variables.noResults":"No variables found","variables.sort.nameAsc":"Sort by name (A-Z)","variables.sort.nameDesc":"Sort by name (Z-A)","variables.table.key":"Key","variables.table.value":"Value","variables.table.usage":"Usage Syntax","variables.editing.key.placeholder":"Enter a name","variables.editing.value.placeholder":"Enter a value","variables.editing.key.error.startsWithLetter":"This field may only start with a letter","variables.editing.key.error.jsonKey":"This field may contain only letters, numbers, and underscores","variables.row.button.save":"Save","variables.row.button.cancel":"Cancel","variables.row.button.edit":"Edit","variables.row.button.edit.onlyOwnerCanSave":"Only owner can edit variables","variables.row.button.delete":"Delete","variables.row.button.delete.onlyOwnerCanDelete":"Only owner can delete variables","variables.row.usage.copiedToClipboard":"Copied to clipboard","variables.row.usage.copyToClipboard":"Copy to clipboard","variables.search.placeholder":"Search variables...","variables.errors.save":"Error while saving variable","variables.errors.delete":"Error while deleting variable","variables.modals.deleteConfirm.title":"Delete variable","variables.modals.deleteConfirm.message":'Are you sure you want to delete the variable "{name}"? This cannot be undone.',"variables.modals.deleteConfirm.confirmButton":"Delete","variables.modals.deleteConfirm.cancelButton":"Cancel","contextual.credentials.sharing.unavailable.title":"Upgrade to collaborate","contextual.credentials.sharing.unavailable.title.cloud":"Upgrade to collaborate","contextual.credentials.sharing.unavailable.title.desktop":"Upgrade to n8n Cloud to collaborate","contextual.credentials.sharing.unavailable.description":"You can share credentials with others when you upgrade your plan.","contextual.credentials.sharing.unavailable.description.cloud":"You can share credentials with others when you upgrade your plan.","contextual.credentials.sharing.unavailable.description.desktop":"Sharing features are available on selected Cloud plans","contextual.credentials.sharing.unavailable.button":"View plans","contextual.credentials.sharing.unavailable.button.cloud":"Upgrade now","contextual.credentials.sharing.unavailable.button.desktop":"View plans","contextual.workflows.sharing.title":"Sharing","contextual.workflows.sharing.unavailable.title":"Sharing","contextual.workflows.sharing.unavailable.title.cloud":"Upgrade to collaborate","contextual.workflows.sharing.unavailable.title.desktop":"Upgrade to n8n Cloud to collaborate","contextual.workflows.sharing.unavailable.description.modal":"You can collaborate with others on workflows when you upgrade your plan.","contextual.workflows.sharing.unavailable.description.modal.cloud":"You can collaborate with others on workflows when you upgrade your plan.","contextual.workflows.sharing.unavailable.description.modal.desktop":"Upgrade to n8n Cloud to collaborate on workflows: sharing features are available on selected plans.","contextual.workflows.sharing.unavailable.description.tooltip":"You can collaborate with others on workflows when you upgrade your plan. {action}","contextual.workflows.sharing.unavailable.description.tooltip.cloud":"You can collaborate with others on workflows when you upgrade your plan. {action}","contextual.workflows.sharing.unavailable.description.tooltip.desktop":"Upgrade to n8n Cloud to collaborate on workflows: sharing features are available on selected plans. {action}","contextual.workflows.sharing.unavailable.button":"View plans","contextual.workflows.sharing.unavailable.button.cloud":"Upgrade now","contextual.workflows.sharing.unavailable.button.desktop":"View plans","contextual.variables.unavailable.title":"Available on the Enterprise plan","contextual.variables.unavailable.title.cloud":"Available on Pro plan","contextual.variables.unavailable.title.desktop":"Upgrade to n8n Cloud to collaborate","contextual.variables.unavailable.description":'Variables can be used to store and access data across workflows. Reference them in n8n using the prefix <code>$vars</code> (e.g. <code>$vars.myVariable</code>). Variables are immutable and cannot be modified within your workflows.<br/><a href="https://docs.n8n.io/environments/variables/" target="_blank">Learn more in the docs.</a>',"contextual.variables.unavailable.button":"View plans","contextual.variables.unavailable.button.cloud":"Upgrade now","contextual.variables.unavailable.button.desktop":"View plans","contextual.users.settings.unavailable.title":"Upgrade to add users","contextual.users.settings.unavailable.title.cloud":"Upgrade to add users","contextual.users.settings.unavailable.title.desktop":"Upgrade to add users","contextual.users.settings.unavailable.description":"Create multiple users on our higher plans and share workflows and credentials to collaborate","contextual.users.settings.unavailable.description.cloud":"Create multiple users on our higher plans and share workflows and credentials to collaborate","contextual.users.settings.unavailable.description.desktop":"Create multiple users on our higher plans and share workflows and credentials to collaborate","contextual.users.settings.unavailable.button":"View plans","contextual.users.settings.unavailable.button.cloud":"Upgrade now","contextual.users.settings.unavailable.button.desktop":"View plans","contextual.communityNodes.unavailable.description.desktop":"Community nodes feature is unavailable on desktop. Please choose one of our available self-hosting plans.","contextual.communityNodes.unavailable.button.desktop":"View plans","contextual.upgradeLinkUrl":"https://n8n.io/pricing/","contextual.upgradeLinkUrl.cloud":"https://app.n8n.cloud/account/change-plan","contextual.upgradeLinkUrl.desktop":"https://n8n.io/pricing/?utm_source=n8n-internal&utm_medium=desktop","settings.ldap":"LDAP","settings.ldap.note":"LDAP allows users to authenticate with their centralized account. It's compatible with services that provide an LDAP interface like Active Directory, Okta and Jumpcloud.","settings.ldap.infoTip":"Learn more about <a href='https://docs.n8n.io/user-management/ldap/' target='_blank'>LDAP in the Docs</a>","settings.ldap.save":"Save connection","settings.ldap.connectionTestError":"Problem testing LDAP connection","settings.ldap.connectionTest":"LDAP connection tested","settings.ldap.runSync.title":"LDAP synchronization done","settings.ldap.runSync.showError.message":"Problem during synchronization. Check the logs","settings.ldap.updateConfiguration":"LDAP configuration updated","settings.ldap.testingConnection":"Testing connection","settings.ldap.testConnection":"Test connection","settings.ldap.synchronizationTable.column.status":"Status","settings.ldap.synchronizationTable.column.endedAt":"Ended At","settings.ldap.synchronizationTable.column.runMode":"Run Mode","settings.ldap.synchronizationTable.column.runTime":"Run Time","settings.ldap.synchronizationTable.column.details":"Details","settings.ldap.synchronizationTable.empty.message":"Test synchronization to preview updates","settings.ldap.dryRun":"Test synchronization","settings.ldap.synchronizeNow":"Run synchronization","settings.ldap.synchronizationError":"LDAP Synchronization Error","settings.ldap.configurationError":"LDAP Configuration Error","settings.ldap.usersScanned":"Users scanned {scanned}","settings.ldap.confirmMessage.beforeSaveForm.cancelButtonText":"No","settings.ldap.confirmMessage.beforeSaveForm.confirmButtonText":"Yes, disable it","settings.ldap.confirmMessage.beforeSaveForm.headline":"Are you sure you want to disable LDAP login?","settings.ldap.confirmMessage.beforeSaveForm.message":"If you do so, all LDAP users will be converted to email users.","settings.ldap.disabled.title":"Available on the Enterprise plan","settings.ldap.disabled.description":"LDAP is available as a paid feature. Learn more about it.","settings.ldap.disabled.buttonText":"See plans","settings.ldap.toast.sync.success":"Synchronization succeeded","settings.ldap.toast.connection.success":"Connection succeeded","settings.ldap.form.loginEnabled.label":"Enable LDAP Login","settings.ldap.form.loginEnabled.tooltip":"Connection settings and data will still be saved if you disable LDAP Login","settings.ldap.form.loginLabel.label":"LDAP Login","settings.ldap.form.loginLabel.placeholder":"e.g. LDAP Username or email address","settings.ldap.form.loginLabel.infoText":"The placeholder text that appears in the login field on the login page","settings.ldap.form.serverAddress.label":"LDAP Server Address","settings.ldap.form.serverAddress.placeholder":"123.123.123.123","settings.ldap.form.serverAddress.infoText":"IP or domain of the LDAP server","settings.ldap.form.port.label":"LDAP Server Port","settings.ldap.form.port.infoText":"Port used to connect to the LDAP server","settings.ldap.form.connectionSecurity.label":"Connection Security","settings.ldap.form.connectionSecurity.infoText":"Type of connection security","settings.ldap.form.allowUnauthorizedCerts.label":"Ignore SSL/TLS Issues","settings.ldap.form.baseDn.label":"Base DN","settings.ldap.form.baseDn.placeholder":"o=acme,dc=example,dc=com","settings.ldap.form.baseDn.infoText":"Distinguished Name of the location where n8n should start its search for user in the AD/LDAP tree","settings.ldap.form.bindingType.label":"Binding as","settings.ldap.form.bindingType.infoText":"Type of binding used to connection to the LDAP server","settings.ldap.form.adminDn.label":"Binding DN","settings.ldap.form.adminDn.placeholder":"uid=2da2de69435c,ou=Users,o=Acme,dc=com","settings.ldap.form.adminDn.infoText":"Distinguished Name of the user to perform the search","settings.ldap.form.adminPassword.label":"Binding Password","settings.ldap.form.adminPassword.infoText":"Password of the user provided in the Binding DN field above","settings.ldap.form.userFilter.label":"User Filter","settings.ldap.form.userFilter.placeholder":"(ObjectClass=user)","settings.ldap.form.userFilter.infoText":"LDAP query to use when searching for user. Only users returned by this filter will be allowed to sign-in in n8n","settings.ldap.form.attributeMappingInfo.label":"Attribute mapping","settings.ldap.form.ldapId.label":"ID","settings.ldap.form.ldapId.placeholder":"uid","settings.ldap.form.ldapId.infoText":"The attribute in the LDAP server used as a unique identifier in n8n. It should be an unique LDAP attribute like uid","settings.ldap.form.loginId.label":"Login ID","settings.ldap.form.loginId.placeholder":"mail","settings.ldap.form.loginId.infoText":"The attribute in the LDAP server used to log-in in n8n","settings.ldap.form.email.label":"Email","settings.ldap.form.email.placeholder":"mail","settings.ldap.form.email.infoText":"The attribute in the LDAP server used to populate the email in n8n","settings.ldap.form.firstName.label":"First Name","settings.ldap.form.firstName.placeholder":"givenName","settings.ldap.form.firstName.infoText":"The attribute in the LDAP server used to populate the first name in n8n","settings.ldap.form.lastName.label":"Last Name","settings.ldap.form.lastName.placeholder":"sn","settings.ldap.form.lastName.infoText":"The attribute in the LDAP server used to populate the last name in n8n","settings.ldap.form.synchronizationEnabled.label":"Enable periodic LDAP synchronization","settings.ldap.form.synchronizationEnabled.tooltip":"Enable users to be synchronized periodically","settings.ldap.form.synchronizationInterval.label":"Synchronization Interval (Minutes)","settings.ldap.form.synchronizationInterval.infoText":"How often the synchronization should run","settings.ldap.form.pageSize.label":"Page Size","settings.ldap.form.pageSize.infoText":"Max number of records to return per page during synchronization. 0 for unlimited","settings.ldap.form.searchTimeout.label":"Search Timeout (Seconds)","settings.ldap.form.searchTimeout.infoText":"The timeout value for queries to the AD/LDAP server. Increase if you are getting timeout errors caused by a slow AD/LDAP server","settings.ldap.section.synchronization.title":"Synchronization","settings.sso":"SSO","settings.sso.title":"Single Sign On","settings.sso.subtitle":"SAML 2.0 Configuration","settings.sso.info":"Activate SAML SSO to enable passwordless login via your existing user management tool and enhance security through unified authentication.","settings.sso.info.link":"Learn how to configure SAML 2.0.","settings.sso.activation.tooltip":"You need to save the settings first before activating SAML","settings.sso.activated":"Activated","settings.sso.deactivated":"Deactivated","settings.sso.settings.redirectUrl.label":"Redirect URL","settings.sso.settings.redirectUrl.copied":"Redirect URL copied to clipboard","settings.sso.settings.redirectUrl.help":"Copy the Redirect URL to configure your SAML provider","settings.sso.settings.entityId.label":"Entity ID","settings.sso.settings.entityId.copied":"Entity ID copied to clipboard","settings.sso.settings.entityId.help":"Copy the Entity ID URL to configure your SAML provider","settings.sso.settings.ips.label":"Identity Provider Settings","settings.sso.settings.ips.xml.help":"Paste here the raw Metadata XML provided by your Identity Provider","settings.sso.settings.ips.url.help":"Paste here the Internet Provider Metadata URL","settings.sso.settings.ips.url.placeholder":"e.g. https://samltest.id/saml/idp","settings.sso.settings.ips.options.url":"Metadata URL","settings.sso.settings.ips.options.xml":"XML","settings.sso.settings.test":"Test settings","settings.sso.settings.save":"Save settings","settings.sso.settings.save.activate.title":"Test and activate SAML SSO","settings.sso.settings.save.activate.message":"SAML SSO configuration saved successfully. Test your SAML SSO settings first, then activate to enable single sign-on for your organization.","settings.sso.settings.save.activate.cancel":"Cancel","settings.sso.settings.save.activate.test":"Test settings","settings.sso.settings.save.error":"Error saving SAML SSO configuration","settings.sso.settings.footer.hint":"Don't forget to activate SAML SSO once you've saved the settings.","settings.sso.actionBox.title":"Available on the Enterprise plan","settings.sso.actionBox.description":"Use Single Sign On to consolidate authentication into a single platform to improve security and agility.","settings.sso.actionBox.buttonText":"See plans","sso.login.divider":"or","sso.login.button":"Continue with SSO","executionUsage.currentUsage":"{text} {count}","executionUsage.currentUsage.text":"You are in a free trial with limited executions. You have","executionUsage.currentUsage.count":"{n} day left. | {n} days left.","executionUsage.label.executions":"Executions","executionUsage.button.upgrade":"Upgrade plan","executionUsage.expired.text":"Your trial is over. Upgrade now to keep your data.","executionUsage.ranOutOfExecutions.text":"You’re out of executions. Upgrade your plan to keep automating."},z2=Object.freeze(Object.defineProperty({__proto__:null,_reusableBaseText:BT,_reusableDynamicText:RT,default:qT,error:VT,forgotPassword:UT,settings:WT,startupError:jT},Symbol.toStringTag,{value:"Module"})),Xe=wt(ts.NDV,{state:()=>({activeNodeName:null,mainPanelDimensions:{},sessionId:"",input:{displayMode:"schema",nodeName:void 0,run:void 0,branch:void 0,data:{isEmpty:!0}},output:{displayMode:"table",branch:void 0,data:{isEmpty:!0},editMode:{enabled:!1,value:""}},focusedMappableInput:"",mappingTelemetry:{},hoveringItem:null,draggable:{isDragging:!1,type:"",data:"",canDrop:!1,stickyPosition:null},isMappingOnboarded:window.localStorage.getItem(ww)==="true"}),getters:{activeNode(){return _e().getNodeByName(this.activeNodeName||"")},ndvInputData(){var i,r,l,m,c,h,p;const t=_e().getWorkflowExecution,s=this.input.nodeName,n=this.input.run??0,o=this.input.branch??0;return!t||!s||n===void 0||o===void 0?[]:(p=(h=(c=(m=(l=(r=(i=t.data)==null?void 0:i.resultData)==null?void 0:r.runData)==null?void 0:l[s])==null?void 0:m[n])==null?void 0:c.data)==null?void 0:h.main)==null?void 0:p[o]},getPanelDisplayMode(){return e=>this[e].displayMode},inputPanelDisplayMode(){return this.input.displayMode},outputPanelDisplayMode(){return this.output.displayMode},isDraggableDragging(){return this.draggable.isDragging},draggableType(){return this.draggable.type},draggableData(){return this.draggable.data},canDraggableDrop(){return this.draggable.canDrop},outputPanelEditMode(){return this.output.editMode},getMainPanelDimensions(){return e=>({...{relativeRight:1,relativeLeft:1,relativeWidth:1},...this.mainPanelDimensions[e]})},draggableStickyPos(){return this.draggable.stickyPosition},ndvInputNodeName(){return this.input.nodeName},ndvInputRunIndex(){return this.input.run},ndvInputBranchIndex(){return this.input.branch},isDNVDataEmpty(){return e=>this[e].data.isEmpty},isInputParentOfActiveNode(){const e=this.ndvInputNodeName;return!this.activeNode||!e?!1:_e().getCurrentWorkflow().getParentNodes(this.activeNode.name,"main",1).includes(e)},hoveringItemNumber(){var e;return(((e=this.hoveringItem)==null?void 0:e.itemIndex)??0)+1},getHoveringItem(){return this.isInputParentOfActiveNode?this.hoveringItem:null}},actions:{setInputNodeName(e){this.input={...this.input,nodeName:e}},setInputRunIndex(e){this.input={...this.input,run:e}},setMainPanelDimensions(e){this.mainPanelDimensions={...this.mainPanelDimensions,[e.panelType]:{...this.mainPanelDimensions[e.panelType],...e.dimensions}}},setNDVSessionId(){this.sessionId=`ndv-${Math.random().toString(36).slice(-8)}`},resetNDVSessionId(){this.sessionId=""},setPanelDisplayMode(e){this[e.pane].displayMode=e.mode},setOutputPanelEditModeEnabled(e){this.output.editMode.enabled=e},setOutputPanelEditModeValue(e){this.output.editMode.value=e},setMappableNDVInputFocus(e){this.focusedMappableInput=e},draggableStartDragging({type:e,data:t}){this.draggable={isDragging:!0,type:e,data:t,canDrop:!1,stickyPosition:null}},draggableStopDragging(){this.draggable={isDragging:!1,type:"",data:"",canDrop:!1,stickyPosition:null}},setDraggableStickyPos(e){this.draggable.stickyPosition=e},setDraggableCanDrop(e){this.draggable.canDrop=e},setMappingTelemetry(e){this.mappingTelemetry={...this.mappingTelemetry,...e}},resetMappingTelemetry(){this.mappingTelemetry={}},setHoveringItem(e){this.hoveringItem=e},setNDVBranchIndex(e){this[e.pane].branch=e.branchIndex},setNDVPanelDataIsEmpty(e){this[e.panel].data.isEmpty=e.isEmpty},disableMappingHint(e=!0){this.isMappingOnboarded=!0,e&&window.localStorage.setItem(ww,"true")},updateNodeParameterIssues(e){const t=_e(),s=t.getNodeByName(this.activeNodeName||"");if(s){const n=t.workflow.nodes.findIndex(o=>o.name===s.name);t.updateNodeAtIndex(n,{issues:{...s.issues,...e}})}}}});var Cw=!1,ii,Mh,Lh,Fu,Bu,zT,Ru,Fh,Bh,Rh,HT,Vh,Uh,QT,GT;function hs(){if(!Cw){Cw=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),s=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Vh=/\b(iPhone|iP[ao]d)/.exec(e),Uh=/\b(iP[ao]d)/.exec(e),Rh=/Android/i.exec(e),QT=/FBAN\/\w+;/i.exec(e),GT=/Mobile/i.exec(e),HT=!!/Win64/.exec(e),t){ii=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,ii&&document&&document.documentMode&&(ii=document.documentMode);var n=/(?:Trident\/(\d+.\d+))/.exec(e);zT=n?parseFloat(n[1])+4:ii,Mh=t[2]?parseFloat(t[2]):NaN,Lh=t[3]?parseFloat(t[3]):NaN,Fu=t[4]?parseFloat(t[4]):NaN,Fu?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),Bu=t&&t[1]?parseFloat(t[1]):NaN):Bu=NaN}else ii=Mh=Lh=Bu=Fu=NaN;if(s){if(s[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);Ru=o?parseFloat(o[1].replace("_",".")):!0}else Ru=!1;Fh=!!s[2],Bh=!!s[3]}else Ru=Fh=Bh=!1}}var Wh={ie:function(){return hs()||ii},ieCompatibilityMode:function(){return hs()||zT>ii},ie64:function(){return Wh.ie()&&HT},firefox:function(){return hs()||Mh},opera:function(){return hs()||Lh},webkit:function(){return hs()||Fu},safari:function(){return Wh.webkit()},chrome:function(){return hs()||Bu},windows:function(){return hs()||Fh},osx:function(){return hs()||Ru},linux:function(){return hs()||Bh},iphone:function(){return hs()||Vh},mobile:function(){return hs()||Vh||Uh||Rh||GT},nativeApp:function(){return hs()||QT},android:function(){return hs()||Rh},ipad:function(){return hs()||Uh}},H2=Wh,ru=!!(typeof window<"u"&&window.document&&window.document.createElement),Q2={canUseDOM:ru,canUseWorkers:typeof Worker<"u",canUseEventListeners:ru&&!!(window.addEventListener||window.attachEvent),canUseViewport:ru&&!!window.screen,isInWorker:!ru},G2=Q2,YT=G2,XT;YT.canUseDOM&&(XT=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Y2(e,t){if(!YT.canUseDOM||t&&!("addEventListener"in document))return!1;var s="on"+e,n=s in document;if(!n){var o=document.createElement("div");o.setAttribute(s,"return;"),n=typeof o[s]=="function"}return!n&&XT&&e==="wheel"&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var X2=Y2,K2=H2,J2=X2,Ow=10,Dw=40,Aw=800;function KT(e){var t=0,s=0,n=0,o=0;return"detail"in e&&(s=e.detail),"wheelDelta"in e&&(s=-e.wheelDelta/120),"wheelDeltaY"in e&&(s=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=s,s=0),n=t*Ow,o=s*Ow,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||o)&&e.deltaMode&&(e.deltaMode==1?(n*=Dw,o*=Dw):(n*=Aw,o*=Aw)),n&&!t&&(t=n<1?-1:1),o&&!s&&(s=o<1?-1:1),{spinX:t,spinY:s,pixelX:n,pixelY:o}}KT.getEventType=function(){return K2.firefox()?"DOMMouseScroll":J2("wheel")?"wheel":"mousewheel"};var Z2=KT,eI=Z2;const tI=Vv(eI),Pp="plus-stalk",Ip="hover-message",JT="N8nPlus",jh="eventPlusEndpointClick",$c=class $c extends ID{constructor(s,n){super(s,n);qe(this,"params");qe(this,"label");qe(this,"stalkOverlay");qe(this,"messageOverlay");qe(this,"type",$c.type);qe(this,"setStalkLabels",()=>{if(!this.endpoint)return;const s=this.endpoint.getOverlay(Pp),n=this.endpoint.getOverlay(Ip);if(s&&n){const o=this.label.length>10?"add":"remove";this.instance[`${o}OverlayClass`](s,"long-stalk"),this.instance[`${o}OverlayClass`](n,"long-stalk"),this[`${o}Class`]("long-stalk"),this.label&&s.canvas.setAttribute("data-label",this.label)}});qe(this,"fireClickEvent",s=>{s===this.endpoint&&this.instance.fire(jh,this.endpoint)});qe(this,"setHoverMessageVisible",s=>{s===this.endpoint&&this.messageOverlay&&this.instance.addOverlayClass(this.messageOverlay,"visible")});qe(this,"unsetHoverMessageVisible",s=>{s===this.endpoint&&this.messageOverlay&&this.instance.removeOverlayClass(this.messageOverlay,"visible")});this.params=n,this.label="",this.stalkOverlay=null,this.messageOverlay=null,this.unbindEvents(),this.bindEvents()}setupOverlays(){this.clearOverlays(),this.endpoint.instance.setSuspendDrawing(!0),this.stalkOverlay=this.endpoint.addOverlay({type:"Custom",options:{id:Pp,create:()=>Uy("div",{},`${Pp} ${this.params.size}`)}}),this.messageOverlay=this.endpoint.addOverlay({type:"Custom",options:{id:Ip,location:.5,create:()=>{const s=Uy("p",{},`${Ip} ${this.params.size}`);return s.innerHTML=this.params.hoverMessage,s}}}),this.endpoint.instance.setSuspendDrawing(!1)}bindEvents(){this.instance.bind(Zu,this.setHoverMessageVisible),this.instance.bind(ec,this.unsetHoverMessageVisible),this.instance.bind(Wy,this.fireClickEvent),this.instance.bind(cr,this.setStalkLabels)}unbindEvents(){this.instance.unbind(Zu,this.setHoverMessageVisible),this.instance.unbind(ec,this.unsetHoverMessageVisible),this.instance.unbind(Wy,this.fireClickEvent),this.instance.unbind(cr,this.setStalkLabels)}clearOverlays(){Object.keys(this.endpoint.getOverlays()).forEach(s=>{this.endpoint.removeOverlay(s)}),this.stalkOverlay=null,this.messageOverlay=null}getConnections(){return[...this.endpoint.connections,...this.params.connectedEndpoint.connections]}setIsVisible(s){this.instance.setSuspendDrawing(!0),Object.keys(this.endpoint.getOverlays()).forEach(n=>{this.endpoint.getOverlays()[n].setVisible(s)}),this.setVisible(s),s&&this.label&&this.setSuccessOutput(this.label),this.instance.setSuspendDrawing(!1)}setSuccessOutput(s){if(this.endpoint.addClass("ep-success"),this.params.showOutputLabel){this.label=s,this.setStalkLabels();return}this.endpoint.addClass("ep-success--without-label")}clearSuccessOutput(){this.endpoint.removeOverlay("successOutputOverlay"),this.endpoint.removeClass("ep-success"),this.endpoint.removeClass("ep-success--without-label"),this.label="",this.setStalkLabels()}};qe($c,"type",JT);let Ba=$c;const sI={type:Ba.type,cls:Ba,compute:(e,t)=>{const s=t.curX-e.params.dimensions/2,n=t.curY-e.params.dimensions/2,o=e.params.dimensions,i=e.params.dimensions;return e.x=s,e.y=n,e.w=o,e.h=i,e.addClass("plus-endpoint"),[s,n,o,i,e.params.dimensions]},getParams:e=>e.params},nI=()=>{ND(Ba.type,{makeNode:e=>{const t=mp.node("g"),s=mp.node("rect",{rx:3,"stroke-width":2,fillOpacity:0,height:e.params.dimensions-2,width:e.params.dimensions-2,y:1,x:1}),n=mp.node("path",{d:"m16.40655,10.89837l-3.30491,0l0,-3.30491c0,-0.40555 -0.32889,-0.73443 -0.73443,-0.73443l-0.73443,0c-0.40554,0 -0.73442,0.32888 -0.73442,0.73443l0,3.30491l-3.30491,0c-0.40555,0 -0.73443,0.32888 -0.73443,0.73442l0,0.73443c0,0.40554 0.32888,0.73443 0.73443,0.73443l3.30491,0l0,3.30491c0,0.40554 0.32888,0.73442 0.73442,0.73442l0.73443,0c0.40554,0 0.73443,-0.32888 0.73443,-0.73442l0,-3.30491l3.30491,0c0.40554,0 0.73442,-0.32889 0.73442,-0.73443l0,-0.73443c0,-0.40554 -0.32888,-0.73442 -0.73442,-0.73442z"});return e.params.size!=="medium"&&e.addClass(e.params.size),t.appendChild(s),t.appendChild(n),e.setupOverlays(),e.setVisible(!1),t},updateNode:e=>{const t=e.getConnections().length===0;e.setIsVisible(t)}})},oI={opposite(e,{axis:t,startStub:s,endStub:n,idx:o,midx:i,midy:r}){const l=e;if(!l["is"+t.toUpperCase()+"GreaterThanStubTimes2"]||l.so[o]===1&&s>n||l.so[o]===-1&&s<n)return{x:[[s,r],[n,r]],y:[[i,s],[i,n]]}[t];if(l.so[o]===1&&s<n||l.so[o]===-1&&s>n)return{x:[[i,l.sy],[i,l.ty]],y:[[l.sx,r],[l.tx,r]]}[t]}},iI={opposite(e,{axis:t,alwaysRespectStubs:s}){const n=e,o=t==="x"?0:1;return!s&&{x(){return n.so[o]===1&&(n.startStubX>n.endStubX&&n.tx>n.startStubX||n.sx>n.endStubX&&n.tx>n.sx)||n.so[o]===-1&&(n.startStubX<n.endStubX&&n.tx<n.startStubX||n.sx<n.endStubX&&n.tx<n.sx)},y(){return n.so[o]===1&&(n.startStubY>n.endStubY&&n.ty>n.startStubY||n.sy>n.endStubY&&n.ty>n.sy)||n.so[o]===-1&&(n.startStubY<n.endStubY&&n.ty<n.startStubY||n.sy<n.endStubY&&n.ty<n.sy)}}[t]()?{x:[(e.sx+e.tx)/2,e.startStubY,(e.sx+e.tx)/2,e.endStubY],y:[e.startStubX,(e.sy+e.ty)/2,e.endStubX,(e.sy+e.ty)/2]}[t]:[e.startStubX,e.startStubY,e.endStubX,e.endStubY]}},Nc=class Nc extends MD{constructor(s,n){super(s,n);qe(this,"type",Nc.type);qe(this,"majorAnchor");qe(this,"minorAnchor");qe(this,"midpoint");qe(this,"alwaysRespectStubs");qe(this,"loopbackVerticalLength");qe(this,"lastx");qe(this,"lasty");qe(this,"cornerRadius");qe(this,"loopbackMinimum");qe(this,"curvinessCoefficient");qe(this,"zBezierOffset");qe(this,"targetGap");qe(this,"overrideTargetEndpoint");qe(this,"getEndpointOffset");qe(this,"internalSegments",[]);this.connection=s,n=n||{},this.minorAnchor=0,this.majorAnchor=0,this.stub=n.stub||0,this.midpoint=.5,this.alwaysRespectStubs=n.alwaysRespectStubs===!0,this.loopbackVerticalLength=n.loopbackVerticalLength||0,this.lastx=null,this.lasty=null,this.cornerRadius=n.cornerRadius!==null?n.cornerRadius:0,this.loopbackMinimum=n.loopbackMinimum||100,this.curvinessCoefficient=.4,this.zBezierOffset=40,this.targetGap=n.targetGap||0,this.stub=n.stub||0,this.overrideTargetEndpoint=n.overrideTargetEndpoint||null,this.getEndpointOffset=n.getEndpointOffset||null}getDefaultStubs(){return[30,30]}sgn(s){return s<0?-1:s===0?0:1}getFlowchartSegmentDirections(s){return[this.sgn(s[2]-s[0]),this.sgn(s[3]-s[1])]}getSegmentLength(s){return Math.sqrt(Math.pow(s[0]-s[2],2)+Math.pow(s[1]-s[3],2))}_findControlPoint(s,n,o,i,r){const l=i[0]!==r[0]||i[1]===r[1],m={x:0,y:0};return l?(r[0]===0?m.x=o.curX<n.curX?s.x+this.minorAnchor:s.x-this.minorAnchor:m.x=s.x+this.majorAnchor*r[0],r[1]===0?m.y=o.curY<n.curY?s.y+this.minorAnchor:s.y-this.minorAnchor:m.y=s.y+this.majorAnchor*i[1]):(i[0]===0?m.x=n.curX<o.curX?s.x+this.minorAnchor:s.x-this.minorAnchor:m.x=s.x-this.majorAnchor*i[0],i[1]===0?m.y=n.curY<o.curY?s.y+this.minorAnchor:s.y-this.minorAnchor:m.y=s.y+this.majorAnchor*r[1]),m}writeFlowchartSegments(s){let n=null,o=null,i,r;for(let l=0;l<this.internalSegments.length-1;l++){if(n=n||at(this.internalSegments[l]),o=at(this.internalSegments[l+1]),i=this.getFlowchartSegmentDirections(n),r=this.getFlowchartSegmentDirections(o),this.cornerRadius>0&&n[4]!==o[4]){const m=Math.min(this.getSegmentLength(n),this.getSegmentLength(o)),c=Math.min(this.cornerRadius,m/2);n[2]-=i[0]*c,n[3]-=i[1]*c,o[0]+=r[0]*c,o[1]+=r[1]*c;const h=i[1]===r[0]&&r[0]===1||i[1]===r[0]&&r[0]===0&&i[0]!==r[1]||i[1]===r[0]&&r[0]===-1,p=o[1]>n[3]?1:-1,g=o[0]>n[2]?1:-1,w=p===g,S=w&&h||!w&&!h?o[0]:n[2],k=w&&h||!w&&!h?n[3]:o[1];this._addSegment(fp,{x1:n[0],y1:n[1],x2:n[2],y2:n[3]}),this._addSegment(LD,{r:c,x1:n[2],y1:n[3],x2:o[0],y2:o[1],cx:S,cy:k,ac:h})}else{const m=n[2]===n[0]?0:n[2]>n[0]?s.lw/2:-(s.lw/2),c=n[3]===n[1]?0:n[3]>n[1]?s.lw/2:-(s.lw/2);this._addSegment(fp,{x1:n[0]-m,y1:n[1]-c,x2:n[2]+m,y2:n[3]+c})}n=o}o!==null&&this._addSegment(fp,{x1:o[0],y1:o[1],x2:o[2],y2:o[3]})}calculateStubSegment(s){return iI.opposite(s,{axis:s.sourceAxis,alwaysRespectStubs:this.alwaysRespectStubs})}calculateLineSegment(s,n){const o=s.sourceAxis,i=s.sourceAxis==="x"?0:1,r=n[i],l=n[i+2],m=s.endStubX-s.startStubX,c=s.endStubY-s.startStubY,h=-1,p=s.startStubX+(s.endStubX-s.startStubX)*this.midpoint;let g;return c>=0||m<-1*this.loopbackMinimum?g=s.startStubY-(m<0?h*this.loopbackVerticalLength:0):g=s.startStubY+(s.endStubY-s.startStubY)*this.midpoint,oI.opposite(s,{axis:o,startStub:r,endStub:l,idx:i,midx:p,midy:g})}_getPaintInfo(s){let n=s.targetPos,o=s.targetEndpoint;this.overrideTargetEndpoint&&(n=this.overrideTargetEndpoint._anchor.computedPosition,o=this.overrideTargetEndpoint),this.stub=this.stub||0;const i=0,r=Vy(this.stub)?this.stub[0]:this.stub,l=Vy(this.stub)?this.stub[1]:this.stub,m=RD(s.sourcePos,n),c=n.curX<s.sourcePos.curX,h=n.curY<s.sourcePos.curY,p=s.strokeWidth||1,g=c?n.curX:s.sourcePos.curX,w=h?n.curY:s.sourcePos.curY,S=Math.abs(n.curX-s.sourcePos.curX),k=Math.abs(n.curY-s.sourcePos.curY);let O=[s.sourcePos.ox,s.sourcePos.oy],C=[n.ox,n.oy];if(O[0]===0&&O[1]===0||C[0]===0&&C[1]===0){const X=S>k?"curX":"curY",U=S>k?0:1,ne=[1,0][U];O=[],C=[],O[U]=s.sourcePos[X]>n[X]?-1:1,C[U]=s.sourcePos[X]>n[X]?1:-1,O[ne]=0,C[ne]=0}const A=c?S+i*O[0]:i*O[0],T=h?k+i*O[1]:i*O[1],F=c?this.targetGap*C[0]:S+this.targetGap*C[0],L=h?this.targetGap*C[1]:k+this.targetGap*C[1],I=O[0]*C[0]+O[1]*C[1],j=r+(this.getEndpointOffset&&s.sourceEndpoint?this.getEndpointOffset(s.sourceEndpoint):0),q=l+(this.getEndpointOffset&&o?this.getEndpointOffset(o):0);return{sx:A,sy:T,tx:F,ty:L,lw:p,xSpan:Math.abs(F-A),ySpan:Math.abs(L-T),mx:(A+F)/2,my:(T+L)/2,so:O,to:C,x:g,y:w,w:S,h:k,segment:m,startStubX:A+O[0]*j,startStubY:T+O[1]*j,endStubX:F+C[0]*q,endStubY:L+C[1]*q,isXGreaterThanStubTimes2:Math.abs(A-F)>j+q,isYGreaterThanStubTimes2:Math.abs(T-L)>j+q,opposite:I===-1,perpendicular:I===0,orthogonal:I===1,sourceAxis:O[0]===0?"y":"x",points:[g,w,S,k,A,T,F,L],stubs:[j,q],anchorOrientation:"opposite",sourceEndpoint:s.sourceEndpoint,targetEndpoint:o,sourcePos:s.sourcePos,targetPos:n,targetGap:this.targetGap}}_compute(s,n){const o=this._getPaintInfo(n);Object.keys(o).forEach(i=>{i!==void 0&&(s[i]=o[i])});try{o.tx<0?this._computeFlowchart(o):this._computeBezier(o)}catch{}}setTargetEndpoint(s){this.overrideTargetEndpoint=s}resetTargetEndpoint(){this.overrideTargetEndpoint=null}_computeBezier(s){const n=s.sourcePos,o=s.targetPos,i=Math.abs(n.curX-o.curX)-this.targetGap,r=Math.abs(n.curY-o.curY),l=n.curX<o.curX?i:0,m=n.curY<o.curY?r:0,c=n.curX<o.curX?0:i,h=n.curY<o.curY?0:r;s.ySpan<=20||s.ySpan<=100&&s.xSpan<=100?this.majorAnchor=.1:this.majorAnchor=s.xSpan*this.curvinessCoefficient+this.zBezierOffset;const p=this._findControlPoint({x:l,y:m},n,o,s.so,s.to),g=this._findControlPoint({x:c,y:h},o,n,s.to,s.so),w={x1:l,y1:m,x2:c,y2:h,cp1x:p.x,cp1y:p.y,cp2x:g.x,cp2y:g.y};this._addSegment(VD,w)}addFlowchartSegment(s,n,o){if(this.lastx===s&&this.lasty===n)return;const i=this.lastx===null?o.sx:this.lastx,r=this.lasty===null?o.sy:this.lasty,l=i===s?"v":"h";this.lastx=s,this.lasty=n,this.internalSegments.push([i,r,s,n,l])}_computeFlowchart(s){this.segments=[],this.lastx=null,this.lasty=null,this.internalSegments=[];const n=this.calculateStubSegment(s);this.addFlowchartSegment(n[0],n[1],s);const o=this.calculateLineSegment(s,n);if(o)for(let i=0;i<o.length;i++)this.addFlowchartSegment(o[i][0],o[i][1],s);this.addFlowchartSegment(n[2],n[3],s),this.addFlowchartSegment(s.tx,s.ty,s),this.writeFlowchartSegments(s)}transformGeometry(s,n,o){return s}};qe(Nc,"type","N8nConnector");let Ra=Nc;const rI=10,At=Ze();class ZT{}class Mn extends ZT{constructor(s){super();qe(this,"name");this.name=s}}class nr extends ZT{constructor(s){super();qe(this,"commands");this.commands=s}}class Va extends Mn{constructor(s,n,o){super("moveNode");qe(this,"nodeName");qe(this,"oldPosition");qe(this,"newPosition");this.nodeName=s,this.newPosition=o,this.oldPosition=n}getReverseCommand(){return new Va(this.nodeName,this.newPosition,this.oldPosition)}isEqualTo(s){return s instanceof Va&&s.nodeName===this.nodeName&&s.oldPosition[0]===this.oldPosition[0]&&s.oldPosition[1]===this.oldPosition[1]&&s.newPosition[0]===this.newPosition[0]&&s.newPosition[1]===this.newPosition[1]}async revert(){return new Promise(s=>{At.emit("nodeMove",{nodeName:this.nodeName,position:this.oldPosition}),s()})}}class Ua extends Mn{constructor(s){super("addNode");qe(this,"node");this.node=s}getReverseCommand(){return new eS(this.node)}isEqualTo(s){return s instanceof Ua&&s.node.name===this.node.name}async revert(){return new Promise(s=>{At.emit("revertAddNode",{node:this.node}),s()})}}class eS extends Mn{constructor(s){super("removeNode");qe(this,"node");this.node=s}getReverseCommand(){return new Ua(this.node)}isEqualTo(s){return s instanceof Ua&&s.node.name===this.node.name}async revert(){return new Promise(s=>{At.emit("revertRemoveNode",{node:this.node}),s()})}}class Yc extends Mn{constructor(s){super("addConnection");qe(this,"connectionData");this.connectionData=s}getReverseCommand(){return new ai(this.connectionData)}isEqualTo(s){return s instanceof Yc&&s.connectionData[0].node===this.connectionData[0].node&&s.connectionData[1].node===this.connectionData[1].node&&s.connectionData[0].index===this.connectionData[0].index&&s.connectionData[1].index===this.connectionData[1].index}async revert(){return new Promise(s=>{At.emit("revertAddConnection",{connection:this.connectionData}),s()})}}class ai extends Mn{constructor(s){super("removeConnection");qe(this,"connectionData");this.connectionData=s}getReverseCommand(){return new Yc(this.connectionData)}isEqualTo(s){return s instanceof ai&&s.connectionData[0].node===this.connectionData[0].node&&s.connectionData[1].node===this.connectionData[1].node&&s.connectionData[0].index===this.connectionData[0].index&&s.connectionData[1].index===this.connectionData[1].index}async revert(){return new Promise(s=>{setTimeout(()=>{At.emit("revertRemoveConnection",{connection:this.connectionData}),s()},rI)})}}class Wa extends Mn{constructor(s,n,o){super("enableNodeToggle");qe(this,"nodeName");qe(this,"oldState");qe(this,"newState");this.nodeName=s,this.newState=o,this.oldState=n}getReverseCommand(){return new Wa(this.nodeName,this.newState,this.oldState)}isEqualTo(s){return s instanceof Wa&&s.nodeName===this.nodeName}async revert(){return new Promise(s=>{At.emit("enableNodeToggle",{nodeName:this.nodeName,isDisabled:this.oldState}),s()})}}class ja extends Mn{constructor(s,n){super("renameNode");qe(this,"currentName");qe(this,"newName");this.currentName=s,this.newName=n}getReverseCommand(){return new ja(this.newName,this.currentName)}isEqualTo(s){return s instanceof ja&&s.currentName===this.currentName&&s.newName===this.newName}async revert(){return new Promise(s=>{At.emit("revertRenameNode",{currentName:this.currentName,newName:this.newName}),s()})}}const tS="drop-add-node",Zm="midpoint-arrow",aI="endpoint-arrow",io="run-items-label",xr="connection-actions",lI=26,ef="input-name-label",sS="node-input-endpoint-label--moved",nS="output-name-label",ys=20,uI=90,cI=100,hn=100,rc=100,dI=180,pI=240,hI=65,mI=65,fI=200,gI=300,$w=hn*2+ys,oS=140,yI="-input",wI="-output",iS="PlaceholderTriggerButton",bI={name:"Choose a Trigger...",type:iS,typeVersion:1,position:[],parameters:{height:rc,width:rc}},vI={type:Ra.type,options:{cornerRadius:12,stub:lI+10,targetGap:4,alwaysRespectStubs:!1,loopbackVerticalLength:hn+ys,loopbackMinimum:oS,getEndpointOffset(e){const s=e&&e.__meta?e.__meta.index:0,n=e&&e.__meta?e.__meta.totalEndpoints:0,o=Ks(e,nS),i=o&&o.label&&o.label.length>1?10:0,r=n>3?24:0;return s*10+i+r}}},ml={stroke:gs("--color-foreground-dark"),strokeWidth:2,outlineWidth:12,outlineStroke:"transparent"},TI={...ml,stroke:gs("--color-foreground-xdark")},tf={...ml,stroke:gs("--color-primary")},SI=[{type:"Arrow",options:{id:aI,location:1,width:12,foldback:1,length:10,visible:!0}},{type:"Arrow",options:{id:Zm,location:.5,width:12,foldback:1,length:10,visible:!1}}],Nw={input:{1:[[.01,.5,-1,0]],2:[[.01,.3,-1,0],[.01,.7,-1,0]],3:[[.01,.25,-1,0],[.01,.5,-1,0],[.01,.75,-1,0]],4:[[.01,.2,-1,0],[.01,.4,-1,0],[.01,.6,-1,0],[.01,.8,-1,0]]},output:{1:[[.99,.5,1,0]],2:[[.99,.3,1,0],[.99,.7,1,0]],3:[[.99,.25,1,0],[.99,.5,1,0],[.99,.75,1,0]],4:[[.99,.2,1,0],[.99,.4,1,0],[.99,.6,1,0],[.99,.8,1,0]]}},_w=(e,t)=>({width:8,height:e&&e.outputs.length>2?18:20,fill:gs(t),stroke:gs(t),lineWidth:0}),kI=e=>({type:"Custom",options:{id:ef,visible:!0,create:t=>{const s=document.createElement("div");return s.innerHTML=e,s.classList.add("node-input-endpoint-label"),s}}}),Pw=(e,t)=>({strokeWidth:e&&e.outputs.length>2?7:9,fill:gs(t),outlineStroke:"none"}),EI=e=>({type:"Custom",options:{id:nS,visible:!0,create:t=>{const s=document.createElement("div");return s.innerHTML=e,s.classList.add("node-output-endpoint-label"),s}}}),xI=e=>e.reduce((t,s)=>s.position[0]>t.position[0]||s.position[1]>t.position[1]?t:s),CI=e=>e.reduce((t,s)=>{const n=[As,iS].includes(s.type),o=n&&hr(s.parameters.width)?s.parameters.width:hn,i=n&&hr(s.parameters.height)?s.parameters.height:hn,r=s.position[0],l=s.position[1];return r<t.minX&&(t.minX=r),l<t.minY&&(t.minY=l),r+o>t.maxX&&(t.maxX=r+o),l+i>t.maxY&&(t.maxY=l+i),t},{minX:e[0].position[0],minY:e[0].position[1],maxX:e[0].position[0],maxY:e[0].position[1]}),Ks=(e,t)=>{try{return e.getOverlay(t)}catch{return null}},rS=(e,t)=>{const s=Ks(e,t);s&&s.setVisible(!0)},ac=(e,t)=>{const s=Ks(e,t);s&&s.setVisible(!1)},Cr=e=>{var w,S,k;if(!e||!e.endpoints||e.endpoints.length!==2)return;const t=!!Ks(e,io),s=e.endpoints[0],n=e.endpoints[1],o=((w=s._anchor.computedPosition)==null?void 0:w.curX)??0,i=((S=n._anchor.computedPosition)==null?void 0:S.curX)??o+1,r=t?150:0,l=o>=i,m=Math.abs(o-i)>=r,c=(k=Ks(e,xr))==null?void 0:k.component.isHover(),h=e.isHover(),p=Ks(e,Zm),g=l&&m&&!c&&!h&&!e.instance.isConnectionBeingDragged;p&&(p.setVisible(g),p.setLocation(t?.6:.5),e.instance.repaint(p.canvas))},aS=e=>{if(!e.connector)return[0,0];const t=e.connector.bounds,s=Math.abs(t.xmax-t.xmin),n=Math.abs(t.ymax-t.ymin);return[s,n]},OI=e=>{var i,r;const t=e.endpoints[0],s=e.endpoints[1],n=((i=t._anchor.computedPosition)==null?void 0:i.curX)??0;return(((r=s._anchor.computedPosition)==null?void 0:r.curX)??0)-n<-1*oS},lc=e=>{if(!(e!=null&&e.connector))return;const t=Ks(e,io);if(!t)return;const s=Ks(e,xr);if(s==null?void 0:s.component.isHover()){t.setVisible(!1);return}const[o,i]=aS(e),r=o<uI&&i<cI;t.setVisible(!r);const l=t.canvas&&t.canvas.querySelector("span");l&&(i===0||OI(e)?l.classList.add("floating"):l.classList.remove("floating"))},Iw=e=>e==="trash"?'<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-trash fa-w-14 Icon__medium_ctPPJ"><path data-v-66d5c7e2="" fill="currentColor" d="M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z" class=""></path></svg>':e==="plus"?'<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-plus fa-w-14 Icon__medium_ctPPJ"><path data-v-301ed208="" fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z" class=""></path></svg>':"",DI=(e,t)=>!(Math.abs(e[0]-t[0])<=100&&Math.abs(e[1]-t[1])<=50),ni=(e,t,s)=>{const n=[...t];n[0]=ic(n[0],ys),n[1]=ic(n[1],ys),s||(s=[40,40]);let o=!1,i,r;do{for(o=!1,i=0;i<e.length;i++)if(r=e[i],!DI(r.position,n)){o=!0;break}o===!0&&(n[0]+=s[0],n[1]+=s[1])}while(o===!0);return n},uc=e=>{const t=e.pageX!==void 0?e.pageX:e.touches&&e.touches[0]&&e.touches[0].pageX?e.touches[0].pageX:0,s=e.pageY!==void 0?e.pageY:e.touches&&e.touches[0]&&e.touches[0].pageY?e.touches[0].pageY:0;return[t,s]},lS=(e,t,s,n)=>[(e-n[0])/s,(t-n[1])/s],AI=(e,t)=>{const{editorWidth:s,editorHeight:n}=cS();return lS(s/2,(n-hI)/2,e,t)},$I=(e,t,s)=>{const n=ys*e,o=1*e,i=ys/2*e;if(s)return{"background-image":"linear-gradient(135deg, #f9f9fb 25%, #ffffff 25%, #ffffff 50%, #f9f9fb 50%, #f9f9fb 75%, #ffffff 75%, #ffffff 100%)","background-size":`${n}px ${n}px`,"background-position":`left ${t[0]}px top ${t[1]}px`};const r={"background-size":`${n}px ${n}px`,"background-position":`left ${t[0]}px top ${t[1]}px`};if(n>10.5){const l=gs("--color-canvas-dot");return{...r,"background-image":`radial-gradient(circle at ${i}px ${i}px, ${l} ${o}px, transparent 0)`}}return r},Mw=e=>{e.instance.setSuspendDrawing(!0),ac(e,xr),Cr(e),lc(e),e.instance.setSuspendDrawing(!1),(e.endpoints||[]).forEach(t=>{e.instance.repaint(t.element)})},NI=e=>{rS(e,xr),ac(e,io),Ks(e,io)||ac(e,Zm),(e.endpoints||[]).forEach(t=>{e.instance.repaint(t.element)})},_I=(e,t)=>{const s={};return e.forEach(n=>{!n.data||!n.data.main||n.data.main.forEach((o,i)=>{const r=i;s[r]||(s[r]={}),s[r][fa]||(s[r][fa]={},s[r][fa][0]={total:0,iterations:0});const l=s[r][fa][0];l.total+=o?o.length:0,l.iterations+=o?1:0,t[r]&&t[r].map(m=>{var p,g;const c=m.node,h=m.index;s[r][c]||(s[r][c]={}),s[r][c][h]||(s[r][c][h]={total:0,iterations:0}),(g=(p=o==null?void 0:o[0])==null?void 0:p.json)!=null&&g.isArtificialRecoveredEventItem?(s[r][c][h].isArtificialRecoveredEventItem=!0,s[r][c][h].total=0):(s[r][c][h].total+=o?o.length:0,s[r][c][h].iterations+=o?1:0)})})}),s},na=e=>{e.removeOverlay(io),e.removeClass("success"),Cr(e),e.setPaintStyle(ml)},PI=e=>{e.removeOverlay(io),e.addClass("success"),Cr(e),e.setPaintStyle(tf)},uS=e=>{let t=`${e.total}`;return t=e.total>1?`${t} items`:`${t} item`,t=e.iterations>1?`${t} total`:t,t},Lw=(e,t)=>{e.addClass("success"),Ks(e,io)&&e.removeOverlay(io),e.addOverlay({type:"Custom",options:{id:io,create(){const n=document.createElement("div"),o=document.createElement("span");return n.classList.add("connection-run-items-label"),o.classList.add("floating"),o.innerHTML=uS(t),n.appendChild(o),n},location:.5}}).setVisible(!0),lc(e),Cr(e),(e.endpoints||[]).forEach(n=>{e.instance.repaint(n.element)})},cS=()=>{let e=window.innerWidth,t=window.innerHeight;const s=document.getElementById("node-view-root");if(s){const n=s.getBoundingClientRect();e=n.width,t=n.height}return{editorWidth:e,editorHeight:t}},II=(e,t=!0)=>{const{minX:s,minY:n,maxX:o,maxY:i}=CI(e),{editorWidth:r,editorHeight:l}=cS(),m=t?200:100,c=Ee(),h=hn*4,p=o-s+h,g=r/p,w=i-n+h,S=l/w,k=Math.min(g,S,1);let O=s*-1*k;O+=(r-(o-s)*k)/2;let C=n*-1*k;return C+=(l-(i-n+m-c.headerHeight+c.bannersHeight)*k)/2,{zoomLevel:k,offset:[ic(O,ys),ic(C,ys)]}},Fw=(e,t)=>{if(e!=null&&e.connector){const s=e.connector;t&&s.setTargetEndpoint(t),e.setPaintStyle(tf),ac(e,tS)}},MI=e=>{e!=null&&e.connector&&(e.connector.resetTargetEndpoint(),e.setPaintStyle(TI),rS(e,tS))},LI=e=>{e!=null&&e.connector&&(e.connector.resetTargetEndpoint(),e.setPaintStyle(ml))},Bw=e=>{const t=Ks(e,ef);t&&e.instance.removeOverlayClass(t,sS)},FI=e=>{const t=Ks(e,ef);t&&e.instance.addOverlayClass(t,sS)},dS=(e,t,s)=>{var i,r;const n=(i=e.getAttribute("data-name"))==null?void 0:i.toString(),o=(r=t.getAttribute("data-name"))==null?void 0:r.toString();s&&n&&o&&(s.setAttribute("data-source-node",n),s.setAttribute("data-target-node",o))},BI=(e,t,s)=>{e.addOverlay({type:"Custom",options:{id:xr,create:o=>{const i=document.createElement("div"),r=document.createElement("button"),l=document.createElement("button");return i.classList.add(xr),dS(o.source,o.target,i),r.classList.add("add"),l.classList.add("delete"),r.innerHTML=Iw("plus"),l.innerHTML=Iw("trash"),r.addEventListener("click",()=>s()),l.addEventListener("click",()=>t()),i.addEventListener("mouseout",()=>e.instance.fire(Th,o)),i.addEventListener("mouseover",()=>e.instance.fire(Sh,o)),i.appendChild(r),i.appendChild(l),i}}}).setVisible(!1)},cc=(e,t)=>`${e}${wI}${t}`,qh=(e,t)=>`${e}${yI}${t}`,Rw=e=>{const t=[...e],s=xI(t),n=dI-s.position[0],o=pI-s.position[1];return t.map(i=>{i.position[0]+=n+hn*2,i.position[1]+=o}),t},sf=wt("canvas",()=>{const e=_e(),t=it(),s=Ee(),n=Fr(),o=Fs(),i=Be(),r=Be(!1),l=Be(null),m=Be(null),c=we(()=>e.allNodes),h=we(()=>c.value.filter(U=>U.type===Lr||t.isTriggerNode(U.type))),p=Be(!1),g=Be(1),w=Be([1,1]),S=we(()=>o.preferences.branchReadOnly);jn(S,U=>{i.value&&(i.value.elementsDraggable=!U)}),FD.register(Ra.type,Ra),nI(),BD.registerHandler(sI);const k=U=>{const ne=AI(g.value,U||[0,0]);ne[0]-=rc/2,ne[1]-=rc/2,w.value=ni(c.value,ne)},O=()=>(k(),{id:Ds(),...bI,position:w.value}),C=()=>h.value.length>0?c.value:[O(),...c.value],A=(U,ne)=>{var ie;g.value=U,(ie=i.value)==null||ie.setZoom(U),s.nodeViewOffsetPosition=ne},T=()=>{const{scale:U,offset:ne}=M2({scale:g.value,offset:s.nodeViewOffsetPosition});A(U,ne)},F=()=>{const{scale:U,offset:ne}=LT({scale:g.value,offset:s.nodeViewOffsetPosition});A(U,ne)},L=()=>{const{scale:U,offset:ne}=MT({scale:g.value,offset:s.nodeViewOffsetPosition});A(U,ne)},I=()=>{const U=C();if(!U.length)return;const{zoomLevel:ne,offset:ie}=II(U,!p.value);A(ne,ie)},j=U=>{const ne=tI(U),ie=s.nodeViewOffsetPosition,M=ie[0]-(U.shiftKey?ne.pixelY:ne.pixelX),z=ie[1]-(U.shiftKey?ne.pixelX:ne.pixelY);s.nodeViewOffsetPosition=[M,z]},q=U=>{if(U.ctrlKey){U.deltaY>0?L():F(),U.preventDefault();return}j(U)};function Q(U){var ne;i.value&&(i.value.destroy(),i.value.reset(),i.value=void 0),i.value=_D({container:U,connector:vI,resizeObserver:!1,endpoint:{type:"Dot",options:{radius:5}},paintStyle:ml,hoverPaintStyle:tf,connectionOverlays:SI,elementsDraggable:!S.value,dragOptions:{cursor:"pointer",grid:{w:ys,h:ys},start:ie=>{var oe;const z=ie.drag.getDragElement().getAttribute("data-name");if(!z)return;r.value=!0;const K=s.isNodeSelected(z);return ie.e&&!K&&((oe=i.value)==null||oe.clearDragSelection(),s.resetSelectedNodes()),s.addActiveAction("dragActive"),!0},stop:ie=>{const z=ie.drag.getDragElement().getAttribute("data-name");if(!z)return;const K=e.getNodeByName(z);if(r.value=!1,s.isActionActive("dragActive")&&K){const oe=s.getSelectedNodes.slice();oe.map(ce=>ce.name).includes(K.name)||oe.push(K),oe.length>1&&n.startRecordingUndo();let ae;oe.forEach(ce=>{const pe=document.getElementById(ce.id);if(pe===null)return;ae=[parseInt(pe.style.left.slice(0,-2),10),parseInt(pe.style.top.slice(0,-2),10)];const ge={name:ce.name,properties:{position:ae}},Ae=ce.position;(Ae[0]!==ae[0]||Ae[1]!==ae[1])&&(n.pushCommandToUndo(new Va(ce.name,Ae,ae)),e.updateNodeProperties(ge))}),oe.length>1&&n.stopRecordingUndo()}},filter:".node-description, .node-description .node-name, .node-description .node-subtitle"}}),(ne=i.value)==null||ne.setDragConstrainFunction(ie=>s.isReadOnlyView?null:ie)}const X=we(()=>i.value);return{isDemo:p,nodeViewScale:g,canvasAddButtonPosition:w,lastSelectedConnection:l,newNodeInsertPosition:m,jsPlumbInstance:X,setRecenteredCanvasAddButtonPosition:k,getNodesWithPlaceholderNode:C,setZoomLevel:A,resetZoom:T,zoomIn:F,zoomOut:L,zoomToFit:I,wheelScroll:q,initInstance:Q}});async function RI(e){return(await Ss(e.baseUrl,"/nodes")).data||[]}async function VI(e,t){return ul(e.baseUrl,"/nodes",{name:t})}async function UI(e,t){return xe(e,"DELETE","/nodes",{name:t})}async function WI(e,t){return xe(e,"PATCH","/nodes",{name:t})}async function jI(e){return xe(e,"GET","/settings")}async function qI(e,t){return Ss(Hm,"/prompts",{},{"n8n-instance-id":e,"n8n-user-id":t})}async function zI(e,t,s){return ul(Hm,"/prompt",{email:s},{"n8n-instance-id":e,"n8n-user-id":t})}async function HI(e,t,s){return ul(Hm,"/value-survey",s,{"n8n-instance-id":e,"n8n-user-id":t})}async function QI(){return(await Ss(S_,"search?q=keywords:n8n-community-node-package")).total||0}const GI=300,nf=wt(ts.COMMUNITY_NODES,{state:()=>({availablePackageCount:-1,installedPackages:{}}),getters:{getInstalledPackages(){return Object.values(this.installedPackages).sort((e,t)=>e.packageName.localeCompare(t.packageName))},getInstalledPackageByName(){return e=>this.installedPackages[e]}},actions:{async fetchAvailableCommunityPackageCount(){this.availablePackageCount===-1&&(this.availablePackageCount=await QI())},async fetchInstalledPackages(){const e=fe(),t=await RI(e.getRestApiContext);this.setInstalledPackages(t);const s=t.length>0?0:GI;setTimeout(()=>{},s)},async installPackage(e){try{const t=fe();await VI(t.getRestApiContext,e),await this.fetchInstalledPackages()}catch(t){throw t}},async uninstallPackage(e){try{const t=fe();await UI(t.getRestApiContext,e),this.removePackageByName(e)}catch(t){throw t}},async updatePackage(e){try{const t=fe(),s=this.getInstalledPackageByName(e),n=await WI(t.getRestApiContext,s.packageName);this.updatePackageObject(n)}catch(t){throw t}},setInstalledPackages(e){this.installedPackages=e.reduce((t,s)=>(t[s.packageName]=s,t),{})},removePackageByName(e){const{[e]:t,...s}=this.installedPackages;this.installedPackages=s},updatePackageObject(e){this.installedPackages[e.packageName]=e}}});async function YI(e){const{data:t}=await Fc.get(e+"types/credentials.json",{withCredentials:!0});return t}async function XI(e,t){return xe(e,"GET","/credentials/new",t?{name:t}:{})}async function KI(e){return xe(e,"GET","/credentials")}async function JI(e,t){return xe(e,"POST","/credentials",t)}async function ZI(e,t){return xe(e,"DELETE",`/credentials/${t}`)}async function eM(e,t,s){return xe(e,"PATCH",`/credentials/${t}`,s)}async function tM(e,t){return xe(e,"GET",`/credentials/${t}`,{includeData:!0})}async function sM(e,t){return xe(e,"GET","/oauth1-credential/auth",t)}async function nM(e,t){return xe(e,"GET","/oauth2-credential/auth",t)}async function oM(e,t){return xe(e,"POST","/credentials/test",t)}async function iM(e,t,s){return xe(e,"PUT",`/credentials/${t}/share`,s)}async function rM(e){return xe(e,"GET","/me/api-key")}async function aM(e){return xe(e,"POST","/me/api-key")}async function lM(e){return xe(e,"DELETE","/me/api-key")}async function uM(e){return xe(e,"GET","/ldap/config")}async function cM(e){return xe(e,"POST","/ldap/test-connection")}async function dM(e,t){return xe(e,"PUT","/ldap/config",t)}async function pM(e,t){return xe(e,"POST","/ldap/sync",t)}async function hM(e,t){return xe(e,"GET","/ldap/sync",t)}function pS(e){return e.join(",")}async function mM(e){return Ss(e,"/health")}async function fM(e,t){return Ss(e,"/templates/categories",void 0,t)}async function gM(e,t,s){return Ss(e,"/templates/collections",{category:pS(t.categories||[]),search:t.search},s)}async function Vw(e,t,s){return Ss(e,"/templates/workflows",{skip:t.skip,rows:t.limit,category:pS(t.categories),search:t.search},s)}async function yM(e,t,s){return Ss(e,`/templates/collections/${t}`,void 0,s)}async function wM(e,t,s){return Ss(e,`/templates/workflows/${t}`,void 0,s)}async function bM(e,t,s){return Ss(e,`/workflows/templates/${t}`,void 0,s)}var zh=(e=>(e.Email="email",e.Ldap="ldap",e.Saml="saml",e))(zh||{});async function vM(e){return xe(e,"GET","/login")}async function TM(e,t){return xe(e,"POST","/login",t)}async function SM(e){await xe(e,"POST","/logout")}async function kM(e,t){return xe(e,"POST","/owner/setup",t)}async function EM(e,t){return xe(e,"GET","/resolve-signup-token",t)}async function xM(e,t){const{inviteeId:s,...n}=t;return xe(e,"POST",`/users/${t.inviteeId}`,n)}async function CM(e,t){await xe(e,"POST","/forgot-password",t)}async function OM(e,t){await xe(e,"GET","/resolve-password-token",t)}async function DM(e,t){await xe(e,"POST","/change-password",t)}async function hS(e,t){return xe(e,"PATCH","/me",t)}async function AM(e,t){return xe(e,"PATCH","/me/settings",t)}async function $M(e,t,s){return xe(e,"PATCH",`/users/${t}/settings`,s)}async function NM(e,t){return xe(e,"PATCH","/me/password",t)}async function _M(e,{id:t,transferId:s}){await xe(e,"DELETE",`/users/${t}`,s?{transferId:s}:{})}async function PM(e){return xe(e,"GET","/users")}async function IM(e,t){return xe(e,"POST","/users",t)}async function MM(e,{id:t}){await xe(e,"POST",`/users/${t}/reinvite`)}async function LM(e,{id:t}){return xe(e,"GET",`/users/${t}/invite-link`)}async function FM(e,{id:t}){return xe(e,"GET",`/users/${t}/password-reset-link`)}async function BM(e,t){await xe(e,"POST","/me/survey",t)}const of=(e,t)=>[...[{name:"isInstanceOwner",test:()=>e==null?void 0:e.isOwner}],...t].reduce((n,o)=>(n[o.name]=Array.isArray(o.test)?o.test.some(i=>n[i]):o.test(n),n),{}),Xc=(e,t)=>{const n=Le().isEnterpriseFeatureEnabled(ot.Sharing);return of(e,[{name:"isOwner",test:()=>!!(t&&t.ownedBy&&t.ownedBy.id===(e==null?void 0:e.id))||!n},{name:"isSharee",test:()=>!!(t&&t.sharedWith&&t.sharedWith.find(i=>i.id===(e==null?void 0:e.id)))},{name:"read",test:["isOwner","isInstanceOwner","isSharee"]},{name:"save",test:["isOwner","isInstanceOwner"]},{name:"updateName",test:["isOwner","isInstanceOwner"]},{name:"updateConnection",test:["isOwner"]},{name:"updateSharing",test:["isOwner"]},{name:"updateNodeAccess",test:["isOwner"]},{name:"delete",test:["isOwner","isInstanceOwner"]},{name:"use",test:["isOwner","isSharee"]}])},fl=(e,t)=>{const n=Le().isEnterpriseFeatureEnabled(ot.Sharing),o=t.id===lt;return of(e,[{name:"isOwner",test:()=>!!(o||t&&t.ownedBy&&t.ownedBy.id===(e==null?void 0:e.id))||!n},{name:"isSharee",test:()=>!!(t&&t.sharedWith&&t.sharedWith.find(r=>r.id===(e==null?void 0:e.id)))},{name:"read",test:["isOwner","isInstanceOwner","isSharee"]},{name:"save",test:["isOwner","isInstanceOwner"]},{name:"updateName",test:["isOwner","isInstanceOwner"]},{name:"updateConnection",test:["isOwner"]},{name:"updateSharing",test:["isOwner"]},{name:"updateNodeAccess",test:["isOwner"]},{name:"delete",test:["isOwner","isInstanceOwner"]},{name:"use",test:["isOwner","isInstanceOwner","isSharee"]}])},mS=e=>of(e,[{name:"create",test:["isInstanceOwner"]},{name:"edit",test:["isInstanceOwner"]},{name:"delete",test:["isInstanceOwner"]},{name:"use",test:()=>!0}]),rf=wt("telemetry",()=>{const e=Be();return{init:n=>{e.value=n},track:(n,o)=>{var i;(i=e.value)==null||i.track(n,o)}}}),RM={IS_PART_OF_EXPERIMENT:"User is part of experiment"},js=wt("posthog",()=>{const e=Ge(),t=Le(),s=rf(),n=fe(),o=Be(null),i=Be({}),r=Be({}),l=()=>{var A,T;(T=(A=window.posthog)==null?void 0:A.reset)==null||T.call(A),o.value=null,i.value={}},m=A=>{var T;return(T=o.value)==null?void 0:T[A]},c=(A,T)=>m(A)===T;if(!window.featureFlags){const A=localStorage.getItem(vw);if(A)try{console.log("Overriding feature flags",A),r.value=JSON.parse(A)}catch(T){console.log("Could not override experiment",T)}window.featureFlags={override:(T,F)=>{r.value[T]=F,o.value={...o.value,[T]:F};try{localStorage.setItem(vw,JSON.stringify(r.value))}catch{}},getVariant:m,getAll:()=>o.value||{}}}const h=()=>{var I,j;const A=n.instanceId,T=e.currentUser,F={instance_id:A};T&&typeof T.createdAt=="string"&&(F.created_at_timestamp=new Date(T.createdAt).getTime());const L=T?`${A}#${T.id}`:A;(j=(I=window.posthog)==null?void 0:I.identify)==null||j.call(I,L,F)},p=()=>{o.value={...o.value,...r.value}},g=A=>{var q,Q,X;if(!window.posthog)return;const T=t.settings.posthog;if(!T.enabled)return;const F=e.currentUserId;if(!F)return;const I=`${n.instanceId}#${F}`,j={api_host:T.apiHost,autocapture:T.autocapture,disable_session_recording:T.disableSessionRecording,debug:T.debug,session_recording:{maskAllInputs:!1}};(q=window.posthog)==null||q.init(T.apiKey,j),h(),A&&Object.keys(A).length?(o.value=A,j.bootstrap={distinctId:I,featureFlags:A},p(),S(o.value)):(X=(Q=window.posthog)==null?void 0:Q.onFeatureFlags)==null||X.call(Q,(U,ne)=>{o.value=ne,p(),S(o.value)})},S=ol(A=>{b2.forEach(T=>k(A,T))},2e3),k=(A,T)=>{const F=A[T];!F||i.value[T]===F||(s.track(RM.IS_PART_OF_EXPERIMENT,{name:T,variant:F}),i.value[T]=F)};return{init:g,isVariantEnabled:c,getVariant:m,reset:l,capture:(A,T)=>{var F;typeof((F=window.posthog)==null?void 0:F.capture)=="function"&&window.posthog.capture(A,T)},setMetadata:(A,T)=>{var F,L,I,j,q,Q;typeof((L=(F=window.posthog)==null?void 0:F.people)==null?void 0:L.set)=="function"&&typeof((I=window.posthog)==null?void 0:I.register)=="function"&&(T==="user"?(q=(j=window.posthog)==null?void 0:j.people)==null||q.set(A):T==="events"&&((Q=window.posthog)==null||Q.register(A)))}}});async function VM(e){return Ss(e.baseUrl,"/admin/cloud-plan")}async function UM(e){return Ss(e.baseUrl,"/cloud/limits")}const WM={data:null,usage:null,loadingPlan:!1},Vn=wt("cloudPlan",()=>{const e=fe(),t=Le(),s=Ge(),n=en(WM),o=()=>{n.data=null,n.usage=null},i=we(()=>{var O,C;return((C=(O=n.data)==null?void 0:O.metadata)==null?void 0:C.group)==="trial"}),r=we(()=>n.data),l=we(()=>n.usage),m=we(()=>{var O,C,A;return((C=(O=n.data)==null?void 0:O.metadata)==null?void 0:C.group)==="trial"&&Lo.now().toMillis()>=Lo.fromISO((A=n.data)==null?void 0:A.expirationDate).toMillis()}),c=we(()=>{var O,C,A,T;return!((O=n.usage)!=null&&O.executions)||!((C=n.data)!=null&&C.monthlyExecutionsLimit)?!1:((A=n.usage)==null?void 0:A.executions)>=((T=n.data)==null?void 0:T.monthlyExecutionsLimit)}),h=async()=>{var T,F;const O=(T=t.settings.n8nMetadata)==null?void 0:T.userId;if(!(((F=s.currentUser)==null?void 0:F.isOwner)&&t.isCloudDeployment&&O))throw new Error("User does not have a cloud plan");n.loadingPlan=!0;let A;try{A=await VM(e.getRestApiContext),n.data=A,n.loadingPlan=!1}catch(L){throw n.loadingPlan=!1,new Error(L)}return A},p=async()=>{const O=await UM({baseUrl:e.getBaseUrl,sessionId:""});return n.usage=O,O},g=we(()=>!n.data||!n.usage?{workflowsLeft:-1,executionsLeft:-1}:{workflowsLeft:n.data.activeWorkflowsLimit-n.usage.activeWorkflows,executionsLeft:n.data.monthlyExecutionsLimit-n.usage.executions}),w=we(()=>{var A;if(!((A=n.data)!=null&&A.expirationDate))return-1;const O=new Date().valueOf()-new Date(n.data.expirationDate).valueOf(),C=Math.floor(O/(1e3*60*60*24));return Math.ceil(C)}),S=()=>{const O=setInterval(async()=>{try{if(await p(),m.value||c.value){clearTimeout(O);return}}catch{}},x2)};return{state:n,getOwnerCurrentPlan:h,getInstanceCurrentUsage:p,usageLeft:g,trialDaysLeft:w,userIsTrialing:i,currentPlanData:r,currentUsageData:l,trialExpired:m,allExecutionsUsed:c,reset:o,checkForCloudPlanData:async()=>{try{if(await h(),!i.value)return;await p(),S()}catch{}}}}),Uw=e=>!!(e&&e.isPending&&e.globalRole&&e.globalRole.name===$t.Owner),jM=e=>!!(e&&e.isPending),qM=e=>{var t;return((t=e==null?void 0:e.globalRole)==null?void 0:t.name)===$t.Owner},Ge=wt(ts.USERS,{state:()=>({currentUserId:null,users:{}}),getters:{allUsers(){return Object.values(this.users)},userActivated(){var e,t;return!!((t=(e=this.currentUser)==null?void 0:e.settings)!=null&&t.userActivated)},currentUser(){return this.currentUserId?this.users[this.currentUserId]:null},isDefaultUser(){return Uw(this.currentUser)},isInstanceOwner(){return qM(this.currentUser)},getUserById(e){return t=>e.users[t]},globalRoleName(){var e,t;return((t=(e=this.currentUser)==null?void 0:e.globalRole)==null?void 0:t.name)??"default"},canUserDeleteTags(){return wa(au.TAGS.CAN_DELETE_TAGS,this.currentUser)},canUserActivateLicense(){return wa(au.USAGE.CAN_ACTIVATE_LICENSE,this.currentUser)},canUserAccessSidebarUserInfo(){if(this.currentUser){const e=this.currentUser;return wa(au.PRIMARY_MENU.CAN_ACCESS_USER_INFO,e)}return!1},showUMSetupWarning(){if(this.currentUser){const e=this.currentUser;return wa(au.USER_SETTINGS.VIEW_UM_SETUP_WARNING,e)}return!1},personalizedNodeTypes(){const e=this.currentUser;if(!e)return[];const t=e.personalizationAnswers;return t?iL(t):[]},isResourceAccessible(){return e=>Xc(this.currentUser,e).use}},actions:{addUsers(e){e.forEach(t=>{var i;const n={...this.users[t.id]||{},...t},o={...n,fullName:t.firstName?`${n.firstName} ${n.lastName||""}`:void 0,isDefaultUser:Uw(n),isPendingUser:jM(n),isOwner:((i=n.globalRole)==null?void 0:i.name)===$t.Owner};this.users={...this.users,[o.id]:o}})},deleteUserById(e){const{[e]:t,...s}=this.users;this.users=s},setPersonalizationAnswers(e){this.currentUser&&(this.users={...this.users,[this.currentUser.id]:{...this.currentUser,personalizationAnswers:e}})},async loginWithCookie(){const e=fe(),t=await vM(e.getRestApiContext);t&&(this.addUsers([t]),this.currentUserId=t.id,js().init(t.featureFlags))},async loginWithCreds(e){const t=fe(),s=await TM(t.getRestApiContext,e);s&&(this.addUsers([s]),this.currentUserId=s.id,js().init(s.featureFlags))},async logout(){const e=fe();await SM(e.getRestApiContext),this.currentUserId=null,Vn().reset(),js().reset(),await Ee().dismissAllBanners()},async createOwner(e){const t=fe(),s=await kM(t.getRestApiContext,e),n=Le();s&&(this.addUsers([s]),this.currentUserId=s.id,n.stopShowingSetupPage(),js().init(s.featureFlags))},async validateSignupToken(e){const t=fe();return EM(t.getRestApiContext,e)},async signup(e){const t=fe(),s=await xM(t.getRestApiContext,e);s&&(this.addUsers([s]),this.currentUserId=s.id,js().init(s.featureFlags))},async sendForgotPasswordEmail(e){const t=fe();await CM(t.getRestApiContext,e)},async validatePasswordToken(e){const t=fe();await OM(t.getRestApiContext,e)},async changePassword(e){const t=fe();await DM(t.getRestApiContext,e)},async updateUser(e){const t=fe(),s=await hS(t.getRestApiContext,e);this.addUsers([s])},async updateUserSettings(e){const t=fe(),s=await AM(t.getRestApiContext,e);this.currentUser&&(this.currentUser.settings=s,this.addUsers([this.currentUser]))},async updateOtherUserSettings(e,t){const s=fe(),n=await $M(s.getRestApiContext,e,t);this.users[e].settings=n,this.addUsers([this.users[e]])},async updateCurrentUserPassword({password:e,currentPassword:t}){const s=fe();await NM(s.getRestApiContext,{newPassword:e,currentPassword:t})},async deleteUser(e){const t=fe();await _M(t.getRestApiContext,e),this.deleteUserById(e.id)},async fetchUsers(){const e=fe(),t=await PM(e.getRestApiContext);this.addUsers(t)},async inviteUsers(e){const t=fe(),s=await IM(t.getRestApiContext,e);return this.addUsers(s.map(({user:n})=>({isPending:!0,...n}))),s},async reinviteUser(e){const t=fe();await MM(t.getRestApiContext,e)},async getUserInviteLink(e){const t=fe();return LM(t.getRestApiContext,e)},async getUserPasswordResetLink(e){const t=fe();return FM(t.getRestApiContext,e)},async submitPersonalizationSurvey(e){const t=fe();await BM(t.getRestApiContext,e),this.setPersonalizationAnswers(e)},async showPersonalizationSurvey(){const t=Le().isPersonalizationSurveyEnabled,s=this.currentUser;t&&s&&!s.personalizationAnswers&&Ee().openModal(zc)}}});async function zM(e,t,s){const n={[tP]:s};return Ss(e,t,{},n)}const Kc=wt(ts.VERSIONS,{state:()=>({versionNotificationSettings:{enabled:!1,endpoint:"",infoUrl:""},nextVersions:[],currentVersion:void 0}),getters:{hasVersionUpdates(){return this.nextVersions.length>0},areNotificationsEnabled(){return this.versionNotificationSettings.enabled},infoUrl(){return this.versionNotificationSettings.infoUrl}},actions:{setVersions({versions:e,currentVersion:t}){this.nextVersions=e.filter(s=>s.name!==t),this.currentVersion=e.find(s=>s.name===t)},setVersionNotificationSettings(e){this.versionNotificationSettings=e},async fetchVersions(){try{const{enabled:e,endpoint:t}=this.versionNotificationSettings;if(e&&t){const s=fe(),n=s.versionCli,o=s.instanceId,i=await zM(t,n,o);this.setVersions({versions:i,currentVersion:n})}}catch{}}}}),Le=wt(ts.SETTINGS,{state:()=>({settings:{},promptsData:{},userManagement:{quota:-1,showSetupOnFirstLoad:!1,smtpSetup:!1,authenticationMethod:zh.Email},templatesEndpointHealthy:!1,api:{enabled:!1,latestVersion:0,path:"/",swaggerUi:{enabled:!1}},ldap:{loginLabel:"",loginEnabled:!1},saml:{loginLabel:"",loginEnabled:!1},onboardingCallPromptEnabled:!1,saveDataErrorExecution:"all",saveDataSuccessExecution:"all",saveManualExecutions:!1}),getters:{isEnterpriseFeatureEnabled(){return e=>this.settings.enterprise[e]},versionCli(){return this.settings.versionCli},isPublicApiEnabled(){return this.api.enabled},isSwaggerUIEnabled(){return this.api.swaggerUi.enabled},publicApiLatestVersion(){return this.api.latestVersion},publicApiPath(){return this.api.path},isLdapLoginEnabled(){return this.ldap.loginEnabled},ldapLoginLabel(){return this.ldap.loginLabel},isSamlLoginEnabled(){return this.saml.loginEnabled},samlLoginLabel(){return this.saml.loginLabel},showSetupPage(){return this.userManagement.showSetupOnFirstLoad===!0},deploymentType(){var e;return((e=this.settings.deployment)==null?void 0:e.type)||"default"},isDesktopDeployment(){var e;return this.settings.deployment?(e=this.settings.deployment)==null?void 0:e.type.startsWith("desktop_"):!1},isCloudDeployment(){return this.settings.deployment?this.settings.deployment.type==="cloud":!1},isSmtpSetup(){return this.userManagement.smtpSetup},isPersonalizationSurveyEnabled(){return this.settings.telemetry&&this.settings.telemetry.enabled&&this.settings.personalizationSurveyEnabled},telemetry(){return this.settings.telemetry},logLevel(){return this.settings.logLevel},isTelemetryEnabled(){return this.settings.telemetry&&this.settings.telemetry.enabled},areTagsEnabled(){return this.settings.workflowTagsDisabled!==void 0?!this.settings.workflowTagsDisabled:!0},isHiringBannerEnabled(){return this.settings.hiringBannerEnabled},isTemplatesEnabled(){return!!(this.settings.templates&&this.settings.templates.enabled)},isTemplatesEndpointReachable(){return this.templatesEndpointHealthy},templatesHost(){return this.settings.templates.host},pushBackend(){return this.settings.pushBackend},isCommunityNodesFeatureEnabled(){return this.settings.communityNodesEnabled},isNpmAvailable(){return this.settings.isNpmAvailable},allowedModules(){return this.settings.allowedModules},isQueueModeEnabled(){return this.settings.executionMode==="queue"},workflowCallerPolicyDefaultOption(){return this.settings.workflowCallerPolicyDefaultOption},isDefaultAuthenticationSaml(){return this.userManagement.authenticationMethod===zh.Saml},permanentlyDismissedBanners(){var e;return((e=this.settings.banners)==null?void 0:e.dismissed)??[]},isBelowUserQuota(){const e=Ge();return this.userManagement.quota===-1||this.userManagement.quota>e.allUsers.length}},actions:{setSettings(e){var t,s,n;this.settings=e,this.userManagement=e.userManagement,this.userManagement&&(this.userManagement.showSetupOnFirstLoad=!!e.userManagement.showSetupOnFirstLoad),this.api=e.publicApi,this.onboardingCallPromptEnabled=e.onboardingCallPromptEnabled,(t=e.sso)!=null&&t.ldap&&(this.ldap.loginEnabled=e.sso.ldap.loginEnabled,this.ldap.loginLabel=e.sso.ldap.loginLabel),(s=e.sso)!=null&&s.saml&&(this.saml.loginEnabled=e.sso.saml.loginEnabled,this.saml.loginLabel=e.sso.saml.loginLabel),(n=e.enterprise)!=null&&n.showNonProdBanner&&(Ee().banners.NON_PRODUCTION_LICENSE.dismissed=!1)},async getSettings(){const e=fe(),t=await jI(e.getRestApiContext);this.setSettings(t),this.settings.communityNodesEnabled=t.communityNodesEnabled,this.setAllowedModules(t.allowedModules),this.setSaveDataErrorExecution(t.saveDataErrorExecution),this.setSaveDataSuccessExecution(t.saveDataSuccessExecution),this.setSaveManualExecutions(t.saveManualExecutions),e.setUrlBaseWebhook(t.urlBaseWebhook),e.setUrlBaseEditor(t.urlBaseEditor),e.setEndpointWebhook(t.endpointWebhook),e.setEndpointWebhookTest(t.endpointWebhookTest),e.setTimezone(t.timezone),e.setExecutionTimeout(t.executionTimeout),e.setMaxExecutionTimeout(t.maxExecutionTimeout),e.setVersionCli(t.versionCli),e.setInstanceId(t.instanceId),e.setOauthCallbackUrls(t.oauthCallbackUrls),e.setN8nMetadata(t.n8nMetadata||{}),e.setDefaultLocale(t.defaultLocale),e.setIsNpmAvailable(t.isNpmAvailable),!t.banners.dismissed.includes("V1")&&fe().versionCli.startsWith("1.")&&!Vn().userIsTrialing&&Ee().showBanner("V1"),Kc().setVersionNotificationSettings(t.versionNotifications)},stopShowingSetupPage(){this.userManagement.showSetupOnFirstLoad=!1},disableTemplates(){this.settings={...this.settings,templates:{...this.settings.templates,enabled:!1}}},setPromptsData(e){this.promptsData=e},setAllowedModules(e){this.settings.allowedModules=e},async fetchPromptsData(){if(!this.isTelemetryEnabled)return;const e=Ee(),t=Ge(),s=await qI(this.settings.instanceId,t.currentUserId||"");s&&s.showContactPrompt?e.openModal(zm):s&&s.showValueSurvey&&e.openModal(Hc),this.setPromptsData(s)},async submitContactInfo(e){try{const t=Ge();return await zI(this.settings.instanceId,t.currentUserId||"",e)}catch{return}},async submitValueSurvey(e){try{const t=Ge();return await HI(this.settings.instanceId,t.currentUserId||"",e)}catch{return}},async testTemplatesEndpoint(){const e=new Promise((t,s)=>setTimeout(()=>s(),2e3));await Promise.race([mM(this.templatesHost),e]),this.templatesEndpointHealthy=!0},async getApiKey(){const e=fe(),{apiKey:t}=await rM(e.getRestApiContext);return t},async createApiKey(){const e=fe(),{apiKey:t}=await aM(e.getRestApiContext);return t},async deleteApiKey(){const e=fe();await lM(e.getRestApiContext)},async getLdapConfig(){const e=fe();return uM(e.getRestApiContext)},async getLdapSynchronizations(e){const t=fe();return hM(t.getRestApiContext,e)},async testLdapConnection(){const e=fe();return cM(e.getRestApiContext)},async updateLdapConfig(e){const t=fe();return dM(t.getRestApiContext,e)},async runLdapSync(e){const t=fe();return pM(t.getRestApiContext,e)},setSaveDataErrorExecution(e){this.saveDataErrorExecution=e},setSaveDataSuccessExecution(e){this.saveDataSuccessExecution=e},setSaveManualExecutions(e){this.saveManualExecutions=e},async getTimezones(){const e=fe();return xe(e.getRestApiContext,"GET","/options/timezones")}}}),Mp="Unnamed credential",HM="account",QM=["httpBasicAuth","oAuth2Api","httpDigestAuth","oAuth1Api"],It=wt(ts.CREDENTIALS,{state:()=>({credentialTypes:{},credentials:{}}),getters:{credentialTypesById(){return this.credentialTypes},allCredentialTypes(){return Object.values(this.credentialTypes).sort((e,t)=>e.displayName.localeCompare(t.displayName))},allCredentials(){return Object.values(this.credentials).sort((e,t)=>e.name.localeCompare(t.name))},allCredentialsByType(){const e=this.allCredentials;return this.allCredentialTypes.reduce((s,n)=>(s[n.name]=e.filter(o=>o.type===n.name),s),{})},allUsableCredentialsForNode(){return e=>{let t=[];const s=it().getNodeType(e.type,e.typeVersion);return s!=null&&s.credentials&&s.credentials.forEach(n=>{t=t.concat(this.allUsableCredentialsByType[n.name])}),t.sort((n,o)=>{const i=new Date(n.updatedAt),r=new Date(o.updatedAt);return i.getTime()-r.getTime()})}},allUsableCredentialsByType(){const e=this.allCredentials,t=this.allCredentialTypes,s=Ge();return t.reduce((n,o)=>(n[o.name]=e.filter(i=>i.type===o.name&&s.isResourceAccessible(i)),n),{})},getCredentialTypeByName(){return e=>this.credentialTypes[e]},getCredentialById(){return e=>this.credentials[e]},getCredentialByIdAndType(){return(e,t)=>{const s=this.credentials[e];return!s||s.type!==t?void 0:s}},getCredentialsByType(){return e=>this.allCredentialsByType[e]||[]},getUsableCredentialByType(){return e=>this.allUsableCredentialsByType[e]||[]},getNodesWithAccess(){return e=>it().allLatestNodeTypes.filter(n=>{if(!n.credentials)return!1;for(const o of n.credentials)if(o.name===e)return!0;return!1})},getScopesByCredentialType(){return e=>{const t=this.getCredentialTypeByName(e);if(!t)return[];const s=t.properties.find(o=>o.name==="scope");if(!s||!s.default||typeof s.default!="string"||s.default==="")return[];let{default:n}=s;return n=n.replace(/^=/,"").replace(/\{\{.*\}\}/,""),/ /.test(n)?n.split(" "):/,/.test(n)?n.split(","):[n]}},getCredentialOwnerName(){return e=>{var t;return(t=e==null?void 0:e.ownedBy)!=null&&t.firstName?`${e.ownedBy.firstName} ${e.ownedBy.lastName} (${e.ownedBy.email})`:Te.baseText("credentialEdit.credentialSharing.info.sharee.fallback")}},getCredentialOwnerNameById(){return e=>{const t=this.getCredentialById(e);return this.getCredentialOwnerName(t)}}},actions:{setCredentialTypes(e){this.credentialTypes=e.reduce((t,s)=>(t[s.name]=s,t),{})},setCredentials(e){this.credentials=e.reduce((t,s)=>(s.id&&(t[s.id]=s),t),{})},addCredentials(e){e.forEach(t=>{t.id&&(this.credentials[t.id]={...this.credentials[t.id],...t})})},upsertCredential(e){e.id&&(this.credentials={...this.credentials,[e.id]:{...this.credentials[e.id],...e}})},enableOAuthCredential(e){},async fetchCredentialTypes(e){if(this.allCredentialTypes.length>0&&!e)return;const t=fe(),s=await YI(t.getBaseUrl);this.setCredentialTypes(s)},async fetchAllCredentials(){const e=fe(),t=await KI(e.getRestApiContext);return this.setCredentials(t),t},async getCredentialData({id:e}){const t=fe();return tM(t.getRestApiContext,e)},async createNewCredential(e){const t=fe(),s=Le(),n=await JI(t.getRestApiContext,e);if(s.isEnterpriseFeatureEnabled(ot.Sharing)){if(this.upsertCredential(n),e.ownedBy){this.setCredentialOwnedBy({credentialId:n.id,ownedBy:e.ownedBy});const o=Ge();e.sharedWith&&e.ownedBy.id===o.currentUserId&&await this.setCredentialSharedWith({credentialId:n.id,sharedWith:e.sharedWith})}}else this.upsertCredential(n);return n},async updateCredential(e){const{id:t,data:s}=e,n=fe(),o=Le(),i=await eM(n.getRestApiContext,t,s);if(o.isEnterpriseFeatureEnabled(ot.Sharing)){if(this.upsertCredential(i),s.ownedBy){this.setCredentialOwnedBy({credentialId:i.id,ownedBy:s.ownedBy});const r=Ge();s.sharedWith&&s.ownedBy.id===r.currentUserId&&await this.setCredentialSharedWith({credentialId:i.id,sharedWith:s.sharedWith})}}else this.upsertCredential(i);return i},async deleteCredential({id:e}){const t=fe();if(await ZI(t.getRestApiContext,e)){const{[e]:n,...o}=this.credentials;this.credentials=o}},async oAuth2Authorize(e){const t=fe();return nM(t.getRestApiContext,e)},async oAuth1Authorize(e){const t=fe();return sM(t.getRestApiContext,e)},async testCredential(e){const t=fe();return oM(t.getRestApiContext,{credentials:e})},async getNewCredentialName(e){try{const{credentialTypeName:t}=e;let s=Mp;if(!QM.includes(t)){const i=this.getCredentialTypeByName(t);s=i?yS(i.displayName):"",s=s.length>0?`${s} ${HM}`:Mp}const n=fe();return(await XI(n.getRestApiContext,s)).name}catch{return Mp}},setCredentialOwnedBy(e){this.credentials[e.credentialId]={...this.credentials[e.credentialId],ownedBy:e.ownedBy}},async setCredentialSharedWith(e){Le().isEnterpriseFeatureEnabled(ot.Sharing)&&(await iM(fe().getRestApiContext,e.credentialId,{shareWithIds:e.sharedWith.map(t=>t.id)}),this.credentials[e.credentialId]={...this.credentials[e.credentialId],sharedWith:e.sharedWith})},addCredentialSharee(e){this.credentials[e.credentialId]={...this.credentials[e.credentialId],sharedWith:(this.credentials[e.credentialId].sharedWith||[]).concat([e.sharee])}},removeCredentialSharee(e){this.credentials[e.credentialId]={...this.credentials[e.credentialId],sharedWith:(this.credentials[e.credentialId].sharedWith||[]).filter(t=>t.id!==e.sharee.id)}},async getCredentialTranslation(e){const t=fe();return xe(t.getRestApiContext,"GET","/credential-translation",{credentialType:e})}}});async function GM(e){return xe(e,"GET","/variables")}async function YM(e,t){return xe(e,"POST","/variables",t)}async function XM(e,{id:t,...s}){return xe(e,"PATCH",`/variables/${t}`,s)}async function KM(e,{id:t}){return xe(e,"DELETE",`/variables/${t}`)}const gl=wt("environments",()=>{const e=fe(),t=Be([]);async function s(){const l=await GM(e.getRestApiContext);return t.value=l,l}async function n(l){const m=await YM(e.getRestApiContext,l);return t.value.unshift(m),m}async function o(l){const m=await XM(e.getRestApiContext,l);return t.value=t.value.map(c=>c.id===m.id?m:c),m}async function i(l){const m=await KM(e.getRestApiContext,{id:l.id});return t.value=t.value.filter(c=>c.id!==l.id),m}const r=we(()=>t.value.reduce((l,m)=>(l[m.key]=m.value,l),{}));return{variables:t,variablesAsObject:r,fetchAllVariables:s,createVariable:n,updateVariable:o,deleteVariable:i}}),Ww=100,Fr=wt(ts.HISTORY,{state:()=>({undoStack:[],redoStack:[],currentBulkAction:null,bulkInProgress:!1}),actions:{popUndoableToUndo(){if(this.undoStack.length>0)return this.undoStack.pop()},pushCommandToUndo(e,t=!0){this.bulkInProgress||(this.currentBulkAction?this.currentBulkAction.commands.find(n=>n.isEqualTo(e))!==void 0||this.currentBulkAction.commands.push(e):this.undoStack.push(e),this.checkUndoStackLimit(),t&&this.clearRedoStack())},pushBulkCommandToUndo(e,t=!0){this.undoStack.push(e),this.checkUndoStackLimit(),t&&this.clearRedoStack()},checkUndoStackLimit(){this.undoStack.length>Ww&&this.undoStack.shift()},checkRedoStackLimit(){this.redoStack.length>Ww&&this.redoStack.shift()},clearUndoStack(){this.undoStack=[]},clearRedoStack(){this.redoStack=[]},reset(){this.clearRedoStack(),this.clearUndoStack()},popUndoableToRedo(){if(this.redoStack.length>0)return this.redoStack.pop()},pushUndoableToRedo(e){this.redoStack.push(e),this.checkRedoStackLimit()},startRecordingUndo(){this.currentBulkAction=new nr([])},stopRecordingUndo(){this.currentBulkAction&&this.currentBulkAction.commands.length>0&&(this.undoStack.push(this.currentBulkAction),this.checkUndoStackLimit()),this.currentBulkAction=null}}});async function JM(e,t,s=[]){if(t.id){const n={...t,subscribedEvents:s};return xe(e,"POST","/eventbus/destination",n)}}async function ZM(e,t){return xe(e,"DELETE",`/eventbus/destination?id=${t}`)}async function e8(e,t){if(t.id){const s={...t};return xe(e,"GET","/eventbus/testmessage",s)}}async function t8(e){return xe(e,"GET","/eventbus/eventnames")}async function s8(e){return xe(e,"GET","/eventbus/destination")}const Jc=wt("logStreaming",{state:()=>({items:{},eventNames:new Set}),getters:{},actions:{addDestination(e){e.id&&this.items[e.id]?this.items[e.id].destination=e:this.setSelectionAndBuildItems(e)},getDestination(e){if(this.items[e])return this.items[e].destination},getAllDestinations(){const e=[];for(const t of Object.keys(this.items))e.push(this.items[t].destination);return e},updateDestination(e){e.id&&this.items[e.id]&&this.$patch(t=>{e.id&&this.items[e.id]&&(t.items[e.id].destination=e),t.items={...t.items}})},removeDestination(e){e&&(delete this.items[e],this.items[e]&&this.$patch({items:{...this.items}}))},clearDestinations(){this.items={}},addEventName(e){this.eventNames.add(e)},removeEventName(e){this.eventNames.delete(e)},clearEventNames(){this.eventNames.clear()},addSelectedEvent(e,t){var s,n;(n=(s=this.items[e])==null?void 0:s.selectedEvents)==null||n.add(t),this.setSelectedInGroup(e,t,!0)},removeSelectedEvent(e,t){var s,n;(n=(s=this.items[e])==null?void 0:s.selectedEvents)==null||n.delete(t),this.setSelectedInGroup(e,t,!1)},getSelectedEvents(e){const t=[];if(this.items[e])for(const s of this.items[e].eventGroups){s.selected&&t.push(s.name);for(const n of s.children)n.selected&&t.push(n.name)}return t},setSelectedInGroup(e,t,s){if(this.items[e]){const n=n8(t),o=this.items[e].eventGroups.findIndex(i=>i.name===n);if(o>-1)if(n===t)this.$patch(i=>{i.items[e].eventGroups[o].selected=s});else{const i=this.items[e].eventGroups[o].children.findIndex(r=>r.name===t);i>-1&&this.$patch(r=>{if(r.items[e].eventGroups[o].children[i].selected=s,s)r.items[e].eventGroups[o].indeterminate=s;else{let l=!1;for(let m=0;m<r.items[e].eventGroups[o].children.length;m++)l=l||r.items[e].eventGroups[o].children[m].selected;r.items[e].eventGroups[o].indeterminate=l}})}}},removeDestinationItemTree(e){delete this.items[e]},clearDestinationItemTrees(){this.items={}},setSelectionAndBuildItems(e){var t,s,n,o,i;if(e.id){if(this.items[e.id]||(this.items[e.id]={destination:e,selectedEvents:new Set,eventGroups:[],isNew:!1}),(s=(t=this.items[e.id])==null?void 0:t.selectedEvents)==null||s.clear(),e.subscribedEvents)for(const r of e.subscribedEvents)(o=(n=this.items[e.id])==null?void 0:n.selectedEvents)==null||o.add(r);this.items[e.id].eventGroups=i8(this.eventNames,(i=this.items[e.id])==null?void 0:i.selectedEvents)}},async saveDestination(e){if(e.id){const t=fe(),s=this.getSelectedEvents(e.id);try{return await JM(t.getRestApiContext,e,s),this.updateDestination(e),!0}catch{return!1}}return!1},async sendTestMessage(e){if(e.id){const t=fe();return await e8(t.getRestApiContext,e)}return!1},async fetchEventNames(){const e=fe();return t8(e.getRestApiContext)},async fetchDestinations(){const e=fe();return s8(e.getRestApiContext)},async deleteDestination(e){const t=fe();await ZM(t.getRestApiContext,e),this.removeDestination(e)}}});function n8(e){const t=e.match(/^[\w\s]+\.[\w\s]+/);if(t&&(t==null?void 0:t.length)>0)return t[0]}function o8(e,t=""){return e=e.replace(t+".",""),e.length>0&&(e=e[0].toUpperCase()+e.substring(1),e=e.replaceAll("."," ")),e}function i8(e,t=new Set){const s=[],n=Array.from(e.values()),o=new Set;o.add("n8n.workflow"),o.add("n8n.node");for(const i of n){const r=i.match(/^[\w\s]+\.[\w\s]+/);r&&(r==null?void 0:r.length)>0&&o.add(r[0])}for(const i of o){const r={children:[],label:i,name:i,selected:t.has(i),indeterminate:!1},l=n.filter(m=>m.startsWith(i));for(const m of l){!r.selected&&t.has(m)&&(r.indeterminate=!0);const c={label:o8(m,i),name:m,selected:t.has(m),indeterminate:!1};r.children.push(c)}s.push(r)}return s}const Hh=wt(ts.NODE_CREATOR,()=>{const e=Be(Lu),t=Be([]),s=Be({}),n=Be(!1),o=Be("");function i(h){t.value=h}function r(h){s.value=h}function l(h){n.value=h}function m(h){e.value=h}function c(h){o.value=h}return{openSource:o,selectedView:e,showScrim:n,mergedNodes:t,actions:s,setShowScrim:l,setSelectedView:m,setOpenSource:c,setActions:r,setMergeNodes:i}}),To={ADDED_MANUAL_TRIGGER:"User added manual trigger",ADDED_SCHEDULE_TRIGGER:"User added schedule trigger",ADDED_DATA_TRIGGER:"User added data trigger",RECEIEVED_MULTIPLE_DATA_ITEMS:"User received multiple data items",EXECUTED_MANUAL_TRIGGER:"User executed manual trigger successfully",EXECUTED_SCHEDULE_TRIGGER:"User executed schedule trigger successfully",EXECUTED_DATA_NODE_TRIGGER:"User executed data node successfully",MAPPED_DATA:"User mapped data"},af=wt("segment",()=>{const e=it(),t=_e(),s=Le(),n=(c,h)=>{var p;s.telemetry.enabled&&((p=window.analytics)==null||p.track(c,h))},o=c=>{e.isTriggerNode(c)&&n(c===Bo?To.ADDED_MANUAL_TRIGGER:c===kr?To.ADDED_SCHEDULE_TRIGGER:To.ADDED_DATA_TRIGGER)},i=c=>{const h=new Set,p=new Set;let g=!1,w=!1;for(const S of Object.keys(c.data.resultData.runData)){const k=c.data.resultData.runData[S],O=t.getNodeByName(S),C=O?O.type:"unknown";if(k[0].data&&k[0].data.main.some(A=>A&&(A==null?void 0:A.length)>1)&&p.add(C),O&&!O.disabled){const A=e.getNodeType(O.type,O.typeVersion);m(A)&&h.add(C),r(A)&&(g=!0),l(A)&&(w=!0)}}p.size>0&&n(To.RECEIEVED_MULTIPLE_DATA_ITEMS,{nodeTypes:Array.from(p)}),h.size>0&&n(To.EXECUTED_DATA_NODE_TRIGGER,{nodeTypes:Array.from(h)}),g&&n(To.EXECUTED_MANUAL_TRIGGER),w&&n(To.EXECUTED_SCHEDULE_TRIGGER)},r=c=>!!c&&c.name===Bo,l=c=>!!c&&c.name===kr,m=c=>{if(!c)return!1;const h=[_o,hl,Gm,Ns];return!e.isCoreNodeType(c)||h.includes(c.name)};return{track:n,trackAddedTrigger:o,trackSuccessfulWorkflowExecution:i,EVENTS:To}});async function r8(e,t=!1){return xe(e,"GET","/tags",{withUsageCount:t})}async function a8(e,t){return xe(e,"POST","/tags",t)}async function l8(e,t,s){return xe(e,"PATCH",`/tags/${t}`,s)}async function u8(e,t){return xe(e,"DELETE",`/tags/${t}`)}const yi=wt(ts.TAGS,{state:()=>({tags:{},loading:!1,fetchedAll:!1,fetchedUsageCount:!1}),getters:{allTags(){return Object.values(this.tags).sort((e,t)=>e.name.localeCompare(t.name))},isLoading(){return this.loading},hasTags(){return Object.keys(this.tags).length>0},getTagById(){return e=>this.tags[e]}},actions:{setAllTags(e){this.tags=e.reduce((t,s)=>(t[s.id]=s,t),{}),this.fetchedAll=!0},upsertTags(e){e.forEach(t=>{const s=t.id,n=this.tags[s];if(n){const o={...n,...t};this.tags={...this.tags,[s]:o}}else this.tags={...this.tags,[s]:t}})},deleteTag(e){const{[e]:t,...s}=this.tags;this.tags=s},async fetchAll(e){const{force:t=!1,withUsageCount:s=!1}=e||{};if(!t&&this.fetchedAll&&this.fetchedUsageCount===s)return Object.values(this.tags);this.loading=!0;const n=fe(),o=await r8(n.getRestApiContext,!!s);return this.setAllTags(o),this.loading=!1,o},async create(e){const t=fe(),s=await a8(t.getRestApiContext,{name:e});return this.upsertTags([s]),s},async rename({id:e,name:t}){const s=fe(),n=await l8(s.getRestApiContext,e,{name:t});return this.upsertTags([n]),n},async delete(e){const t=fe(),s=await u8(t.getRestApiContext,e);return s&&(this.deleteTag(e),_e().removeWorkflowTagId(e)),s}}}),jw=10;function Zn(e){return JSON.stringify([e.search||"",[...e.categories].sort()])}const Ln=wt(ts.TEMPLATES,{state:()=>({categories:{},collections:{},workflows:{},collectionSearches:{},workflowSearches:{},currentSessionId:"",previousSessionId:""}),getters:{allCategories(){return Object.values(this.categories).sort((e,t)=>e.name>t.name?1:-1)},getTemplateById(){return e=>this.workflows[e]},getCollectionById(){return e=>this.collections[e]},getCategoryById(){return e=>this.categories[e]},getSearchedCollections(){return e=>{const t=Zn(e),s=this.collectionSearches[t];return s?s.collectionIds.map(n=>this.collections[n]):null}},getSearchedWorkflows(){return e=>{const t=Zn(e),s=this.workflowSearches[t];return s?s.workflowIds.map(n=>this.workflows[n]):null}},getSearchedWorkflowsTotal(){return e=>{const t=Zn(e),s=this.workflowSearches[t];return s?s.totalWorkflows:0}},isSearchLoadingMore(){return e=>{const t=Zn(e),s=this.workflowSearches[t];return!!(s&&s.loadingMore)}},isSearchFinished(){return e=>{const t=Zn(e),s=this.workflowSearches[t];return!!(s&&!s.loadingMore&&s.totalWorkflows===s.workflowIds.length)}}},actions:{addCategories(e){e.forEach(t=>{this.categories={...this.categories,[t.id]:t}})},addCollections(e){e.forEach(t=>{const s=(t.workflows||[]).map(o=>({id:o.id})),n=this.collections[t.id]||{};this.collections={...this.collections,[t.id]:{...n,...t,workflows:s}}})},addWorkflows(e){e.forEach(t=>{const s=this.workflows[t.id]||{};this.workflows={...this.workflows,[t.id]:{...s,...t}}})},addCollectionSearch(e){const t=e.collections.map(n=>n.id),s=Zn(e.query);this.collectionSearches={...this.collectionSearches,[s]:{collectionIds:t}}},addWorkflowsSearch(e){const t=e.workflows.map(o=>o.id),s=Zn(e.query),n=this.workflowSearches[s];if(!n){this.workflowSearches={...this.workflowSearches,[s]:{workflowIds:t,totalWorkflows:e.totalWorkflows}};return}this.workflowSearches={...this.workflowSearches,[s]:{workflowIds:[...n.workflowIds,...t],totalWorkflows:e.totalWorkflows}}},setWorkflowSearchLoading(e){const t=Zn(e);this.workflowSearches[t]&&(this.workflowSearches[t]={...this.workflowSearches[t],loadingMore:!0})},setWorkflowSearchLoaded(e){const t=Zn(e);this.workflowSearches[t]&&(this.workflowSearches[t]={...this.workflowSearches[t],loadingMore:!1})},resetSessionId(){this.previousSessionId=this.currentSessionId,this.currentSessionId=""},setSessionId(){this.currentSessionId||(this.currentSessionId=`templates-${Date.now()}`)},async fetchTemplateById(e){const t=Le(),s=t.templatesHost,n=t.versionCli,i={...(await wM(s,e,{"n8n-version":n})).workflow,full:!0};return this.addWorkflows([i]),i},async fetchCollectionById(e){const t=Le(),s=t.templatesHost,n=t.versionCli,o=await yM(s,e,{"n8n-version":n}),i={...o.collection,full:!0};return this.addCollections([i]),this.addWorkflows(o.collection.workflows),this.getCollectionById(e)},async getCategories(){const e=this.allCategories;if(e.length)return e;const t=Le(),s=t.templatesHost,n=t.versionCli,i=(await fM(s,{"n8n-version":n})).categories;return this.addCategories(i),i},async getCollections(e){const t=this.getSearchedCollections(e);if(t)return t;const s=Le(),n=s.templatesHost,o=s.versionCli,r=(await gM(n,e,{"n8n-version":o})).collections;return this.addCollections(r),this.addCollectionSearch({query:e,collections:r}),r.forEach(l=>this.addWorkflows(l.workflows)),r},async getWorkflows(e){const t=this.getSearchedWorkflows(e);if(t)return t;const s=Le(),n=s.templatesHost,o=s.versionCli,i=await Vw(n,{...e,skip:0,limit:jw},{"n8n-version":o});return this.addWorkflows(i.workflows),this.addWorkflowsSearch({...i,query:e}),this.getSearchedWorkflows(e)||[]},async getMoreWorkflows(e){if(this.isSearchLoadingMore(e)&&!this.isSearchFinished(e))return[];const t=this.getSearchedWorkflows(e)||[],n=Le().templatesHost;this.setWorkflowSearchLoading(e);try{const o=await Vw(n,{...e,skip:t.length,limit:jw});return this.setWorkflowSearchLoaded(e),this.addWorkflows(o.workflows),this.addWorkflowsSearch({...o,query:e}),this.getSearchedWorkflows(e)||[]}catch(o){throw this.setWorkflowSearchLoaded(e),o}},async getWorkflowTemplate(e){const t=Le(),s=t.templatesHost,n=t.versionCli;return bM(s,e,{"n8n-version":n})}}}),c8=async e=>xe(e,"GET","/license"),d8=async(e,t)=>xe(e,"POST","/license/activate",t),p8=async e=>xe(e,"POST","/license/renew"),fS="Community",h8={loading:!0,data:{usage:{executions:{limit:-1,value:0,warningThreshold:.8}},license:{planId:"",planName:fS}}},Oi=wt("usage",()=>{const e=fe(),t=Le(),s=Ge(),n=en(h8),o=we(()=>n.data.license.planName||fS),i=we(()=>n.data.license.planId),r=we(()=>n.data.usage.executions.limit),l=we(()=>n.data.usage.executions.value),m=we(()=>l.value/r.value*100),c=we(()=>t.settings.instanceId),h=we(()=>n.data.managementToken),p=we(()=>t.settings.versionCli),g=we(()=>`instanceid=${c.value}&version=${p.value}`),w=we(()=>t.settings.license.environment==="production"?"https://subscription.n8n.io":"https://staging-subscription.n8n.io"),S=T=>{n.loading=T},k=T=>{n.data=T},O=async()=>{const T=await c8(e.getRestApiContext);k(T)};return{setLoading:S,getLicenseInfo:O,setData:k,activateLicense:async T=>{const F=await d8(e.getRestApiContext,{activationKey:T});k(F),await t.getSettings()},refreshLicenseManagementToken:async()=>{try{const T=await p8(e.getRestApiContext);k(T)}catch{await O()}},planName:o,planId:i,executionLimit:r,executionCount:l,executionPercentage:m,instanceId:c,managementToken:h,appVersion:p,isCloseToLimit:we(()=>n.data.usage.executions.limit<0?!1:l.value/r.value>=n.data.usage.executions.warningThreshold),viewPlansUrl:we(()=>`${w.value}?${g.value}`),managePlanUrl:we(()=>`${w.value}/manage?token=${h.value}&${g.value}`),canUserActivateLicense:we(()=>s.canUserActivateLicense),isLoading:we(()=>n.loading),telemetryPayload:we(()=>({instance_id:c.value,action:"view_plans",plan_name_current:o.value,usage:l.value,quota:r.value})),isDesktop:we(()=>t.isDesktopDeployment)}}),lf=wt(ts.WEBHOOKS,{getters:{globalRoleName(){return Ge().globalRoleName},getContextBasedTranslationKeys(){return Ee().contextBasedTranslationKeys},getFakeDoorFeatures(){return Ee().fakeDoorFeatures},getFakeDoorItems(){return Ee().fakeDoorFeatures},n8nMetadata(){return fe().n8nMetadata},instanceId(){return fe().instanceId},workflowId(){return _e().workflowId},workflowName(){return _e().workflowName},activeNode(){return Xe().activeNode},workflowSettings(){return _e().workflowSettings},activeExecutionId(){return _e().activeExecutionId||""},nodeByName:e=>t=>_e().getNodeByName(t),allNodes(){return _e().allNodes}},actions:{addSidebarMenuItems(e){const t=Ee(),s=t.sidebarMenuItems.concat(e);t.sidebarMenuItems=s},setFakeDoorFeatures(e){Ee().fakeDoorFeatures=e},setContextBasedTranslationKeys(e){Ee().contextBasedTranslationKeys=e}}});async function m8(e,t,s){return xe(e,"PUT",`/workflows/${t}/share`,s)}const yl=wt(ts.WORKFLOWS_EE,{state(){return{}},getters:{getWorkflowOwnerName(){return(e,t=Te.baseText("workflows.shareModal.info.sharee.fallback"))=>{const s=_e().getWorkflowById(e);return s&&s.ownedBy&&s.ownedBy.firstName?`${s.ownedBy.firstName} ${s.ownedBy.lastName} (${s.ownedBy.email})`:t}}},actions:{setWorkflowOwnedBy(e){const t=_e();t.workflowsById[e.workflowId]={...t.workflowsById[e.workflowId],ownedBy:e.ownedBy},t.workflow={...t.workflow,ownedBy:e.ownedBy}},setWorkflowSharedWith(e){const t=_e();t.workflowsById[e.workflowId]={...t.workflowsById[e.workflowId],sharedWith:e.sharedWith},t.workflow={...t.workflow,sharedWith:e.sharedWith}},addWorkflowSharee(e){const t=_e();t.workflowsById[e.workflowId]={...t.workflowsById[e.workflowId],sharedWith:(t.workflowsById[e.workflowId].sharedWith||[]).concat([e.sharee])}},removeWorkflowSharee(e){const t=_e();t.workflowsById[e.workflowId]={...t.workflowsById[e.workflowId],sharedWith:(t.workflowsById[e.workflowId].sharedWith||[]).filter(s=>s.id!==e.sharee.id)}},async saveWorkflowSharedWith(e){const t=fe();Le().isEnterpriseFeatureEnabled(ot.Sharing)&&(await m8(t.getRestApiContext,e.workflowId,{shareWithIds:e.sharedWith.map(n=>n.id)}),this.setWorkflowSharedWith(e))}}}),mo="/source-control",gS=e=>async(t,s)=>xe(t,e,`${mo}/preferences`,s),f8=async(e,t)=>xe(e,"POST",`${mo}/push-workfolder`,t),g8=async(e,t)=>xe(e,"POST",`${mo}/pull-workfolder`,t),y8=async e=>xe(e,"GET",`${mo}/get-branches`),w8=gS("POST"),b8=gS("PATCH"),qw=async e=>xe(e,"GET",`${mo}/preferences`),v8=async e=>xe(e,"GET",`${mo}/status`),T8=async(e,t={direction:"push",preferLocalVersion:!0,verbose:!1})=>xe(e,"GET",`${mo}/get-status`,t),S8=async(e,t)=>xe(e,"POST",`${mo}/disconnect`,{keepKeyPair:t}),k8=async e=>xe(e,"POST",`${mo}/generate-key-pair`),Fs=wt("sourceControl",()=>{const e=fe(),t=Le(),s=Ge(),n=we(()=>t.isEnterpriseFeatureEnabled(ot.SourceControl));we(()=>{const A=s.currentUser;return{name:(A==null?void 0:A.fullName)??`${A==null?void 0:A.firstName} ${A==null?void 0:A.lastName}`.trim(),email:(A==null?void 0:A.email)??""}});const o=en({branchName:"",branches:[],repositoryUrl:"",branchReadOnly:!1,branchColor:"#5296D6",connected:!1,publicKey:""}),i=en({commitMessage:"commit message"}),r=async A=>{i.commitMessage=A.commitMessage,await f8(e.getRestApiContext,{force:A.force,message:A.commitMessage,...A.fileNames?{fileNames:A.fileNames}:{}})},l=async A=>g8(e.getRestApiContext,{force:A}),m=A=>{Object.assign(o,A)},c=A=>async T=>{const F=await A(e.getRestApiContext,T);m(F)},h=async()=>{const A=await y8(e.getRestApiContext);m(A)},p=async()=>{const A=await qw(e.getRestApiContext);m(A)},g=c(w8),w=c(b8);return{isEnterpriseSourceControlEnabled:n,state:i,preferences:o,pushWorkfolder:r,pullWorkfolder:l,getPreferences:p,setPreferences:m,generateKeyPair:async()=>{await k8(e.getRestApiContext);const A=await qw(e.getRestApiContext);return o.publicKey=A.publicKey,{publicKey:A.publicKey}},getBranches:h,savePreferences:g,updatePreferences:w,disconnect:async A=>{await S8(e.getRestApiContext,A),m({connected:!1,branches:[]})},getStatus:async()=>v8(e.getRestApiContext),getAggregatedStatus:async()=>T8(e.getRestApiContext)}}),E8=async e=>xe(e,"GET","/sso/saml/initsso"),x8=async e=>xe(e,"GET","/sso/saml/metadata"),C8=async e=>xe(e,"GET","/sso/saml/config"),O8=async(e,t)=>xe(e,"POST","/sso/saml/config",t),D8=async(e,t)=>xe(e,"POST","/sso/saml/config/toggle",t),A8=async e=>xe(e,"GET","/sso/saml/config/test"),wl=wt("sso",()=>{const e=fe(),t=Le(),s=Ge(),n=en({loading:!1,samlConfig:void 0}),o=we(()=>n.loading),i=we(()=>n.samlConfig),r=T=>{n.loading=T},l=we({get:()=>t.isSamlLoginEnabled,set:T=>{t.setSettings({...t.settings,sso:{...t.settings.sso,saml:{...t.settings.sso.saml,loginEnabled:T}}}),g(T)}}),m=we(()=>t.isEnterpriseFeatureEnabled(ot.Saml)),c=we(()=>t.isDefaultAuthenticationSaml),h=we(()=>l.value&&m.value&&c.value),p=async()=>E8(e.getRestApiContext),g=async T=>D8(e.getRestApiContext,{loginEnabled:T}),w=async()=>x8(e.getRestApiContext),S=async()=>{const T=await C8(e.getRestApiContext);return n.samlConfig=T,T},k=async T=>O8(e.getRestApiContext,T),O=async()=>A8(e.getRestApiContext),C=async T=>hS(e.getRestApiContext,{id:s.currentUser.id,email:s.currentUser.email,...T}),A=we(()=>s.currentUser);return{isLoading:o,setLoading:r,isSamlLoginEnabled:l,isEnterpriseSamlEnabled:m,isDefaultAuthenticationSaml:c,showSsoLoginButton:h,samlConfig:i,getSSORedirectUrl:p,getSamlMetadata:w,getSamlConfig:S,saveSamlConfig:k,testSamlConfig:O,updateUser:C,userData:A}}),$8=wt("auditLogs",()=>{const e=Le();return{isEnterpriseAuditLogsFeatureEnabled:we(()=>e.isEnterpriseFeatureEnabled(ot.AuditLogs))}}),ds=CD({locale:"en",fallbackLocale:"en",messages:{en:qT}});class N8{constructor(){qe(this,"rootVars",{$binary:this.baseText("codeNodeEditor.completer.binary"),$execution:this.baseText("codeNodeEditor.completer.$execution"),$input:this.baseText("codeNodeEditor.completer.$input"),$jmespath:this.baseText("codeNodeEditor.completer.$jmespath"),$json:this.baseText("codeNodeEditor.completer.json"),$itemIndex:this.baseText("codeNodeEditor.completer.$itemIndex"),$now:this.baseText("codeNodeEditor.completer.$now"),$parameter:this.baseText("codeNodeEditor.completer.$parameter"),$prevNode:this.baseText("codeNodeEditor.completer.$prevNode"),$if:this.baseText("codeNodeEditor.completer.$if"),$max:this.baseText("codeNodeEditor.completer.$max"),$min:this.baseText("codeNodeEditor.completer.$min"),$runIndex:this.baseText("codeNodeEditor.completer.$runIndex"),$today:this.baseText("codeNodeEditor.completer.$today"),$vars:this.baseText("codeNodeEditor.completer.$vars"),$workflow:this.baseText("codeNodeEditor.completer.$workflow")});qe(this,"proxyVars",{"$input.all":this.baseText("codeNodeEditor.completer.$input.all"),"$input.first":this.baseText("codeNodeEditor.completer.$input.first"),"$input.item":this.baseText("codeNodeEditor.completer.$input.item"),"$input.last":this.baseText("codeNodeEditor.completer.$input.last"),"$().all":this.baseText("codeNodeEditor.completer.selector.all"),"$().context":this.baseText("codeNodeEditor.completer.selector.context"),"$().first":this.baseText("codeNodeEditor.completer.selector.first"),"$().item":this.baseText("codeNodeEditor.completer.selector.item"),"$().itemMatching":this.baseText("codeNodeEditor.completer.selector.itemMatching"),"$().last":this.baseText("codeNodeEditor.completer.selector.last"),"$().params":this.baseText("codeNodeEditor.completer.selector.params"),"$prevNode.name":this.baseText("codeNodeEditor.completer.$prevNode.name"),"$prevNode.outputIndex":this.baseText("codeNodeEditor.completer.$prevNode.outputIndex"),"$prevNode.runIndex":this.baseText("codeNodeEditor.completer.$prevNode.runIndex"),"$execution.id":this.baseText("codeNodeEditor.completer.$workflow.id"),"$execution.mode":this.baseText("codeNodeEditor.completer.$execution.mode"),"$execution.resumeUrl":this.baseText("codeNodeEditor.completer.$execution.resumeUrl"),"$workflow.active":this.baseText("codeNodeEditor.completer.$workflow.active"),"$workflow.id":this.baseText("codeNodeEditor.completer.$workflow.id"),"$workflow.name":this.baseText("codeNodeEditor.completer.$workflow.name")});qe(this,"globalObject",{assign:this.baseText("codeNodeEditor.completer.globalObject.assign"),entries:this.baseText("codeNodeEditor.completer.globalObject.entries"),keys:this.baseText("codeNodeEditor.completer.globalObject.keys"),values:this.baseText("codeNodeEditor.completer.globalObject.values")});qe(this,"luxonInstance",{isValid:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.isValid"),invalidReason:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.invalidReason"),invalidExplanation:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.invalidExplanation"),locale:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.locale"),numberingSystem:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.numberingSystem"),outputCalendar:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.outputCalendar"),zone:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.zone"),zoneName:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.zoneName"),year:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.year"),quarter:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.quarter"),month:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.month"),day:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.day"),hour:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.hour"),minute:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.minute"),second:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.second"),millisecond:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.millisecond"),weekYear:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.weekYear"),weekNumber:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.weekNumber"),weekday:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.weekday"),ordinal:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.ordinal"),monthShort:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.monthShort"),monthLong:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.monthLong"),weekdayShort:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.weekdayShort"),weekdayLong:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.weekdayLong"),offset:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.offset"),offsetNumber:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.offsetNumber"),offsetNameShort:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.offsetNameShort"),offsetNameLong:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.offsetNameLong"),isOffsetFixed:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.isOffsetFixed"),isInDST:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.isInDST"),isInLeapYear:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.isInLeapYear"),daysInMonth:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.daysInMonth"),daysInYear:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.daysInYear"),weeksInWeekYear:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.weeksInWeekYear"),toUTC:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toUTC"),toLocal:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toLocal"),setZone:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.setZone"),setLocale:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.setLocale"),set:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.set"),plus:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.plus"),minus:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.minus"),startOf:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.startOf"),endOf:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.endOf"),toFormat:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toFormat"),toLocaleString:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toLocaleString"),toLocaleParts:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toLocaleParts"),toISO:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toISO"),toISODate:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toISODate"),toISOWeekDate:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toISOWeekDate"),toISOTime:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toISOTime"),toRFC2822:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toRFC2822"),toHTTP:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toHTTP"),toSQLDate:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toSQLDate"),toSQLTime:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toSQLTime"),toSQL:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toSQL"),toString:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toString"),valueOf:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.valueOf"),toMillis:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toMillis"),toSeconds:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toSeconds"),toUnixInteger:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toUnixInteger"),toJSON:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toJSON"),toBSON:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toBSON"),toObject:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toObject"),toJSDate:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toJsDate"),diff:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.diff"),diffNow:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.diffNow"),until:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.until"),hasSame:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.hasSame"),equals:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.equals"),toRelative:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toRelative"),toRelativeCalendar:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.toRelativeCalendar"),min:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.min"),max:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.max"),reconfigure:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.reconfigure"),resolvedLocaleOptions:this.baseText("codeNodeEditor.completer.luxon.instanceMethods.resolvedLocaleOptions")});qe(this,"luxonStatic",{now:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.now"),local:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.local"),utc:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.utc"),fromJSDate:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromJSDate"),fromMillis:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromMillis"),fromSeconds:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromSeconds"),fromObject:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromObject"),fromISO:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromISO"),fromRFC2822:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromRFC2822"),fromHTTP:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromHTTP"),fromFormat:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromFormat"),fromSQL:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromSQL"),invalid:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.invalid"),isDateTime:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.isDateTime"),expandFormat:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.expandFormat"),fromFormatExplain:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromFormatExplain"),fromString:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromString"),fromStringExplain:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromStringExplain"),max:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.max"),min:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.min"),parseFormatForOpts:this.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.parseFormatForOpts")});qe(this,"autocompleteUIValues",{docLinkLabel:this.baseText("expressionEdit.learnMore")})}get i18n(){return ds.global}exists(t){return this.i18n.te(t)}shortNodeType(t){return t.replace("n8n-nodes-base.","")}baseText(t,s){return(s==null?void 0:s.adjustToNumber)!==void 0?this.i18n.tc(t,s.adjustToNumber,s&&s.interpolate).toString():this.i18n.t(t,s&&s.interpolate).toString()}dynamicRender({key:t,fallback:s}){return this.i18n.te(t)?this.i18n.t(t).toString():s??""}headerText(t){return this.dynamicRender(t)}credText(){const n=`n8n-nodes-base.credentials.${Ee().activeCredentialType}`,o=this;return{inputLabelDisplayName({name:i,displayName:r}){return["clientId","clientSecret"].includes(i)?o.dynamicRender({key:`_reusableDynamicText.oauth2.${i}`,fallback:r}):o.dynamicRender({key:`${n}.${i}.displayName`,fallback:r})},hint({name:i,hint:r}){return o.dynamicRender({key:`${n}.${i}.hint`,fallback:r})},inputLabelDescription({name:i,description:r}){return o.dynamicRender({key:`${n}.${i}.description`,fallback:r})},optionsOptionDisplayName({name:i},{value:r,name:l}){return o.dynamicRender({key:`${n}.${i}.options.${r}.displayName`,fallback:l})},optionsOptionDescription({name:i},{value:r,description:l}){return o.dynamicRender({key:`${n}.${i}.options.${r}.description`,fallback:l})},placeholder({name:i,placeholder:r}){return o.dynamicRender({key:`${n}.${i}.placeholder`,fallback:r})}}}nodeText(){const s=Xe().activeNode,o=`n8n-nodes-base.nodes.${s?this.shortNodeType(s.type):""}.nodeView`,i=this;return{inputLabelDisplayName(r,l){const m=_p(l,r);return i.dynamicRender({key:`${o}.${m}.displayName`,fallback:r.displayName})},inputLabelDescription(r,l){const m=_p(l,r);return i.dynamicRender({key:`${o}.${m}.description`,fallback:r.description})},hint(r,l){const m=_p(l,r);return i.dynamicRender({key:`${o}.${m}.hint`,fallback:r.hint})},placeholder(r,l){let m=r.name;if(ga(l)){const c=dr(l).split(".");m=pr(c).join(".")}return i.dynamicRender({key:`${o}.${m}.placeholder`,fallback:r.placeholder})},optionsOptionDisplayName(r,{value:l,name:m},c){let h=r.name;if(ga(c)){const p=dr(c).split(".");h=pr(p).join(".")}return i.dynamicRender({key:`${o}.${h}.options.${l}.displayName`,fallback:m})},optionsOptionDescription(r,{value:l,description:m},c){let h=r.name;if(ga(c)){const p=dr(c).split(".");h=pr(p).join(".")}return i.dynamicRender({key:`${o}.${h}.options.${l}.description`,fallback:m})},collectionOptionDisplayName(r,{name:l,displayName:m},c){let h=r.name;if(ga(c)){const p=dr(c).split(".");h=pr(p).join(".")}return i.dynamicRender({key:`${o}.${h}.options.${l}.displayName`,fallback:m})},multipleValueButtonText({name:r,typeOptions:l}){return i.dynamicRender({key:`${o}.${r}.multipleValueButtonText`,fallback:l==null?void 0:l.multipleValueButtonText})},eventTriggerDescription(r,l){return i.dynamicRender({key:`n8n-nodes-base.nodes.${r}.nodeView.eventTriggerDescription`,fallback:l})}}}localizeNodeName(t,s){if(fe().defaultLocale==="en")return t;const o=this.shortNodeType(s);return this.headerText({key:`headers.${o}.displayName`,fallback:t})}}const zw=["en"];async function Lp(e){return ds.global.locale=e,Fc.defaults.headers.common["Accept-Language"]=e,document.querySelector("html").setAttribute("lang",e),await Uv(e),e}async function _8(e){if(!e)return;if(ds.global.locale===e||zw.includes(e))return Lp(e);const{numberFormats:t,...s}=(await XO(Object.assign({"./locales/en.json":()=>qn(()=>Promise.resolve().then(()=>z2),void 0)}),`./locales/${e}.json`)).default;return ds.global.setLocaleMessage(e,s),t&&ds.global.setNumberFormat(e,t),zw.push(e),Lp(e)}function P8(e,t){const s=ds.global.messages[t]["n8n-nodes-base"]||{},n={...s.nodes,...e},o={"n8n-nodes-base":Object.assign(s,{nodes:n})};ds.global.setLocaleMessage(t,Object.assign(ds.global.messages[t],o))}function I8(e,t){const s=ds.global.messages[t]["n8n-nodes-base"]||{},n={...s.credentials,...e},o={"n8n-nodes-base":Object.assign(s,{credentials:n})};ds.global.setLocaleMessage(t,Object.assign(ds.global.messages[t],o))}function M8(e,t){ds.global.setLocaleMessage(t,Object.assign(ds.global.messages[t],{headers:e}))}const Te=new N8,L8={async install(e){KO((t,s)=>ds.global.t(t,(s==null?void 0:s.interpolate)||{})),e.config.globalProperties.$locale=Te,await Uv("en")}};function F8(e){return Array.isArray(e.version)?e.version:[e.version]}const it=wt(ts.NODE_TYPES,{state:()=>({nodeTypes:{}}),getters:{allNodeTypes(){return Object.values(this.nodeTypes).reduce((e,t)=>{const n=Object.keys(t).map(Number).map(o=>t[o]);return[...e,...n]},[])},allLatestNodeTypes(){return Object.values(this.nodeTypes).reduce((e,t)=>{const s=Object.keys(t).map(Number),n=t[Math.max(...s)];return n?[...e,n]:e},[])},getNodeType(){return(e,t)=>{const s=this.nodeTypes[e];if(!s)return null;const n=Object.keys(s).map(Number);return s[t||Math.max(...n)]||null}},isTriggerNode(){return e=>{const t=this.getNodeType(e);return!!(t&&t.group.includes("trigger"))}},isCoreNodeType(){return e=>{var t,s;return(s=(t=e.codex)==null?void 0:t.categories)==null?void 0:s.includes("Core Nodes")}},visibleNodeTypes(){return this.allLatestNodeTypes.filter(e=>!e.hidden)},nativelyNumberSuffixedDefaults(){return this.allNodeTypes.reduce((e,t)=>(/\d$/.test(t.defaults.name)&&e.push(t.defaults.name),e),[])}},actions:{setNodeTypes(e=[]){const t=e.reduce((s,n)=>{const o=F8(n);if(o.length===0){const i={[g_]:n};return s[n.name]=i,s}for(const i of o)s[n.name]?s[n.name][i]=Object.assign(s[n.name][i]??{},n):s[n.name]=Object.assign(s[n.name]??{},{[i]:n});return s},{...this.nodeTypes});this.nodeTypes=t},removeNodeTypes(e){this.nodeTypes=e.reduce((t,s)=>Z8(s.name,t),this.nodeTypes)},async getNodesInformation(e,t=!0){const s=fe(),n=await B2(s.getRestApiContext,e);return n.forEach(o=>{if(o.translation){const i=o.name.replace("n8n-nodes-base.","");P8({[i]:o.translation},s.defaultLocale)}}),t&&this.setNodeTypes(n),n},async getFullNodesProperties(e){await It().fetchCredentialTypes(!0),await this.getNodesInformation(e)},async getNodeTypes(){const e=fe(),t=await L2(e.getBaseUrl);t.length&&this.setNodeTypes(t)},async getNodeTranslationHeaders(){const e=fe(),t=await F2(e.getRestApiContext);t&&M8(t,e.defaultLocale)},async getNodeParameterOptions(e){const t=fe();return R2(t.getRestApiContext,e)},async getResourceLocatorResults(e){const t=fe();return V2(t.getRestApiContext,e)},async getResourceMapperFields(e){const t=fe();try{return await U2(t.getRestApiContext,e)}catch{return null}}}}),B8=["API","OAuth1","OAuth2"],R8=["Trigger"],Hw=/(@\w+\/)?n8n-nodes-(?!base\b)\b\w+/g,V8=/value\[\"(.+)\"\]/;function yS(e){return e.split(" ").filter(t=>!B8.includes(t)).join(" ")}function U8(e){return e.split(" ").filter(t=>!R8.includes(t)).join(" ")}function hi(e){return e.displayName.replace(/ trigger/i,"")}function wS(e){return e.filter(t=>!t.disabled&&!K_.includes(t.type))}function uf(e){const t=e.filter(n=>!(n.categories||[]).some(o=>o.name===Z_));return(t.length>0?t:e).filter(n=>!h2.includes(n.name))}function cf(e){return Hw.lastIndex=0,!!Hw.exec(e)}function df(e){return typeof e=="string"&&!!f2.find(t=>e.includes(t))}function Or(e,t){return e.noDataExpression===!0?!1:!!(typeof t=="string"&&t.charAt(0)==="="||oo(t)&&t.value&&t.value.toString().charAt(0)==="=")}const Qh=e=>e.reduce((t,s)=>mf(s)?t.concat(s.json):t,[]),bS=e=>e.modes!==void 0&&e.modes.length===1&&e.modes[0].name==="list",W8=(e,t)=>{if(!t.displayOptions||!t.displayOptions.show)return!0;const s=jo(e);return s?s.name in t.displayOptions.show:!1},jo=e=>{if(!e)return null;const t=Zc(e),n=t.find(i=>{var r;return i.name===w2&&!((r=i.options)!=null&&r.find(l=>l.value==="none"))})||null||j8(e,t),o=n?kS(e,n):!1;return n&&o?n:null},j8=(e,t)=>{var o;const s={};return(o=e.credentials)==null||o.forEach(i=>{if(i.displayOptions&&i.displayOptions.show)for(const r in i.displayOptions.show)s[r]=(s[r]||[]).concat((i.displayOptions.show[r]||[]).map(l=>l?l.toString():""))}),t.find(i=>{var l;let r=!0;return(l=i.options)==null||l.forEach(m=>{s[i.name].includes(m.value)||(r=!1)}),r})||null},pf=(e,t)=>{if(!e)return[];const s=Te.baseText("credentialEdit.credentialConfig.recommendedAuthTypeSuffix");let n=[];const o=jo(e);return Zc(e,t).filter(r=>r.name===(o==null?void 0:o.name)).forEach(r=>{r.options&&(n=n.concat(r.options.map(l=>{var h;let m=!1;const c=dc(e,l.value);return c&&(m=((h=It().getCredentialTypeByName(c.name))==null?void 0:h.__overwrittenProperties)!==void 0),{name:m&&!l.name.endsWith(s)?`${l.name} ${s}`:l.name,value:l.value,displayOptions:r.displayOptions}})||[]))}),n.forEach((r,l)=>{r.name.includes(s)&&(n.splice(l,1),n.unshift(r))}),n},q8=(e,t)=>{var s;return e?((s=e.credentials)==null?void 0:s.filter(n=>{var o;return((o=n.displayOptions)==null?void 0:o.show)&&t in(n.displayOptions.show||{})}))||[]:[]},dc=(e,t)=>{var o;const s=jo(e),n=s?s.name:"";return((o=e.credentials)==null?void 0:o.find(i=>{var r,l;return((r=i.displayOptions)==null?void 0:r.show)&&((l=i.displayOptions.show[n])==null?void 0:l.includes(t))}))||null},vS=(e,t)=>{if(e&&t){const s=jo(e),n=s?s.name:"";return pf(e).find(i=>{var r,l,m;return((r=t.displayOptions)==null?void 0:r.show)&&((m=(l=t.displayOptions)==null?void 0:l.show[n])==null?void 0:m.includes(i.value))})||null}return null},TS=(e,t)=>{let s=!1;return e.forEach(n=>{if(n.displayOptions&&n.displayOptions.show&&t.name in n.displayOptions.show){s=!0;return}}),s},Zc=(e,t)=>{const s=[];return e&&e.credentials&&e.credentials.length>0&&e.credentials.forEach(n=>{n.displayOptions&&n.displayOptions.show&&Object.keys(n.displayOptions.show).forEach(o=>{const i=e.properties.filter(r=>r.name===o);i&&i.forEach(r=>{!s.includes(r)&&z8(r,t)&&s.push(r)})})}),s},z8=(e,t)=>{var s,n,o;return t&&((n=(s=e.displayOptions)==null?void 0:s.show)!=null&&n["@version"])?(o=e.displayOptions.show["@version"])==null?void 0:o.includes(t):!0},SS=(e,t)=>{if(!e)return;const s=it().getNodeType(e.type,e.typeVersion);if(s){const n=jo(s);if(n){const o={name:e.name,properties:{parameters:{...e.parameters,[n.name]:t}}};_e().updateNodeProperties(o)}}},kS=(e,t)=>(!t.displayOptions||!t.displayOptions.show||Object.keys(t.displayOptions.show).forEach(s=>{const n=e.properties.find(o=>{o.name});return!(n&&!kS(e,n))}),!0),br=e=>{const t=e.match(V8);return t?t.pop():e},ES=(e,t,s="",n=[])=>{const o="id"in e?e.id:e.name;return s==="add"&&e.required===!0||ya(o,n,t)},ya=(e,t,s)=>{const n=br(e);return n?s&&(t||[]).includes(n):!1};function xS(e,t,s,n){return`${e}_r${t}_o${s}_i${n}`}function H8(e,t){var m,c,h,p,g,w;if(!((c=(m=e==null?void 0:e.data)==null?void 0:m.resultData)!=null&&c.runData))return[];const n=(h=e.data.resultData.runData[t.nodeName])==null?void 0:h[t.runIndex],o=(n==null?void 0:n.source)||[];if(o.length===0)return[];const i=(w=(g=(p=n==null?void 0:n.data)==null?void 0:p.main)==null?void 0:g[t.outputIndex])==null?void 0:w[t.itemIndex];return!i||i.pairedItem===void 0?[]:(Array.isArray(i.pairedItem)?i.pairedItem:typeof i.pairedItem=="object"?[i.pairedItem]:[{item:i.pairedItem}]).map(S=>{var O,C,A;const k=S.input||0;return{nodeName:(O=o==null?void 0:o[k])==null?void 0:O.previousNode,runIndex:((C=o==null?void 0:o[k])==null?void 0:C.previousNodeRun)||0,itemIndex:S.item,outputIndex:((A=o[k])==null?void 0:A.previousNodeOutput)||0}}).filter(S=>G8(S))}function Fp(e,t,s,n){var c,h,p,g;e[t]=e[t]||[];const o=s.input||0,i=(c=n[o])==null?void 0:c.previousNode;if(!i){e[t].push([t]);return}const r=((h=n[o])==null?void 0:h.previousNodeOutput)||0,l=((p=n[o])==null?void 0:p.previousNodeRun)||0,m=xS(i,l,r,s.item);e[m]||(e[m]=[[m]]),(g=e[m])==null||g.forEach(w=>{var S;(S=e==null?void 0:e[t])==null||S.push([...w,t])})}function CS(e,t,s,n,o,i){var p;const r=`${e}_r${t}`;if(n.has(r)||(n.add(r),i.has(e)))return;const l=s[e];if(!Array.isArray(l))return;const m=l[t];if(!((p=m==null?void 0:m.data)!=null&&p.main))return;const c=m.source||[];c.forEach(g=>{g!=null&&g.previousNode&&CS(g.previousNode,g.previousNodeRun??0,s,n,o,i)}),(m.data.main||[]).forEach((g,w)=>{g&&g.forEach((S,k)=>{const O=xS(e,t,w,k);if(!S.pairedItem){o[O]=[];return}const C=S.pairedItem;if(Array.isArray(C)){C.forEach(A=>{Fp(o,O,A,c)});return}if(typeof C=="object"){Fp(o,O,C,c);return}Fp(o,O,{item:C},c)})})}function Q8(e){const t={};return Object.keys(e).forEach(s=>{var n;(n=e==null?void 0:e[s])==null||n.forEach(o=>{o.forEach(i=>{i!==s&&(t[i]=t[i]||new Set,t[i].add(s),t[s]=t[s]||new Set,t[s].add(i))})})}),t}function Bp(e){var i,r;if(!((r=(i=e==null?void 0:e.data)==null?void 0:i.resultData)!=null&&r.runData))return{};const t=new Set,s=e.data.resultData.runData,n=new Set(Object.keys(e.data.resultData.pinData||{})),o={};return Object.keys(s).forEach(l=>{s[l].forEach((m,c)=>{CS(l,c,s,t,o,n)})}),Q8(o)}const yCe=e=>{throw new Error(`Unhandled value: ${e}`)};function oo(e){return!!(typeof e=="object"&&e&&"mode"in e&&"value"in e)}function G8(e){return e!==null}function Qw(e){return typeof e=="object"&&e!==null&&"id"in e}const Y8=e=>!!e&&Object.getPrototypeOf(e)===Object.prototype;function Gw(e){return typeof e=="string"}function hr(e){return typeof e=="number"}const X8=e=>typeof e=="object"&&e!==null&&"showAuthSelector"in e,K8=e=>["string","number","boolean"].includes(typeof e),J8=["","k","M","G","T","P","E"],Z8=(e,{[e]:t,...s})=>s;function hf(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function mf(e){return hf(e)?Object.keys(e).includes("json"):!1}const Un=e=>!e&&e!==0?!0:Array.isArray(e)?e.length?e.every(Un):!0:typeof e=="object"?Object.values(e).every(Un):!1;function OS(e){const t=Math.log10(Math.abs(e))/3|0;if(t===0)return e;const s=J8[t],n=Math.pow(10,t*3),o=e/n;return Number(o.toFixed(1))+s}function eL(e){return fi(e,"yyyy-mm-dd HH:MM:ss")}function tL(e){return fi(e,"d mmmm, yyyy @ HH:MM Z")}function xa(e){return e===void 0?0:new Blob([typeof e=="string"?e:JSON.stringify(e)]).size}function sL(e,t,s){if(e.length<=t)return e;const n=e.slice(0,t-s),o=e.slice(e.length-s,e.length);return`${n}...${o}`}const wCe=e=>{const t="*___~#^#~___*";let s=e.match(/\[(.*?)]/g);s===null?s=[]:s=s.map(r=>r.slice(1,-1)).map(r=>r.startsWith('"')&&r.endsWith('"')?r.slice(1,-1):r);const o=e.replace(/\[(.*?)]/g,t).split("."),i=[];return o.forEach(r=>{let l=r.indexOf(t);for(;l!==-1;)l===0?(i.push(s.shift()),r=r.substr(t.length)):(i.push(r.substr(0,l)),r=r.substr(l)),l=r.indexOf(t);r!==""&&i.push(r)}),'["'+i.join('"]["')+'"]'},Yw=e=>{const t=typeof e=="string"?Dm(e):e;return Array.isArray(t)?t.map(s=>mf(s)?s.json:s):t},nL=e=>Object.keys(e);function oL(e){return"version"in e}const $t={Owner:"owner",Member:"member",Default:"default"},mt={LoggedIn:"LoggedIn",LoggedOut:"LoggedOut"},au={TAGS:{CAN_DELETE_TAGS:{allow:{role:[$t.Owner]}}},PRIMARY_MENU:{CAN_ACCESS_USER_INFO:{allow:{loginStatus:[mt.LoggedIn]},deny:{role:[$t.Default]}}},USER_SETTINGS:{VIEW_UM_SETUP_WARNING:{allow:{role:[$t.Default]}}},USAGE:{CAN_ACTIVATE_LICENSE:{allow:{role:[$t.Owner]}}}},wa=(e,t)=>{var n,o;const s=t?mt.LoggedIn:mt.LoggedOut;if(e.deny){if(e.deny.shouldDeny&&e.deny.shouldDeny()||e.deny.loginStatus&&e.deny.loginStatus.includes(s))return!1;if((n=t==null?void 0:t.globalRole)!=null&&n.name){const i=t.isDefaultUser?$t.Default:t.globalRole.name;if(e.deny.role&&e.deny.role.includes(i))return!1}else if(e.deny.role)return!1}if(e.allow){if(e.allow.shouldAllow&&e.allow.shouldAllow()||e.allow.loginStatus&&e.allow.loginStatus.includes(s))return!0;if((o=t==null?void 0:t.globalRole)!=null&&o.name){const i=t.isDefaultUser?$t.Default:t.globalRole.name;if(e.allow.role&&e.allow.role.includes(i))return!0}}return!1};function iL(e){return e?oL(e)?rL(e):aL(e):[]}function DS(e){if(e.createdAt){const t=new Date(e.createdAt);return Math.ceil((new Date().getTime()-t.getTime())/(1e3*3600*24))}return-1}function rL(e){let t=[];const{version:s,...n}=e;if(Object.keys(n).length===0)return[];const o=e[Ym],i=e[Us],r=e[QP];let l=null;if(yr in e&&e[yr]&&(l=parseInt(e[yr],10),l=isNaN(l)?0:l),i===AT?t=t.concat(Q_):i===aP?t=t.concat(Ah):(i===un||r===$h||r===fw)&&l!==null&&l>=4?t=t.concat(Ns):(i===un||r===$h||r===fw)&&l!==null&&l<3?t=t.concat(kr):r===vp?t=t.concat(Ns):r===Tp||r===Sp?t=t.concat(Y_):r===xp?t=t.concat(M_):r===kp?t=t.concat(z_):r===n2?t=t.concat(kr):r===Ep?t=t.concat(R_):r===Cp?t=t.concat(j_):t=t.concat(Ns),l!==null&&l>=4?t=t.concat(hl):t=t.concat(ST),l!==null&&l<3?t=t.concat(vT):t=t.concat(CT),o===Xm||o===Km)switch(r){case vp:t=t.concat(_o);break;case Tp:t=t.concat(ow);break;case xp:t=t.concat(kT);break;case kp:t=t.concat(W_);break;case Ep:t=t.concat(nw);break;case Sp:t=t.concat(ET);break;case Cp:t=t.concat(Oh);break;default:t=t.concat(nc)}else switch(r){case vp:t=t.concat(_o);break;case Tp:t=t.concat(ow);break;case Sp:t=t.concat(OT);break;case kp:t=t.concat(O_);break;case Ep:t=t.concat(nw);break;case xp:t=t.concat(__);break;case Cp:t=t.concat(Oh);break;default:t=t.concat(nc)}return t=t.concat(Gm),t}function aL(e){const t=e[Ym],s=e[nP];function n(l){return Array.isArray(s)?s.includes(l):s===l}const o=!s||s.length===0;if(t===null&&o&&e[yr]===null)return[];let i=null;e[yr]&&(i=parseInt(e[yr],10),i=isNaN(i)?0:i);let r=[];return n(wp)?r=r.concat(Ns):r=r.concat(kr),i!==null&&i>=4?r=r.concat(hl):r=r.concat(ST),i!==null&&i<3?r=r.concat(vT):r=r.concat(CT),t===Xm||t===Km?n(rw)?r=r.concat(kT):n(aw)?r=r.concat([Oh,_o]):n(iw)?r=r.concat([Ah,U_]):n(wp)?r=r.concat([N_,_o]):r=r.concat([L_,F_]):n(rw)?r=r.concat(A_):n(aw)?r=r.concat([V_,_o]):n(iw)?r=r.concat([Ah,D_]):n(wp)?r=r.concat([I_,_o]):n(oP)?r=r.concat([G_,OT,ET]):r=r.concat([P_,nc]),r=r.concat(Gm),r}const or={name:"",active:!1,createdAt:-1,updatedAt:-1,connections:{},nodes:[],settings:{executionOrder:"v1"},tags:[],pinData:{},versionId:"",usedCredentials:[]},Xw=()=>({id:lt,...or});let Kw="",lu=null;const _e=wt(ts.WORKFLOWS,{state:()=>({workflow:Xw(),usedCredentials:{},activeWorkflows:[],activeExecutions:[],currentWorkflowExecutions:[],activeWorkflowExecution:null,finishedExecutionsCount:0,workflowExecutionData:null,workflowExecutionPairedItemMappings:{},workflowsById:{},subWorkflowExecutionError:null,activeExecutionId:null,executingNode:null,executionWaitingForWebhook:!1,nodeMetadata:{}}),getters:{workflowName(){return this.workflow.name},workflowId(){return this.workflow.id},workflowVersionId(){return this.workflow.versionId},workflowSettings(){return this.workflow.settings??{...or.settings}},workflowTags(){return this.workflow.tags},allWorkflows(){return Object.values(this.workflowsById).sort((e,t)=>e.name.localeCompare(t.name))},isNewWorkflow(){return this.workflow.id===lt},isWorkflowActive(){return this.workflow.active},workflowTriggerNodes(){return this.workflow.nodes.filter(e=>{const s=it().getNodeType(e.type,e.typeVersion);return s&&s.group.includes("trigger")})},currentWorkflowHasWebhookNode(){return!!this.workflow.nodes.find(e=>!!e.webhookId)},getWorkflowRunData(){var e,t;return(t=(e=this.workflowExecutionData)==null?void 0:e.data)!=null&&t.resultData?this.workflowExecutionData.data.resultData.runData:null},getWorkflowResultDataByNodeName(){return e=>{const t=this.getWorkflowRunData;return t===null||!t.hasOwnProperty(e)?null:t[e]}},getWorkflowById(){return e=>this.workflowsById[e]},allConnections(){return this.workflow.connections},outgoingConnectionsByNodeName(){return e=>this.workflow.connections.hasOwnProperty(e)?this.workflow.connections[e]:{}},allNodes(){return this.workflow.nodes},canvasNames(){return new Set(this.allNodes.map(e=>e.name))},nodesByName(){return this.workflow.nodes.reduce((e,t)=>(e[t.name]=t,e),{})},getNodeByName(){return e=>this.nodesByName[e]||null},getNodeById(){return e=>this.workflow.nodes.find(t=>t.id===e)},nodesIssuesExist(){for(const e of this.workflow.nodes)if(!(e.issues===void 0||Object.keys(e.issues).length===0))return!0;return!1},getPinData(){return this.workflow.pinData},pinDataSize(){const t=Xe().activeNodeName;return this.workflow.nodes.reduce((s,n)=>(typeof n.pinData<"u"&&n.name!==t&&(s+=xa(n.pinData)),s),0)},shouldReplaceInputDataWithPinData(){var e;return!this.activeWorkflowExecution||((e=this.activeWorkflowExecution)==null?void 0:e.mode)==="manual"},executedNode(){return this.workflowExecutionData?this.workflowExecutionData.executedNode:void 0},getParametersLastUpdate(){return e=>{var t;return(t=this.nodeMetadata[e])==null?void 0:t.parametersLastUpdatedAt}},isNodePristine(){return e=>this.nodeMetadata[e]===void 0||this.nodeMetadata[e].pristine},getExecutionDataById(){return e=>this.currentWorkflowExecutions.find(t=>t.id===e)},getAllLoadedFinishedExecutions(){return this.currentWorkflowExecutions.filter(e=>e.finished===!0||e.stoppedAt!==void 0)},getWorkflowExecution(){return this.workflowExecutionData},getTotalFinishedExecutionsCount(){return this.finishedExecutionsCount}},actions:{getNodeTypes(){return{nodeTypes:{},init:async t=>{},getByNameAndVersion:(t,s)=>{const n=it().getNodeType(t,s);if(n!==null)return{description:n,trigger:![bT,Lr].includes(t)&&n.inputs.length===0&&!n.webhooks||void 0}}}},getNodes(){const e=this.allNodes,t=[];for(const s of e)t.push(Object.assign({},s));return t},getWorkflow(e,t,s){const n=this.getNodeTypes();let o=this.workflowId;return o&&o===lt&&(o=void 0),lu=new JO({id:o,name:this.workflowName,nodes:s?at(e):e,connections:s?at(t):t,active:!1,nodeTypes:n,settings:this.workflowSettings,pinData:this.getPinData}),lu},getCurrentWorkflow(e){const t=this.getNodes(),s=this.allConnections,n=JSON.stringify({nodes:t,connections:s});return!e&&lu&&n===Kw?lu:(Kw=n,this.getWorkflow(t,s,e))},async getWorkflowFromUrl(e){const t=fe();return xe(t.getRestApiContext,"GET","/workflows/from-url",{url:e})},async getActivationError(e){const t=fe();return xe(t.getRestApiContext,"GET",`/active/error/${e}`)},async fetchAllWorkflows(){const e=fe(),t=await $2(e.getRestApiContext);return this.setWorkflows(t),t},async fetchWorkflow(e){const t=fe(),s=await A2(t.getRestApiContext,e);return this.addWorkflow(s),s},async getNewWorkflowData(e){let t={name:"",onboardingFlowEnabled:!1,settings:{...or.settings}};try{const s=fe();t=await kw(s.getRestApiContext,e)}catch{t.name=e||y_}return this.setWorkflowName({newName:t.name,setStateDirty:!1}),t},resetWorkflow(){const e=Ge(),t=Le();this.workflow=Xw(),t.isEnterpriseFeatureEnabled(ot.Sharing)&&(this.workflow={...this.workflow,ownedBy:e.currentUser})},resetState(){this.removeAllConnections({setStateDirty:!1}),this.removeAllNodes({setStateDirty:!1,removePinData:!0}),this.setWorkflowExecutionData(null),this.resetAllNodesIssues(),this.setActive(or.active),this.setWorkflowId(lt),this.setWorkflowName({newName:"",setStateDirty:!1}),this.setWorkflowSettings({...or.settings}),this.setWorkflowTagIds([]),this.activeExecutionId=null,this.executingNode=null,this.executionWaitingForWebhook=!1},setWorkflowId(e){this.workflow.id=e==="new"?lt:e},setUsedCredentials(e){this.workflow.usedCredentials=e,this.usedCredentials=e.reduce((t,s)=>(t[s.id]=s,t),{})},setWorkflowName(e){if(e.setStateDirty){const t=Ee();t.stateIsDirty=!0}this.workflow.name=e.newName,this.workflow.id!==lt&&this.workflowsById[this.workflow.id]&&(this.workflowsById[this.workflow.id].name=e.newName)},setWorkflowVersionId(e){this.workflow.versionId=e},replaceInvalidWorkflowCredentials(e){this.workflow.nodes.forEach(t=>{const s=t.credentials;if(!(s!=null&&s[e.type]))return;const n=s[e.type];if(typeof n=="string"&&n===e.invalid.name){t.credentials[e.type]=e.credentials;return}if(n.id===null){n.name===e.invalid.name&&(t.credentials[e.type]=e.credentials);return}n.id===e.invalid.id&&(t.credentials[e.type]=e.credentials)})},setWorkflows(e){this.workflowsById=e.reduce((t,s)=>(s.id&&(t[s.id]=s),t),{})},async deleteWorkflow(e){const t=fe();await xe(t.getRestApiContext,"DELETE",`/workflows/${e}`);const{[e]:s,...n}=this.workflowsById;this.workflowsById=n},addWorkflow(e){this.workflowsById={...this.workflowsById,[e.id]:{...this.workflowsById[e.id],...at(e)}}},setWorkflowActive(e){const t=Ee();t.stateIsDirty=!1,this.activeWorkflows.indexOf(e)===-1&&this.activeWorkflows.push(e),this.workflowsById[e]&&(this.workflowsById[e].active=!0)},setWorkflowInactive(e){const t=this.activeWorkflows.indexOf(e);t!==-1&&this.activeWorkflows.splice(t,1),this.workflowsById[e]&&(this.workflowsById[e].active=!1)},async fetchActiveWorkflows(){const e=fe(),t=await N2(e.getRestApiContext);return this.activeWorkflows=t,t},setActive(e){this.workflow.active=e},async getDuplicateCurrentWorkflowName(e){if(e&&e.length+Ky.length>=jm)return e;let t=`${e}${Ky}`;try{const s=fe();t=(await kw(s.getRestApiContext,t)).name}catch{}return t},setWorkflowExecutionData(e){this.workflowExecutionData=e,this.workflowExecutionPairedItemMappings=Bp(this.workflowExecutionData)},setWorkflowExecutionRunData(e){this.workflowExecutionData&&(this.workflowExecutionData.data=e)},setWorkflowSettings(e){this.workflow={...this.workflow,settings:e}},setWorkflowPinData(e){this.workflow={...this.workflow,pinData:e||{}},qt.emit("pin-data",e||{})},setWorkflowTagIds(e){this.workflow={...this.workflow,tags:e}},addWorkflowTagIds(e){this.workflow={...this.workflow,tags:[...new Set([...this.workflow.tags||[],...e])]}},removeWorkflowTagId(e){const s=this.workflow.tags.filter(n=>n!==e);this.workflow={...this.workflow,tags:s}},setWorkflow(e){this.workflow=e,this.workflow={...this.workflow,...this.workflow.hasOwnProperty("active")?{}:{active:!1},...this.workflow.hasOwnProperty("connections")?{}:{connections:{}},...this.workflow.hasOwnProperty("createdAt")?{}:{createdAt:-1},...this.workflow.hasOwnProperty("updatedAt")?{}:{updatedAt:-1},...this.workflow.hasOwnProperty("id")?{}:{id:lt},...this.workflow.hasOwnProperty("nodes")?{}:{nodes:[]},...this.workflow.hasOwnProperty("settings")?{}:{settings:{...or.settings}}}},pinData(e){this.workflow.pinData||(this.workflow={...this.workflow,pinData:{}}),Array.isArray(e.data)||(e.data=[e.data]);const t=e.data.map(n=>mf(n)?n:{json:n});this.workflow={...this.workflow,pinData:{...this.workflow.pinData,[e.node.name]:t}};const s=Ee();s.stateIsDirty=!0,qt.emit("pin-data",{[e.node.name]:t})},unpinData(e){this.workflow.pinData||(this.workflow={...this.workflow,pinData:{}});const{[e.node.name]:t,...s}=this.workflow.pinData;this.workflow={...this.workflow,pinData:s};const n=Ee();n.stateIsDirty=!0,qt.emit("unpin-data",{[e.node.name]:void 0})},addConnection(e){if(e.connection.length!==2)return;const t=e.connection[0],s=e.connection[1];if(this.workflow.connections.hasOwnProperty(t.node)||(this.workflow={...this.workflow,connections:{...this.workflow.connections,[t.node]:{}}}),this.workflow.connections[t.node].hasOwnProperty(t.type)||(this.workflow={...this.workflow,connections:{...this.workflow.connections,[t.node]:{...this.workflow.connections[t.node],[t.type]:[]}}}),this.workflow.connections[t.node][t.type].length<t.index+1)for(let r=this.workflow.connections[t.node][t.type].length;r<=t.index;r++)this.workflow.connections[t.node][t.type].push([]);const n=["index","node","type"];let o,i=!1;e:for(const r of this.workflow.connections[t.node][t.type][t.index]){for(o of n)if(r[o]!==s[o])continue e;i=!0;break}i||this.workflow.connections[t.node][t.type][t.index].push(s)},removeConnection(e){const t=e.connection[0],s=e.connection[1];if(!this.workflow.connections.hasOwnProperty(t.node)||!this.workflow.connections[t.node].hasOwnProperty(t.type)||this.workflow.connections[t.node][t.type].length<t.index+1)return;const n=Ee();n.stateIsDirty=!0;const o=this.workflow.connections[t.node][t.type][t.index];for(const i in o)o[i].node===s.node&&o[i].type===s.type&&o[i].index===s.index&&o.splice(parseInt(i,10),1)},removeAllConnections(e){if(e&&e.setStateDirty){const t=Ee();t.stateIsDirty=!0}this.workflow.connections={}},removeAllNodeConnection(e){const t=Ee();t.stateIsDirty=!0,this.workflow.connections.hasOwnProperty(e.name)&&delete this.workflow.connections[e.name];const s=[];let n,o,i,r,l;for(n of Object.keys(this.workflow.connections))for(o of Object.keys(this.workflow.connections[n]))for(i of Object.keys(this.workflow.connections[n][o])){s.length=0;for(r of Object.keys(this.workflow.connections[n][o][parseInt(i,10)]))l=this.workflow.connections[n][o][parseInt(i,10)][parseInt(r,10)],l.node===e.name&&s.push(r);s.forEach(m=>{this.workflow.connections[n][o][parseInt(i,10)].splice(parseInt(m,10),1)})}},renameNodeSelectedAndExecution(e){var o;const t=Ee();t.stateIsDirty=!0,(o=this.workflowExecutionData)!=null&&o.data&&this.workflowExecutionData.data.resultData.runData.hasOwnProperty(e.old)&&(this.workflowExecutionData.data.resultData.runData[e.new]=this.workflowExecutionData.data.resultData.runData[e.old],delete this.workflowExecutionData.data.resultData.runData[e.old]),t.lastSelectedNode===e.old&&(t.lastSelectedNode=e.new);const{[e.old]:s,...n}=this.nodeMetadata;if(this.nodeMetadata={...n,[e.new]:this.nodeMetadata[e.old]},this.workflow.pinData&&this.workflow.pinData.hasOwnProperty(e.old)){const{[e.old]:i,...r}=this.workflow.pinData;this.workflow={...this.workflow,pinData:{...r,[e.new]:i}}}this.workflowExecutionPairedItemMappings=Bp(this.workflowExecutionData)},resetAllNodesIssues(){return this.workflow.nodes.forEach(e=>{e.issues=void 0}),!0},updateNodeAtIndex(e,t){if(e!==-1){const s=this.workflow.nodes[e];this.workflow={...this.workflow,nodes:[...this.workflow.nodes.slice(0,e),{...s,...t},...this.workflow.nodes.slice(e+1)]}}},setNodeIssue(e){var n;const t=this.workflow.nodes.findIndex(o=>o.name===e.node);if(t===-1)return!1;const s=this.workflow.nodes[t];if(e.value===null){if(((n=s.issues)==null?void 0:n[e.type])===void 0)return!0;const{[e.type]:o,...i}=s.issues;this.updateNodeAtIndex(t,{issues:i})}else s.issues===void 0&&this.updateNodeAtIndex(t,{issues:{}}),this.updateNodeAtIndex(t,{issues:{...s.issues,[e.type]:e.value}});return!0},addNode(e){e.hasOwnProperty("name")&&(this.workflow.nodes.push(e),this.nodeMetadata[e.name]||(this.nodeMetadata={...this.nodeMetadata,[e.name]:{}}))},removeNode(e){const t=Ee(),{[e.name]:s,...n}=this.nodeMetadata;if(this.nodeMetadata=n,this.workflow.pinData&&this.workflow.pinData.hasOwnProperty(e.name)){const{[e.name]:o,...i}=this.workflow.pinData;this.workflow={...this.workflow,pinData:i}}for(let o=0;o<this.workflow.nodes.length;o++)if(this.workflow.nodes[o].name===e.name){this.workflow={...this.workflow,nodes:[...this.workflow.nodes.slice(0,o),...this.workflow.nodes.slice(o+1)]},t.stateIsDirty=!0;return}},removeAllNodes(e){if(e.setStateDirty){const t=Ee();t.stateIsDirty=!0}e.removePinData&&(this.workflow={...this.workflow,pinData:{}}),this.workflow.nodes.splice(0,this.workflow.nodes.length),this.nodeMetadata={}},updateNodeProperties(e){const t=this.workflow.nodes.findIndex(s=>s.name===e.name);if(t!==-1)for(const s of Object.keys(e.properties)){const n=Ee();n.stateIsDirty=!0,this.updateNodeAtIndex(t,{[s]:e.properties[s]})}},setNodeValue(e){const t=this.workflow.nodes.findIndex(n=>n.name===e.name);if(t===-1||!e.key)throw new Error(`Node with the name "${e.name}" could not be found to set parameter.`);const s=Ee();s.stateIsDirty=!0,this.updateNodeAtIndex(t,{[e.key]:e.value})},setNodeParameters(e,t){const s=this.workflow.nodes.findIndex(r=>r.name===e.name);if(s===-1)throw new Error(`Node with the name "${e.name}" could not be found to set parameter.`);const n=this.workflow.nodes[s],o=Ee();o.stateIsDirty=!0;const i=t&&hf(e.value)?{...n.parameters,...e.value}:e.value;this.updateNodeAtIndex(s,{parameters:i}),this.nodeMetadata={...this.nodeMetadata,[n.name]:{...this.nodeMetadata[n.name],parametersLastUpdatedAt:Date.now()}}},setLastNodeParameters(e){const t=OD(this.workflow.nodes,o=>o.type===e.key),s=it().getNodeType(t.type);if(!s)return;const n=An(s.properties,e.value,!0,!1,t);t&&this.setNodeParameters({value:n,name:t.name},!0)},addNodeExecutionData(e){var t;if(!((t=this.workflowExecutionData)!=null&&t.data))throw new Error('The "workflowExecutionData" is not initialized!');this.workflowExecutionData.data.resultData.runData[e.nodeName]===void 0&&(this.workflowExecutionData={...this.workflowExecutionData,data:{...this.workflowExecutionData.data,resultData:{...this.workflowExecutionData.data.resultData,runData:{...this.workflowExecutionData.data.resultData.runData,[e.nodeName]:[]}}}}),this.workflowExecutionData.data.resultData.runData[e.nodeName].push(e.data),this.workflowExecutionPairedItemMappings=Bp(this.workflowExecutionData)},clearNodeExecutionData(e){var n;if(!((n=this.workflowExecutionData)!=null&&n.data))return;const{[e]:t,...s}=this.workflowExecutionData.data.resultData.runData;this.workflowExecutionData={...this.workflowExecutionData,data:{...this.workflowExecutionData.data,resultData:{...this.workflowExecutionData.data.resultData,runData:s}}}},pinDataByNodeName(e){var t;if((t=this.workflow.pinData)!=null&&t[e])return this.workflow.pinData[e].map(s=>s.json)},activeNode(){return Xe().activeNode},addActiveExecution(e){const t=this.activeExecutions.find(s=>s.id===e.id);if(t!==void 0){t.workflowName===void 0&&(t.workflowName=e.workflowName);return}this.activeExecutions.unshift(e)},finishActiveExecution(e){const t=this.activeExecutions.findIndex(n=>n.id===e.executionId);if(t===-1)return;const s=this.activeExecutions[t];this.activeExecutions=[...this.activeExecutions.slice(0,t),{...s,...e.executionId!==void 0?{id:e.executionId}:{},finished:e.data.finished,stoppedAt:e.data.stoppedAt},...this.activeExecutions.slice(t+1)],e.data&&e.data.data&&this.setWorkflowExecutionRunData(e.data.data)},setActiveExecutions(e){this.activeExecutions=e},async retryExecution(e,t){let s;t===!0&&(s={loadWorkflow:!0});const n=fe();return xe(n.getRestApiContext,"POST",`/executions/${e}/retry`,s)},async deleteExecutions(e){const t=fe();return xe(t.getRestApiContext,"POST","/executions/delete",e)},async getPastExecutions(e,t,s,n){let o={};e&&(o={filter:e,firstId:n,lastId:s,limit:t});const i=fe();return xe(i.getRestApiContext,"GET","/executions",o)},async getCurrentExecutions(e){let t={};e&&(t={filter:e});const s=fe();return xe(s.getRestApiContext,"GET","/executions-current",t)},async getExecution(e){const t=fe(),s=await xe(t.getRestApiContext,"GET",`/executions/${e}`);return s&&u_(s)},async createNewWorkflow(e){const t=fe();return xe(t.getRestApiContext,"POST","/workflows",e)},async updateWorkflow(e,t,s=!1){const n=fe();return xe(n.getRestApiContext,"PATCH",`/workflows/${e}${s?"?forceSave=true":""}`,t)},async runWorkflow(e){const t=fe();return xe(t.getRestApiContext,"POST","/workflows/run",e)},async removeTestWebhook(e){const t=fe();return xe(t.getRestApiContext,"DELETE",`/test-webhook/${e}`)},async stopCurrentExecution(e){const t=fe();return xe(t.getRestApiContext,"POST",`/executions-current/${e}/stop`)},async loadCurrentWorkflowExecutions(e){let t=[];if(!e.workflowId)return[];try{const s=fe();(!e.status||!e.finished)&&Un(e.metadata)&&(t=await _2(s.getRestApiContext,{workflowId:e.workflowId}));const n=await P2(s.getRestApiContext,e);return this.finishedExecutionsCount=n.count,[...t,...n.results||[]]}catch(s){throw s}},async fetchExecutionDataById(e){const t=fe();return I2(t.getRestApiContext,e)},deleteExecution(e){this.currentWorkflowExecutions.splice(this.currentWorkflowExecutions.indexOf(e),1)},addToCurrentExecutions(e){e.forEach(t=>{!this.currentWorkflowExecutions.find(n=>n.id===t.id)&&t.workflowId===this.workflowId&&this.currentWorkflowExecutions.push(t)})},async getExecutionEvents(e){const t=fe();return xe(t.getRestApiContext,"GET","/eventbus/execution/"+e)},getBinaryUrl(e,t,s,n){let i=fe().getRestUrl;i.startsWith("/")&&(i=window.location.origin+i);const r=new URL(`${i}/data/${e}`);return r.searchParams.append("mode",t),s&&r.searchParams.append("fileName",s),n&&r.searchParams.append("mimeType",n),r.toString()},setNodePristine(e,t){this.nodeMetadata={...this.nodeMetadata,[e]:{...this.nodeMetadata[e],pristine:t}}}}});async function lL(e,t){return xe(e,"POST","/owner/dismiss-banner",{banner:t.bannerName})}const Ee=wt(ts.UI,{state:()=>({activeActions:[],activeCredentialType:null,modals:{[cl]:{open:!1},[Vc]:{open:!1},[zm]:{open:!1},[Uc]:{open:!1},[Mu]:{open:!1,activeId:null},[jc]:{open:!1},[pl]:{open:!1},[zc]:{open:!1},[Wc]:{open:!1},[qc]:{open:!1},[Hc]:{open:!1},[gi]:{open:!1},[Pn]:{open:!1},[dl]:{open:!1},[Ma]:{open:!1},[Qc]:{open:!1},[so]:{open:!1,mode:"",activeId:null},[In]:{open:!1,curlCommand:"",httpNodeParameters:""},[Tr]:{open:!1,data:void 0},[Ws]:{open:!1,mode:"",activeId:null,showAuthSelector:!1},[Sr]:{open:!1},[La]:{open:!1}},modalStack:[],sidebarMenuCollapsed:!0,isPageLoading:!0,currentView:"",mainPanelPosition:.5,fakeDoorFeatures:[{id:_T.SSO,featureName:"fakeDoor.settings.sso.name",icon:"key",actionBoxTitle:"fakeDoor.settings.sso.actionBox.title",actionBoxDescription:"fakeDoor.settings.sso.actionBox.description",linkURL:"https://n8n-community.typeform.com/to/l7QOrERN#f=sso",uiLocations:["settings/users"]}],draggable:{isDragging:!1,type:"",data:"",canDrop:!1,stickyPosition:null},stateIsDirty:!1,lastSelectedNode:null,lastSelectedNodeOutputIndex:null,nodeViewOffsetPosition:[0,0],nodeViewMoveInProgress:!1,selectedNodes:[],sidebarMenuItems:[],nodeViewInitialized:!1,addFirstStepOnLoad:!1,executionSidebarAutoRefresh:!0,banners:{V1:{dismissed:!0},TRIAL:{dismissed:!0},TRIAL_OVER:{dismissed:!0},NON_PRODUCTION_LICENSE:{dismissed:!0}},bannersHeight:0}),getters:{contextBasedTranslationKeys(){const t=Le().deploymentType;let s="";return t==="cloud"?s=".cloud":(t==="desktop_mac"||t==="desktop_win")&&(s=".desktop"),{upgradeLinkUrl:`contextual.upgradeLinkUrl${s}`,credentials:{sharing:{unavailable:{title:`contextual.credentials.sharing.unavailable.title${s}`,description:`contextual.credentials.sharing.unavailable.description${s}`,action:`contextual.credentials.sharing.unavailable.action${s}`,button:`contextual.credentials.sharing.unavailable.button${s}`}}},workflows:{sharing:{title:"contextual.workflows.sharing.title",unavailable:{title:`contextual.workflows.sharing.unavailable.title${s}`,description:{modal:`contextual.workflows.sharing.unavailable.description.modal${s}`,tooltip:`contextual.workflows.sharing.unavailable.description.tooltip${s}`},action:`contextual.workflows.sharing.unavailable.action${s}`,button:`contextual.workflows.sharing.unavailable.button${s}`}}},variables:{unavailable:{title:`contextual.variables.unavailable.title${s}`,description:"contextual.variables.unavailable.description",action:`contextual.variables.unavailable.action${s}`,button:`contextual.variables.unavailable.button${s}`}},users:{settings:{unavailable:{title:`contextual.users.settings.unavailable.title${s}`,description:`contextual.users.settings.unavailable.description${s}`,button:`contextual.users.settings.unavailable.button${s}`}}}}},getLastSelectedNode(){const e=_e();return this.lastSelectedNode?e.getNodeByName(this.lastSelectedNode):null},getCurlCommand(){return this.modals[In].curlCommand},getHttpNodeParameters(){return this.modals[In].httpNodeParameters},areExpressionsDisabled(){return this.currentView===ee.DEMO},isVersionsOpen(){return this.modals[gi].open},isModalOpen(){return e=>this.modals[e].open},isModalActive(){return e=>this.modalStack.length>0&&e===this.modalStack[0]},getModalActiveId(){return e=>this.modals[e].activeId},getModalMode(){return e=>this.modals[e].mode},getModalData(){return e=>this.modals[e].data},getFakeDoorByLocation(){return e=>this.fakeDoorFeatures.filter(t=>t.uiLocations.includes(e))},getFakeDoorById(){return e=>this.fakeDoorFeatures.find(t=>t.id.toString()===e)},isReadOnlyView(){return![ee.WORKFLOW,ee.NEW_WORKFLOW].includes(this.currentView)},isNodeView(){return[ee.NEW_WORKFLOW.toString(),ee.WORKFLOW.toString(),ee.WORKFLOW_EXECUTIONS.toString()].includes(this.currentView)},isActionActive(){return e=>this.activeActions.includes(e)},getSelectedNodes(){const e=new Set;return this.selectedNodes.filter(t=>e.has(t.id)?!1:(e.add(t.id),!0))},isNodeSelected(){return e=>{let t;for(t in this.selectedNodes)if(this.selectedNodes[t].name===e)return!0;return!1}},upgradeLinkUrl(){return(e,t)=>{const s=this.contextBasedTranslationKeys.upgradeLinkUrl;let n=Te.baseText(s);return s.endsWith(".upgradeLinkUrl")?n=`${n}?ref=${e}`:s.endsWith(".desktop")&&(n=`${n}&utm_campaign=${t||e}`),n}},headerHeight(){return Number(gs("--header-height"))}},actions:{setMode(e,t){this.modals[e]={...this.modals[e],mode:t}},setActiveId(e,t){this.modals[e]={...this.modals[e],activeId:t}},setShowAuthSelector(e,t){this.modals[e]={...this.modals[e],showAuthSelector:t}},setModalData(e){this.modals[e.name]={...this.modals[e.name],data:e.data}},openModal(e){this.modals[e]={...this.modals[e],open:!0},this.modalStack=[e].concat(this.modalStack)},openModalWithData(e){this.setModalData(e),this.openModal(e.name)},closeModal(e){this.modals[e]={...this.modals[e],open:!1},this.modalStack=this.modalStack.filter(t=>e!==t)},closeAllModals(){Object.keys(this.modals).forEach(e=>{this.modals[e].open&&(this.modals[e]={...this.modals[e],open:!1})}),this.modalStack=[]},draggableStartDragging(e,t){this.draggable={isDragging:!0,type:e,data:t,canDrop:!1,stickyPosition:null}},draggableStopDragging(){this.draggable={isDragging:!1,type:"",data:"",canDrop:!1,stickyPosition:null}},setDraggableStickyPos(e){this.draggable={...this.draggable,stickyPosition:e}},setDraggableCanDrop(e){this.draggable={...this.draggable,canDrop:e}},openDeleteUserModal(e){this.setActiveId(Mu,e),this.openModal(Mu)},openExistingCredential(e){this.setActiveId(Ws,e),this.setMode(Ws,"edit"),this.openModal(Ws)},openNewCredential(e,t=!1){this.setActiveId(Ws,e),this.setShowAuthSelector(Ws,t),this.setMode(Ws,"new"),this.openModal(Ws)},async getNextOnboardingPrompt(){const t=fe().instanceId;return d_(t,{})},async applyForOnboardingCall(e){const s=fe().instanceId;return p_(s,{},e)},async submitContactEmail(e,t){const n=fe().instanceId,o={};return h_(n,o,e||o.email,t)},openCommunityPackageUninstallConfirmModal(e){this.setActiveId(so,e),this.setMode(so,$n.UNINSTALL),this.openModal(so)},openCommunityPackageUpdateConfirmModal(e){this.setActiveId(so,e),this.setMode(so,$n.UPDATE),this.openModal(so)},addActiveAction(e){this.activeActions.includes(e)||this.activeActions.push(e)},removeActiveAction(e){const t=this.activeActions.indexOf(e);t!==-1&&this.activeActions.splice(t,1)},addSelectedNode(e){this.selectedNodes.push(e)},removeNodeFromSelection(e){let t;for(t in this.selectedNodes)if(this.selectedNodes[t].name===e.name){this.selectedNodes.splice(parseInt(t,10),1);break}},resetSelectedNodes(){this.selectedNodes=[]},addSidebarMenuItems(e){const t=this.sidebarMenuItems.concat(e);this.sidebarMenuItems=t},setCurlCommand(e){this.modals[e.name]={...this.modals[e.name],curlCommand:e.command}},setHttpNodeParameters(e){this.modals[e.name]={...this.modals[e.name],httpNodeParameters:e.parameters}},toggleSidebarMenuCollapse(){this.sidebarMenuCollapsed=!this.sidebarMenuCollapsed},async getCurlToJson(e){const t=fe();return D2(t.getRestApiContext,e)},goToUpgrade(e,t,s="open"){const{usageLeft:n,trialDaysLeft:o,userIsTrialing:i}=Vn(),{executionsLeft:r,workflowsLeft:l}=n;rf().track("User clicked upgrade CTA",{source:e,isTrial:i,deploymentType:Le().deploymentType,trialDaysLeft:o,executionsLeft:r,workflowsLeft:l}),s==="open"?window.open(this.upgradeLinkUrl(e,t),"_blank"):location.href=this.upgradeLinkUrl(e,t)},async dismissBanner(e,t="temporary"){if(t==="permanent"){await lL(fe().getRestApiContext,{bannerName:e,dismissedBanners:Le().permanentlyDismissedBanners}),this.banners[e].dismissed=!0,this.banners[e].type="permanent";return}this.banners[e].dismissed=!0,this.banners[e].type="temporary"},showBanner(e){this.banners[e].dismissed=!1},updateBannersHeight(e){this.bannersHeight=e},async initBanners(){const e=Vn();e.userIsTrialing&&(await this.dismissBanner("V1","temporary"),e.trialExpired?this.showBanner("TRIAL_OVER"):this.showBanner("TRIAL"))},async dismissAllBanners(){return Promise.all([this.dismissBanner("TRIAL","temporary"),this.dismissBanner("TRIAL_OVER","temporary"),this.dismissBanner("V1","temporary")])}}}),uL=J({__name:"BaseBanner",props:{name:{},theme:{default:"info"},customIcon:{},dismissible:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:t}){const s=e,n=Ee();async function o(){await n.dismissBanner(s.name),t("close")}return(i,r)=>{const l=E("n8n-icon"),m=E("n8n-callout");return y(),R(m,{theme:s.theme,icon:s.customIcon,iconSize:"medium",roundCorners:!1,"data-test-id":`banners-${s.name}`},{trailingContent:v(()=>[D("div",{class:$(i.$style.trailingContent)},[Ke(i.$slots,"trailingContent"),i.dismissible?(y(),R(l,{key:0,size:"small",icon:"times",title:"Dismiss",class:"clickable","data-test-id":`banner-${s.name}-close`,onClick:o},null,8,["data-test-id"])):W("",!0)],2)]),default:v(()=>[D("div",{class:$(i.$style.mainContent)},[Ke(i.$slots,"mainContent")],2)]),_:3},8,["theme","icon","data-test-id"])}}}),cL="_mainContent_sey2u_5",dL="_trailingContent_sey2u_10",pL={mainContent:cL,trailingContent:dL},hL={$style:pL},ed=te(uL,[["__cssModules",hL]]),mL=J({__name:"NonProductionLicenseBanner",setup(e){return(t,s)=>(y(),R(ed,{name:"NON_PRODUCTION_LICENSE",dismissible:!1},{mainContent:v(()=>[D("span",null,N(Z(Te).baseText("banners.nonProductionLicense.message")),1)]),_:1}))}}),fL=J({__name:"TrialOverBanner",setup(e){function t(){Ee().goToUpgrade("canvas-nav","upgrade-canvas-nav","redirect")}return(s,n)=>{const o=E("n8n-button");return y(),R(ed,{customIcon:"info-circle",theme:"warning",name:"TRIAL_OVER"},{mainContent:v(()=>[D("span",null,N(Z(Te).baseText("banners.trialOver.message")),1)]),trailingContent:v(()=>[b(o,{type:"success",onClick:t,icon:"gem",size:"small"},{default:v(()=>[V(N(Z(Te).baseText("generic.upgradeNow")),1)]),_:1})]),_:1})}}}),gL=J({__name:"TrialBanner",setup(e){const t=we(()=>{const{trialDaysLeft:o}=Vn();return-1*o}),s=we(()=>Te.baseText("banners.trial.message",{adjustToNumber:t.value,interpolate:{count:String(t.value)}}));function n(){Ee().goToUpgrade("canvas-nav","upgrade-canvas-nav","redirect")}return(o,i)=>{const r=E("n8n-button");return y(),R(ed,{name:"TRIAL",theme:"custom"},{mainContent:v(()=>[D("span",null,N(s.value),1)]),trailingContent:v(()=>[b(r,{type:"success",onClick:n,icon:"gem",size:"small"},{default:v(()=>[V(N(Z(Te).baseText("generic.upgradeNow")),1)]),_:1})]),_:1})}}}),yL=["innerHTML"],wL=["innerHTML"],bL=J({__name:"V1Banner",setup(e){const t=Ee(),{isInstanceOwner:s}=Ge();async function n(){await t.dismissBanner("V1","permanent")}return(o,i)=>(y(),R(ed,{customIcon:"info-circle",theme:"warning",name:"V1",class:$(o.$style.v1container)},{mainContent:v(()=>[D("span",{innerHTML:Z(Te).baseText("banners.v1.message")},null,8,yL),Z(s)?(y(),P("a",{key:0,class:$(o.$style.link),onClick:n,"data-test-id":"banner-confirm-v1"},[D("span",{innerHTML:Z(Te).baseText("generic.dontShowAgain")},null,8,wL)],2)):W("",!0)]),_:1},8,["class"]))}}),vL="_v1container_8msu5_5",TL="_link_8msu5_6",SL={v1container:vL,link:TL},kL={$style:SL},EL=te(bL,[["__cssModules",kL]]),xL={"data-test-id":"banner-stack"},CL=J({__name:"BannerStack",setup(e){const t=Ee();function s(o){return t.banners[o].dismissed===!1}async function n(){const o=await FT();t.updateBannersHeight(o)}return Is(async()=>{await n()}),jn(t.banners,async()=>{await n()}),(o,i)=>(y(),P("div",xL,[s("TRIAL_OVER")?(y(),R(fL,{key:0})):W("",!0),s("TRIAL")?(y(),R(gL,{key:1})):W("",!0),s("V1")?(y(),R(EL,{key:2})):W("",!0),s("NON_PRODUCTION_LICENSE")?(y(),R(mL,{key:3})):W("",!0)]))}}),OL=J({name:"Modal",props:{...ZO.props,name:{type:String},title:{type:String},subtitle:{type:String},eventBus:{type:Object},showClose:{type:Boolean,default:!0},loading:{type:Boolean},classic:{type:Boolean},beforeClose:{type:Function},customClass:{type:String},center:{type:Boolean},width:{type:String,default:"50%"},minWidth:{type:String},maxWidth:{type:String},height:{type:String},minHeight:{type:String},maxHeight:{type:String},scrollable:{type:Boolean,default:!1},centerTitle:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!0}},mounted(){var t,s;window.addEventListener("keydown",this.onWindowKeydown),(t=this.eventBus)==null||t.on("close",this.closeDialog),(s=this.eventBus)==null||s.on("closeAll",this.uiStore.closeAllModals);const e=document.activeElement;e&&e.blur()},beforeUnmount(){var e,t;(e=this.eventBus)==null||e.off("close",this.closeDialog),(t=this.eventBus)==null||t.off("closeAll",this.uiStore.closeAllModals),window.removeEventListener("keydown",this.onWindowKeydown)},computed:{...be(Ee),styles(){const e={};return this.height&&(e["--dialog-height"]=this.height),this.minHeight&&(e["--dialog-min-height"]=this.minHeight),this.maxHeight&&(e["--dialog-max-height"]=this.maxHeight),this.maxWidth&&(e["--dialog-max-width"]=this.maxWidth),this.minWidth&&(e["--dialog-min-width"]=this.minWidth),e}},methods:{onWindowKeydown(e){this.uiStore.isModalActive(this.name)&&e&&e.keyCode===13&&this.handleEnter()},handleEnter(){this.uiStore.isModalActive(this.name)&&this.$emit("enter")},async closeDialog(){this.beforeClose&&await this.beforeClose()===!1||this.uiStore.closeModal(this.name)},getCustomClass(){let e=this.customClass||"";return this.classic&&(e=`${e} classic`),e}}});const DL="_center_flmpe_5",AL="_loader_flmpe_9",$L="_centerTitle_flmpe_18",NL="_subtitle_flmpe_22",_L="_footer_flmpe_26",PL={center:DL,loader:AL,centerTitle:$L,subtitle:NL,footer:_L};function IL(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-spinner"),m=E("el-dialog");return y(),R(m,{modelValue:e.uiStore.isModalOpen(this.name),"before-close":e.closeDialog,class:$({"dialog-wrapper":!0,scrollable:e.scrollable,[e.getCustomClass()]:!0}),center:e.center,width:e.width,"show-close":e.showClose,"close-on-click-modal":e.closeOnClickModal,"close-on-press-escape":e.closeOnPressEscape,style:zt(e.styles),"append-to-body":e.appendToBody,"data-test-id":`${this.name}-modal`,"modal-class":e.center?e.$style.center:""},Ms({default:v(()=>[D("div",{class:"modal-content",onKeydown:[t[0]||(t[0]=Qe(()=>{},["stop"])),t[1]||(t[1]=Ts((...c)=>e.handleEnter&&e.handleEnter(...c),["enter"])),t[2]||(t[2]=Ts((...c)=>e.closeDialog&&e.closeDialog(...c),["esc"]))]},[e.loading?(y(),P("div",{key:1,class:$(e.$style.loader)},[b(l)],2)):Ke(e.$slots,"content",{key:0})],32),!e.loading&&e.$slots.footer?(y(),P("div",{key:0,class:$(e.$style.footer)},[Ke(e.$slots,"footer",{close:e.closeDialog})],2)):W("",!0)]),_:2},[e.$slots.header?{name:"header",fn:v(()=>[e.loading?W("",!0):Ke(e.$slots,"header",{key:0})]),key:"0"}:e.title?{name:"title",fn:v(()=>[D("div",{class:$(e.centerTitle?e.$style.centerTitle:"")},[e.title?(y(),P("div",{key:0},[b(r,{tag:"h1",size:"xlarge"},{default:v(()=>[V(N(e.title),1)]),_:1})])):W("",!0),e.subtitle?(y(),P("div",{key:1,class:$(e.$style.subtitle)},[b(r,{tag:"h3",size:"small",color:"text-light"},{default:v(()=>[V(N(e.subtitle),1)]),_:1})],2)):W("",!0)],2)]),key:"1"}:void 0]),1032,["modelValue","before-close","class","center","width","show-close","close-on-click-modal","close-on-press-escape","style","append-to-body","data-test-id","modal-class"])}const ML={$style:PL},Mt=te(OL,[["render",IL],["__cssModules",ML]]),LL=J({name:"About",components:{Modal:Mt},data(){return{ABOUT_MODAL_KEY:cl,modalBus:Ze()}},computed:{...be(fe,Le)},methods:{closeDialog(){this.modalBus.emit("close")}}}),FL="_container_19f7x_5",BL={container:FL},RL={class:"action-buttons"};function VL(e,t,s,n,o,i){const r=E("n8n-text"),l=E("el-col"),m=E("el-row"),c=E("n8n-link"),h=E("n8n-button"),p=E("Modal");return y(),R(p,{"max-width":"540px",title:e.$locale.baseText("about.aboutN8n"),eventBus:e.modalBus,name:e.ABOUT_MODAL_KEY,center:!0},{content:v(()=>[D("div",{class:$(e.$style.container)},[b(m,null,{default:v(()=>[b(l,{span:8,class:"info-name"},{default:v(()=>[b(r,null,{default:v(()=>[V(N(e.$locale.baseText("about.n8nVersion")),1)]),_:1})]),_:1}),b(l,{span:16},{default:v(()=>[b(r,null,{default:v(()=>[V(N(e.rootStore.versionCli),1)]),_:1})]),_:1})]),_:1}),b(m,null,{default:v(()=>[b(l,{span:8,class:"info-name"},{default:v(()=>[b(r,null,{default:v(()=>[V(N(e.$locale.baseText("about.sourceCode")),1)]),_:1})]),_:1}),b(l,{span:16},{default:v(()=>[b(c,{to:"https://github.com/n8n-io/n8n"},{default:v(()=>[V("https://github.com/n8n-io/n8n")]),_:1})]),_:1})]),_:1}),b(m,null,{default:v(()=>[b(l,{span:8,class:"info-name"},{default:v(()=>[b(r,null,{default:v(()=>[V(N(e.$locale.baseText("about.license")),1)]),_:1})]),_:1}),b(l,{span:16},{default:v(()=>[b(c,{to:"https://github.com/n8n-io/n8n/blob/master/packages/cli/LICENSE.md"},{default:v(()=>[V(N(e.$locale.baseText("about.n8nLicense")),1)]),_:1})]),_:1})]),_:1}),b(m,null,{default:v(()=>[b(l,{span:8,class:"info-name"},{default:v(()=>[b(r,null,{default:v(()=>[V(N(e.$locale.baseText("about.instanceID")),1)]),_:1})]),_:1}),b(l,{span:16},{default:v(()=>[b(r,null,{default:v(()=>[V(N(e.rootStore.instanceId),1)]),_:1})]),_:1})]),_:1})],2)]),footer:v(()=>[D("div",RL,[b(h,{onClick:e.closeDialog,float:"right",label:e.$locale.baseText("about.close")},null,8,["onClick","label"])])]),_:1},8,["title","eventBus","name"])}const UL={$style:BL},WL=te(LL,[["render",VL],["__cssModules",UL]]);function ff(){const e=Be("ontouchstart"in window||navigator.maxTouchPoints>0),t=Be(navigator.userAgent.toLowerCase()),s=Be(t.value.includes("macintosh")||t.value.includes("ipad")||t.value.includes("iphone")||t.value.includes("ipod")),n=Be(s.value?"Meta":"Control");function o(i){return e.value===!0&&i instanceof MouseEvent?!0:s.value?i.metaKey:i.ctrlKey}return{isTouchDevice:e.value,isMacOs:s.value,controlKeyCode:n.value,isCtrlKeyPressed:o}}function jL(){const e=Be(!1),t=Be(document.createElement("span")),{isTouchDevice:s,isCtrlKeyPressed:n}=ff(),o=Ee(),i=sf(),r=_e();function l(I){Object.assign(t.value.style,I)}function m(I){const[j,q]=C(I);t.value=Object.assign(t.value,{x:j,y:q}),l({left:t.value.x+"px",top:t.value.y+"px",visibility:"visible"}),e.value=!0}function c(I){const j=p(I);l({left:j.x+"px",top:j.y+"px",width:j.width+"px",height:j.height+"px"})}function h(){t.value.x=0,t.value.y=0,l({visibility:"hidden",left:"0px",top:"0px",width:"0px",height:"0px"}),e.value=!1}function p(I){const[j,q]=C(I);return{x:Math.min(j,t.value.x),y:Math.min(q,t.value.y),width:Math.abs(j-t.value.x),height:Math.abs(q-t.value.y)}}function g(I){const j=[],q=p(I);return r.allNodes.forEach(Q=>{Q.position[0]<q.x||Q.position[0]>q.x+q.width||Q.position[1]<q.y||Q.position[1]>q.y+q.height||j.push(Q)}),j}function w(){t.value.id="select-box",l({margin:"0px auto",border:"2px dotted #FF0000",position:"absolute",zIndex:"100",visibility:"hidden"}),t.value.addEventListener("mouseup",k),document.querySelector("#node-view").appendChild(t.value)}function S(I){if(I.buttons===0){k(I);return}c(I)}function k(I){if(e.value===!1){s===!0&&I.target instanceof HTMLElement&&I.target&&I.target.id.includes("node-view")&&F();return}document.removeEventListener("mousemove",S),F();const j=g(I);j.forEach(q=>{T(q)}),j.length===1&&(o.lastSelectedNode=j[0].name),h()}function O(I,j){n(I)===!0||j||o.isActionActive("dragActive")||(m(I),document.addEventListener("mousemove",S))}function C(I){const[j,q]=uc(I),Q=i.isDemo?0:o.sidebarMenuCollapsed?mI:fI,X=j-Q,U=i.isDemo?q:q-o.bannersHeight-o.headerHeight,ne=i.nodeViewScale,ie=o.nodeViewOffsetPosition;return lS(X,U,ne,ie)}function A(I){o.removeNodeFromSelection(I),L.value.removeFromDragSelection(L.value.getManagedElement(I==null?void 0:I.id))}function T(I){o.addSelectedNode(I),L.value.addToDragSelection(L.value.getManagedElement(I==null?void 0:I.id))}function F(){L.value.clearDragSelection(),o.resetSelectedNodes(),o.lastSelectedNode=null,o.lastSelectedNodeOutputIndex=null,i.lastSelectedConnection=null,i.newNodeInsertPosition=null}const L=we(()=>i.jsPlumbInstance);return Is(()=>{w()}),{selectActive:e,getMousePositionWithinNodeView:C,mouseUpMouseSelect:k,mouseDownMouseSelect:O,nodeDeselected:A,nodeSelected:T,deselectAllNodes:F}}function qL(){return LA}function zL(){const e=Be(new WeakMap);return{callDebounced:async(s,n,...o)=>{const{trailing:i,debounceTime:r}=n;let l=e.value.get(s);l===void 0&&(l=ol(async(...m)=>{await s(...m)},r,i?{trailing:i}:{leading:!0}),e.value.set(s,l)),await l(...o)}}}function AS(){return{async run(e,t){return Jm(e,lf(),t)}}}const uu=en({customActions:{}}),$S=()=>{function e({key:i,action:r}){uu.customActions[i]=r}function t(i){const{[i]:r,...l}=uu.customActions;uu.customActions=l}function s(i){const r=i.target;if(!(r instanceof Element)||r.tagName!=="A")return;const l=r.getAttribute("data-action");l&&typeof o.value[l]=="function"&&(i.preventDefault(),o.value[l]())}function n(){window.top?window.top.location.reload():window.location.reload()}const o=we(()=>({reload:n,...uu.customActions}));return Is(()=>{gh(),window.addEventListener("click",s),Ph.on("registerGlobalLinkAction",e)}),Iv(()=>{gh(),window.removeEventListener("click",s),Ph.off("registerGlobalLinkAction",e)}),{registerCustomAction:e,unregisterCustomAction:t}},Jw=100;function HL(e){const t=gh(),s=t==null?void 0:t.proxy.$telemetry,n=Xe(),o=Fr(),i=Ee(),{callDebounced:r}=zL(),{isCtrlKeyPressed:l}=ff(),m=Be(n.activeNodeName!==null),c=async()=>r(async()=>{const S=o.popUndoableToUndo();if(S){if(S instanceof nr){o.bulkInProgress=!0;const k=S.commands,O=[];for(let C=k.length-1;C>=0;C--)await k[C].revert(),O.push(k[C].getReverseCommand());o.pushUndoableToRedo(new nr(O)),await Xs(),o.bulkInProgress=!1}S instanceof Mn&&(await S.revert(),o.pushUndoableToRedo(S.getReverseCommand()),i.stateIsDirty=!0),p(S,"undo")}},{debounceTime:Jw}),h=async()=>r(async()=>{const S=o.popUndoableToRedo();if(S){if(S instanceof nr){o.bulkInProgress=!0;const k=S.commands,O=[];for(let C=k.length-1;C>=0;C--)await k[C].revert(),O.push(k[C].getReverseCommand());o.pushBulkCommandToUndo(new nr(O),!1),await Xs(),o.bulkInProgress=!1}S instanceof Mn&&(await S.revert(),o.pushCommandToUndo(S.getReverseCommand(),!1),i.stateIsDirty=!0),p(S,"redo")}},{debounceTime:Jw});function p(S,k){S instanceof Mn?s==null||s.track(`User hit ${k}`,{commands_length:1,commands:[S.name]}):S instanceof nr&&(s==null||s.track(`User hit ${k}`,{commands_length:S.commands.length,commands:S.commands.map(O=>O.name)}))}function g(S){if(m.value&&!S.shiftKey){const k=n.activeNode;k&&(s==null||s.track("User hit undo in NDV",{node_type:k.type}))}}function w(S){const k=Ea(e);S.repeat||k!==_t.WORKFLOW||l(S)&&S.key.toLowerCase()==="z"&&(S.preventDefault(),m.value?S.shiftKey||g(S):S.shiftKey?h():c())}return Is(()=>{document.addEventListener("keydown",w)}),Iv(()=>{document.removeEventListener("keydown",w)}),{undo:c,redo:h}}function Lt(){return Te}function td(){const e=Lt(),t=Be(null);function s(i){t.value===null&&(t.value=Wv.service({lock:!0,text:i||e.baseText("genericHelpers.loading"),spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.8)"}))}function n(i){t.value&&(t.value.text=i)}function o(){t.value&&(t.value.close(),t.value=null)}return{loadingService:t,startLoading:s,setLoadingText:n,stopLoading:o}}function St(){const e=o=>{if(o instanceof Error)throw o;return o};async function t(o,i,r){const l={...r||(typeof i=="object"?i:{}),cancelButtonClass:"btn--cancel",confirmButtonClass:"btn--confirm"};return typeof i=="string"?Co.alert(o,i,l).catch(e):Co.alert(o,l).catch(e)}async function s(o,i,r){const l={...r||(typeof i=="object"?i:{}),cancelButtonClass:"btn--cancel",confirmButtonClass:"btn--confirm",distinguishCancelAndClose:!0,showClose:(r==null?void 0:r.showClose)||!1,closeOnClickModal:!1};return typeof i=="string"?Co.confirm(o,i,l).catch(e):Co.confirm(o,l).catch(e)}async function n(o,i,r){const l={...r||(typeof i=="object"?i:{}),cancelButtonClass:"btn--cancel",confirmButtonClass:"btn--confirm"};return typeof i=="string"?Co.prompt(o,i,l).catch(e):Co.prompt(o,l).catch(e)}return{alert:t,confirm:s,prompt:n,message:Co}}let QL=class{constructor(){qe(this,"pageEventQueue");qe(this,"previousPath");qe(this,"userNodesPanelSession",{sessionId:"",data:{nodeFilter:"",resultsNodes:[],filterMode:"Regular"}});this.pageEventQueue=[],this.previousPath=""}get rudderStack(){return window.rudderanalytics}init(t,{instanceId:s,userId:n,versionCli:o}){if(!t.enabled||!t.config||this.rudderStack)return;const{config:{key:i,url:r}}=t,l=Le(),m=fe(),h=l.logLevel==="debug"?{logLevel:"DEBUG"}:{};this.initRudderStack(i,r,{integrations:{All:!1},loadIntegration:!1,configUrl:"https://api-rs.n8n.io",...h}),rf().init(this),this.identify(s,n,o),this.flushPageEvents(),this.track("Session started",{session_id:m.sessionId})}identify(t,s,n){const o={instance_id:t,version_cli:n};s?this.rudderStack.identify(`${t}#${s}`,o):this.rudderStack.reset()}track(t,s,{withPostHog:n}={withPostHog:!1}){if(!this.rudderStack)return;const o={...s,version_cli:fe().versionCli};this.rudderStack.track(t,o),n&&js().capture(t,o)}page(t){var s,n,o;if(this.rudderStack){if(t.path===this.previousPath)return;this.previousPath=t.path;const i=t.name;let r={};(s=t.meta)!=null&&s.telemetry&&typeof t.meta.telemetry.getProperties=="function"&&(r=t.meta.telemetry.getProperties(t));const l=((o=(n=t.meta)==null?void 0:n.telemetry)==null?void 0:o.pageCategory)||"Editor";this.rudderStack.page(l,i,r)}else this.pageEventQueue.push({route:t})}flushPageEvents(){const t=this.pageEventQueue;this.pageEventQueue=[],t.forEach(({route:s})=>{this.page(s)})}trackAskAI(t,s={}){if(this.rudderStack)switch(s.session_id=fe().sessionId,t){case"ask.generationClicked":this.track("User clicked on generate code button",s,{withPostHog:!0})}}trackNodesPanel(t,s={}){if(this.rudderStack)switch(s.nodes_panel_session_id=this.userNodesPanelSession.sessionId,t){case"nodeView.createNodeActiveChanged":s.createNodeActive!==!1&&(this.resetNodesPanelSession(),s.nodes_panel_session_id=this.userNodesPanelSession.sessionId,this.track("User opened nodes panel",s));break;case"nodeCreateList.destroyed":this.userNodesPanelSession.data.nodeFilter.length>0&&this.userNodesPanelSession.data.nodeFilter!==""&&this.track("User entered nodes panel search term",this.generateNodesPanelEvent());break;case"nodeCreateList.nodeFilterChanged":s.newValue.length===0&&this.userNodesPanelSession.data.nodeFilter.length>0&&this.track("User entered nodes panel search term",this.generateNodesPanelEvent()),s.newValue.length>(s.oldValue||"").length&&(this.userNodesPanelSession.data.nodeFilter=s.newValue,this.userNodesPanelSession.data.resultsNodes=(s.filteredNodes||[]).map(n=>n.key));break;case"nodeCreateList.onCategoryExpanded":s.is_subcategory=!1,s.nodes_panel_session_id=this.userNodesPanelSession.sessionId,this.track("User viewed node category",s);break;case"nodeCreateList.onViewActions":s.nodes_panel_session_id=this.userNodesPanelSession.sessionId,this.track("User viewed node actions",s);break;case"nodeCreateList.onActionsCustmAPIClicked":s.nodes_panel_session_id=this.userNodesPanelSession.sessionId,this.track("User clicked custom API from node actions",s);break;case"nodeCreateList.addAction":s.nodes_panel_session_id=this.userNodesPanelSession.sessionId,this.track("User added action",s);break;case"nodeCreateList.onSubcategorySelected":s.category_name=s.subcategory,s.is_subcategory=!0,s.nodes_panel_session_id=this.userNodesPanelSession.sessionId,delete s.selected,this.track("User viewed node category",s);break;case"nodeView.addNodeButton":this.track("User added node to workflow canvas",s,{withPostHog:!0});break;case"nodeView.addSticky":this.track("User inserted workflow note",s);break}}trackNodeParametersValuesChange(t,s){if(this.rudderStack)switch(t){case nc:s.name==="parameters.otherOptions.includeLinkToWorkflow"&&this.track("User toggled n8n reference option");break}}resetNodesPanelSession(){this.userNodesPanelSession.sessionId=`nodes_panel_session_${new Date().valueOf()}`,this.userNodesPanelSession.data={nodeFilter:"",resultsNodes:[],filterMode:"All"}}generateNodesPanelEvent(){return{search_string:this.userNodesPanelSession.data.nodeFilter,results_count:this.userNodesPanelSession.data.resultsNodes.length,filter_mode:this.userNodesPanelSession.data.filterMode,nodes_panel_session_id:this.userNodesPanelSession.sessionId}}initRudderStack(t,s,n){window.rudderanalytics=window.rudderanalytics||[],this.rudderStack.methods=["load","page","track","identify","alias","group","ready","reset","getAnonymousId","setAnonymousId"],this.rudderStack.factory=o=>(...i)=>{const r=[o,...i];return this.rudderStack.push(r),this.rudderStack};for(const o of this.rudderStack.methods)this.rudderStack[o]=this.rudderStack.factory(o);this.rudderStack.loadJS=()=>{const o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://cdn-rs.n8n.io/v1/ra.min.js";const i=document.getElementsByTagName("script")[0];i&&i.parentNode&&i.parentNode.insertBefore(o,i)},this.rudderStack.loadJS(),this.rudderStack.load(t,s,n)}};const gf=new QL,GL={install(e){e.config.globalProperties.$telemetry=gf}};function bl(){return gf}function sd(){return{titleSet:(s,n)=>{let o="⚠️";n==="EXECUTING"?o="🔄":n==="IDLE"&&(o="▶️"),window.document.title=`n8n - ${o} ${s}`},titleReset:()=>{window.document.title="n8n - Workflow Automation"}}}const YL={dangerouslyUseHTMLString:!0,position:"bottom-right"},Rp=[];function je(){const e=bl(),t=_e(),s=AS(),n=Lt();function o(p,g=!0){p={...YL,...p},p.message=p.message?Fa(p.message):p.message;const w=yh(p);return p.duration===0&&Rp.push(w),p.type==="error"&&g&&e.track("Instance FE emitted error",{error_title:p.title,error_message:p.message,caused_by_credential:c(p.message),workflow_id:t.workflowId}),w}function i(p){let g;if(p.closeOnClick){const w=p.onClick;p.onClick=()=>{g&&g.close(),w&&w()}}return g=o({title:p.title,message:p.message,onClick:p.onClick,onClose:p.onClose,duration:p.duration,customClass:p.customClass,type:p.type,dangerouslyUseHTMLString:p.dangerouslyUseHTMLString??!0}),g}function r({description:p,node:g}){if(!p)return"";const w=p.length>500?`${p.slice(0,500)}...`:p;return`
				<br>
				<br>
				<details>
					<summary
						style="color: #ff6d5a; font-weight: bold; cursor: pointer;"
					>
						${n.baseText("showMessage.showDetails")}
					</summary>
					<p>${g.name}: ${w}</p>
				</details>
			`}function l(p,g,w){const S=p,k=w?`${w}<br/>`:"";o({title:g,message:`
					${k}
					<i>${S.message}</i>
					${r(S)}`,type:"error",duration:0},!1),s.run("showMessage.showError",{title:g,message:w,errorMessage:S.message}),e.track("Instance FE emitted error",{error_title:g,error_description:w,error_message:S.message,caused_by_credential:c(S.message),workflow_id:t.workflowId})}function m(p){return yh(p)}function c(p){return p?p.includes("Credentials for")&&p.includes("are not set"):!1}function h(){Rp.forEach(p=>{p&&p.close()}),Rp.length=0}return{showMessage:o,showToast:i,showError:l,showAlert:m,clearAllStickyNotifications:h}}function yf(e){const t=we(()=>e==null?void 0:e.resourceMapper),s=we(()=>{var l,m;return((m=(l=t.value)==null?void 0:l.fieldWords)==null?void 0:m.singular)||Te.baseText("generic.field")}),n=we(()=>s.value.charAt(0).toUpperCase()+s.value.slice(1)),o=we(()=>{var r,l;return((l=(r=t.value)==null?void 0:r.fieldWords)==null?void 0:l.plural)||Te.baseText("generic.fields")}),i=we(()=>o.value.charAt(0).toUpperCase()+o.value.slice(1));return{resourceMapperTypeOptions:t,singularFieldWord:s,singularFieldWordCapitalized:n,pluralFieldWord:o,pluralFieldWordCapitalized:i}}function Gh(e,t){return t.reduce((s,n)=>{if(typeof n=="number")return`${s}[${n}]`;if(!!["-"," ",".","'",'"',"`","[","]","{","}","(",")",":",",","?"].find(r=>n.includes(r))){const r=n.replaceAll("'","\\'");return`${s}['${r}']`}return`${s}.${n}`},e)}function vCe({nodeName:e,distanceFromActive:t,path:s}){const n=t===1?"$json":Gh(`$('${e}')`,["item","json"]);return typeof s=="string"?`{{ ${n}${s} }}`:`{{ ${Gh(n,s)} }}`}function XL(e,t,s){const n=!!e.requiresDataPath&&t.startsWith("{{ $json"),o=e.type==="resourceLocator"&&wh(s)?s.value:s;if(n){const i=t.replace("{{ $json","").replace(new RegExp("^\\."),"").replace(new RegExp("}}$"),"").trim();return o&&e.requiresDataPath==="multiple"?typeof o=="string"&&o.trim()==="="?i:`${o}, ${i}`:i}else{if(typeof o=="string"&&o.startsWith("=")&&o.length>1)return`${o} ${t}`;if(o&&["string","json"].includes(e.type))return o==="="?`=${t}`:`=${o} ${t}`}return`=${t}`}function KL(){function e(i,r="",l=!1){let m={type:"undefined",value:"undefined",path:r};switch(typeof i){case"object":i===null?m={type:"null",value:"[null]",path:r}:i instanceof Date?m={type:"string",value:i.toISOString(),path:r}:Array.isArray(i)?m={type:"array",value:i.map((c,h)=>({key:h.toString(),...e(c,`${r}[${h}]`,l)})),path:r}:Y8(i)&&(m={type:"object",value:Object.entries(i).map(([c,h])=>({key:c,...e(h,Gh(r,[c]),l)})),path:r});break;case"function":m={type:"function",value:"",path:r};break;default:m={type:typeof i,value:l?"":String(i),path:r}}return m}function t(i,r=!1){const[l,...m]=i;return e(DD({},l,...m,l),void 0,r)}function s(i,r){return!(i!=null&&i.hasOwnProperty("main"))||i.main===void 0||i.main.length<r||i.main[r]===null?[]:i.main[r]}function n(i,r=0,l=0){var p;const{getWorkflowExecution:m}=_e();if(i===null)return[];if(m===null)return[];const c=m.data;if(!(c!=null&&c.resultData))return[];const h=c.resultData.runData;return!((p=h==null?void 0:h[i.name])!=null&&p[r].data)||h[i.name][r].data===void 0?[]:s(h[i.name][r].data,l)}function o(i,r=0,l=0){if(!i)return[];const{pinDataByNodeName:m}=_e(),c=m(i.name);let h=n(i,r,l);return c&&(h=Array.isArray(c)?c.map(p=>({json:p})):[{json:c}]),h}return{getSchema:e,getSchemaForExecutionData:t,getNodeInputData:n,getInputDataWithPinned:o}}const JL="_descriptionContainer_loyvz_5",ZL="_descriptionIcon_loyvz_10",eF="_descriptionText_loyvz_15",tF={descriptionContainer:JL,descriptionIcon:ZL,descriptionText:eF},sF=J({name:"CommunityPackageManageConfirmModal",components:{Modal:Mt},props:{modalName:{type:String,required:!0},activePackageName:{type:String,required:!0},mode:{type:String}},setup(){return{...je()}},data(){return{loading:!1,modalBus:Ze(),COMMUNITY_PACKAGE_CONFIRM_MODAL_KEY:so,COMMUNITY_PACKAGE_MANAGE_ACTIONS:$n}},computed:{...be(nf),activePackage(){return this.communityNodesStore.getInstalledPackageByName(this.activePackageName)},getModalContent(){return this.mode===$n.UNINSTALL?{title:this.$locale.baseText("settings.communityNodes.confirmModal.uninstall.title"),message:this.$locale.baseText("settings.communityNodes.confirmModal.uninstall.message",{interpolate:{packageName:this.activePackageName}}),buttonLabel:this.$locale.baseText("settings.communityNodes.confirmModal.uninstall.buttonLabel"),buttonLoadingLabel:this.$locale.baseText("settings.communityNodes.confirmModal.uninstall.buttonLoadingLabel")}:{title:this.$locale.baseText("settings.communityNodes.confirmModal.update.title",{interpolate:{packageName:this.activePackageName}}),description:this.$locale.baseText("settings.communityNodes.confirmModal.update.description"),message:this.$locale.baseText("settings.communityNodes.confirmModal.update.message",{interpolate:{packageName:this.activePackageName,version:this.activePackage.updateAvailable}}),buttonLabel:this.$locale.baseText("settings.communityNodes.confirmModal.update.buttonLabel"),buttonLoadingLabel:this.$locale.baseText("settings.communityNodes.confirmModal.update.buttonLoadingLabel")}}},methods:{onModalClose(){return!this.loading},async onConfirmButtonClick(){this.mode===$n.UNINSTALL?await this.onUninstall():this.mode===$n.UPDATE&&await this.onUpdate()},async onUninstall(){try{this.$telemetry.track("user started cnr package deletion",{package_name:this.activePackage.packageName,package_node_names:this.activePackage.installedNodes.map(e=>e.name),package_version:this.activePackage.installedVersion,package_author:this.activePackage.authorName,package_author_email:this.activePackage.authorEmail}),this.loading=!0,await this.communityNodesStore.uninstallPackage(this.activePackageName),this.showMessage({title:this.$locale.baseText("settings.communityNodes.messages.uninstall.success.title"),type:"success"})}catch(e){this.showError(e,this.$locale.baseText("settings.communityNodes.messages.uninstall.error"))}finally{this.loading=!1,this.modalBus.emit("close")}},async onUpdate(){try{this.$telemetry.track("user started cnr package update",{package_name:this.activePackage.packageName,package_node_names:this.activePackage.installedNodes.map(t=>t.name),package_version_current:this.activePackage.installedVersion,package_version_new:this.activePackage.updateAvailable,package_author:this.activePackage.authorName,package_author_email:this.activePackage.authorEmail}),this.loading=!0;const e=this.activePackage.updateAvailable;await this.communityNodesStore.updatePackage(this.activePackageName),this.showMessage({title:this.$locale.baseText("settings.communityNodes.messages.update.success.title"),message:this.$locale.baseText("settings.communityNodes.messages.update.success.message",{interpolate:{packageName:this.activePackageName,version:e}}),type:"success"})}catch(e){this.showError(e,this.$locale.baseText("settings.communityNodes.messages.update.error.title"))}finally{this.loading=!1,this.modalBus.emit("close")}}}}),nF=["textContent"];function oF(e,t,s,n,o,i){const r=E("n8n-text"),l=E("n8n-info-tip"),m=E("n8n-button"),c=E("Modal");return y(),R(c,{width:"540px",name:e.COMMUNITY_PACKAGE_CONFIRM_MODAL_KEY,title:e.getModalContent.title,eventBus:e.modalBus,center:!0,showClose:!e.loading,beforeClose:e.onModalClose},{content:v(()=>[b(r,null,{default:v(()=>[V(N(e.getModalContent.message),1)]),_:1}),e.mode===e.COMMUNITY_PACKAGE_MANAGE_ACTIONS.UPDATE?(y(),P("div",{key:0,class:$(e.$style.descriptionContainer)},[b(l,{theme:"info",type:"note",bold:!1},{default:v(()=>[D("span",{textContent:N(e.getModalContent.description)},null,8,nF)]),_:1})],2)):W("",!0)]),footer:v(()=>[b(m,{loading:e.loading,disabled:e.loading,label:e.loading?e.getModalContent.buttonLoadingLabel:e.getModalContent.buttonLabel,size:"large",float:"right",onClick:e.onConfirmButtonClick},null,8,["loading","disabled","label","onClick"])]),_:1},8,["name","title","eventBus","showClose","beforeClose"])}const iF={$style:tF},rF=te(sF,[["render",oF],["__cssModules",iF]]),aF=J({name:"CommunityPackageInstallModal",components:{Modal:Mt},setup(){return{...je()}},data(){return{loading:!1,packageName:"",userAgreed:!1,modalBus:Ze(),checkboxWarning:!1,infoTextErrorMessage:"",COMMUNITY_PACKAGE_INSTALL_MODAL_KEY:Qc,NPM_KEYWORD_SEARCH_URL:sw,COMMUNITY_NODES_INSTALLATION_DOCS_URL:gr,COMMUNITY_NODES_RISKS_DOCS_URL:E_}},computed:{...be(nf)},methods:{openNPMPage(){this.$telemetry.track("user clicked cnr browse button",{source:"cnr install modal"}),window.open(sw,"_blank")},async onInstallClick(){if(!this.userAgreed)this.checkboxWarning=!0;else try{this.$telemetry.track("user started cnr package install",{input_string:this.packageName,source:"cnr settings page"}),this.infoTextErrorMessage="",this.loading=!0,await this.communityNodesStore.installPackage(this.packageName),await this.communityNodesStore.fetchInstalledPackages(),this.loading=!1,this.modalBus.emit("close"),this.showMessage({title:this.$locale.baseText("settings.communityNodes.messages.install.success"),type:"success"})}catch(e){e.httpStatusCode&&e.httpStatusCode===400?this.infoTextErrorMessage=e.message:this.showError(e,this.$locale.baseText("settings.communityNodes.messages.install.error"))}finally{this.loading=!1}},onCheckboxChecked(){this.checkboxWarning=!1},onModalClose(){return!this.loading},onInputBlur(){this.packageName=this.packageName.replaceAll("npm i ","").replaceAll("npm install ","")},onMoreInfoTopClick(){this.$telemetry.track("user clicked cnr docs link",{source:"install package modal top"})},onLearnMoreLinkClick(){this.$telemetry.track("user clicked cnr docs link",{source:"install package modal bottom"})}}}),lF="_descriptionContainer_wrnsh_5",uF="_formContainer_wrnsh_20",cF="_checkbox_wrnsh_26",dF="_error_wrnsh_30",pF={descriptionContainer:lF,formContainer:uF,checkbox:cF,error:dF};const hF=["textContent"],mF=D("br",null,null,-1);function fF(e,t,s,n,o,i){const r=E("n8n-text"),l=E("n8n-link"),m=E("n8n-button"),c=E("n8n-input"),h=E("n8n-input-label"),p=E("el-checkbox"),g=E("Modal");return y(),R(g,{width:"540px",name:e.COMMUNITY_PACKAGE_INSTALL_MODAL_KEY,title:e.$locale.baseText("settings.communityNodes.installModal.title"),eventBus:e.modalBus,center:!0,beforeClose:e.onModalClose,showClose:!e.loading},{content:v(()=>[D("div",{class:$([e.$style.descriptionContainer,"p-s"])},[D("div",null,[b(r,null,{default:v(()=>[V(N(e.$locale.baseText("settings.communityNodes.installModal.description")),1)]),_:1}),V(" "+N(" ")+" "),b(l,{to:e.COMMUNITY_NODES_INSTALLATION_DOCS_URL,onClick:e.onMoreInfoTopClick},{default:v(()=>[V(N(e.$locale.baseText("_reusableDynamicText.moreInfo")),1)]),_:1},8,["to","onClick"])]),b(m,{label:e.$locale.baseText("settings.communityNodes.browseButton.label"),icon:"external-link-alt",class:$(e.$style.browseButton),onClick:e.openNPMPage},null,8,["label","class","onClick"])],2),D("div",{class:$([e.$style.formContainer,"mt-m"])},[b(h,{class:$(e.$style.labelTooltip),label:e.$locale.baseText("settings.communityNodes.installModal.packageName.label"),tooltipText:e.$locale.baseText("settings.communityNodes.installModal.packageName.tooltip",{interpolate:{npmURL:e.NPM_KEYWORD_SEARCH_URL}})},{default:v(()=>[b(c,{name:"packageNameInput",modelValue:e.packageName,"onUpdate:modelValue":t[0]||(t[0]=w=>e.packageName=w),type:"text",maxlength:214,placeholder:e.$locale.baseText("settings.communityNodes.installModal.packageName.placeholder"),required:!0,disabled:e.loading,onBlur:e.onInputBlur},null,8,["modelValue","placeholder","disabled","onBlur"])]),_:1},8,["class","label","tooltipText"]),D("div",{class:$([e.$style.infoText,"mt-4xs"])},[D("span",{size:"small",class:$([e.$style.infoText,e.infoTextErrorMessage?e.$style.error:""]),textContent:N(e.infoTextErrorMessage)},null,10,hF)],2),b(p,{modelValue:e.userAgreed,"onUpdate:modelValue":[t[1]||(t[1]=w=>e.userAgreed=w),e.onCheckboxChecked],class:$([e.$style.checkbox,e.checkboxWarning?e.$style.error:"","mt-l"]),disabled:e.loading,"data-test-id":"user-agreement-checkbox"},{default:v(()=>[b(r,null,{default:v(()=>[V(N(e.$locale.baseText("settings.communityNodes.installModal.checkbox.label")),1)]),_:1}),mF,b(l,{to:e.COMMUNITY_NODES_RISKS_DOCS_URL,onClick:e.onLearnMoreLinkClick},{default:v(()=>[V(N(e.$locale.baseText("_reusableDynamicText.moreInfo")),1)]),_:1},8,["to","onClick"])]),_:1},8,["modelValue","class","disabled","onUpdate:modelValue"])],2)]),footer:v(()=>[b(m,{loading:e.loading,disabled:!e.userAgreed||e.packageName===""||e.loading,label:e.loading?e.$locale.baseText("settings.communityNodes.installModal.installButton.label.loading"):e.$locale.baseText("settings.communityNodes.installModal.installButton.label"),size:"large",float:"right",onClick:e.onInstallClick,"data-test-id":"install-community-package-button"},null,8,["loading","disabled","label","onClick"])]),_:1},8,["name","title","eventBus","beforeClose","showClose"])}const gF={$style:pF},yF=te(aF,[["render",fF],["__cssModules",gF]]),wF=J({name:"ChangePasswordModal",components:{Modal:Mt},props:{modalName:{type:String}},setup(){return{...je()}},data(){return{config:null,formBus:Ze(),modalBus:Ze(),password:"",loading:!1,CHANGE_PASSWORD_MODAL_KEY:Vc}},computed:{...be(Ge)},mounted(){this.config=[{name:"currentPassword",properties:{label:this.$locale.baseText("auth.changePassword.currentPassword"),type:"password",required:!0,autocomplete:"current-password",capitalize:!0,focusInitially:!0}},{name:"password",properties:{label:this.$locale.baseText("auth.newPassword"),type:"password",required:!0,validationRules:[{name:"DEFAULT_PASSWORD_RULES"}],infoText:this.$locale.baseText("auth.defaultPasswordRequirements"),autocomplete:"new-password",capitalize:!0}},{name:"password2",properties:{label:this.$locale.baseText("auth.changePassword.reenterNewPassword"),type:"password",required:!0,validators:{TWO_PASSWORDS_MATCH:{validate:this.passwordsMatch}},validationRules:[{name:"TWO_PASSWORDS_MATCH"}],autocomplete:"new-password",capitalize:!0}}]},methods:{passwordsMatch(e){return typeof e!="string"?!1:e!==this.password?{messageKey:"auth.changePassword.passwordsMustMatchError"}:!1},onInput(e){e.name==="password"&&(this.password=e.value)},async onSubmit(e){try{this.loading=!0,await this.usersStore.updateCurrentUserPassword(e),this.showMessage({type:"success",title:this.$locale.baseText("auth.changePassword.passwordUpdated"),message:this.$locale.baseText("auth.changePassword.passwordUpdatedMessage")}),this.modalBus.emit("close")}catch(t){this.showError(t,this.$locale.baseText("auth.changePassword.error"))}this.loading=!1},onSubmitClick(){this.formBus.emit("submit")}}});function bF(e,t,s,n,o,i){const r=E("n8n-form-inputs"),l=E("n8n-button"),m=E("Modal");return y(),R(m,{name:e.CHANGE_PASSWORD_MODAL_KEY,onEnter:e.onSubmit,title:e.$locale.baseText("auth.changePassword"),center:!0,width:"460px",eventBus:e.modalBus},{content:v(()=>[b(r,{inputs:e.config,eventBus:e.formBus,columnView:!0,onUpdate:e.onInput,onSubmit:e.onSubmit},null,8,["inputs","eventBus","onUpdate","onSubmit"])]),footer:v(()=>[b(l,{loading:e.loading,label:e.$locale.baseText("auth.changePassword"),onClick:e.onSubmitClick,float:"right","data-test-id":"change-password-button"},null,8,["loading","label","onClick"])]),_:1},8,["name","onEnter","title","eventBus"])}const vF=te(wF,[["render",bF]]),Ft=J({methods:{$externalHooks(){return{run:async(e,t)=>{await Jm.call(this,e,lf(),t)}}}}}),Bs=J({computed:{...be(It,Fr,it,Le,_e,Ge,fe)},methods:{hasProxyAuth(e){return Object.keys(e.parameters).includes("nodeCredentialType")},isCustomApiCallSelected(e){const{parameters:t}=e;return hf(t)?t.resource!==void 0&&t.resource.includes(fr)||t.operation!==void 0&&t.operation.includes(fr):!1},getParameterValue(e,t,s){return jt(e,s?s+"."+t:t)},displayParameter(e,t,s,n){return eD(e,t,s,n)},getNodeIssues(e,t,s){const n=Object.keys(this.workflowsStore.getPinData||{});let o=null;if(s=s||[],t.disabled===!0||n.includes(t.name))return null;if(e===null)s.includes("typeUnknown")||(o={typeUnknown:!0});else if(s.includes("parameters")||(o=bh(e.properties,t)),!s.includes("credentials")){const i=this.getNodeCredentialIssues(t,e);o===null?o=i:tD(o,i)}return this.hasNodeExecutionIssues(t)&&!s.includes("execution")&&(o===null&&(o={}),o.execution=!0),o},hasNodeExecutionIssues(e){const t=this.workflowsStore.getWorkflowRunData;if(t===null||!t.hasOwnProperty(e.name))return!1;for(const s of t[e.name])if(s.error!==void 0)return!0;return!1},reportUnsetCredential(e){return{credentials:{[e.name]:[this.$locale.baseText("nodeHelpers.credentialsUnset",{interpolate:{credentialType:e.displayName}})]}}},updateNodesExecutionIssues(){const e=this.workflowsStore.allNodes;for(const t of e)this.workflowsStore.setNodeIssue({node:t.name,type:"execution",value:this.hasNodeExecutionIssues(t)?!0:null})},updateNodeCredentialIssuesByName(e){const t=this.workflowsStore.getNodeByName(e);t&&this.updateNodeCredentialIssues(t)},updateNodeCredentialIssues(e){const t=this.getNodeCredentialIssues(e);let s=null;t!==null&&(s=t.credentials),this.workflowsStore.setNodeIssue({node:e.name,type:"credentials",value:s})},updateNodeParameterIssuesByName(e){const t=this.workflowsStore.getNodeByName(e);t&&this.updateNodeParameterIssues(t)},updateNodeParameterIssues(e,t){if(t===void 0&&(t=this.nodeTypesStore.getNodeType(e.type,e.typeVersion)),t===null)return;const s=bh(t.properties,e);let n=null;s!==null&&(n=s.parameters),this.workflowsStore.setNodeIssue({node:e.name,type:"parameters",value:n})},getNodeCredentialIssues(e,t){var h,p;if(e.disabled||(t||(t=this.nodeTypesStore.getNodeType(e.type,e.typeVersion)),!(t!=null&&t.credentials)))return null;const s={};let n,o,i,r;const{authentication:l,genericAuthType:m,nodeCredentialType:c}=e.parameters;if(l==="genericCredentialType"&&m!==""&&Zw(e,m)){const g=this.credentialsStore.getCredentialTypeByName(m);return g?this.reportUnsetCredential(g):null}if(this.hasProxyAuth(e)&&l==="predefinedCredentialType"&&c!==""&&e.credentials!==void 0){const g=this.credentialsStore.getCredentialsByType(c);if(TF(e,c,g)){const w=this.credentialsStore.getCredentialTypeByName(c);return w?this.reportUnsetCredential(w):null}}if(this.hasProxyAuth(e)&&l==="predefinedCredentialType"&&c!==""&&Zw(e,c)){const g=this.credentialsStore.getCredentialTypeByName(c);return g?this.reportUnsetCredential(g):null}for(const g of t.credentials)if(this.displayParameter(e.parameters,g,"",e))if(o=this.credentialsStore.getCredentialTypeByName(g.name),o===null?i=g.name:i=o.displayName,!((h=e.credentials)!=null&&h[g.name]))g.required&&(s[g.name]=[this.$locale.baseText("nodeIssues.credentials.notSet",{interpolate:{type:t.displayName}})]);else{r=e.credentials[g.name],typeof r=="string"&&(r={id:null,name:r});const S=Ge().currentUser||{};if(n=this.credentialsStore.getCredentialsByType(g.name).filter(O=>Xc(S,O).use),n===null&&(n=[]),r.id&&n.find(C=>C.id===r.id))continue;const k=n.filter(O=>O.name===r.name);if(k.length>1){s[g.name]=[this.$locale.baseText("nodeIssues.credentials.notIdentified",{interpolate:{name:r.name,type:i}}),this.$locale.baseText("nodeIssues.credentials.notIdentified.hint")];continue}if(k.length===0){const O=this.usersStore.isInstanceOwner;!((p=this.workflowsStore.usedCredentials)==null?void 0:p[r.id])&&!O&&(s[g.name]=[this.$locale.baseText("nodeIssues.credentials.doNotExist",{interpolate:{name:r.name,type:i}}),this.$locale.baseText("nodeIssues.credentials.doNotExist.hint")])}}return Object.keys(s).length===0?null:{credentials:s}},updateNodesCredentialsIssues(){const e=this.workflowsStore.allNodes;let t;for(const s of e)t=this.getNodeCredentialIssues(s),this.workflowsStore.setNodeIssue({node:s.name,type:"credentials",value:t===null?null:t.credentials})},getNodeInputData(e,t=0,s=0){var i;if(e===null)return[];if(this.workflowsStore.getWorkflowExecution===null)return[];const n=this.workflowsStore.getWorkflowExecution.data;if(!(n!=null&&n.resultData))return[];const o=n.resultData.runData;return!((i=o==null?void 0:o[e.name])!=null&&i[t].data)||o[e.name][t].data===void 0?[]:this.getMainInputData(o[e.name][t].data,s)},getMainInputData(e,t){return!e||!e.hasOwnProperty("main")||e.main===void 0||e.main.length<t||e.main[t]===null?[]:e.main[t]},getBinaryData(e,t,s,n){var l,m;if(t===null)return[];const o=e;if(!((m=(l=o==null?void 0:o[t])==null?void 0:l[s])!=null&&m.data))return[];const i=this.getMainInputData(o[t][s].data,n),r=[];for(let c=0;c<i.length;c++)i[c].hasOwnProperty("binary")&&i[c].binary!==void 0&&r.push(i[c].binary);return r},disableNodes(e,t=!1){t&&this.historyStore.startRecordingUndo();for(const s of e){const n=s.disabled,o={name:s.name,properties:{disabled:!n}};this.$telemetry.track("User set node enabled status",{node_type:s.type,is_enabled:s.disabled,workflow_id:this.workflowsStore.workflowId}),this.workflowsStore.updateNodeProperties(o),this.workflowsStore.clearNodeExecutionData(s.name),this.updateNodeParameterIssues(s),this.updateNodeCredentialIssues(s),t&&this.historyStore.pushCommandToUndo(new Wa(s.name,n===!0,s.disabled===!0))}t&&this.historyStore.stopRecordingUndo()},getNodeSubtitle(e,t,s){if(e){if(e.notesInFlow)return e.notes;if(t!==null&&t.subtitle!==void 0)try{return s.expression.getSimpleParameterValue(e,t.subtitle,"internal",this.rootStore.timezone,{},void 0,no)}catch{return}if(e.parameters.operation!==void 0){const n=e.parameters.operation;if(t===null)return n;const o=t.properties.find(r=>r.name==="operation");if(o===void 0||o.options===void 0)return n;const i=o.options.find(r=>r.value===e.parameters.operation);return i===void 0?n:i.name}}}}});function Zw(e,t){return!e.credentials||!Object.keys(e.credentials).includes(t)}function TF(e,t,s){if(!e.credentials||!s)return!1;const n=e.credentials[t];return n?!s.find(o=>o.id===n.id):!1}const Nt=J({setup(){return{...je()}},data(){return{loadingService:null}},computed:{...be(Fs),isReadOnlyRoute(){return![ee.WORKFLOW,ee.NEW_WORKFLOW,ee.LOG_STREAMING_SETTINGS].includes(this.$route.name)},readOnlyEnv(){return this.sourceControlStore.preferences.branchReadOnly}},methods:{displayTimer(e,t=!1){if(e<6e4)return t?`${e/1e3}${this.$locale.baseText("genericHelpers.secShort")}`:`${Math.floor(e/1e3)}${this.$locale.baseText("genericHelpers.secShort")}`;const s=Math.floor(e/1e3),n=Math.floor(s/60),o=(s-n*60).toString().padStart(2,"0");return`${n}:${o}${this.$locale.baseText("genericHelpers.minShort")}`},convertToDisplayDate(e){const t=`d mmm${new Date(e).getFullYear()===new Date().getFullYear()?"":", yyyy"}#HH:MM:ss`,s=fi(e,t),[n,o]=s.split("#");return{date:n,time:o}},startLoading(e){this.loadingService===null&&(this.loadingService=this.$loading({lock:!0,text:e||this.$locale.baseText("genericHelpers.loading"),spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.8)"}))},setLoadingText(e){this.loadingService.text=e},stopLoading(){this.loadingService!==null&&(this.loadingService.close(),this.loadingService=null)}}});function wi(e,t={}){var O,C,A;let s=((O=t==null?void 0:t.targetItem)==null?void 0:O.itemIndex)||0;const n="main",o=Xe().activeNode,i=Vu(),r=_e().getWorkflowRunData;let l=i.getParentNodes(o.name,n,1);const m=_e().getWorkflowExecution;let c=(t==null?void 0:t.inputRunIndex)??0;const h=i.getNodeConnectionIndexes(o.name,l[0]);if(t.targetItem&&((C=t==null?void 0:t.targetItem)==null?void 0:C.nodeName)===o.name&&m){const T=H8(m,t.targetItem);if(!T.length)return null;l=[T[0].nodeName],c=T[0].runIndex,s=T[0].itemIndex,h&&(h.sourceIndex=T[0].outputIndex)}else if(l=t.inputNodeName?[t.inputNodeName]:l,h&&(h.sourceIndex=t.inputBranchIndex??h.sourceIndex),(t==null?void 0:t.inputRunIndex)===void 0&&r!==null&&l.length){const T=l.find(F=>r[F]);T&&(c=r[T].length-1)}let p=NS(l,o.name,n,c,h),g;m===null||!m.data?g={resultData:{runData:{}}}:g=m.data,p===null&&(p=[]);const w={$execution:{id:no,mode:"test",resumeUrl:no},$vars:gl().variablesAsObject,$executionId:no,$resumeWebhookUrl:no};let S=((A=t==null?void 0:t.targetItem)==null?void 0:A.runIndex)??0;(t==null?void 0:t.targetItem)===void 0&&r!==null&&r[o.name]&&(S=r[o.name].length-1);const k=wf(l,o.name,n,S);return i.expression.getParameterValue(e,g,S,s,o.name,p,"manual",fe().timezone,w,k,!1)}function Vu(e){return _e().getCurrentWorkflow(e)}function SF(){return _e().getNodes()}function kF(e,t,s){return _e().getWorkflow(e,t,s)}function EF(){return _e().getNodeTypes()}function NS(e,t,s,n,o={sourceIndex:0,destinationIndex:0}){let i=null;const r=wf(e,t,s,n);e.length&&(!Object.keys(r.data).length||r.data[s].length<=o.sourceIndex?i=[]:(i=r.data[s][o.sourceIndex],i!==null&&(i=i.map((m,c)=>({...m,pairedItem:{item:c,input:o.destinationIndex}})))));const l=_e();if(l.shouldReplaceInputDataWithPinData){const m=e.reduce((c,h,p)=>{const g=l.pinDataByNodeName(h);return g&&c.push({json:g[0],pairedItem:{item:p,input:1}}),c},[]);m.length>0&&(i&&i.length>0?m.forEach(c=>{i[0].json={...i[0].json,...c.json}}):i=m)}return i}function wf(e,t,s,n){const o={node:{},data:{},source:null};if(e.length){const i=e[0],r=_e();if(r.shouldReplaceInputDataWithPinData){const m=r.getPinData[i];if(m)return o.data={main:[m]},o.source={main:[{previousNode:i}]},o}const l=r.getWorkflowRunData;if(l===null)return o;!l[i]||l[i].length<=n||!l[i][n]||!l[i][n].hasOwnProperty("data")||l[i][n].data===void 0||!l[i][n].data.hasOwnProperty(s)?o.data={}:(o.data=l[i][n].data,l[t]&&l[t][n]?o.source={[s]:l[t][n].source}:o.source={[s]:[{previousNode:i}]})}return o}const ut=J({mixins:[Ft,Bs,Nt],setup(){return{...je(),...St()}},computed:{...be(it,Xe,fe,Ln,_e,yl,Ge,Ee),workflowPermissions(){return fl(this.usersStore.currentUser,this.workflowsStore.workflow)}},methods:{resolveParameter:wi,getCurrentWorkflow:Vu,getNodes:SF,getWorkflow:kF,getNodeTypes:EF,connectionInputData:NS,executeData:wf,getNodeTypesMaxCount(){const e=this.workflowsStore.allNodes,t={},s=this.nodeTypesStore.allNodeTypes;for(const n of s)n.maxNodes!==void 0&&(t[n.name]={exist:0,max:n.maxNodes,nodeNames:[]});for(const n of e)t[n.type]!==void 0&&(t[n.type].exist+=1,t[n.type].nodeNames.push(n.name));return t},getNodeTypeCount(e){const t=this.workflowsStore.allNodes;let s=0;for(const n of t)n.type===e&&s++;return s},checkReadyForExecution(e,t){let s,n,o=null;const i={};let r=Object.keys(e.nodes);if(t)r=e.getParentNodes(t),r.push(t);else{let l=[];for(const m of Object.keys(e.nodes))e.nodes[m].disabled!==!0&&e.nodes[m].type===Ns&&(l=[m,...l,...e.getChildNodes(m)]);if(l.length)r=l;else{const m=e.getStartNode();m!==void 0&&(r=e.getChildNodes(m.name),r.push(m.name))}}for(const l of r)o=null,s=e.nodes[l],s.disabled!==!0&&(n=e.nodeTypes.getByNameAndVersion(s.type,s.typeVersion),n===void 0?o={typeUnknown:!0}:o=this.getNodeIssues(n.description,s,["execution"]),o!==null&&(i[s.name]=o));return Object.keys(i).length===0?null:i},async getWorkflowDataToSave(){const e=this.workflowsStore.allNodes,t=this.workflowsStore.allConnections;let s;const n=[];for(let r=0;r<e.length;r++)s=this.getNodeDataToSave(e[r]),n.push(s);const o={name:this.workflowsStore.workflowName,nodes:n,pinData:this.workflowsStore.getPinData,connections:t,active:this.workflowsStore.isWorkflowActive,settings:this.workflowsStore.workflow.settings,tags:this.workflowsStore.workflowTags,versionId:this.workflowsStore.workflow.versionId},i=this.workflowsStore.workflowId;return i!==lt&&(o.id=i),o},getNodeDataToSave(e){const t=["color","continueOnFail","credentials","disabled","issues","notes","parameters","status"],s={parameters:{}};for(const o in e)o.charAt(0)!=="_"&&t.indexOf(o)===-1&&(s[o]=e[o]);const n=this.nodeTypesStore.getNodeType(e.type,e.typeVersion);if(n!==null){const o=An(n.properties,e.parameters,!1,!1,e);if(s.parameters=o!==null?o:{},e.credentials!==void 0&&n.credentials!==void 0){const i={};for(const r of Object.keys(e.credentials)){if(this.hasProxyAuth(e)||Object.keys(e.parameters).includes("genericAuthType")){i[r]=e.credentials[r];continue}const l=n.credentials.filter(m=>this.displayParameter(e.parameters,m,"",e)).find(m=>m.name===r);l!==void 0&&this.displayParameter(e.parameters,l,"",e)!==!1&&(i[r]=e.credentials[r])}Object.keys(i).length!==0&&(s.credentials=i)}}else s.credentials=e.credentials,s.parameters=e.parameters,s.color!==void 0&&(s.color=e.color);return e.disabled===!0&&(s.disabled=!0),e.continueOnFail===!0&&(s.continueOnFail=!0),[void 0,""].includes(e.notes)||(s.notes=e.notes),s},getWebhookExpressionValue(e,t){if(e[t]===void 0)return"empty";try{return this.resolveExpression(e[t])}catch{return this.$locale.baseText("nodeWebhooks.invalidExpression")}},getWebhookUrl(e,t,s){if(e.restartWebhook===!0)return"$execution.resumeUrl";let n=this.rootStore.getWebhookUrl;s==="test"&&(n=this.rootStore.getWebhookTestUrl);const o=this.workflowsStore.workflowId,i=this.getWebhookExpressionValue(e,"path"),r=this.getWebhookExpressionValue(e,"isFullPath")||!1;return sD(n,o,t,i,r)},resolveExpression(e,t={},s={}){const n={__xxxxxxx__:e,...t},o=wi(n,s);if(!o)return null;const i=o.__xxxxxxx__;if(typeof i=="object"){const r=i;return r!=null&&r.isProxy&&r.toJSON?JSON.stringify(r.toJSON()):Vu().expression.convertObjectValueToString(i)}return i},async updateWorkflow({workflowId:e,active:t},s=!1){let n={};const o=e===this.workflowsStore.workflowId;if(o)n=s?{versionId:this.workflowsStore.workflowVersionId}:await this.getWorkflowDataToSave();else{const{versionId:r}=await this.workflowsStore.fetchWorkflow(e);n.versionId=r}t!==void 0&&(n.active=t);const i=await this.workflowsStore.updateWorkflow(e,n);this.workflowsStore.setWorkflowVersionId(i.versionId),o&&(this.workflowsStore.setActive(!!i.active),this.uiStore.stateIsDirty=!1),i.active?this.workflowsStore.setWorkflowActive(e):this.workflowsStore.setWorkflowInactive(e)},async saveCurrentWorkflow({id:e,name:t,tags:s}={},n=!0,o=!1){if(this.readOnlyEnv)return;const i=e||this.$route.params.name,r=this.loadingService!==null;if(!i||["new",lt].includes(i))return this.saveAsNewWorkflow({name:t,tags:s},n);try{if(!o&&r)return!0;this.uiStore.addActiveAction("workflowSaving");const l=await this.getWorkflowDataToSave();t&&(l.name=t.trim()),s&&(l.tags=s),l.versionId=this.workflowsStore.workflowVersionId;const m=await this.workflowsStore.updateWorkflow(i,l,o);if(this.workflowsStore.setWorkflowVersionId(m.versionId),t&&this.workflowsStore.setWorkflowName({newName:m.name,setStateDirty:!1}),s){const h=(m.tags||[]).map(p=>p.id);this.workflowsStore.setWorkflowTagIds(h)}return this.uiStore.stateIsDirty=!1,this.uiStore.removeActiveAction("workflowSaving"),this.$externalHooks().run("workflow.afterUpdate",{workflowData:m}),!0}catch(l){if(console.error(l),this.uiStore.removeActiveAction("workflowSaving"),l.errorCode===100){this.$telemetry.track("User attempted to save locked workflow",{workflowId:i,sharing_role:this.workflowPermissions.isOwner?"owner":"sharee"});const m=this.$router.resolve({name:ee.WORKFLOW,params:{name:i}}).href;return await this.confirm(this.$locale.baseText("workflows.concurrentChanges.confirmMessage.message",{interpolate:{url:m}}),this.$locale.baseText("workflows.concurrentChanges.confirmMessage.title"),{dangerouslyUseHTMLString:!0,confirmButtonText:this.$locale.baseText("workflows.concurrentChanges.confirmMessage.confirmButtonText"),cancelButtonText:this.$locale.baseText("workflows.concurrentChanges.confirmMessage.cancelButtonText")})===bt?this.saveCurrentWorkflow({id:e,name:t,tags:s},n,!0):!1}return this.showMessage({title:this.$locale.baseText("workflowHelpers.showMessage.title"),message:l.message,type:"error"}),!1}},async saveAsNewWorkflow({name:e,tags:t,resetWebhookUrls:s,resetNodeIds:n,openInNewWindow:o,data:i}={},r=!0){try{this.uiStore.addActiveAction("workflowSaving");const l=i||await this.getWorkflowDataToSave();l.active=!1;const m={};n&&(l.nodes=l.nodes.map(w=>(w.id=Ds(),w))),s&&(l.nodes=l.nodes.map(w=>(w.webhookId&&(w.webhookId=Ds(),m[w.name]=w.webhookId),w))),e&&(l.name=e.trim()),t&&(l.tags=t);const c=await this.workflowsStore.createNewWorkflow(l);if(this.workflowsStore.addWorkflow(c),this.settingsStore.isEnterpriseFeatureEnabled(ot.Sharing)&&this.usersStore.currentUser&&this.workflowsEEStore.setWorkflowOwnedBy({workflowId:c.id,ownedBy:this.usersStore.currentUser}),o){const w=this.$router.resolve({name:ee.WORKFLOW,params:{name:c.id}});return window.open(w.href,"_blank"),this.uiStore.removeActiveAction("workflowSaving"),!0}this.workflowsStore.setActive(c.active||!1),this.workflowsStore.setWorkflowId(c.id),this.workflowsStore.setWorkflowVersionId(c.versionId),this.workflowsStore.setWorkflowName({newName:c.name,setStateDirty:!1}),this.workflowsStore.setWorkflowSettings(c.settings||{}),this.uiStore.stateIsDirty=!1,Object.keys(m).forEach(w=>{const S={key:"webhookId",value:m[w],name:w};this.workflowsStore.setNodeValue(S)});const p=(c.tags||[]).map(w=>w.id);this.workflowsStore.setWorkflowTagIds(p);const g=this.$route.query.templateId;return g&&this.$telemetry.track("User saved new workflow from template",{template_id:g,workflow_id:c.id,wf_template_repo_session_id:this.templatesStore.previousSessionId}),r&&this.$router.replace({name:ee.WORKFLOW,params:{name:c.id,action:"workflowSave"}}),this.uiStore.removeActiveAction("workflowSaving"),this.uiStore.stateIsDirty=!1,this.$externalHooks().run("workflow.afterUpdate",{workflowData:c}),Vu(!0),!0}catch(l){return this.uiStore.removeActiveAction("workflowSaving"),this.showMessage({title:this.$locale.baseText("workflowHelpers.showMessage.title"),message:l.message,type:"error"}),!1}},updateNodePositions(e,t){if(e.nodes===void 0)return;const s=[99999999,99999999];for(const o of e.nodes)(o.position[1]<s[1]||o.position[1]===s[1]&&o.position[0]<s[0])&&(s[0]=o.position[0],s[1]=o.position[1]);const n=[t[0]-s[0],t[1]-s[1]];for(const o of e.nodes)o.position[0]+=n[0],o.position[1]+=n[1]},async dataHasChanged(e){const t=await this.getWorkflowDataToSave(),s=await this.workflowsStore.fetchWorkflow(e);if(s!==void 0){const n={nodes:s.nodes,connections:s.connections,settings:s.settings,name:s.name},o={nodes:t.nodes,connections:t.connections,settings:t.settings,name:t.name};return!AD(n,o)}return!0},removeForeignCredentialsFromWorkflow(e,t){e.nodes.forEach(s=>{s.credentials&&(s.credentials=Object.entries(s.credentials).reduce((n,[o,i])=>{const r=t.some(l=>`${l.id}`==`${i.id}`);return i.id&&r&&(n[o]=s.credentials[o]),n},{}))})}}}),xF=J({name:"ContactPromptModal",mixins:[ut],components:{Modal:Mt},props:["modalName"],setup(){return{...je()}},data(){return{email:"",modalBus:Ze()}},computed:{...be(fe,Le),title(){return this.settingsStore.promptsData&&this.settingsStore.promptsData.title?this.settingsStore.promptsData.title:"You’re a power user 💪"},description(){return this.settingsStore.promptsData&&this.settingsStore.promptsData.message?this.settingsStore.promptsData.message:"Your experience with n8n can help us improve — for you and our entire community."},isEmailValid(){return Gc.test(String(this.email).toLowerCase())}},methods:{closeDialog(){this.isEmailValid||this.$telemetry.track("User closed email modal",{instance_id:this.rootStore.instanceId,email:null})},async send(){this.isEmailValid&&((await this.settingsStore.submitContactInfo(this.email)).updated&&(this.$telemetry.track("User closed email modal",{instance_id:this.rootStore.instanceId,email:this.email}),this.showMessage({title:"Thanks!",message:"It's people like you that help make n8n better",type:"success"})),this.modalBus.emit("close"))}}}),CF="_description_x015b_5",OF="_disclaimer_x015b_9",DF={description:CF,disclaimer:OF};function AF(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-text"),m=E("n8n-input"),c=E("n8n-button"),h=E("Modal");return y(),R(h,{name:e.modalName,eventBus:e.modalBus,center:!0,closeOnPressEscape:!1,beforeClose:e.closeDialog,customClass:"contact-prompt-modal",width:"460px"},{header:v(()=>[b(r,{tag:"h2",size:"xlarge",color:"text-dark"},{default:v(()=>[V(N(e.title),1)]),_:1})]),content:v(()=>[D("div",{class:$(e.$style.description)},[b(l,{size:"medium",color:"text-base"},{default:v(()=>[V(N(e.description),1)]),_:1})],2),D("div",{onKeyup:t[1]||(t[1]=Ts((...p)=>e.send&&e.send(...p),["enter"]))},[b(m,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=p=>e.email=p),placeholder:"Your email address"},null,8,["modelValue"])],32),D("div",{class:$(e.$style.disclaimer)},[b(l,{size:"small",color:"text-base"},{default:v(()=>[V("David from our product team will get in touch personally")]),_:1})],2)]),footer:v(()=>[D("div",{class:$(e.$style.footer)},[b(c,{label:"Send",float:"right",onClick:e.send,disabled:!e.isEmailValid},null,8,["onClick","disabled"])],2)]),_:1},8,["name","eventBus","beforeClose"])}const $F={$style:DF},NF=te(xF,[["render",AF],["__cssModules",$F]]),_F=J({name:"NodeIcon",props:{nodeType:{},size:{type:Number,required:!1},disabled:{type:Boolean,default:!1},circle:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!1}},computed:{...be(fe),type(){const e=this.nodeType;let t="unknown";if(e){if(e.iconUrl)return"file";e.iconData?t=e.iconData.type:e.icon&&(t=e.icon.split(":")[0]==="file"?"file":"icon")}return t},color(){const e=this.nodeType;return e&&e.defaults&&e.defaults.color?e.defaults.color.toString():""},iconSource(){const e=this.nodeType,t=this.rootStore.getBaseUrl,s={};if(e){if(e.iconData)return{icon:e.iconData.icon,fileBuffer:e.iconData.fileBuffer};if(e.iconUrl)return{path:t+e.iconUrl};if(e.icon){const[n,o]=e.icon.split(":");if(n==="file")throw new Error(`Unexpected icon: ${e.icon}`);s.icon=o}}return s}}});function PF(e,t,s,n,o,i){const r=E("n8n-node-icon");return y(),R(r,{type:e.type,src:e.iconSource.path||e.iconSource.fileBuffer,name:e.iconSource.icon,color:e.color,disabled:e.disabled,size:e.size,circle:e.circle,nodeTypeName:e.nodeType?e.nodeType.displayName:"",showTooltip:e.showTooltip,onClick:t[0]||(t[0]=l=>e.$emit("click"))},null,8,["type","src","name","color","disabled","size","circle","nodeTypeName","showTooltip"])}const Di=te(_F,[["render",PF]]),IF=J({components:{NodeIcon:Di},props:{credentialTypeName:{type:String}},computed:{...be(It,it,fe),credentialWithIcon(){return this.credentialTypeName?this.getCredentialWithIcon(this.credentialTypeName):null},filePath(){var t;const e=(t=this.credentialWithIcon)==null?void 0:t.iconUrl;return e?this.rootStore.getBaseUrl+e:null},relevantNode(){var t,s;if((s=(t=this.credentialWithIcon)==null?void 0:t.icon)!=null&&s.startsWith("node:")){const n=this.credentialWithIcon.icon.replace("node:","");return this.nodeTypesStore.getNodeType(n)}const e=this.credentialsStore.getNodesWithAccess(this.credentialTypeName);return e.length?e[0]:null}},methods:{getCredentialWithIcon(e){if(!e)return null;const t=this.credentialsStore.getCredentialTypeByName(e);if(!t)return null;if(t.icon||t.iconUrl)return t;if(t.extends){let s=null;return t.extends.forEach(n=>{s=this.getCredentialWithIcon(n)}),s}return null}}}),MF="_credIcon_1r0z9_5",LF="_fallback_1r0z9_9",FF={credIcon:MF,fallback:LF},BF=["src"];function RF(e,t,s,n,o,i){const r=E("NodeIcon");return y(),P("div",null,[e.filePath?(y(),P("img",{key:0,class:$(e.$style.credIcon),src:e.filePath},null,10,BF)):e.relevantNode?(y(),R(r,{key:1,nodeType:e.relevantNode,size:28},null,8,["nodeType"])):(y(),P("span",{key:2,class:$(e.$style.fallback)},null,2))])}const VF={$style:FF},_S=te(IF,[["render",RF],["__cssModules",VF]]),UF=J({name:"Banner",data(){return{expanded:!1}},props:{theme:{type:String,validator:e=>["success","danger"].indexOf(e)!==-1},message:{type:String},buttonLabel:{type:String},buttonLoadingLabel:{type:String},buttonTitle:{type:String},details:{type:String},buttonLoading:{type:Boolean,default:!1}},methods:{expand(){this.expanded=!0},onClick(){this.expanded=!1,this.$emit("click")}}}),WF="_icon_1jiy0_5",jF="_dangerIcon_1jiy0_13 _icon_1jiy0_5",qF="_container_1jiy0_18",zF="_message_1jiy0_25",HF="_dangerMessage_1jiy0_32 _message_1jiy0_25",QF="_banner_1jiy0_37",GF="_content_1jiy0_42",YF="_details_1jiy0_49 _message_1jiy0_25",XF="_moreDetails_1jiy0_56",KF={icon:WF,dangerIcon:jF,container:qF,message:zF,dangerMessage:HF,banner:QF,content:GF,details:YF,moreDetails:XF};function JF(e,t,s,n,o,i){const r=E("font-awesome-icon"),l=E("n8n-link"),m=E("n8n-button"),c=E("el-tag");return y(),R(c,{type:e.theme,"disable-transitions":!0,class:$(e.$style.container)},{default:v(()=>[b(r,{icon:e.theme==="success"?"check-circle":"exclamation-triangle",class:$(e.theme==="success"?e.$style.icon:e.$style.dangerIcon)},null,8,["icon","class"]),D("div",{class:$(e.$style.banner)},[D("div",{class:$(e.$style.content)},[D("div",null,[D("span",{class:$(e.theme==="success"?e.$style.message:e.$style.dangerMessage)},N(e.message)+"  ",3),e.details&&!e.expanded?(y(),R(l,{key:0,bold:!0,size:"small",onClick:e.expand},{default:v(()=>[D("span",{class:$(e.$style.moreDetails)},"More details",2)]),_:1},8,["onClick"])):W("",!0)])],2),e.$slots.button?Ke(e.$slots,"button",{key:0}):e.buttonLabel?(y(),R(m,{key:1,label:e.buttonLoading&&e.buttonLoadingLabel?e.buttonLoadingLabel:e.buttonLabel,title:e.buttonTitle,type:e.theme,loading:e.buttonLoading,size:"small",outline:"",onClick:Qe(e.onClick,["stop"])},null,8,["label","title","type","loading","onClick"])):W("",!0)],2),e.expanded?(y(),P("div",{key:0,class:$(e.$style.details)},N(e.details),3)):W("",!0)]),_:3},8,["type","class"])}const ZF={$style:KF},eB=te(UF,[["render",JF],["__cssModules",ZF]]),Ai=J({data(){return{copyPasteElementsGotCreated:!1,hiddenInput:null,onPaste:null,onBeforePaste:null}},mounted(){if(this.copyPasteElementsGotCreated===!0)return;this.copyPasteElementsGotCreated=!0;const e=document.createElement("style");e.type="text/css",e.innerHTML=`
			.hidden-copy-paste {
			position: absolute;
			bottom: 0;
			left: 0;
			width: 10px;
			height: 10px;
			display: block;
			font-size: 1px;
			z-index: -1;
			color: transparent;
			background: transparent;
			overflow: hidden;
			border: none;
			padding: 0;
			resize: none;
			outline: none;
			-webkit-user-select: text;
			user-select: text;
		}
		`,document.getElementsByTagName("head")[0].appendChild(e);const t=navigator.appVersion.search("Safari")!==-1&&navigator.appVersion.search("Chrome")===-1&&navigator.appVersion.search("CrMo")===-1&&navigator.appVersion.search("CriOS")===-1,s=navigator.userAgent.toLowerCase().indexOf("msie")!==-1||navigator.userAgent.toLowerCase().indexOf("trident")!==-1,n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","hidden-input-copy-paste"),n.setAttribute("class","hidden-copy-paste"),n.setAttribute("data-test-id","hidden-copy-paste"),this.hiddenInput=n,document.body.append(n);let o=null;s&&(o=document.createElement("div"),o.setAttribute("id","hidden-ie-clipboard-copy-paste"),o.setAttribute("class","hidden-copy-paste"),o.setAttribute("contenteditable","true"),document.body.append(o),this.onBeforePaste=()=>{n.is(":focus")&&this.focusIeClipboardDiv(o)},document.addEventListener("beforepaste",this.onBeforePaste,!0)),n.addEventListener("input",i=>{n.value,t?(n.focus(),setTimeout(()=>{this.focusHiddenArea(n)},0)):this.focusHiddenArea(n)}),this.onPaste=ol(i=>{const r="paste",l=i.path||i.composedPath&&i.composedPath();for(let m=0;m<l.length;m++)if(l[m].className&&typeof l[m].className=="string"&&(l[m].className.includes("el-message-box")||l[m].className.includes("ignore-key-press")))return;o!==null?this.ieClipboardEvent(r,o):(this.standardClipboardEvent(r,i),(!document.activeElement||document.activeElement&&["textarea","text","email","password"].indexOf(document.activeElement.type)===-1)&&(this.focusHiddenArea(n),i.preventDefault()))},1e3,{leading:!0}),document.addEventListener("paste",this.onPaste)},methods:{receivedCopyPasteData(e,t){},standardClipboardEvent(e,t){const s=t.clipboardData;if(s!==null&&e==="paste"){const n=s.getData("text/plain");this.receivedCopyPasteData(n,t)}},ieClipboardEvent(e,t){const s=window.clipboardData;if(e==="paste"){const n=s.getData("Text");t.empty(),this.receivedCopyPasteData(n)}},focusIeClipboardDiv(e){e.focus();const t=document.createRange();t.selectNodeContents(e.get(0));const s=window.getSelection();s!==null&&(s.removeAllRanges(),s.addRange(t))},focusHiddenArea(e){e.value=" ",e.focus(),e.select()},copyToClipboard(e){const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);const s=document.getSelection();if(s===null)return;const n=s.rangeCount>0?s.getRangeAt(0):!1;t.select(),document.execCommand("copy"),document.body.removeChild(t),n&&(s.removeAllRanges(),s.addRange(n))}},beforeUnmount(){this.hiddenInput&&this.hiddenInput.remove(),this.onPaste&&document.removeEventListener("paste",this.onPaste),this.onBeforePaste&&document.removeEventListener("beforepaste",this.onBeforePaste)}}),tB=J({mixins:[Ai],props:{label:{type:String},hint:{type:String},value:{type:String},copyButtonText:{type:String,default(){return Te.baseText("generic.copy")}},toastTitle:{type:String,default(){return Te.baseText("generic.copiedToClipboard")}},toastMessage:{type:String},collapse:{type:Boolean,default:!1},size:{type:String,default:"large"},redactValue:{type:Boolean,default:!1}},setup(){return{...je()}},methods:{copy(){this.$emit("copy"),this.copyToClipboard(this.value),this.showMessage({title:this.toastTitle,message:this.toastMessage,type:"success"})}}}),sB="_copyText_7e2ac_5",nB="_large_7e2ac_24",oB="_medium_7e2ac_29",iB="_collapsed_7e2ac_34",rB="_copyButton_7e2ac_39",aB="_hint_7e2ac_54",lB={copyText:sB,large:nB,medium:oB,collapsed:iB,copyButton:rB,hint:aB};function uB(e,t,s,n,o,i){const r=E("n8n-input-label");return y(),P("div",null,[b(r,{label:e.label},{default:v(()=>[D("div",{class:$({[e.$style.copyText]:!0,[e.$style[e.size]]:!0,[e.$style.collapsed]:e.collapse,"ph-no-capture":e.redactValue}),onClick:t[0]||(t[0]=(...l)=>e.copy&&e.copy(...l)),"data-test-id":"copy-input"},[D("span",{ref:"copyInputValue"},N(e.value),513),D("div",{class:$(e.$style.copyButton)},[D("span",null,N(e.copyButtonText),1)],2)],2)]),_:1},8,["label"]),e.hint?(y(),P("div",{key:0,class:$(e.$style.hint)},N(e.hint),3)):W("",!0)])}const cB={$style:lB},Dr=te(tB,[["render",uB],["__cssModules",cB]]),dB=J({name:"parameter-options",props:{parameter:{type:Object},isReadOnly:{type:Boolean},value:{type:[Object,String,Number,Boolean,Array]},showOptions:{type:Boolean,default:!0},showExpressionSelector:{type:Boolean,default:!0},customActions:{type:Array,default:()=>[]},iconOrientation:{type:String,default:"vertical",validator:e=>["horizontal","vertical"].includes(e)},loading:{type:Boolean,default:!1},loadingMessage:{type:String,default(){return Te.baseText("genericHelpers.loading")}}},computed:{isDefault(){return this.parameter.default===this.value},isValueExpression(){return Or(this.parameter,this.value)},isHtmlEditor(){return this.getArgument("editor")==="htmlEditor"},shouldShowExpressionSelector(){return this.parameter.noDataExpression!==!0&&this.showExpressionSelector},shouldShowOptions(){var e;return this.isReadOnly===!0||this.parameter.type==="collection"||this.parameter.type==="credentialsSelect"||["codeNodeEditor","sqlEditor"].includes((e=this.parameter.typeOptions)==null?void 0:e.editor)?!1:this.showOptions===!0},selectedView(){return this.isValueExpression?"expression":"fixed"},hasRemoteMethod(){return!!this.getArgument("loadOptionsMethod")||!!this.getArgument("loadOptions")},actions(){if(Array.isArray(this.customActions)&&this.customActions.length>0)return this.customActions;if(this.isHtmlEditor&&!this.isValueExpression)return[{label:this.$locale.baseText("parameterInput.formatHtml"),value:"formatHtml"}];const e=[{label:this.$locale.baseText("parameterInput.resetValue"),value:"resetValue",disabled:this.isDefault}];return this.hasRemoteMethod||this.parameter.type==="resourceLocator"&&oo(this.value)&&this.value.mode==="list"?[{label:this.$locale.baseText("parameterInput.refreshList"),value:"refreshOptions"},...e]:e}},methods:{onMenuToggle(e){this.$emit("menu-expanded",e)},onViewSelected(e){e==="expression"&&this.$emit("update:modelValue",this.isValueExpression?"openExpression":"addExpression"),e==="fixed"&&this.isValueExpression&&this.$emit("update:modelValue","removeExpression")},getArgument(e){if(this.parameter.typeOptions!==void 0&&this.parameter.typeOptions[e]!==void 0)return this.parameter.typeOptions[e]}}}),pB="_container_tvfco_5",hB="_loader_tvfco_9",mB="_controlsContainer_tvfco_16",fB="_noExpressionSelector_tvfco_22",gB={container:pB,loader:hB,controlsContainer:mB,noExpressionSelector:fB};function yB(e,t,s,n,o,i){const r=E("n8n-icon"),l=E("n8n-text"),m=E("n8n-action-toggle"),c=E("n8n-radio-buttons");return y(),P("div",{class:$(e.$style.container)},[e.loading?(y(),P("div",{key:0,class:$(e.$style.loader)},[e.loading?(y(),R(l,{key:0,size:"small"},{default:v(()=>[b(r,{icon:"sync-alt",size:"xsmall",spin:!0}),V(" "+N(e.loadingMessage),1)]),_:1})):W("",!0)],2)):(y(),P("div",{key:1,class:$(e.$style.controlsContainer)},[D("div",{class:$({[e.$style.noExpressionSelector]:!e.shouldShowExpressionSelector})},[e.shouldShowOptions?(y(),R(m,{key:0,placement:"bottom-end",size:"small",color:"foreground-xdark",iconSize:"small",actions:e.actions,iconOrientation:e.iconOrientation,onAction:t[0]||(t[0]=h=>e.$emit("update:modelValue",h)),onVisibleChange:e.onMenuToggle},null,8,["actions","iconOrientation","onVisibleChange"])):W("",!0)],2),e.shouldShowExpressionSelector?(y(),R(c,{key:0,size:"small",modelValue:e.selectedView,disabled:e.isReadOnly,options:[{label:e.$locale.baseText("parameterInput.fixed"),value:"fixed"},{label:e.$locale.baseText("parameterInput.expression"),value:"expression"}],"onUpdate:modelValue":e.onViewSelected},null,8,["modelValue","disabled","options","onUpdate:modelValue"])):W("",!0)],2))],2)}const wB={$style:gB},nd=te(dB,[["render",yB],["__cssModules",wB]]),bB=J({name:"ScopesNotice",props:["activeCredentialType","scopes"],computed:{...be(It),scopesShortContent(){return this.$locale.baseText("nodeSettings.scopes.notice",{adjustToNumber:this.scopes.length,interpolate:{activeCredential:this.shortCredentialDisplayName}})},scopesFullContent(){return this.$locale.baseText("nodeSettings.scopes.expandedNoticeWithScopes",{adjustToNumber:this.scopes.length,interpolate:{activeCredential:this.shortCredentialDisplayName,scopes:this.scopes.map(e=>e.includes("/")?e.split("/").pop():e).join("<br>")}})},shortCredentialDisplayName(){var s;const e=this.$locale.baseText("generic.oauth1Api"),t=this.$locale.baseText("generic.oauth2Api");return((s=this.credentialsStore.getCredentialTypeByName(this.activeCredentialType))==null?void 0:s.displayName.replace(new RegExp(`${e}|${t}`),"").trim())||""}}});function vB(e,t,s,n,o,i){const r=E("n8n-notice");return y(),R(r,{content:e.scopesShortContent,fullContent:e.scopesFullContent},null,8,["content","fullContent"])}const TB=te(bB,[["render",vB]]),SB=J({name:"TitledList",props:{title:{type:String},items:{type:Array,default:()=>[]}}});const kB={class:"titled-list"},EB=["textContent"],xB=["innerHTML"];function CB(e,t,s,n,o,i){return y(),P("div",kB,[D("p",{textContent:N(e.title)},null,8,EB),D("ul",null,[(y(!0),P(Ie,null,Re(e.items,r=>(y(),P("li",{class:"titled-list-item",key:r,innerHTML:r},null,8,xB))),128))])])}const bf=te(SB,[["render",CB],["__scopeId","data-v-8fac870c"]]),OB=J({name:"NodeCredentials",mixins:[Nt,Bs],props:{readonly:{type:Boolean,default:!1},node:{type:Object,required:!0},overrideCredType:{type:String},showAll:{type:Boolean,default:!1},hideIssues:{type:Boolean,default:!1}},components:{TitledList:bf},setup(){return{...je()}},data(){return{NEW_CREDENTIALS_TEXT:`- ${this.$locale.baseText("nodeCredentials.createNew")} -`,subscribedToCredentialType:"",listeningForAuthChange:!1}},mounted(){this.credentialsStore.$onAction(({name:e,after:t,store:s,args:n})=>{const o=["createNewCredential","updateCredential","deleteCredential"],i=this.subscribedToCredentialType;i&&t(async r=>{if(!o.includes(e))return;const l=this.selected[i];let m=[];switch(this.showAll?this.node&&(m=[...this.credentialsStore.allUsableCredentialsForNode(this.node)||[]]):m=[...this.credentialsStore.allUsableCredentialsByType[i]||[]],e){case"createNewCredential":r&&this.onCredentialSelected(i,r.id);break;case"updateCredential":r.name!==l.name&&this.onCredentialSelected(i,l.id);break;case"deleteCredential":if(m.length===0)this.clearSelectedCredential(i);else{const h=n[0].id;l.id===h&&this.onCredentialSelected(i,m[m.length-1].id)}break}})})},watch:{"node.parameters":{immediate:!0,deep:!0,handler(e,t){var o;const s=this.node.name===((o=this.ndvStore.activeNode)==null?void 0:o.name),n=this.nodeTypesStore.getNodeType(this.node.type,this.node.typeVersion);if(s&&n&&this.listeningForAuthChange&&this.mainNodeAuthField&&t&&e){const i=e[this.mainNodeAuthField.name];if(i){const r=dc(n,i.toString());r&&(this.subscribedToCredentialType=r.name)}}}}},computed:{...be(It,it,Xe,Ee,Ge,_e),currentUser(){return this.usersStore.currentUser||{}},credentialTypesNode(){return this.credentialTypesNodeDescription.map(e=>e.name)},credentialTypesNodeDescriptionDisplayed(){return this.credentialTypesNodeDescription.filter(e=>this.displayCredentials(e))},credentialTypesNodeDescription(){const e=this.node,t=this.credentialsStore.getCredentialTypeByName(this.overrideCredType);if(t)return[t];const s=this.nodeTypesStore.getNodeType(e.type,e.typeVersion);return s!=null&&s.credentials?s.credentials:[]},credentialTypeNames(){const e={};let t;for(const s of this.credentialTypesNode)t=this.credentialsStore.getCredentialTypeByName(s),e[s]=t?t.displayName:s;return e},selected(){return this.node.credentials||{}},nodeType(){return this.nodeTypesStore.getNodeType(this.node.type,this.node.typeVersion)},mainNodeAuthField(){return jo(this.nodeType)}},methods:{getAllRelatedCredentialTypes(e){return this.showMixedCredentials(e)&&this.mainNodeAuthField?q8(this.nodeType,this.mainNodeAuthField.name).map(n=>n.name):[e.name]},getCredentialOptions(e){let t=[];return e.forEach(s=>{t=t.concat(this.credentialsStore.allUsableCredentialsByType[s].map(n=>{var o;return{...n,typeDisplayName:(o=this.credentialsStore.getCredentialTypeByName(s))==null?void 0:o.displayName}}))}),t},getSelectedId(e){if(this.isCredentialExisting(e))return this.selected[e].id},getSelectedName(e){var t,s;return(s=(t=this.selected)==null?void 0:t[e])==null?void 0:s.name},getSelectPlaceholder(e,t){return t.length&&this.getSelectedName(e)?this.$locale.baseText("nodeCredentials.selectedCredentialUnavailable",{interpolate:{name:this.getSelectedName(e)}}):this.$locale.baseText("nodeCredentials.selectCredential")},credentialInputWrapperStyle(e){let t=0;const s={width:"100%"};return this.getIssues(e).length&&(t+=20),t!==0&&(s.width=`calc(100% - ${t}px)`),s},clearSelectedCredential(e){const s={...this.node.credentials||{}};delete s[e];const n={name:this.node.name,properties:{credentials:s}};this.$emit("credentialSelected",n)},onCredentialSelected(e,t,s=!1){var h,p,g;if(t===this.NEW_CREDENTIALS_TEXT&&(this.listeningForAuthChange=!0,this.subscribedToCredentialType=e),!t||t===this.NEW_CREDENTIALS_TEXT){this.uiStore.openNewCredential(e,s),this.$telemetry.track("User opened Credential modal",{credential_type:e,source:"node",new_credential:!0,workflow_id:this.workflowsStore.workflowId});return}this.$telemetry.track("User selected credential from node modal",{credential_type:e,node_type:this.node.type,...this.hasProxyAuth(this.node)?{is_service_specific:!0}:{},workflow_id:this.workflowsStore.workflowId,credential_id:t});const n=this.credentialsStore.getCredentialById(t),o=this.showAll?n.type:e,i=(h=this.node.credentials)!=null&&h[o]?this.node.credentials[o]:{},r={id:n.id,name:n.name};if((i.id===null||i.id&&!this.credentialsStore.getCredentialByIdAndType(i.id,o))&&(this.workflowsStore.replaceInvalidWorkflowCredentials({credentials:r,invalid:i,type:o}),this.updateNodesCredentialsIssues(),this.showMessage({title:this.$locale.baseText("nodeCredentials.showMessage.title"),message:this.$locale.baseText("nodeCredentials.showMessage.message",{interpolate:{oldCredentialName:i.name,newCredentialName:r.name}}),type:"success"})),this.showAll&&this.mainNodeAuthField){const w=(g=(p=this.nodeType)==null?void 0:p.credentials)==null?void 0:g.find(k=>k.name===o),S=vS(this.nodeType,w);if(S){SS(this.node,S.value);const k={name:`parameters.${this.mainNodeAuthField.name}`,value:S.value};this.$emit("valueChanged",k)}}const m={...this.node.credentials||{},[o]:r},c={name:this.node.name,properties:{credentials:m}};this.$emit("credentialSelected",c)},displayCredentials(e){return e.displayOptions===void 0?!0:this.displayParameter(this.node.parameters,e,"",this.node)},getIssues(e){var s;const t=this.node;return((s=t.issues)==null?void 0:s.credentials)===void 0?[]:t.issues.credentials.hasOwnProperty(e)?t.issues.credentials[e]:[]},isCredentialExisting(e){var n,o;if(!((o=(n=this.node.credentials)==null?void 0:n[e])!=null&&o.id))return!1;const{id:t}=this.node.credentials[e];return!!this.getCredentialOptions([e]).find(i=>i.id===t)},editCredential(e){const{id:t}=this.node.credentials[e];this.uiStore.openExistingCredential(t),this.$telemetry.track("User opened Credential modal",{credential_type:e,source:"node",new_credential:!1,workflow_id:this.workflowsStore.workflowId}),this.subscribedToCredentialType=e},showMixedCredentials(e){const t=this.nodeTypesStore.getNodeType(this.node.type,this.node.typeVersion),s=W8(t,e);return!_h.includes(this.node.type||"")&&s},getCredentialsFieldLabel(e){const t=this.credentialTypeNames[e.name];return this.showMixedCredentials(e)?this.$locale.baseText("nodeCredentials.credentialsLabel"):this.$locale.baseText("nodeCredentials.credentialFor",{interpolate:{credentialType:t}})}}}),DB="_container_svo5k_5",AB="_warning_svo5k_12",$B="_edit_svo5k_19",NB="_input_svo5k_29",_B="_hasIssues_svo5k_34 _input_svo5k_29",PB="_credentialOption_svo5k_39",IB={container:DB,warning:AB,edit:$B,input:NB,hasIssues:_B,credentialOption:PB},MB={key:0};function LB(e,t,s,n,o,i){const r=E("n8n-input"),l=E("n8n-text"),m=E("n8n-option"),c=E("n8n-select"),h=E("titled-list"),p=E("font-awesome-icon"),g=E("n8n-tooltip"),w=E("n8n-input-label");return e.credentialTypesNodeDescriptionDisplayed.length?(y(),P("div",{key:0,class:$(["node-credentials",e.$style.container])},[(y(!0),P(Ie,null,Re(e.credentialTypesNodeDescriptionDisplayed,S=>(y(),P("div",{key:S.name},[b(w,{label:e.getCredentialsFieldLabel(S),bold:!1,set:e.issues=e.getIssues(S.name),size:"small",color:"text-dark","data-test-id":"credentials-label"},{default:v(()=>[e.readonly||e.isReadOnlyRoute?(y(),P("div",MB,[b(r,{modelValue:e.getSelectedName(S.name),disabled:"",size:"small","data-test-id":"node-credentials-select"},null,8,["modelValue"])])):(y(),P("div",{key:1,class:$(e.issues.length&&!e.hideIssues?e.$style.hasIssues:e.$style.input),"data-test-id":"node-credentials-select"},[b(c,{modelValue:e.getSelectedId(S.name),"onUpdate:modelValue":k=>e.onCredentialSelected(S.name,k,e.showMixedCredentials(S)),onBlur:t[0]||(t[0]=k=>e.$emit("blur","credentials")),placeholder:e.getSelectPlaceholder(S.name,e.issues),size:"small"},{default:v(()=>[(y(!0),P(Ie,null,Re(e.getCredentialOptions(e.getAllRelatedCredentialTypes(S)),k=>(y(),R(m,{"data-test-id":`node-credentials-select-item-${k.id}`,key:k.id,label:k.name,value:k.id},{default:v(()=>[D("div",{class:$([e.$style.credentialOption,"mt-2xs","mb-2xs"])},[b(l,{bold:""},{default:v(()=>[V(N(k.name),1)]),_:2},1024),b(l,{size:"small"},{default:v(()=>[V(N(k.typeDisplayName),1)]),_:2},1024)],2)]),_:2},1032,["data-test-id","label","value"]))),128)),(y(),R(m,{"data-test-id":"node-credentials-select-item-new",key:e.NEW_CREDENTIALS_TEXT,value:e.NEW_CREDENTIALS_TEXT,label:e.NEW_CREDENTIALS_TEXT},null,8,["value","label"]))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"]),e.issues.length&&!e.hideIssues?(y(),P("div",{key:0,class:$(e.$style.warning)},[b(g,{placement:"top"},{content:v(()=>[b(h,{title:`${e.$locale.baseText("nodeCredentials.issues")}:`,items:e.issues},null,8,["title","items"])]),default:v(()=>[b(p,{icon:"exclamation-triangle"})]),_:1})],2)):W("",!0),e.selected[S.name]&&e.isCredentialExisting(S.name)?(y(),P("div",{key:1,class:$(e.$style.edit),"data-test-id":"credential-edit-button"},[b(p,{icon:"pen",onClick:k=>e.editCredential(S.name),class:"clickable",title:e.$locale.baseText("nodeCredentials.updateCredential")},null,8,["onClick","title"])],2)):W("",!0)],2))]),_:2},1032,["label","set"])]))),128))],2)):W("",!0)}const FB={$style:IB},PS=te(OB,[["render",LB],["__cssModules",FB]]),BB=J({name:"CredentialsSelect",components:{ScopesNotice:TB,NodeCredentials:PS},props:["activeCredentialType","node","parameter","inputSize","displayValue","isReadOnly","displayTitle"],computed:{...be(It),allCredentialTypes(){return this.credentialsStore.allCredentialTypes},scopes(){return this.activeCredentialType?this.credentialsStore.getScopesByCredentialType(this.activeCredentialType):[]},supportedCredentialTypes(){return this.allCredentialTypes.filter(e=>this.isSupported(e.name))}},methods:{focus(){const e=this.$refs.innerSelect;e&&e.focus()},isSupported(e){const t=this.getSupportedSets(this.parameter.credentialTypes),s=this.credentialsStore.getCredentialTypeByName(e);if(!s)return!1;for(const n of t.has)if(s[n]!==void 0){if(e==="httpHeaderAuth"&&n==="authenticate")continue;return!0}return s.extends&&s.extends.some(n=>t.extends.includes(n))?!0:s.extends&&t.extends.length?s.extends.reduce((n,o)=>n||this.isSupported(o),!1):!1},getSupportedSets(e){return e.reduce((t,s)=>{const n=s.split("extends:");if(n.length===2)return t.extends.push(n[1]),t;const o=s.split("has:");return o.length===2&&t.has.push(o[1]),t},{extends:[],has:[]})}}}),RB={"parameter-value-container":"_parameter-value-container_1hf30_5"},VB={class:"list-option"},UB={class:"option-headline"},WB=["innerHTML"];function jB(e,t,s,n,o,i){const r=E("n8n-option"),l=E("n8n-select"),m=E("scopes-notice"),c=E("node-credentials");return y(),P("div",null,[D("div",{class:$(e.$style["parameter-value-container"])},[b(l,{size:e.inputSize,filterable:"",modelValue:e.displayValue,placeholder:e.parameter.placeholder?e.getPlaceholder():e.$locale.baseText("parameterInput.select"),title:e.displayTitle,disabled:e.isReadOnly,ref:"innerSelect","onUpdate:modelValue":t[0]||(t[0]=h=>e.$emit("update:modelValue",h)),onKeydown:t[1]||(t[1]=Qe(()=>{},["stop"])),onFocus:t[2]||(t[2]=h=>e.$emit("setFocus")),onBlur:t[3]||(t[3]=h=>e.$emit("onBlur")),"data-test-id":"credential-select"},{default:v(()=>[(y(!0),P(Ie,null,Re(e.supportedCredentialTypes,h=>(y(),R(r,{value:h.name,key:h.name,label:h.displayName,"data-test-id":"credential-select-option"},{default:v(()=>[D("div",VB,[D("div",UB,N(h.displayName),1),h.description?(y(),P("div",{key:0,class:"option-description",innerHTML:h.description},null,8,WB)):W("",!0)])]),_:2},1032,["value","label"]))),128))]),_:1},8,["size","modelValue","placeholder","title","disabled"]),Ke(e.$slots,"issues-and-options")],2),e.scopes.length>0?(y(),R(m,{key:0,activeCredentialType:e.activeCredentialType,scopes:e.scopes},null,8,["activeCredentialType","scopes"])):W("",!0),D("div",null,[b(c,{node:e.node,overrideCredType:e.node.parameters[e.parameter.name],onCredentialSelected:t[4]||(t[4]=h=>e.$emit("credentialSelected",h))},null,8,["node","overrideCredType"])])])}const qB={$style:RB},zB=te(BB,[["render",jB],["__cssModules",qB]]),IS=e=>{let t=vf(e.state);return t.line?HB(e):t.block?QB(e):!1};function MS(e,t){return({state:s,dispatch:n})=>{if(s.readOnly)return!1;let o=e(t,s);return o?(n(s.update(o)),!0):!1}}const HB=MS(KB,0),QB=MS((e,t)=>XB(e,t,YB(t)),0);function vf(e,t=e.selection.main.head){let s=e.languageDataAt("commentTokens",t);return s.length?s[0]:{}}const oa=50;function GB(e,{open:t,close:s},n,o){let i=e.sliceDoc(n-oa,n),r=e.sliceDoc(o,o+oa),l=/\s*$/.exec(i)[0].length,m=/^\s*/.exec(r)[0].length,c=i.length-l;if(i.slice(c-t.length,c)==t&&r.slice(m,m+s.length)==s)return{open:{pos:n-l,margin:l&&1},close:{pos:o+m,margin:m&&1}};let h,p;o-n<=2*oa?h=p=e.sliceDoc(n,o):(h=e.sliceDoc(n,n+oa),p=e.sliceDoc(o-oa,o));let g=/^\s*/.exec(h)[0].length,w=/\s*$/.exec(p)[0].length,S=p.length-w-s.length;return h.slice(g,g+t.length)==t&&p.slice(S,S+s.length)==s?{open:{pos:n+g+t.length,margin:/\s/.test(h.charAt(g+t.length))?1:0},close:{pos:o-w-s.length,margin:/\s/.test(p.charAt(S-1))?1:0}}:null}function YB(e){let t=[];for(let s of e.selection.ranges){let n=e.doc.lineAt(s.from),o=s.to<=n.to?n:e.doc.lineAt(s.to),i=t.length-1;i>=0&&t[i].to>n.from?t[i].to=o.to:t.push({from:n.from,to:o.to})}return t}function XB(e,t,s=t.selection.ranges){let n=s.map(i=>vf(t,i.from).block);if(!n.every(i=>i))return null;let o=s.map((i,r)=>GB(t,n[r],i.from,i.to));if(e!=2&&!o.every(i=>i))return{changes:t.changes(s.map((i,r)=>o[r]?[]:[{from:i.from,insert:n[r].open+" "},{from:i.to,insert:" "+n[r].close}]))};if(e!=1&&o.some(i=>i)){let i=[];for(let r=0,l;r<o.length;r++)if(l=o[r]){let m=n[r],{open:c,close:h}=l;i.push({from:c.pos-m.open.length,to:c.pos+c.margin},{from:h.pos-h.margin,to:h.pos+m.close.length})}return{changes:i}}return null}function KB(e,t,s=t.selection.ranges){let n=[],o=-1;for(let{from:i,to:r}of s){let l=n.length,m=1e9;for(let c=i;c<=r;){let h=t.doc.lineAt(c);if(h.from>o&&(i==r||r>h.from)){o=h.from;let p=vf(t,c).line;if(!p)continue;let g=/^\s*/.exec(h.text)[0].length,w=g==h.length,S=h.text.slice(g,g+p.length)==p?g:-1;g<h.text.length&&g<m&&(m=g),n.push({line:h,comment:S,token:p,indent:g,empty:w,single:!1})}c=h.to+1}if(m<1e9)for(let c=l;c<n.length;c++)n[c].indent<n[c].line.text.length&&(n[c].indent=m);n.length==l+1&&(n[l].single=!0)}if(e!=2&&n.some(i=>i.comment<0&&(!i.empty||i.single))){let i=[];for(let{line:l,token:m,indent:c,empty:h,single:p}of n)(p||!h)&&i.push({from:l.from+c,insert:m+" "});let r=t.changes(i);return{changes:r,selection:t.selection.map(r,1)}}else if(e!=1&&n.some(i=>i.comment>=0)){let i=[];for(let{line:r,comment:l,token:m}of n)if(l>=0){let c=r.from+l,h=c+m.length;r.text[h-r.from]==" "&&h++,i.push({from:c,to:h})}return{changes:i}}return null}const Yh=Gv.define(),JB=Gv.define(),ZB=Bc.define(),LS=Bc.define({combine(e){return $m(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});function eR(e){let t=0;return e.iterChangedRanges((s,n)=>t=n),t}const FS=il.define({create(){return Nn.empty},update(e,t){let s=t.state.facet(LS),n=t.annotation(Yh);if(n){let m=t.docChanged?vr.single(eR(t.changes)):void 0,c=ws.fromTransaction(t,m),h=n.side,p=h==0?e.undone:e.done;return c?p=pc(p,p.length,s.minDepth,c):p=VS(p,t.startState.selection),new Nn(h==0?n.rest:p,h==0?p:n.rest)}let o=t.annotation(JB);if((o=="full"||o=="before")&&(e=e.isolate()),t.annotation(gp.addToHistory)===!1)return t.changes.empty?e:e.addMapping(t.changes.desc);let i=ws.fromTransaction(t),r=t.annotation(gp.time),l=t.annotation(gp.userEvent);return i?e=e.addChanges(i,r,l,s.newGroupDelay,s.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,r,l,s.newGroupDelay)),(o=="full"||o=="after")&&(e=e.isolate()),e},toJSON(e){return{done:e.done.map(t=>t.toJSON()),undone:e.undone.map(t=>t.toJSON())}},fromJSON(e){return new Nn(e.done.map(ws.fromJSON),e.undone.map(ws.fromJSON))}});function vl(e={}){return[FS,LS.of(e),tt.domEventHandlers({beforeinput(t,s){let n=t.inputType=="historyUndo"?tR:t.inputType=="historyRedo"?Br:null;return n?(t.preventDefault(),n(s)):!1}})]}function BS(e,t){return function({state:s,dispatch:n}){if(!t&&s.readOnly)return!1;let o=s.field(FS,!1);if(!o)return!1;let i=o.pop(e,s,t);return i?(n(i),!0):!1}}const tR=BS(0,!1),Br=BS(1,!1);class ws{constructor(t,s,n,o,i){this.changes=t,this.effects=s,this.mapped=n,this.startSelection=o,this.selectionsAfter=i}setSelAfter(t){return new ws(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,s,n;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(s=this.mapped)===null||s===void 0?void 0:s.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(o=>o.toJSON())}}static fromJSON(t){return new ws(t.changes&&qD.fromJSON(t.changes),[],t.mapped&&zD.fromJSON(t.mapped),t.startSelection&&vr.fromJSON(t.startSelection),t.selectionsAfter.map(vr.fromJSON))}static fromTransaction(t,s){let n=Qs;for(let o of t.startState.facet(ZB)){let i=o(t);i.length&&(n=n.concat(i))}return!n.length&&t.changes.empty?null:new ws(t.changes.invert(t.startState.doc),n,void 0,s||t.startState.selection,Qs)}static selection(t){return new ws(void 0,Qs,void 0,void 0,t)}}function pc(e,t,s,n){let o=t+1>s+20?t-s-1:0,i=e.slice(o,t);return i.push(n),i}function sR(e,t){let s=[],n=!1;return e.iterChangedRanges((o,i)=>s.push(o,i)),t.iterChangedRanges((o,i,r,l)=>{for(let m=0;m<s.length;){let c=s[m++],h=s[m++];l>=c&&r<=h&&(n=!0)}}),n}function nR(e,t){return e.ranges.length==t.ranges.length&&e.ranges.filter((s,n)=>s.empty!=t.ranges[n].empty).length===0}function RS(e,t){return e.length?t.length?e.concat(t):e:t}const Qs=[],oR=200;function VS(e,t){if(e.length){let s=e[e.length-1],n=s.selectionsAfter.slice(Math.max(0,s.selectionsAfter.length-oR));return n.length&&n[n.length-1].eq(t)?e:(n.push(t),pc(e,e.length-1,1e9,s.setSelAfter(n)))}else return[ws.selection([t])]}function iR(e){let t=e[e.length-1],s=e.slice();return s[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),s}function Vp(e,t){if(!e.length)return e;let s=e.length,n=Qs;for(;s;){let o=rR(e[s-1],t,n);if(o.changes&&!o.changes.empty||o.effects.length){let i=e.slice(0,s);return i[s-1]=o,i}else t=o.mapped,s--,n=o.selectionsAfter}return n.length?[ws.selection(n)]:Qs}function rR(e,t,s){let n=RS(e.selectionsAfter.length?e.selectionsAfter.map(l=>l.map(t)):Qs,s);if(!e.changes)return ws.selection(n);let o=e.changes.map(t),i=t.mapDesc(e.changes,!0),r=e.mapped?e.mapped.composeDesc(i):i;return new ws(o,Rn.mapEffects(e.effects,t),r,e.startSelection.map(i),n)}const aR=/^(input\.type|delete)($|\.)/;class Nn{constructor(t,s,n=0,o=void 0){this.done=t,this.undone=s,this.prevTime=n,this.prevUserEvent=o}isolate(){return this.prevTime?new Nn(this.done,this.undone):this}addChanges(t,s,n,o,i){let r=this.done,l=r[r.length-1];return l&&l.changes&&!l.changes.empty&&t.changes&&(!n||aR.test(n))&&(!l.selectionsAfter.length&&s-this.prevTime<o&&sR(l.changes,t.changes)||n=="input.type.compose")?r=pc(r,r.length-1,i,new ws(t.changes.compose(l.changes),RS(t.effects,l.effects),l.mapped,l.startSelection,Qs)):r=pc(r,r.length,i,t),new Nn(r,Qs,s,n)}addSelection(t,s,n,o){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:Qs;return i.length>0&&s-this.prevTime<o&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&nR(i[i.length-1],t)?this:new Nn(VS(this.done,t),this.undone,s,n)}addMapping(t){return new Nn(Vp(this.done,t),Vp(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,s,n){let o=t==0?this.done:this.undone;if(o.length==0)return null;let i=o[o.length-1];if(n&&i.selectionsAfter.length)return s.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Yh.of({side:t,rest:iR(o)}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let r=o.length==1?Qs:o.slice(0,o.length-1);return i.mapped&&(r=Vp(r,i.mapped)),s.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Yh.of({side:t,rest:r}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}else return null}}Nn.empty=new Nn(Qs,Qs);function lR(e,t){if(e.state.readOnly)return!1;let s="delete.selection",{state:n}=e,o=n.changeByRange(i=>{let{from:r,to:l}=i;if(r==l){let m=t(r);m<r?(s="delete.backward",m=cu(e,m,!1)):m>r&&(s="delete.forward",m=cu(e,m,!0)),r=Math.min(r,m),l=Math.max(l,m)}else r=cu(e,r,!1),l=cu(e,l,!0);return r==l?{range:i}:{changes:{from:r,to:l},range:vr.cursor(r)}});return o.changes.empty?!1:(e.dispatch(n.update(o,{scrollIntoView:!0,userEvent:s,effects:s=="delete.selection"?tt.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function cu(e,t,s){if(e instanceof tt)for(let n of e.state.facet(tt.atomicRanges).map(o=>o(e)))n.between(t,t,(o,i)=>{o<t&&i>t&&(t=s?i:o)});return t}const uR=(e,t)=>lR(e,s=>{let{state:n}=e,o=n.doc.lineAt(s),i,r;if(!t&&s>o.from&&s<o.from+200&&!/[^ \t]/.test(i=o.text.slice(0,s-o.from))){if(i[i.length-1]=="	")return s-1;let l=Yv(i,n.tabSize),m=l%Eh(n)||Eh(n);for(let c=0;c<m&&i[i.length-1-c]==" ";c++)s--;r=s}else r=QD(o.text,s-o.from,t,t)+o.from,r==s&&o.number!=(t?n.doc.lines:1)&&(r+=t?1:-1);return r}),eb=e=>uR(e,!1);function cR(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let s=Qv(e).resolveInner(t),n=s.childBefore(t),o=s.childAfter(t),i;return n&&o&&n.to<=t&&o.from>=t&&(i=n.type.prop(HD.closedBy))&&i.indexOf(o.name)>-1&&e.doc.lineAt(n.to).from==e.doc.lineAt(o.from).from?{from:n.to,to:o.from}:null}const US=dR(!1);function dR(e){return({state:t,dispatch:s})=>{if(t.readOnly)return!1;let n=t.changeByRange(o=>{let{from:i,to:r}=o,l=t.doc.lineAt(i),m=!e&&i==r&&cR(t,i);e&&(i=r=(r<=l.to?l:t.doc.lineAt(r)).to);let c=new UD(t,{simulateBreak:i,simulateDoubleBreak:!!m}),h=WD(c,i);for(h==null&&(h=/^\s*/.exec(t.doc.lineAt(i).text)[0].length);r<l.to&&/\s/.test(l.text[r-l.from]);)r++;m?{from:i,to:r}=m:i>l.from&&i<l.from+100&&!/\S/.test(l.text.slice(0,i))&&(i=l.from);let p=["",kh(t,h)];return m&&p.push(kh(t,c.lineIndent(l.from,-1))),{changes:{from:i,to:r,insert:jD.of(p)},range:vr.cursor(i+1+p[1].length)}});return s(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function WS(e,t){let s=-1;return e.changeByRange(n=>{let o=[];for(let r=n.from;r<=n.to;){let l=e.doc.lineAt(r);l.number>s&&(n.empty||n.to>l.from)&&(t(l,o,n),s=l.number),r=l.to+1}let i=e.changes(o);return{changes:o,range:vr.range(i.mapPos(n.anchor,1),i.mapPos(n.head,1))}})}const pR=({state:e,dispatch:t})=>e.readOnly?!1:(t(e.update(WS(e,(s,n)=>{n.push({from:s.from,insert:e.facet(GD)})}),{userEvent:"input.indent"})),!0),hR=({state:e,dispatch:t})=>e.readOnly?!1:(t(e.update(WS(e,(s,n)=>{let o=/^\s*/.exec(s.text)[0];if(!o)return;let i=Yv(o,e.tabSize),r=0,l=kh(e,Math.max(0,i-Eh(e)));for(;r<o.length&&r<l.length&&o.charCodeAt(r)==l.charCodeAt(r);)r++;n.push({from:s.from+r,to:s.from+o.length,insert:l.slice(r)})}),{userEvent:"delete.dedent"})),!0),Tf={key:"Tab",run:pR,shift:hR},Tl=J({mixins:[ut],props:{targetItem:{type:Object}},data(){return{editor:{},skipSegments:[],editorState:void 0}},watch:{targetItem(){setTimeout(()=>{this.$emit("change",{value:this.unresolvedExpression,segments:this.displayableSegments})})}},computed:{...be(Xe),unresolvedExpression(){return this.segments.reduce((e,t)=>(e+=t.kind==="resolvable"?t.resolvable:t.plaintext,e),"=")},hoveringItem(){return this.ndvStore.hoveringItem??void 0},resolvableSegments(){return this.segments.filter(e=>e.kind==="resolvable")},plaintextSegments(){return this.segments.filter(e=>e.kind==="plaintext")},expressionExtensionNames(){return new Set(Am.reduce((e,t)=>[...e,...Object.keys(t.functions)],[]))},htmlSegments(){return this.segments.filter(e=>e.kind!=="resolvable")},segments(){if(!this.editorState||!this.editorState)return[];const e=[],t=Xv(this.editorState,this.editorState.doc.length,y2);if(t===null)throw new Error(`Failed to parse expression: ${this.editorValue}`);const s=["Program","Script","Document",...this.skipSegments];return t.cursor().iterate(n=>{const o=this.editorState.sliceDoc(n.from,n.to);s.includes(n.type.name)||e.push({from:n.from,to:n.to,text:o,token:n.type.name==="Resolvable"?"Resolvable":"Plaintext"})}),e.reduce((n,o)=>{const{from:i,to:r,text:l,token:m}=o;if(m==="Resolvable"){const{resolved:c,error:h,fullError:p}=this.resolve(l,this.hoveringItem);return n.push({kind:"resolvable",from:i,to:r,resolvable:l,resolved:String(c),error:h,fullError:p}),n}return n.push({kind:"plaintext",from:i,to:r,plaintext:l}),n},[])},displayableSegments(){return this.segments.map(e=>{if(this.segments.length<=1||e.kind!=="resolvable")return e;if(typeof e.resolved=="string"&&/\[Object: "\d{4}-\d{2}-\d{2}T/.test(e.resolved)){const t=e.resolved.replace(/(\[Object: "|\"\])/g,"");e.resolved=new Date(t).toString()}return typeof e.resolved=="string"&&/\[Array:\s\[.+\]\]/.test(e.resolved)&&(e.resolved=e.resolved.replace(/(\[Array: \[|\])/g,"")),e}).filter(e=>!(this.segments.length>1&&e.kind==="resolvable"&&typeof e.resolved=="string"&&(e.resolved==="[Array: []]"||e.resolved===this.$locale.baseText("expressionModalInput.empty"))))}},methods:{isEmptyExpression(e){return/\{\{\s*\}\}/.test(e)},resolve(e,t){const s={resolved:void 0,error:!1,fullError:null};try{const n=Xe();if(!n.activeNode)s.resolved=nD.resolveWithoutWorkflow(e);else{let o;n.isInputParentOfActiveNode&&(o={targetItem:t??void 0,inputNodeName:this.ndvStore.ndvInputNodeName,inputRunIndex:this.ndvStore.ndvInputRunIndex,inputBranchIndex:this.ndvStore.ndvInputBranchIndex}),s.resolved=this.resolveExpression("="+e,void 0,o)}}catch(n){s.resolved=`[${n.message}]`,s.error=!0,s.fullError=n}return s.resolved===""&&(s.resolved=this.$locale.baseText("expressionModalInput.empty")),s.resolved===void 0&&this.isEmptyExpression(e)&&(s.resolved=this.$locale.baseText("expressionModalInput.empty")),s.resolved===void 0&&(s.resolved=this.isUncalledExpressionExtension(e)?this.$locale.baseText("expressionEditor.uncalledFunction"):this.$locale.baseText("expressionModalInput.undefined"),s.error=!0),typeof s.resolved=="number"&&isNaN(s.resolved)&&(s.resolved=this.$locale.baseText("expressionModalInput.null")),s},isUncalledExpressionExtension(e){const t=e.replace(/^{{|}}$/g,"").trim().split(".").pop();return t!==void 0&&this.expressionExtensionNames.has(t)}}}),jS=J({mixins:[Tl],data(){return{editor:{}}},computed:{expressionExtensionsCategories(){return Am.reduce((e,t)=>{for(const s of Object.keys(t.functions))e[s]=t.typeName;return e},{})}},methods:{trackCompletion(e,t){var l;if(!e.transactions.find(m=>m.isUserEvent("input.complete")))return;let n="",o="";e.changes.iterChanges((m,c,h,p)=>{n=this.editor.state.doc.slice(h,p).toString();const g=this.findCompletionBaseStartIndex(h);o=this.editor.state.doc.slice(g,h-1).toString().trim()});const i=this.expressionExtensionsCategories[n],r={instance_id:this.rootStore.instanceId,node_type:(l=this.ndvStore.activeNode)==null?void 0:l.type,field_name:t,field_type:"expression",context:o,inserted_text:n,category:i??"n/a"};this.$telemetry.track("User autocompleted code",r)},findCompletionBaseStartIndex(e){const t=[" $","{ "],s=this.editor.state.doc.toString();for(let n=e;n>0;n--)if(t.some(o=>o===s[n]+s[n+1]))return n+1;return-1}}}),mR=tt.inputHandler.of((e,t,s,n)=>{if(e.composing||e.state.readOnly||Nm(e.state)!==null)return!1;const o=e.state.selection.main;if(n==="["&&e.state.doc.toString().slice(o.from-5,o.to)===".json"||n.length>2||n.length===2&&Kv(Jv(n,0))===1||t!==o.from||s!==o.to)return!1;const i=Zv(e.state,n);if(!i){if(n==="{"){const w=e.state.selection.main.head;return e.dispatch({changes:{from:w,insert:"{ }"},selection:{anchor:w+1}}),!0}return!1}e.dispatch(i);const r=e.state.selection.main.head;if(e.state.sliceDoc(r-2,r)==="{{"&&e.state.sliceDoc(r,r+1)==="}")return e.dispatch({changes:{from:r,to:r+2,insert:"  }"},selection:{anchor:r+1}}),YD(e),!0;const m=e.state.sliceDoc(r-1,r)==="{"&&e.state.sliceDoc(r,r+1)==="}",{head:c}=e.state.selection.main,h=e.state.sliceDoc(0,c).includes("{{")&&e.state.sliceDoc(c,e.state.doc.length).includes("}}");if(m&&!h)return e.dispatch({changes:{from:r,insert:" "}}),!0;const[p]=e.state.selection.ranges;return e.state.sliceDoc(p.from-2,p.from)==="{{"&&e.state.sliceDoc(p.to,p.to+2)==="}}"&&e.dispatch({changes:{from:p.from,insert:" "}},{changes:{from:p.to,insert:" "},selection:{anchor:p.to,head:p.to}}),!0}),[TCe,fR]=eT(),od=()=>[mR,fR],qS=[As],gR=["console","constants","crypto","dns","dns/promises","fs","fs/promises","http","http2","https","inspector","module","os","path","process","readline","url","util","zlib"],xs="error",yR=300,tb=35,Up={javaScript:{runOnceForAllItems:`
// Loop over input items and add a new field called 'myNewField' to the JSON of each one
for (const item of $input.all()) {
  item.json.myNewField = 1;
}

return $input.all();`.trim(),runOnceForEachItem:`
// Add a new field called 'myNewField' to the JSON of the item
$input.item.json.myNewField = 1;

return $input.item;`.trim()},python:{runOnceForAllItems:`
# Loop over input items and add a new field called 'myNewField' to the JSON of each one
for item in _input.all():
	item.json.myNewField = 1
return _input.all()`.trim(),runOnceForEachItem:`
# Add a new field called 'myNewField' to the JSON of the item
_input.item.json.myNewField = 1
return _input.item`.trim()}},wR=/^"[^"]+"|^'[^']+'|^`[^`]+`\./,bR=/[+\-*/><<==>**!=?]/;function vR(e){const s=TR(e).split("."),n=s.pop()??"";return[s.join("."),n]}function Sf(...e){if(e.length<2)throw new Error("Expected at least two strings");return e.reduce((t,s)=>{let n=0;for(;t[n]&&s[n]&&t[n]===s[n];)n++;return t.slice(0,n)})}function TR(e){var s;if(e.indexOf("$")===-1)e=e.replace(/^.+(\(|\[|{)/,"");else if(!wR.test(e)){const n=e.split("$");e=`$${n[n.length-1]}`;const i=(((s=e.split(bR).pop())==null?void 0:s.trim())||"").split(" ").pop();i&&(e=i)}return e}const id=(e,t)=>e.startsWith(t)&&e!==t,zS=e=>t=>{const s=[...t];return[...e].reverse().forEach(n=>{const o=s.indexOf(n);o!==-1&&s.unshift(s.splice(o,1)[0])}),s},HS=e=>["notice"].includes(e),QS=e=>!/^(\d)|[\\ `!@#$%^&*()+\-=[\]{};':"\\|,.<>?~]/g.test(e);function SR(){var e;try{return((e=wi("={{ $binary }}"))==null?void 0:e.data)===void 0}catch{return!0}}function kR(e){let t;try{t=wi(`={{ ${e}.params }}`)}catch{return!0}if(!t)return!0;const s=Object.keys(t);return s.length===1&&HS(s[0])}const ER=()=>{var e;return((e=Xe().activeNode)==null?void 0:e.name)!==void 0},xR=()=>!_e().workflow.nodes.some(e=>e.type===xT);function CR(){return _e().allNodes.filter(e=>{var s;const t=(s=Xe().activeNode)==null?void 0:s.name;return!qS.includes(e.type)&&e.name!==t}).map(e=>e.name)}const Ca=e=>t=>{const s=e.state.sliceDoc(e.pos,e.pos+2)==="()";return t.label.endsWith("()")&&s&&(t.label=t.label.slice(0,2*-1)),t};function OR(e){const t=e.matchBefore(/\$[^$]*/);if(!t||t.from===t.to&&!e.explicit)return null;let s=GS().map(Ca(e));const n=t.text;return n!=="$"&&(s=s.filter(o=>id(o.label,n))),s.length===0?null:{from:t.to-n.length,options:s,filter:!1,getMatch(o){return[0,Sf(n,o.label).length]}}}function GS(){const e=zS(["$json","$input"]),t=new Set,s=["$jmespath"];if(!ER())return[];SR()&&t.add("$binary");const n=Object.keys(Te.rootVars).sort((o,i)=>o.localeCompare(i));return e(n).filter(o=>!t.has(o)).map(o=>{const i=s.includes(o),r={label:i?o+"()":o,type:i?"function":"keyword"},l=Te.rootVars[o];return l&&(r.info=l),r}).concat(CR().map(o=>({label:`$('${o}')`,type:"keyword",info:Te.baseText("codeNodeEditor.completer.$()",{interpolate:{nodeName:o}})})))}function DR(e){const t=e.matchBefore(/\{\{\s/);return!t||t.from===t.to&&!e.explicit||e.state.sliceDoc(e.pos,e.pos+3)!==" }}"?null:{from:t.to,options:GS().map(Ca(e)),filter:!1}}function AR(e){const t=e.matchBefore(/\$[\S\s]*\[.*/);if(!t||t.from===t.to&&!e.explicit||["$input[","$now[","$today["].includes(t.text))return null;const n=t.text.substring(0,t.text.lastIndexOf("[")),o=t.text.split("[").pop()??"";let i;try{i=wi(`={{ ${n} }}`)}catch{return null}if(i==null)return null;let r=$R(i);return o!==""&&(r=r.filter(l=>id(l.label,o))),r.length===0?null:{from:t.to-o.length,options:r,filter:!1,getMatch(l){return[0,Sf(o,l.label).length]}}}function $R(e){const t=new Set(["__ob__","pairedItem"]);return Object.keys(e).filter(s=>!t.has(s)).map(s=>({label:!isNaN(parseInt(s))?`${s}]`:`'${s}']`,type:"keyword"}))}const Xh=e=>e==="native-function"||e==="extension-function",NR={typeName:"DateTime",properties:{day:{doc:{name:"day",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeday",returnType:"number"}},daysInMonth:{doc:{name:"daysInMonth",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimedaysinmonth",returnType:"number"}},daysInYear:{doc:{name:"daysInYear",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimedaysinyear",returnType:"number"}},hour:{doc:{name:"hour",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimehour",returnType:"number"}},locale:{doc:{name:"locale",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimelocale",returnType:"string"}},millisecond:{doc:{name:"millisecond",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimemillisecond",returnType:"number"}},minute:{doc:{name:"minute",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeminute",returnType:"number"}},month:{doc:{name:"month",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimemonth",returnType:"number"}},monthLong:{doc:{name:"monthLong",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimemonthlong",returnType:"string"}},monthShort:{doc:{name:"monthShort",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimemonthshort",returnType:"string"}},numberingSystem:{doc:{name:"numberingSystem",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimenumberingsystem",returnType:"string"}},offset:{doc:{name:"offset",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeoffset",returnType:"number"}},offsetNameLong:{doc:{name:"offsetNameLong",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeoffsetnamelong",returnType:"string"}},offsetNameShort:{doc:{name:"offsetNameShort",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeoffsetnameshort",returnType:"string"}},ordinal:{doc:{name:"ordinal",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeordinal",returnType:"string"}},outputCalendar:{doc:{name:"outputCalendar",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeoutputcalendar",returnType:"string"}},quarter:{doc:{name:"quarter",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimequarter",returnType:"number"}},second:{doc:{name:"second",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimesecond",returnType:"number"}},weekday:{doc:{name:"weekday",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeweekday",returnType:"number"}},weekdayLong:{doc:{name:"weekdayLong",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeweekdaylong",returnType:"string"}},weekdayShort:{doc:{name:"weekdayShort",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeweekdayshort",returnType:"string"}},weekNumber:{doc:{name:"weekNumber",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeweeknumber",returnType:"number"}},weeksInWeekYear:{doc:{name:"weeksInWeekYear",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeweeksinweekyear",returnType:"number"}},weekYear:{doc:{name:"weekYear",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeweekyear",returnType:"number"}},year:{doc:{name:"year",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeyear",returnType:"number"}},zone:{doc:{name:"zone",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimezone",returnType:"Zone"}},zoneName:{doc:{name:"zoneName",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimezonename",returnType:"string"}},isInDST:{doc:{name:"isInDST",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeisindst",returnType:"boolean"}},isInLeapYear:{doc:{name:"isInLeapYear",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeisinleapyear",returnType:"boolean"}},isOffsetFixed:{doc:{name:"isOffsetFixed",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeisoffsetfixed",returnType:"boolean"}},isValid:{doc:{name:"isValid",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeisvalid",returnType:"boolean"}}},functions:{diff:{doc:{name:"diff",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimediff",returnType:"Duration",args:[{name:"other",type:"DateTime"},{name:"unit",type:"string|string[]"},{name:"opts",type:"object"}]}},diffNow:{doc:{name:"diffNow",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimediffnow",returnType:"Duration",args:[{name:"unit",type:"string|string[]"},{name:"opts",type:"object"}]}},endOf:{doc:{name:"endOf",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeendof",returnType:"DateTime",args:[{name:"unit",type:"string"}]}},equals:{doc:{name:"equals",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeequals",returnType:"boolean",args:[{name:"other",type:"DateTime"}]}},hasSame:{doc:{name:"hasSame",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimehassame",returnType:"boolean",args:[{name:"other",type:"DateTime"},{name:"unit",type:"string"}]}},minus:{doc:{name:"minus",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeminus",returnType:"DateTime",args:[{name:"duration",type:"Duration|object|number"}]}},plus:{doc:{name:"plus",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeplus",returnType:"DateTime",args:[{name:"duration",type:"Duration|object|number"}]}},reconfigure:{doc:{name:"reconfigure",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimereconfigure",returnType:"DateTime",args:[{name:"properties",type:"object"}]}},resolvedLocaleOptions:{doc:{name:"resolvedLocaleOptions",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeresolvedlocaleoptions",returnType:"object",args:[{name:"opts",type:"object"}]}},set:{doc:{name:"set",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeset",returnType:"DateTime",args:[{name:"values",type:"object"}]}},setLocale:{doc:{name:"setLocale",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimesetlocale",returnType:"DateTime",args:[{name:"locale",type:"any"}]}},setZone:{doc:{name:"setZone",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimesetzone",returnType:"DateTime",args:[{name:"zone",type:"string|Zone"},{name:"opts",type:"object"}]}},startOf:{doc:{name:"startOf",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimestartof",returnType:"DateTime",args:[{name:"unit",type:"string"}]}},toBSON:{doc:{name:"toBSON",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetobson",returnType:"Date"}},toFormat:{doc:{name:"toFormat",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetime",returnType:"string",args:[{name:"fmt",type:"string"},{name:"opts",type:"object"}]}},toHTTP:{doc:{name:"toHTTP",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetohttp",returnType:"string"}},toISO:{doc:{name:"toISO",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetoiso",returnType:"string",args:[{name:"opts",type:"object"}]}},toISODate:{doc:{name:"toISODate",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetoisodate",returnType:"string",args:[{name:"opts",type:"object"}]}},toISOTime:{doc:{name:"toISOTime",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetoisotime",returnType:"string",args:[{name:"opts",type:"object"}]}},toISOWeekDate:{doc:{name:"toISOWeekDate",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetoisoweekdate",returnType:"string"}},toJSDate:{doc:{name:"toJSDate",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetojsdate",returnType:"Date"}},toJSON:{doc:{name:"toJSON",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetojson",returnType:"string"}},toLocal:{doc:{name:"toLocal",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetolocal",returnType:"DateTime"}},toLocaleParts:{doc:{name:"toLocaleParts",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetolocaleparts",returnType:"string",args:[{name:"formatOpts",type:"any"},{name:"opts",type:"object"}]}},toLocaleString:{doc:{name:"toLocaleString",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetolocalestring",returnType:"string",args:[{name:"formatOpts",type:"any"},{name:"opts",type:"object"}]}},toMillis:{doc:{name:"toMillis",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetomillis",returnType:"number"}},toObject:{doc:{name:"toObject",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetoobject",returnType:"object",args:[{name:"opts",type:"any"}]}},toRelative:{doc:{name:"toRelative",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetorelative",returnType:"string",args:[{name:"options",type:"object"}]}},toRelativeCalendar:{doc:{name:"toRelativeCalendar",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetorelativecalendar",returnType:"string",args:[{name:"options",type:"object"}]}},toRFC2822:{doc:{name:"toRFC2822",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetorfc2822",returnType:"string"}},toSeconds:{doc:{name:"toSeconds",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetoseconds",returnType:"number"}},toSQL:{doc:{name:"toSQL",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetosql",returnType:"string",args:[{name:"options",type:"object"}]}},toSQLDate:{doc:{name:"toSQLDate",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetosqldate",returnType:"string"}},toSQLTime:{doc:{name:"toSQLTime",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetosqltime",returnType:"string"}},toString:{doc:{name:"toString",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetostring",returnType:"string"}},toUnixInteger:{doc:{name:"toUnixInteger",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetounixinteger",returnType:"number"}},toUTC:{doc:{name:"toUTC",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimetoutc",returnType:"DateTime",args:[{name:"offset",type:"number"},{name:"opts",type:"object"}]}},until:{doc:{name:"until",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeuntil",returnType:"Interval",args:[{name:"other",type:"DateTime"}]}},valueOf:{doc:{name:"valueOf",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimevalueof",returnType:"number"}}}},_R={typeName:"DateTime",properties:{},functions:{now:{doc:{name:"now",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimenow",returnType:"DateTime"}},local:{doc:{name:"local",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimelocal",returnType:"DateTime",args:[{name:"year?",type:"number"},{name:"month",type:"number"},{name:"day",type:"number"},{name:"hour",type:"number"},{name:"minute",type:"number"},{name:"second",type:"number"},{name:"millisecond",type:"number"}]}},utc:{doc:{name:"utc",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeutc",returnType:"DateTime",args:[{name:"year?",type:"number"},{name:"month",type:"number"},{name:"day",type:"number"},{name:"hour",type:"number"},{name:"minute",type:"number"},{name:"second",type:"number"},{name:"millisecond",type:"number"}]}},fromJSDate:{doc:{name:"fromJSDate",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimefromjsdate",returnType:"DateTime",args:[{name:"date",type:"Date"},{name:"options?",type:"object"}]}},fromMillis:{doc:{name:"fromMillis",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimefrommillis",returnType:"DateTime",args:[{name:"milliseconds",type:"number"},{name:"options?",type:"object"}]}},fromSeconds:{doc:{name:"fromSeconds",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimefromseconds",returnType:"DateTime",args:[{name:"seconds",type:"number"},{name:"options?",type:"object"}]}},fromObject:{doc:{name:"fromObject",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimefromobject",returnType:"DateTime",args:[{name:"obj",type:"object"},{name:"options?",type:"object"}]}},fromISO:{doc:{name:"fromISO",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimefromiso",returnType:"DateTime",args:[{name:"text",type:"string"},{name:"options?",type:"object"}]}},fromRFC2822:{doc:{name:"fromRFC2822",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimefromrfc2822",returnType:"DateTime",args:[{name:"text",type:"string"},{name:"options?",type:"object"}]}},fromHTTP:{doc:{name:"fromHTTP",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimefromhttp",returnType:"DateTime",args:[{name:"text",type:"string"},{name:"options?",type:"object"}]}},fromFormat:{doc:{name:"fromFormat",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimefromformat",returnType:"DateTime",args:[{name:"text",type:"string"},{name:"fmt",type:"string"},{name:"options?",type:"object"}]}},fromSQL:{doc:{name:"fromSQL",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimefromsql",returnType:"DateTime",args:[{name:"text",type:"string"},{name:"options?",type:"object"}]}},invalid:{doc:{name:"invalid",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeinvalid",returnType:"DateTime",args:[{name:"reason",type:"DateTime"},{name:"explanation?",type:"string"}]}},isDateTime:{doc:{name:"isDateTime",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeisdatetime",returnType:"boolean",args:[{name:"o",type:"object"}]}},expandFormat:{doc:{name:"expandFormat",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeexpandformat",returnType:"string",args:[{name:"fmt",type:"any"},{name:"localeOpts?",type:"any"}]}},fromFormatExplain:{doc:{name:"fromFormatExplain",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimefromformatexplain",returnType:"object",args:[{name:"text",type:"string"},{name:"fmt",type:"string"},{name:"options?",type:"object"}]}},fromString:{doc:{name:"fromString",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimefromstring",returnType:"DateTime",args:[{name:"text",type:"string"},{name:"fmt",type:"string"},{name:"options?",type:"object"}]}},fromStringExplain:{doc:{name:"fromStringExplain",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimefromstringexplain",returnType:"object",args:[{name:"text",type:"string"},{name:"fmt",type:"string"},{name:"options?",type:"object"}]}},max:{doc:{name:"max",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimemax",returnType:"DateTime|undefined",args:[{name:"dateTime1",type:"DateTime"},{name:"..."},{name:"dateTimeN",type:"DateTime"}]}},min:{doc:{name:"min",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimemin",returnType:"DateTime|undefined",args:[{name:"dateTime1",type:"DateTime"},{name:"..."},{name:"dateTimeN",type:"DateTime"}]}},parseFormatForOpts:{doc:{name:"parseFormatForOpts",docURL:"https://moment.github.io/luxon/api-docs/index.html#datetimeparseformatforopts",returnType:"string",args:[{name:"fmt",type:"any"},{name:"localeOpts?",type:"any"}]}}}};function PR(e){const t=e.matchBefore(qR);if(!t||t.from===t.to&&!e.explicit)return null;let[s,n]=vR(t.text),o=[];if(s==="DateTime")o=UR().map(Ca(e));else if(s==="Object")o=WR().map(Ca(e));else if(s==="$vars")o=RR();else{let i;try{i=wi(`={{ ${s} }}`)}catch{return null}if(i===null)return null;try{o=IR(i,s).map(Ca(e))}catch{return null}}return o.length===0?null:(n!==""&&(o=o.filter(i=>id(i.label,n)&&i.label!==n)),{from:t.to-n.length,options:o,filter:!1,getMatch(i){return[0,Sf(n,i.label).length]}})}function IR(e,t){if(e===null)return[];if(typeof e=="number")return[...mr("number"),...ir("number")];if(typeof e=="string")return[...mr("string"),...ir("string")];if(["$now","$today"].includes(t))return[...VR(),...ir("date")];if(e instanceof Date)return[...mr("date"),...ir("date")];if(Array.isArray(e)){if(/all\(.*?\)/.test(t))return[];const s=[...mr("array"),...ir("array")];if(e.length>0&&e.some(n=>typeof n!="number")){const n=new Set(["max()","min()","sum()","average()"]);return s.filter(o=>!n.has(o.label))}return s}return typeof e=="object"?FR(t,e):[]}const mr=e=>{const t=oD.find(o=>o.typeName.toLowerCase()===e);if(!t)return[];const s=t.properties?Kh(t.properties,e,"keyword"):[],n=Kh(t.functions,e,"native-function");return[...s,...n]},ir=e=>{const t=Am.find(n=>n.typeName.toLowerCase()===e);if(!t)return[];const s=Object.entries(t.functions).reduce((n,[o,i])=>({...n,[o]:{doc:i.doc}}),{});return Kh(s,e,"extension-function")},Kh=(e,t,s="native-function")=>Object.entries(e).sort((n,o)=>n[0].localeCompare(o[0])).map(([n,o])=>rd(t,n,s,o)),rd=(e,t,s,n)=>{const o={label:Xh(s)?t+"()":t,type:s};return o.info=()=>{const i=document.createElement("div");if(i.classList.add("autocomplete-info-container"),!n.doc)return null;const r=Xh(s)?MR(e,n):LR(e,n);if(r.classList.add("autocomplete-info-header"),i.appendChild(r),n.doc.description){const l=document.createElement("div");l.classList.add("autocomplete-info-description");const m=document.createElement("p");if(m.innerHTML=Fa(n.doc.description.replace(/`(.*?)`/g,"<code>$1</code>")),l.appendChild(m),n.doc.docURL){const c=document.createElement("a");c.setAttribute("target","_blank"),c.setAttribute("href",n.doc.docURL),c.innerText=Te.autocompleteUIValues.docLinkLabel||"Learn more",c.addEventListener("mousedown",h=>{h.preventDefault()}),c.classList.add("autocomplete-info-doc-link"),l.appendChild(c)}i.appendChild(l)}return i},o},MR=(e,t)=>{const s=document.createElement("div");if(t.doc){const n=document.createElement("span");n.innerHTML=e.slice(0,1).toUpperCase()+e.slice(1)+".",s.appendChild(n);const o=document.createElement("span");o.classList.add("autocomplete-info-name"),o.innerHTML=`${t.doc.name}`,s.appendChild(o);let i="(";t.doc.args&&(i+=t.doc.args.map(l=>{let m=`${l.name}`;return l.type&&(m+=`: ${l.type}`),m}).join(", ")),i+=")";const r=document.createElement("span");if(r.classList.add("autocomplete-info-name-args"),r.innerText=i,s.appendChild(r),t.doc.returnType){const l=document.createElement("span");l.innerHTML=": "+t.doc.returnType,s.appendChild(l)}}return s},LR=(e,t)=>{const s=document.createElement("div");if(t.doc){const n=document.createElement("span");n.innerHTML=e.slice(0,1).toUpperCase()+e.slice(1)+".";const o=document.createElement("span");o.classList.add("autocomplete-info-name"),o.innerText=t.doc.name;const i=document.createElement("span");i.innerHTML=": "+t.doc.returnType,s.appendChild(n),s.appendChild(o),s.appendChild(i)}return s},FR=(e,t)=>{const s=zS(["item","all","first","last"]),n=new Set(["__ob__","pairedItem"]);xR()&&n.add("context");const o=e.startsWith("$(")?"$()":e;["$input","$()"].includes(o)&&kR(e)&&n.add("params");let i=Object.keys(t);if(o==="$()"&&(i=Reflect.ownKeys(t)),e==="Math"){const m=Object.getOwnPropertyDescriptors(Math);i=Object.keys(m).sort((c,h)=>c.localeCompare(h))}const r=s(i).filter(m=>!n.has(m)&&QS(m)&&!HS(m)).map(m=>{BR(t,m);const c=typeof t[m]=="function",h={label:c?m+"()":m,type:c?"function":"keyword"},p=[o,m].join(".");return h.info=rd("Object",m,c?"native-function":"keyword",{doc:{name:m,returnType:typeof t[m],description:Te.proxyVars[p]}}).info,h});return t.isProxy||t.json||/json('])?$/.test(e)||e==="$execution"||e.endsWith("params")||e==="Math"?[...r,...mr("object")]:[...r,...mr("object"),...ir("object")]};function BR(e,t){try{e[t]}catch(s){throw new Error("Cannot generate options",{cause:s})}}const RR=()=>gl().variables.map(s=>rd("Object",s.key,"keyword",{doc:{name:s.key,returnType:"string",description:Te.baseText("codeNodeEditor.completer.$vars.varName"),docURL:"https://docs.n8n.io/environments/variables/"}})),VR=()=>{const e=new Set(["constructor","get","invalidExplanation","invalidReason"]);return Object.entries(Object.getOwnPropertyDescriptors(Lo.prototype)).filter(([t])=>!e.has(t)).sort(([t],[s])=>t.localeCompare(s)).map(([t,s])=>{const o=typeof s.value=="function"?"native-function":"keyword";return YS(t,o,NR,Te.luxonInstance)})},UR=()=>{const e=new Set(["prototype","name","length","invalid"]);return Object.keys(Object.getOwnPropertyDescriptors(Lo)).filter(t=>!e.has(t)&&!t.includes("_")).sort((t,s)=>t.localeCompare(s)).map(t=>YS(t,"native-function",_R,Te.luxonStatic))},YS=(e,t,s,n)=>{const o={label:Xh(t)?e+"()":e,type:t};let i;if(s.properties&&s.properties.hasOwnProperty(e))i=s.properties[e].doc;else if(s.functions.hasOwnProperty(e))i=s.functions[e].doc;else{const r=typeof Lo.prototype[e];i={name:e,returnType:!r||r==="undefined"?"":r,docURL:"https://moment.github.io/luxon/api-docs/index.html#datetime"}}return o.info=rd("DateTime",e,t,{doc:{...i,description:n[e]}}).info,o},WR=()=>["assign","entries","keys","values"].map(e=>{const t={label:e+"()",type:"function"},s=Te.globalObject[e];return s&&(t.info=s),t}),jR={generalRef:/\$[^$'"]+\.([^{\s])*/,selectorRef:/\$\(['"][\S\s]+['"]\)\.([^{\s])*/,numberLiteral:/\((\d+)\.?(\d*)\)\.([^{\s])*/,singleQuoteStringLiteral:/('.+')\.([^'{\s])*/,doubleQuoteStringLiteral:/(".+")\.([^"{\s])*/,dateLiteral:/\(?new Date\(\(?.*?\)\)?\.([^{\s])*/,arrayLiteral:/(\[.+\])\.([^{\s])*/,objectLiteral:/\(\{.*\}\)\.([^{\s])*/,mathGlobal:/Math\.([^{\s])*/,datetimeGlobal:/DateTime\.[^.}]*/,objectGlobal:/Object\.(\w+\(.*\)\.[^{\s]*)?/},qR=new RegExp(Object.values(jR).map(e=>e.source).join("|"));function zR(e){const t=/(\s+)D[ateTim]*/,s=/(\s+)M[ath]*/,n=/(\s+)O[bject]*/,o=new RegExp([t.source,s.source,n.source].join("|")),i=e.matchBefore(o);if(!i||i.from===i.to&&!e.explicit)return null;const r=i.text.trim(),m=[{label:"DateTime",type:"keyword",info:Te.rootVars.DateTime},{label:"Math",type:"keyword"},{label:"Object",type:"keyword"}].filter(c=>id(c.label,r));return{from:i.to-r.length,filter:!1,options:m}}function kf(){return[DR,AR,PR,OR,zR].map(e=>({autocomplete:XD(["Resolvable"],e)}))}const HR=bA.configure({wrap:KD(e=>e.type.isTop?null:e.name==="Resolvable"?{parser:vA.parser,overlay:t=>t.type.name==="Resolvable"}:null)}),Wp=_m.define({parser:HR});function XS(){return new rl(Wp,[Wp.data.of({closeBrackets:{brackets:["{","("]}}),...kf().map(e=>Wp.data.of(e))])}const Ar={validResolvable:"cm-valid-resolvable",invalidResolvable:"cm-invalid-resolvable",brokenResolvable:"cm-broken-resolvable",plaintext:"cm-plaintext"},KS=tt.theme({["."+Ar.validResolvable]:{color:"var(--color-valid-resolvable-foreground)",backgroundColor:"var(--color-valid-resolvable-background)"},["."+Ar.invalidResolvable]:{color:"var(--color-invalid-resolvable-foreground)",backgroundColor:"var(--color-invalid-resolvable-background)"}}),sb={valid:_n.mark({class:Ar.validResolvable}),invalid:_n.mark({class:Ar.invalidResolvable})},hc={addColorEffect:Rn.define({map:({from:e,to:t,kind:s,error:n},o)=>({from:o.mapPos(e),to:o.mapPos(t),kind:s,error:n})}),removeColorEffect:Rn.define({map:({from:e,to:t},s)=>({from:s.mapPos(e),to:s.mapPos(t)})})},mc=il.define({provide:e=>tt.decorations.from(e),create(){return _n.none},update(e,t){e=e.map(t.changes);for(const s of t.effects)if(s.is(hc.removeColorEffect)&&(e=e.update({filter:(n,o)=>s.value.from!==n&&s.value.to!==o})),s.is(hc.addColorEffect)){e=e.update({filter:(o,i)=>s.value.from!==o&&s.value.to!==i});const n=s.value.error?sb.invalid:sb.valid;if(s.value.from===0&&s.value.to===0)continue;e=e.update({add:[n.range(s.value.from,s.value.to)]})}return e}});function QR(e,t){const s=t.map(({from:n,to:o,kind:i,error:r})=>hc.addColorEffect.of({from:n,to:o,kind:i,error:r}));s.length!==0&&(e.state.field(mc,!1)||s.push(Rn.appendConfig.of([mc,KS])),e.dispatch({effects:s}))}function GR(e,t){const s=t.map(({from:n,to:o})=>hc.removeColorEffect.of({from:n,to:o}));s.length!==0&&(e.state.field(mc,!1)||s.push(Rn.appendConfig.of([mc,KS])),e.dispatch({effects:s}))}const YR=Pm(Im.define([{tag:Se.content,class:Ar.plaintext},{tag:Se.className,class:Ar.brokenResolvable}])),Ht={addColor:QR,removeColor:GR,resolvableStyle:YR},JS={"&":{borderWidth:"var(--border-width-base)",borderStyle:"var(--input-border-style, var(--border-style-base))",borderColor:"var(--input-border-color, var(--border-color-base))",borderRadius:"var(--input-border-radius, var(--border-radius-base))",backgroundColor:"var(--color-expression-editor-background)"},"&.cm-focused":{borderColor:"var(--color-secondary)",outline:"0 !important"},".cm-content":{fontFamily:"var(--font-family-monospace)",height:"220px",padding:"var(--spacing-xs)",color:"var(--input-font-color, var(--color-text-dark))"},".cm-line":{padding:"0"}},XR=()=>[tt.theme(JS),Ht.resolvableStyle],KR=()=>[tt.theme({...JS,".cm-valid-resolvable":{padding:"0 2px",borderRadius:"2px"},".cm-invalid-resolvable":{padding:"0 2px",borderRadius:"2px"}}),Ht.resolvableStyle];function ZS(e,t){t.dispatch({changes:{from:t.viewport.to,insert:"_"}}),t.dispatch({changes:{from:t.viewport.to-1,to:t.viewport.to,insert:""}})}const JR=J({name:"ExpressionEditorModalInput",mixins:[Tl,jS,ut],props:{modelValue:{type:String},path:{type:String},isReadOnly:{type:Boolean}},data(){return{editor:null}},mounted(){const e=[XR(),al(),tT.highest(ll.of([{key:"Tab",run:Ia},{any:(t,s)=>(s.key==="Escape"&&(s.stopPropagation(),this.$emit("close")),!1)},{key:"Mod-Shift-z",run:Br}])),XS(),vl(),od(),tt.lineWrapping,bs.readOnly.of(this.isReadOnly),tt.contentAttributes.of({"data-gramm":"false"}),tt.domEventHandlers({scroll:ZS}),tt.updateListener.of(t=>{!this.editor||!t.docChanged||(this.editorState=this.editor.state,Ht.removeColor(this.editor,this.plaintextSegments),Ht.addColor(this.editor,this.resolvableSegments),setTimeout(()=>{var s;(s=this.editor)==null||s.focus();try{this.trackCompletion(t,this.path)}catch{}}),this.$emit("change",{value:this.unresolvedExpression,segments:this.displayableSegments}))})];this.editor=new tt({parent:this.$refs.root,state:bs.create({doc:this.modelValue.startsWith("=")?this.modelValue.slice(1):this.modelValue,extensions:e})}),this.editorState=this.editor.state,this.editor.focus(),Ht.addColor(this.editor,this.resolvableSegments),this.editor.dispatch({selection:{anchor:this.editor.state.doc.length}}),this.$emit("change",{value:this.unresolvedExpression,segments:this.displayableSegments})},beforeUnmount(){var e;(e=this.editor)==null||e.destroy()},methods:{itemSelected({variable:e}){if(!this.editor||this.isReadOnly)return;const t="{{",s="}}",{doc:n,selection:o}=this.editor.state,{head:i}=o.main,l=n.toString().slice(0,i).includes(t)&&n.toString().slice(i,n.length).includes(s)?e:[t,e,s].join(" ");this.editor.dispatch({changes:{from:i,insert:l}})}}});function ZR(e,t,s,n,o,i){return y(),P("div",{ref:"root",onKeydown:t[0]||(t[0]=Qe(()=>{},["stop"]))},null,544)}const eV=te(JR,[["render",ZR]]),tV=J({name:"ExpressionEditorModalOutput",props:{segments:{type:Array}},watch:{segments(){this.editor&&(this.editor.dispatch({changes:{from:0,to:this.editor.state.doc.length,insert:this.resolvedExpression}}),Ht.addColor(this.editor,this.resolvedSegments),Ht.removeColor(this.editor,this.plaintextSegments))}},data(){return{editor:null}},mounted(){const e=[KR(),bs.readOnly.of(!0),tt.lineWrapping,tt.domEventHandlers({scroll:ZS})];this.editor=new tt({parent:this.$refs.root,state:bs.create({doc:this.resolvedExpression,extensions:e})})},beforeUnmount(){var e;(e=this.editor)==null||e.destroy()},computed:{resolvedExpression(){return this.segments.reduce((e,t)=>(e+=t.kind==="resolvable"?t.resolved:t.plaintext,e),"")},plaintextSegments(){return this.segments.filter(e=>e.kind==="plaintext")},resolvedSegments(){let e=0;return this.segments.map(t=>(t.from=e,e+=t.kind==="plaintext"?t.plaintext.length:t.resolved?t.resolved.toString().length:0,t.to=e,t)).filter(t=>t.kind==="resolvable")}},methods:{getValue(){return"="+this.resolvedExpression}}}),sV={ref:"root"};function nV(e,t,s,n,o,i){return y(),P("div",sV,null,512)}const oV=te(tV,[["render",nV]]),iV=J({name:"VariableSelectorItem",mixins:[Ft],props:["allowParentSelect","extendAll","item","redactValues"],mounted(){if(this.extended)return;[this.$locale.baseText("variableSelectorItem.currentNode"),this.$locale.baseText("variableSelectorItem.inputData"),this.$locale.baseText("variableSelectorItem.binary"),this.$locale.baseText("variableSelectorItem.json")].includes(this.item.name)&&this.item.key===void 0&&(this.extended=!0)},computed:{itemAddOperations(){const e=[{command:"raw",displayName:"Raw value"}];return this.item.dataType==="array"?(e.push({command:"arrayLength",displayName:"Length"}),e.push({command:"arrayValues",displayName:"Values"})):this.item.dataType==="object"&&(e.push({command:"objectKeys",displayName:"Keys"}),e.push({command:"objectValues",displayName:"Values"})),e}},data(){return{extended:!1}},methods:{optionSelected(e,t){let s=t.key;e==="arrayValues"?s=`${t.key}.join(', ')`:e==="arrayLength"?s=`${t.key}.length`:e==="objectKeys"?s=`Object.keys(${t.key}).join(', ')`:e==="objectValues"&&(s=`Object.values(${t.key}).join(', ')`),this.$emit("itemSelected",{variable:s})},selectItem(e){this.$emit("itemSelected",{variable:e.key})},forwardItemSelected(e){this.$emit("itemSelected",e)}}});const rV={class:"item"},aV={key:0,class:"options"},lV={key:0,class:"options-toggle"},uV=["title"],cV={key:1},dV=["title"];function pV(e,t,s,n,o,i){const r=E("font-awesome-icon"),l=E("el-dropdown-item"),m=E("el-dropdown-menu"),c=E("el-dropdown"),h=E("variable-selector-item",!0);return y(),P("div",rV,[e.item.options?(y(),P("div",aV,[e.item.options.length?(y(),P("div",{key:0,class:"headline clickable",onClick:t[3]||(t[3]=p=>e.extended=!e.extended)},[e.extendAll!==!0?(y(),P("div",lV,[e.extended?(y(),R(r,{key:0,icon:"angle-down"})):(y(),R(r,{key:1,icon:"angle-right"}))])):W("",!0),D("div",{class:"option-title",title:e.item.key},[V(N(e.item.name)+" ",1),e.allowParentSelect===!0?(y(),R(c,{key:0,trigger:"click",onClick:t[1]||(t[1]=Qe(()=>{},["stop"])),onCommand:t[2]||(t[2]=p=>e.optionSelected(p,e.item))},{dropdown:v(()=>[b(m,null,{default:v(()=>[(y(!0),P(Ie,null,Re(e.itemAddOperations,p=>(y(),R(l,{command:p.command,key:p.command},{default:v(()=>[V(N(p.displayName),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:v(()=>[D("span",{class:"el-dropdown-link clickable",onClick:t[0]||(t[0]=Qe(()=>{},["stop"]))},[b(r,{icon:"dot-circle",title:e.$locale.baseText("variableSelectorItem.selectItem")},null,8,["title"])])]),_:1})):W("",!0)],8,uV)])):W("",!0),e.item.options&&(e.extended===!0||e.extendAll===!0)?(y(),P("div",cV,[(y(!0),P(Ie,null,Re(e.item.options,p=>(y(),R(h,{item:p,key:p.key,extendAll:e.extendAll,allowParentSelect:p.allowParentSelect,redactValues:e.redactValues,class:"sub-level",onItemSelected:e.forwardItemSelected},null,8,["item","extendAll","allowParentSelect","redactValues","onItemSelected"]))),128))])):W("",!0)])):(y(),P("div",{key:1,class:"value clickable",onClick:t[4]||(t[4]=p=>e.selectItem(e.item))},[D("div",{class:"item-title",title:e.item.key},[V(N(e.item.name)+": ",1),b(r,{icon:"dot-circle",title:"Select Item"})],8,dV),D("div",{class:$({"ph-no-capture":e.redactValues,"item-value":!0})},N(e.item.value!==void 0?e.item.value:e.$locale.baseText("variableSelectorItem.empty")),3)]))])}const hV=te(iV,[["render",pV],["__scopeId","data-v-f8165520"]]),mV=[As],fV=J({name:"VariableSelector",mixins:[ut],components:{VariableSelectorItem:hV},props:["path","redactValues"],data(){return{variableFilter:"",selectorOpenInputIndex:null}},computed:{...be(Xe,fe,_e),extendAll(){return!!this.variableFilter},currentResults(){return this.getFilterResults(this.variableFilter.toLowerCase(),0)},workflow(){return this.getCurrentWorkflow()}},methods:{forwardItemSelected(e){this.$emit("itemSelected",e)},sortOptions(e){return e===null?null:e.sort((t,s)=>{const n=t.hasOwnProperty("options"),o=s.hasOwnProperty("options");return o&&!n?1:!o&&n||t.name<s.name?-1:t.name>s.name?1:0})},removeEmptyEntries(e){if(Array.isArray(e)){const t=[];let s;return e.forEach(n=>{s=this.removeEmptyEntries(n),s!==null&&t.push(s)}),t}if(e&&e.options){const t=this.removeEmptyEntries(e.options);return Array.isArray(t)&&t.length?(e.options=t,e):Array.isArray(t)&&t.length===0?(delete e.options,e):null}else return e},getPathNormalized(e){if(e===void 0)return"";const t=e.split("."),s=[];let n;for(const o of t){const i=o.match(/\[.*?\]/g);if(i===null)s.push(o);else{o.charAt(0)!=="["&&s.push(o.substr(0,o.indexOf("[")));for(n of i)n=n.slice(1,-1),['"',"'"].includes(n.charAt(0))?(n=n.slice(1,-1),s.push(n)):s.push(`[${n}]`)}}return s.join("|")},jsonDataToFilterOption(e,t,s,n,o,i,r){let l=`${t}["${s}"]`;o!==void 0&&(l+=`[${o}]`);const m=[];if(e===null)return m.push({name:s,key:l,value:"[null]"}),m;if(Array.isArray(e)){let c=s,h=t;o!==void 0&&(h+=`["${s}"]`,c=o.toString());const p=[];for(let g=0;g<e.length;g++)p.push.apply(p,this.jsonDataToFilterOption(e[g],h,c,n,g,`[Item: ${g}]`,r));m.push({name:i||s,options:p,key:l,allowParentSelect:!0,dataType:"array"})}else if(typeof e=="object"){const c=[];for(const h of Object.keys(e))c.push.apply(c,this.jsonDataToFilterOption(e[h],l,h,n,void 0,void 0,r));c.length&&m.push({name:i||s,options:this.sortOptions(c),key:l,allowParentSelect:!0,dataType:"object"})}else{if(n!==void 0&&s.toLowerCase().indexOf(n)===-1)return m;this.getPathNormalized(r)!==this.getPathNormalized(l)&&m.push({name:s,key:l,value:e})}return m},getNodeRunDataOutput(e,t,s,n=0,o=0,i="main",r=0,l=!1){if(!t.hasOwnProperty(e)||t[e].length<=o||!t[e][o].hasOwnProperty("data")||t[e][o].data===null||t[e][o].data===void 0||!t[e][o].data.hasOwnProperty(i)||t[e][o].data[i].length<=r||t[e][o].data[i][r]===null||t[e][o].data[i][r].length<=n)return null;const m=t[e][o].data[i][r][n];return this.getNodeOutput(e,m,s,l)},getNodePinDataOutput(e,t,s,n=!1){const o=t.map(i=>({json:i}))[0];return this.getNodeOutput(e,o,s,n)},getNodeOutput(e,t,s,n=!1){const o=[];if(t.hasOwnProperty("json")){const i=n===!0?"$json":`$('${e}').item.json`,r=[];for(const l of Object.keys(t.json))r.push.apply(r,this.jsonDataToFilterOption(t.json[l],i,l,s));r.length&&o.push({name:"JSON",options:this.sortOptions(r)})}if(t.hasOwnProperty("binary")){const i=n===!0?"$binary":`$('${e}').item.binary`,r=[];let l=[];for(const m of Object.keys(t.binary)){l=[];for(const c in t.binary[m])c!=="data"&&(s&&c.toLowerCase().indexOf(s)===-1||l.push({name:c,key:`${i}.${m}.${c}`,value:t.binary[m][c]}));l.length&&r.push({name:m,key:`${i}.${m}`,options:this.sortOptions(l),allowParentSelect:!0})}r.length&&o.push({name:"Binary",key:i,options:this.sortOptions(r),allowParentSelect:!0})}return o},getNodeContext(e,t,s,n,o){const r="main",m=[],c=this.ndvStore.activeNode;if(c===null)return m;const h=this.workflow.getNodeConnectionIndexes(c.name,s[0],"main"),p=this.connectionInputData(s,n,r,0,h);if(p===null)return m;const g={$execution:{id:no,mode:"test",resumeUrl:no},$executionId:no,$resumeWebhookUrl:no},k=new iD(e,t,0,0,n,p,{},"manual",this.rootStore.timezone,g).getDataProxy().$node[n].context;for(const O of Object.keys(k))o!==void 0&&O.toLowerCase().indexOf(o)===-1||m.push({name:O,key:`$('${n}').context["${O}"]`,value:k[O]});return m},getNodeParameters(e,t,s,n){const o=this.workflow.getNode(e);if(o===null)return null;const i=[];for(const r in o.parameters)r!==s&&(n!==void 0&&r.toLowerCase().indexOf(n)===-1||i.push.apply(i,this.jsonDataToFilterOption(o.parameters[r],t,r,n,void 0,void 0,s)));return i},getFilterResults(e,t){const s="main",n=this.ndvStore.activeNode;if(n===null)return[];const o=this.workflowsStore.getWorkflowExecution;let i=this.workflow.getParentNodes(n.name,s,1),r=this.workflowsStore.getWorkflowRunData;r===null&&(r={});let l=[];const m=[];let c;if(o!==null&&o.data!==void 0){const C=o.data;c=this.getNodeContext(this.workflow,C,i,n.name,e),c.length&&m.push({name:"Context",options:this.sortOptions(c)})}let h;if(i.length){const C=i.find(L=>L===this.ndvStore.ndvInputNodeName),A=this.workflow.getNodeConnectionIndexes(n.name,C,"main"),T=A===void 0?0:A.sourceIndex;h=this.getNodeRunDataOutput(C,r,e,t,0,"main",T,!0);const F=[{name:"JSON",options:[]}];if(i.forEach(L=>{var j;const I=this.workflowsStore.pinDataByNodeName(L);if(I){const q=this.getNodePinDataOutput(L,I,e,!0);F[0].options=F[0].options.concat(((j=q==null?void 0:q[0])==null?void 0:j.options)??[])}}),F[0].options.length>0)if(h){const L=h.find(I=>I.name==="JSON");L?(L.options||(L.options=[]),(F[0].options||[]).forEach(I=>{const j=L.options.findIndex(q=>q.name===I.name);j!==-1?L.options[j]=I:L.options.push(I)})):h.push(F[0])}else h=F;h&&(JSON.stringify(h).length<102400?m.push({name:"Input Data",options:this.sortOptions(h)}):m.push({name:"Input Data",options:[{name:"[Data to large]"}]}))}const p="$parameter";let g=this.path;g.startsWith("parameters.")&&(g=p+g.substring(10)),m.push({name:this.$locale.baseText("variableSelector.parameters"),options:this.sortOptions(this.getNodeParameters(n.name,p,g,e))}),l.push({name:this.$locale.baseText("variableSelector.currentNode"),options:this.sortOptions(m)});const w=[];let S;const k=this.workflow.getParentNodes(n.name,s),O=Object.entries(this.workflow.nodes);O.sort((C,A)=>k.indexOf(A[0])-k.indexOf(C[0]));for(const[C,A]of O){if(C===n.name||mV.includes(A.type))continue;if(S=[{name:this.$locale.baseText("variableSelector.parameters"),options:this.sortOptions(this.getNodeParameters(C,`$('${C}').params`,void 0,e))}],o!==null&&o.data!==void 0){const F=o.data;i=this.workflow.getParentNodes(C,s,1),c=this.getNodeContext(this.workflow,F,i,C,e),c.length&&(S=[{name:this.$locale.baseText("variableSelector.context"),options:this.sortOptions(c)}])}if(k.includes(C)){const F=this.workflowsStore.pinDataByNodeName(C);h=F?this.getNodePinDataOutput(C,F,e):this.getNodeRunDataOutput(C,r,e,t),h&&S.push({name:this.$locale.baseText("variableSelector.outputData"),options:this.sortOptions(h)})}const T=this.$locale.shortNodeType(A.type);w.push({name:this.$locale.headerText({key:`headers.${T}.displayName`,fallback:C}),options:this.sortOptions(S)})}return l.push({name:this.$locale.baseText("variableSelector.nodes"),options:w}),l=this.removeEmptyEntries(l),l===null?[]:l}}});const gV={class:"input-wrapper"},yV={class:"result-wrapper"};function wV(e,t,s,n,o,i){const r=E("n8n-input"),l=E("variable-selector-item");return y(),P("div",{onKeydown:t[1]||(t[1]=Qe(()=>{},["stop"])),class:"variable-selector-wrapper"},[D("div",gV,[b(r,{placeholder:e.$locale.baseText("variableSelector.variableFilter"),modelValue:e.variableFilter,"onUpdate:modelValue":t[0]||(t[0]=m=>e.variableFilter=m),ref:"inputField",size:"small",type:"text"},null,8,["placeholder","modelValue"])]),D("div",yV,[(y(!0),P(Ie,null,Re(e.currentResults,m=>(y(),R(l,{item:m,key:m.key,extendAll:e.extendAll,redactValues:e.redactValues,onItemSelected:e.forwardItemSelected},null,8,["item","extendAll","redactValues","onItemSelected"]))),128))])],32)}const bV=te(fV,[["render",wV],["__scopeId","data-v-4a1bb4e4"]]),kn=J({data(){return{debouncedFunctions:[]}},methods:{async callDebounced(...e){const t=e.shift(),{trailing:s,debounceTime:n}=e.shift();this.debouncedFunctions[t]===void 0&&(this.debouncedFunctions[t]=ol(this[t],n,s?{trailing:s}:{leading:!0})),await this.debouncedFunctions[t].apply(this,e)}}});function e1(e,t,s,n,o,i="ndv"){const r=e.filter(m=>m.kind==="resolvable"),l=r.filter(m=>m.error);return{empty_expression:t==="="||t==="={{}}"||!t,workflow_id:s,source:i,session_id:n,is_transforming_data:r.some(m=>vV(m.resolvable)),has_parameter:t.includes("$parameter"),has_mapping:df(t),node_type:o,handlebar_count:r.length,handlebar_error_count:l.length,short_errors:l.map(m=>m.resolved??null),full_errors:l.map(m=>m.fullError?{...TV(m.fullError),stack:m.fullError.stack}:null)}}function vV(e){return/(\$input\.\w+\(\)\.|\$json(\[('|")|\.)\w+('|")]?\.|\$\(('|")\w+('|")\)\.\w+\(\)\.|\$node\[('|")\w+('|")\]\.\w+\(\)\.)/.test(e)}function TV(e){return Object.getOwnPropertyNames(e).reduce((t,s)=>(t[s]=e[s],t),{})}const SV=J({name:"ExpressionEdit",mixins:[Ft,Nt,kn],props:["dialogVisible","parameter","path","modelValue","eventSource","redactValues"],components:{ExpressionEditorModalInput:eV,ExpressionEditorModalOutput:oV,VariableSelector:bV},data(){return{displayValue:"",latestValue:"",segments:[],expressionsDocsUrl:Qm}},computed:{...be(Xe,_e)},methods:{valueChanged({value:e,segments:t},s=!1){this.latestValue=e,this.segments=t,s===!0?(this.updateDisplayValue(),this.$emit("update:modelValue",this.latestValue)):this.callDebounced("updateDisplayValue",{debounceTime:500})},updateDisplayValue(){this.displayValue=this.latestValue},closeDialog(){return this.latestValue!==this.modelValue&&this.$emit("update:modelValue",this.latestValue),this.$emit("closeDialog"),!1},itemSelected(e){var s;this.$refs.inputFieldExpression.itemSelected(e),this.$externalHooks().run("expressionEdit.itemSelected",{parameter:this.parameter,value:this.modelValue,selectedItem:e});const t={event_version:"2",node_type_dest:this.ndvStore.activeNode?this.ndvStore.activeNode.type:"",parameter_name_dest:this.parameter.displayName,is_immediate_input:!1,variable_expression:e.variable,node_name:this.ndvStore.activeNode?this.ndvStore.activeNode.name:""};if(e.variable){let n=e.variable.split(".");if(e.variable.startsWith("Object.keys")?(n=e.variable.split("(")[1].split(")")[0].split("."),t.variable_type="Keys"):e.variable.startsWith("Object.values")?(n=e.variable.split("(")[1].split(")")[0].split("."),t.variable_type="Values"):t.variable_type="Raw value",n[0].startsWith("$('")){const o=/\$\('(.*?)'\)/.exec(n[0]);if(o&&o.length>1){const i=o[1];t.node_type_source=(s=this.workflowsStore.getNodeByName(i))==null?void 0:s.type;const r=this.workflowsStore.outgoingConnectionsByNodeName(i).main;t.is_immediate_input=r&&r[0]&&r[0].some(({node:l})=>{var m;return l===((m=this.ndvStore.activeNode)==null?void 0:m.name)||""}),n[1].startsWith("parameter")&&(t.parameter_name_source=n[1].split('"')[1])}}else t.is_immediate_input=!0,n[0].startsWith("$parameter")&&(t.parameter_name_source=n[0].split('"')[1])}this.$telemetry.track("User inserted item from Expression Editor variable selector",t)}},watch:{dialogVisible(e){var s;this.displayValue=this.modelValue,this.latestValue=this.modelValue;const t=this.$refs.expressionResult&&this.$refs.expressionResult.getValue()||void 0;if(this.$externalHooks().run("expressionEdit.dialogVisibleChanged",{dialogVisible:e,parameter:this.parameter,value:this.modelValue,resolvedExpressionValue:t}),!e){const n=e1(this.segments,this.modelValue,this.workflowsStore.workflowId,this.ndvStore.sessionId,((s=this.ndvStore.activeNode)==null?void 0:s.type)??"");this.$telemetry.track("User closed Expression Editor",n),this.$externalHooks().run("expressionEdit.closeDialog",n)}}}});const kV=e=>(_c("data-v-f6f82e2e"),e=e(),Pc(),e),EV={class:"header-side-menu"},xV={class:"headline"},CV={class:"sub-headline"},OV={class:"variable-selector"},DV={class:"expression-editor-wrapper"},AV={class:"editor-description"},$V={class:"hint"},NV=kV(()=>D("div",{class:"expression-syntax-example",textContent:"{{ }}"},null,-1)),_V={class:"expression-editor"},PV={class:"expression-result-wrapper"},IV={class:"editor-description"};function MV(e,t,s,n,o,i){const r=E("variable-selector"),l=E("el-col"),m=E("n8n-link"),c=E("ExpressionEditorModalInput"),h=E("ExpressionEditorModalOutput"),p=E("el-row"),g=E("el-dialog");return e.dialogVisible?(y(),P("div",{key:0,class:"expression-edit",onKeydown:t[0]||(t[0]=Qe(()=>{},["stop"]))},[b(g,{modelValue:e.dialogVisible,class:"expression-dialog classic",width:"80%",title:e.$locale.baseText("expressionEdit.editExpression"),"before-close":e.closeDialog},{default:v(()=>[b(p,null,{default:v(()=>[b(l,{span:8},{default:v(()=>[D("div",EV,[D("div",xV,N(e.$locale.baseText("expressionEdit.editExpression")),1),D("div",CV,N(e.$locale.baseText("expressionEdit.variableSelector")),1)]),D("div",OV,[b(r,{path:e.path,redactValues:e.redactValues,onItemSelected:e.itemSelected},null,8,["path","redactValues","onItemSelected"])])]),_:1}),b(l,{span:16,class:"right-side"},{default:v(()=>[D("div",DV,[D("div",AV,[D("div",null,N(e.$locale.baseText("expressionEdit.expression")),1),D("div",$V,[D("span",null,N(e.$locale.baseText("expressionEdit.anythingInside")),1),NV,D("span",null,N(e.$locale.baseText("expressionEdit.isJavaScript")),1),V(" "+N(" ")+" "),b(m,{size:"medium",to:e.expressionsDocsUrl},{default:v(()=>[V(N(e.$locale.baseText("expressionEdit.learnMore")),1)]),_:1},8,["to"])])]),D("div",_V,[b(c,{modelValue:e.modelValue,isReadOnly:e.isReadOnlyRoute,path:e.path,class:$({"ph-no-capture":e.redactValues}),onChange:e.valueChanged,onClose:e.closeDialog,ref:"inputFieldExpression","data-test-id":"expression-modal-input"},null,8,["modelValue","isReadOnly","path","class","onChange","onClose"])])]),D("div",PV,[D("div",IV,N(e.$locale.baseText("expressionEdit.resultOfItem1")),1),D("div",{class:$({"ph-no-capture":e.redactValues})},[b(h,{segments:e.segments,ref:"expressionResult","data-test-id":"expression-modal-output"},null,8,["segments"])],2)])]),_:1})]),_:1})]),_:1},8,["modelValue","title","before-close"])],32)):W("",!0)}const LV=te(SV,[["render",MV],["__scopeId","data-v-f6f82e2e"]]),FV=J({name:"ParameterIssues",components:{TitledList:bf},props:["issues"]}),BV={"parameter-issues":"_parameter-issues_rdqy5_5"};function RV(e,t,s,n,o,i){const r=E("titled-list"),l=E("font-awesome-icon"),m=E("n8n-tooltip");return e.issues.length?(y(),P("div",{key:0,class:$(e.$style["parameter-issues"])},[b(m,{placement:"top"},{content:v(()=>[b(r,{title:`${e.$locale.baseText("parameterInput.issues")}:`,items:e.issues},null,8,["title","items"])]),default:v(()=>[b(l,{icon:"exclamation-triangle"})]),_:1})],2)):W("",!0)}const VV={$style:BV},Ef=te(FV,[["render",RV],["__cssModules",VV]]),t1={"&.cm-focused":{outline:"0 !important"},".cm-content":{fontFamily:"var(--font-family-monospace)",color:"var(--input-font-color, var(--color-text-dark))"},".cm-line":{padding:"0"}},UV=({isSingleLine:e}={isSingleLine:!1})=>[tt.theme({...t1,"&":{maxHeight:e?"30px":"112px",minHeight:"30px",width:"100%",fontSize:"var(--font-size-2xs)",padding:"0 0 0 var(--spacing-2xs)",borderWidth:"var(--border-width-base)",borderStyle:"var(--input-border-style, var(--border-style-base))",borderColor:"var(--input-border-color, var(--border-color-base))",borderRadius:"var(--input-border-radius, var(--border-radius-base))",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",backgroundColor:"white"},".cm-scroller":{lineHeight:"1.68"}}),Ht.resolvableStyle],WV=()=>[tt.theme({...t1,"&":{maxHeight:"95px",width:"100%",fontSize:"var(--font-size-2xs)",padding:"0",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",backgroundColor:"white"},".cm-scroller":{lineHeight:"1.6"},".cm-valid-resolvable":{padding:"0 2px",borderRadius:"2px"},".cm-invalid-resolvable":{padding:"0 2px",borderRadius:"2px"}}),Ht.resolvableStyle],nb=new xh,jV=J({name:"InlineExpressionEditorInput",mixins:[jS,Tl,ut],props:{modelValue:{type:String},isReadOnly:{type:Boolean,default:!1},isSingleLine:{type:Boolean,default:!1},path:{type:String}},watch:{isReadOnly(e){var t;(t=this.editor)==null||t.dispatch({effects:nb.reconfigure(tt.editable.of(!e))})},modelValue(e){var s,n,o;e!==((s=this.editor)==null?void 0:s.state.doc.toString())&&((o=this.editor)==null||o.dispatch({changes:{from:0,to:(n=this.editor)==null?void 0:n.state.doc.length,insert:e}}))},ndvInputData(){var e;(e=this.editor)==null||e.dispatch({changes:{from:0,to:this.editor.state.doc.length,insert:this.modelValue}}),setTimeout(()=>{var t;(t=this.editor)==null||t.contentDOM.blur()})}},computed:{...be(Xe),ndvInputData(){return this.ndvStore.ndvInputData}},mounted(){const e=[UV({isSingleLine:this.isSingleLine}),tT.highest(ll.of([{key:"Tab",run:Ia},{any(t,s){return s.key==="Escape"&&Nm(t.state)!==null&&s.stopPropagation(),!1}},{key:"Mod-Shift-z",run:Br}])),al(),XS(),vl(),od(),tt.lineWrapping,nb.of(tt.editable.of(!this.isReadOnly)),tt.contentAttributes.of({"data-gramm":"false"}),tt.domEventHandlers({focus:()=>{this.$emit("focus")}}),tt.updateListener.of(t=>{!this.editor||!t.docChanged||(this.editorState=this.editor.state,Ht.removeColor(this.editor,this.plaintextSegments),Ht.addColor(this.editor,this.resolvableSegments),setTimeout(()=>{try{this.trackCompletion(t,this.path)}catch{}}),this.$emit("change",{value:this.unresolvedExpression,segments:this.displayableSegments}))})];this.editor=new tt({parent:this.$refs.root,state:bs.create({doc:this.modelValue.startsWith("=")?this.modelValue.slice(1):this.modelValue,extensions:e})}),this.editorState=this.editor.state,Ht.addColor(this.editor,this.resolvableSegments),this.$emit("change",{value:this.unresolvedExpression,segments:this.displayableSegments})},beforeUnmount(){var e;(e=this.editor)==null||e.destroy()},methods:{focus(){var e;(e=this.editor)==null||e.focus()}}}),qV={ref:"root","data-test-id":"inline-expression-editor-input"};function zV(e,t,s,n,o,i){return y(),P("div",qV,null,512)}const HV=te(jV,[["render",zV]]),QV=J({name:"InlineExpressionEditorOutput",props:{segments:{type:Array,required:!0},isReadOnly:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},hoveringItemNumber:{type:Number,required:!0}},watch:{segments(){this.editor&&(this.editor.dispatch({changes:{from:0,to:this.editor.state.doc.length,insert:this.resolvedExpression}}),Ht.addColor(this.editor,this.resolvedSegments),Ht.removeColor(this.editor,this.plaintextSegments))}},setup(){return{i18n:Lt()}},data(){return{editor:null,expressionsDocsUrl:Qm}},mounted(){this.editor=new tt({parent:this.$refs.root,state:bs.create({doc:this.resolvedExpression,extensions:[WV(),bs.readOnly.of(!0),tt.lineWrapping]})})},beforeUnmount(){var e;(e=this.editor)==null||e.destroy()},computed:{resolvedExpression(){return this.segments.reduce((e,t)=>(e+=t.kind==="resolvable"?t.resolved:t.plaintext,e),"")},plaintextSegments(){return this.segments.filter(e=>e.kind==="plaintext")},resolvedSegments(){let e=0;return this.segments.map(t=>(t.from=e,e+=t.kind==="plaintext"?t.plaintext.length:t.resolved?t.resolved.toString().length:0,t.to=e,t)).filter(t=>t.kind==="resolvable")}}}),GV="_hidden_uz2ps_5",YV="_dropdown_uz2ps_9",XV="_header_uz2ps_22",KV="_body_uz2ps_23",JV="_footer_uz2ps_24",ZV={hidden:GV,dropdown:YV,header:XV,body:KV,footer:JV,"expression-syntax-example":"_expression-syntax-example_uz2ps_46","learn-more":"_learn-more_uz2ps_54"},eU={ref:"root","data-test-id":"inline-expression-editor-output"};function tU(e,t,s,n,o,i){const r=E("n8n-text"),l=E("n8n-link");return y(),P("div",{class:$(e.visible?e.$style.dropdown:e.$style.hidden)},[b(r,{size:"small",compact:"",class:$(e.$style.header)},{default:v(()=>[V(N(e.i18n.baseText("parameterInput.resultForItem"))+" "+N(e.hoveringItemNumber),1)]),_:1},8,["class"]),b(r,{class:$(e.$style.body)},{default:v(()=>[D("div",eU,null,512)]),_:1},8,["class"]),D("div",{class:$(e.$style.footer)},[b(r,{size:"small",compact:""},{default:v(()=>[V(N(e.i18n.baseText("parameterInput.anythingInside")),1)]),_:1}),D("div",{class:$(e.$style["expression-syntax-example"]),textContent:"{{ }}"},null,2),b(r,{size:"small",compact:""},{default:v(()=>[V(N(e.i18n.baseText("parameterInput.isJavaScript")),1)]),_:1}),V(" "+N(" ")+" "),b(l,{class:$(e.$style["learn-more"]),size:"small",underline:"",theme:"text",to:e.expressionsDocsUrl},{default:v(()=>[V(N(e.i18n.baseText("parameterInput.learnMore")),1)]),_:1},8,["class","to"])],2)],2)}const sU={$style:ZV},s1=te(QV,[["render",tU],["__cssModules",sU]]),nU={name:"ExpressionFunctionIcon"},oU={width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},iU=D("path",{d:"M3.69653 4.35645L3.29907 4.80566L3.33813 4.97559H4.36157C4.15258 6.18457 3.99633 7.27441 3.69653 8.9541C3.33813 11.0967 3.13207 11.623 3.01 11.8154C2.90258 12.0059 2.74829 12.1045 2.5393 12.1045C2.30981 12.1045 1.89477 11.9229 1.67211 11.7168C1.59204 11.6621 1.49731 11.6758 1.39672 11.7422C1.19555 11.9121 1.00024 12.1738 1.00024 12.4082C0.988519 12.7246 1.41137 13 1.81469 13C2.17016 13 2.6936 12.7773 3.24438 12.2539C3.99731 11.54 4.56079 10.5605 5.03149 8.44336C5.33422 7.0918 5.4768 6.21289 5.68969 4.97656L6.96118 4.86133L7.23657 4.35645H5.80493C6.17504 2.02832 6.46411 1.68359 6.81957 1.68359C7.0559 1.68359 7.33129 1.86523 7.6477 2.22266C7.74145 2.35156 7.88207 2.33789 7.9895 2.25C8.17016 2.14258 8.39282 1.86719 8.40747 1.61719C8.41821 1.3418 8.09008 1 7.52563 1C7.01391 1 6.22973 1.3418 5.57055 2.01367C4.99243 2.62598 4.68969 3.39062 4.48071 4.35645H3.69653ZM7.76489 5.91504C8.15942 5.38965 8.39575 5.21484 8.51782 5.21484C8.64379 5.21484 8.74438 5.33887 8.9602 6.03613L9.32934 7.22656C8.61547 8.31836 8.09301 8.92676 7.77563 8.92676C7.67016 8.92676 7.56372 8.89355 7.48852 8.81934C7.4143 8.74512 7.33227 8.68359 7.25219 8.68359C6.99047 8.68359 6.66625 9.00098 6.66039 9.39453C6.65454 9.7959 6.93579 10.083 7.30493 10.083C7.93872 10.083 8.47485 9.46094 9.51 7.81152L9.81274 8.83203C10.0725 9.70898 10.3772 10.083 10.7581 10.083C11.2288 10.083 11.8616 9.68164 12.552 8.59668L12.2629 8.2666C11.8479 8.7666 11.5725 9.00098 11.4094 9.00098C11.2278 9.00098 11.0686 8.72363 10.8586 8.04199L10.4163 6.60352C10.678 6.21777 10.9358 5.89355 11.1623 5.63477C11.4319 5.32715 11.6399 5.19629 11.7815 5.19629C11.9006 5.19629 12.0041 5.24707 12.0686 5.31836C12.1536 5.41211 12.2043 5.45605 12.3049 5.45605C12.5325 5.45605 12.884 5.16699 12.8967 4.78418C12.9084 4.42871 12.6877 4.12598 12.3049 4.12598C11.7268 4.12598 11.217 4.62402 10.2356 6.08301L10.0334 5.45703C9.75024 4.57812 9.56274 4.12598 9.16821 4.12598C8.70922 4.12598 8.07836 4.69043 7.46118 5.58496L7.76489 5.91504Z",fill:"#7D838F"},null,-1),rU=[iU];function aU(e,t,s,n,o,i){return y(),P("svg",oU,rU)}const lU=te(nU,[["render",aU]]),uU=J({name:"ExpressionParameterInput",components:{InlineExpressionEditorInput:HV,InlineExpressionEditorOutput:s1,ExpressionFunctionIcon:lU},data(){return{isFocused:!1,segments:[]}},props:{path:{type:String},modelValue:{type:String},isReadOnly:{type:Boolean,default:!1},isForRecordLocator:{type:Boolean,default:!1}},computed:{...be(Xe,_e),hoveringItemNumber(){return this.ndvStore.hoveringItemNumber},hoveringItem(){return this.ndvStore.getHoveringItem},isDragging(){return this.ndvStore.isDraggableDragging}},methods:{focus(){const e=this.$refs.inlineInput;e!=null&&e.$el&&e.focus()},onFocus(){this.isFocused=!0,this.$emit("focus")},onBlur(e){var s;if(e.target instanceof Element&&Array.from(e.target.classList).some(n=>n.includes("resizer"))||this.isDragging)return;const t=this.isFocused;if(this.isFocused=!1,this.$emit("blur"),t){const n=e1(this.segments,this.modelValue,this.workflowsStore.workflowId,this.ndvStore.sessionId,((s=this.ndvStore.activeNode)==null?void 0:s.type)??"");this.$telemetry.track("User closed Expression Editor",n)}},onChange({value:e,segments:t}){this.isDragging||(this.segments=t,e!=="="+this.modelValue&&this.$emit("update:modelValue",e))}}}),cU="_squared_hpzsn_21",dU="_focused_hpzsn_46",pU={"expression-parameter-input":"_expression-parameter-input_hpzsn_5","all-sections":"_all-sections_hpzsn_8","prepend-section":"_prepend-section_hpzsn_15",squared:cU,"expression-editor-modal-opener":"_expression-editor-modal-opener_hpzsn_25",focused:dU};function hU(e,t,s,n,o,i){const r=E("ExpressionFunctionIcon"),l=E("InlineExpressionEditorInput"),m=E("n8n-icon"),c=E("InlineExpressionEditorOutput"),h=Ls("on-click-outside");return He((y(),P("div",{class:$(e.$style["expression-parameter-input"]),onKeydown:t[1]||(t[1]=Ts((...p)=>e.onBlur&&e.onBlur(...p),["tab"]))},[D("div",{class:$([e.$style["all-sections"],{[e.$style.focused]:e.isFocused}])},[D("div",{class:$([e.$style["prepend-section"],"el-input-group__prepend",{[e.$style.squared]:e.isForRecordLocator}])},[b(r)],2),b(l,{modelValue:e.modelValue,isReadOnly:e.isReadOnly,targetItem:e.hoveringItem,isSingleLine:e.isForRecordLocator,path:e.path,onFocus:e.onFocus,onBlur:e.onBlur,onChange:e.onChange,ref:"inlineInput"},null,8,["modelValue","isReadOnly","targetItem","isSingleLine","path","onFocus","onBlur","onChange"]),e.isDragging?W("",!0):(y(),R(m,{key:0,icon:"external-link-alt",size:"xsmall",class:$(e.$style["expression-editor-modal-opener"]),onClick:t[0]||(t[0]=p=>e.$emit("modalOpenerClick")),"data-test-id":"expander"},null,8,["class"]))],2),b(c,{segments:e.segments,isReadOnly:e.isReadOnly,visible:e.isFocused,hoveringItemNumber:e.hoveringItemNumber},null,8,["segments","isReadOnly","visible","hoveringItemNumber"])],34)),[[h,e.onBlur]])}const mU={$style:pU},n1=te(uU,[["render",hU],["__cssModules",mU]]),fU=J({props:{type:{type:String},disabled:{type:Boolean},sticky:{type:Boolean},stickyOffset:{type:Array,default:()=>[0,0]}},data(){return{hovering:!1}},mounted(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp)},beforeUnmount(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)},computed:{...be(Xe),isDragging(){return this.ndvStore.isDraggableDragging},draggableType(){return this.ndvStore.draggableType},droppable(){return!this.disabled&&this.isDragging&&this.draggableType===this.type},activeDrop(){return this.droppable&&this.hovering}},methods:{onMouseMove(e){const t=this.$refs.target;if(t&&this.isDragging){const s=t.getBoundingClientRect();if(this.hovering=e.clientX>=s.left&&e.clientX<=s.right&&e.clientY>=s.top&&e.clientY<=s.bottom,!this.disabled&&this.sticky&&this.hovering){const[n,o]=this.stickyOffset;this.ndvStore.setDraggableStickyPos([s.left+n,s.top+o])}}},onMouseUp(e){if(this.activeDrop){const t=this.ndvStore.draggableData;this.$emit("drop",t)}}},watch:{activeDrop(e){this.ndvStore.setDraggableCanDrop(e)}}}),gU={ref:"target"};function yU(e,t,s,n,o,i){return y(),P("div",gU,[Ke(e.$slots,"default",{droppable:e.droppable,activeDrop:e.activeDrop})],512)}const o1=te(fU,[["render",yU]]),wU=40,ob=10,bU=J({name:"resource-locator-dropdown",props:{modelValue:{type:[String,Number]},show:{type:Boolean,default:!1},resources:{type:Array},filterable:{type:Boolean},loading:{type:Boolean},filter:{type:String},hasMore:{type:Boolean},errorView:{type:Boolean},filterRequired:{type:Boolean},width:{type:Number},eventBus:{type:Object,default:()=>Ze()}},data(){return{hoverIndex:0,showHoverUrl:!1}},mounted(){this.eventBus.on("keyDown",this.onKeyDown)},beforeUnmount(){this.eventBus.off("keyDown",this.onKeyDown)},computed:{sortedResources(){const e=new Set,{selected:t,notSelected:s}=this.resources.reduce((n,o)=>(e.has(o.value)||(e.add(o.value),this.modelValue&&o.value===this.modelValue?n.selected=o:n.notSelected.push(o)),n),{selected:null,notSelected:[]});return t?[t,...s]:s}},methods:{openUrl(e,t){e.preventDefault(),e.stopPropagation(),window.open(t,"_blank")},onKeyDown(e){const t=this.$refs.resultsContainer;if(e.key==="ArrowDown"){if(this.hoverIndex<this.sortedResources.length-1){this.hoverIndex++;const s=this.$refs[`item-${this.hoverIndex}`];if(t&&Array.isArray(s)&&s.length===1){const n=s[0];if(n.offsetTop+n.clientHeight>t.scrollTop+t.offsetHeight){const o=n.offsetTop-t.offsetHeight+n.clientHeight;t.scrollTo({top:o})}}}}else if(e.key==="ArrowUp"){if(this.hoverIndex>0){this.hoverIndex--;const s=this.filterable?wU:0,n=this.$refs[`item-${this.hoverIndex}`];if(t&&Array.isArray(n)&&n.length===1){const o=n[0];o.offsetTop<=t.scrollTop+s&&t.scrollTo({top:o.offsetTop-s})}}}else e.key==="Enter"&&this.$emit("update:modelValue",this.sortedResources[this.hoverIndex].value)},onFilterInput(e){this.$emit("filter",e)},onItemClick(e){this.$emit("update:modelValue",e)},onItemHover(e){this.hoverIndex=e,setTimeout(()=>{this.hoverIndex===e&&(this.showHoverUrl=!0)},250)},onItemHoverLeave(){this.showHoverUrl=!1},onResultsEnd(){if(this.loading||!this.hasMore)return;const e=this.$refs.resultsContainer;if(e){const t=e.offsetHeight-(e.scrollHeight-e.scrollTop);t>-ob&&t<ob&&this.$emit("loadMore")}}},watch:{show(e){e&&(this.hoverIndex=0,this.showHoverUrl=!1,setTimeout(()=>{e&&this.filterable&&this.$refs.search&&this.$refs.search.focus()},0))},loading(){setTimeout(()=>this.onResultsEnd(),0)}}}),vU="_popover_1e1rp_5",TU="_container_1e1rp_25",SU="_messageContainer_1e1rp_30",kU="_searchInput_1e1rp_37",EU="_selected_1e1rp_45",xU="_resourceItem_1e1rp_49",CU="_loadingItem_1e1rp_60",OU="_loader_1e1rp_64",DU="_hovering_1e1rp_72",AU="_searchRequired_1e1rp_76",$U="_urlLink_1e1rp_86",NU="_resourceNameContainer_1e1rp_97",_U="_searchIcon_1e1rp_105",PU={popover:vU,container:TU,messageContainer:SU,searchInput:kU,selected:EU,resourceItem:xU,loadingItem:CU,loader:OU,hovering:DU,searchRequired:AU,urlLink:$U,resourceNameContainer:NU,searchIcon:_U},IU=["onClick","onMouseenter"],MU={key:0};function LU(e,t,s,n,o,i){const r=E("font-awesome-icon"),l=E("n8n-input"),m=E("n8n-loading"),c=E("n8n-popover");return y(),R(c,{placement:"bottom",teleported:!1,width:e.width,"popper-class":e.$style.popover,visible:e.show,trigger:"manual","data-test-id":"resource-locator-dropdown"},{reference:v(()=>[Ke(e.$slots,"default")]),default:v(()=>[e.errorView?(y(),P("div",{key:0,class:$(e.$style.messageContainer)},[Ke(e.$slots,"error")],2)):W("",!0),e.filterable&&!e.errorView?(y(),P("div",{key:1,class:$(e.$style.searchInput),onKeydown:t[0]||(t[0]=(...h)=>e.onKeyDown&&e.onKeyDown(...h))},[b(l,{modelValue:e.filter,clearable:!0,"onUpdate:modelValue":e.onFilterInput,ref:"search",placeholder:e.$locale.baseText("resourceLocator.search.placeholder")},{prefix:v(()=>[b(r,{class:$(e.$style.searchIcon),icon:"search"},null,8,["class"])]),_:1},8,["modelValue","onUpdate:modelValue","placeholder"])],34)):W("",!0),e.filterRequired&&!e.filter&&!e.errorView&&!e.loading?(y(),P("div",{key:2,class:$(e.$style.searchRequired)},N(e.$locale.baseText("resourceLocator.mode.list.searchRequired")),3)):!e.errorView&&e.sortedResources.length===0&&!e.loading?(y(),P("div",{key:3,class:$(e.$style.messageContainer)},N(e.$locale.baseText("resourceLocator.mode.list.noResults")),3)):e.errorView?W("",!0):(y(),P("div",{key:4,ref:"resultsContainer",class:$(e.$style.container),onScroll:t[2]||(t[2]=(...h)=>e.onResultsEnd&&e.onResultsEnd(...h))},[(y(!0),P(Ie,null,Re(e.sortedResources,(h,p)=>(y(),P("div",{key:h.value,class:$({[e.$style.resourceItem]:!0,[e.$style.selected]:h.value===e.modelValue,[e.$style.hovering]:e.hoverIndex===p}),onClick:()=>e.onItemClick(h.value),onMouseenter:()=>e.onItemHover(p),onMouseleave:t[1]||(t[1]=()=>e.onItemHoverLeave()),ref_for:!0,ref:`item-${p}`},[D("div",{class:$(e.$style.resourceNameContainer)},[D("span",null,N(h.name),1)],2),D("div",{class:$(e.$style.urlLink)},[e.showHoverUrl&&h.url&&e.hoverIndex===p?(y(),R(r,{key:0,icon:"external-link-alt",title:h.linkAlt||e.$locale.baseText("resourceLocator.mode.list.openUrl"),onClick:g=>e.openUrl(g,h.url)},null,8,["title","onClick"])):W("",!0)],2)],42,IU))),128)),e.loading&&!e.errorView?(y(),P("div",MU,[(y(),P(Ie,null,Re(3,h=>D("div",{key:h,class:$(e.$style.loadingItem)},[b(m,{class:$(e.$style.loader),variant:"p",rows:1},null,8,["class"])],2)),64))])):W("",!0)],34))]),_:3},8,["width","popper-class","visible"])}const FU={$style:PU},BU=te(bU,[["render",LU],["__cssModules",FU]]),RU=J({name:"resource-locator",mixins:[kn,ut,Bs],components:{DraggableTarget:o1,ExpressionParameterInput:n1,ParameterIssues:Ef,ResourceLocatorDropdown:BU},props:{parameter:{type:Object,required:!0},modelValue:{type:[Object,String]},inputSize:{type:String,default:"small",validator:e=>["mini","small","medium","large","xlarge"].includes(e)},parameterIssues:{type:Array,default:()=>[]},dependentParametersValues:{type:[String,null],default:null},displayTitle:{type:String,default:""},expressionComputedValue:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},expressionDisplayValue:{type:String},forceShowExpression:{type:Boolean,default:!1},isValueExpression:{type:Boolean,default:!1},expressionEditDialogVisible:{type:Boolean,default:!1},node:{type:Object},path:{type:String},loadOptionsMethod:{type:String},eventBus:{type:Object,default:()=>Ze()}},data(){return{resourceDropdownVisible:!1,resourceDropdownHiding:!1,searchFilter:"",cachedResponses:{},hasCompletedASearch:!1,width:0}},computed:{...be(it,Xe,fe,Ee,_e),appName(){if(!this.node)return"";const e=this.nodeTypesStore.getNodeType(this.node.type);return U8((e==null?void 0:e.displayName)||"")},selectedMode(){return typeof this.modelValue!="object"?"":this.modelValue?this.modelValue.mode:this.parameter.modes?this.parameter.modes[0].name:""},isListMode(){return this.selectedMode==="list"},hasCredential(){const e=this.ndvStore.activeNode;return e?!!(e&&e.credentials&&Object.keys(e.credentials).length===1):!1},credentialsNotSet(){var t,s;const e=this.nodeTypesStore.getNodeType((t=this.node)==null?void 0:t.type);return!!(e&&e.credentials!==void 0&&e.credentials.length>0&&!((s=this.node)!=null&&s.credentials))},inputPlaceholder(){return this.currentMode.placeholder?this.currentMode.placeholder:{list:this.$locale.baseText("resourceLocator.mode.list.placeholder"),id:this.$locale.baseText("resourceLocator.id.placeholder"),url:this.$locale.baseText("resourceLocator.url.placeholder")}[this.selectedMode]||""},currentMode(){return this.findModeByName(this.selectedMode)||{}},hasMultipleModes(){return!!(this.parameter.modes&&this.parameter.modes.length>1)},hasOnlyListMode(){return bS(this.parameter)},valueToDisplay(){return typeof this.modelValue!="object"?this.modelValue:this.isListMode?this.modelValue?this.modelValue.cachedResultName||this.modelValue.value:"":this.modelValue?this.modelValue.value:""},urlValue(){if(this.isListMode&&typeof this.modelValue=="object")return this.modelValue&&this.modelValue.cachedResultUrl||null;if(this.selectedMode==="url"){if(this.isValueExpression&&typeof this.expressionComputedValue=="string"&&this.expressionComputedValue.startsWith("http"))return this.expressionComputedValue;if(typeof this.valueToDisplay=="string"&&this.valueToDisplay.startsWith("http"))return this.valueToDisplay}if(this.currentMode.url){const e=this.isValueExpression?this.expressionComputedValue:this.valueToDisplay;if(typeof e=="string"){const t=this.currentMode.url.replace(/\{\{\$value\}\}/g,e),s=this.resolveExpression(t);return typeof s=="string"?s:null}}return null},currentRequestParams(){return{parameters:this.node.parameters,credentials:this.node.credentials,filter:this.searchFilter}},currentRequestKey(){const e={...this.currentRequestParams};return e.parameters=Object.keys(this.node?this.node.parameters:{}).reduce((t,s)=>(s!==this.parameter.name&&this.node&&this.node.parameters&&(t[s]=this.node.parameters[s]),t),{}),CA(e)},currentResponse(){return this.cachedResponses[this.currentRequestKey]||null},currentQueryResults(){return(this.currentResponse?this.currentResponse.results:[]).map(t=>({...t,...t.name&&t.url?{linkAlt:this.getLinkAlt(t.name)}:{}}))},currentQueryHasMore(){return!!(this.currentResponse&&this.currentResponse.nextPageToken)},currentQueryLoading(){return this.requiresSearchFilter&&this.searchFilter===""?!1:this.currentResponse?!!(this.currentResponse&&this.currentResponse.loading):!0},currentQueryError(){return!!(this.currentResponse&&this.currentResponse.error)},isSearchable(){return!!this.getPropertyArgument(this.currentMode,"searchable")},requiresSearchFilter(){return!!this.getPropertyArgument(this.currentMode,"searchFilterRequired")}},watch:{currentQueryError(e,t){if(this.resourceDropdownVisible&&e&&!t){const s=this.$refs.input;s&&s.focus()}},isValueExpression(e){e===!0&&this.switchFromListMode()},currentMode(e){e.extractValue&&e.extractValue.regex&&oo(this.modelValue)&&this.modelValue.__regex!==e.extractValue.regex&&this.$emit("update:modelValue",{...this.modelValue,__regex:e.extractValue.regex})},dependentParametersValues(e,t){t!==null&&e!==null&&t!==e&&this.modelValue&&oo(this.modelValue)&&this.modelValue.value!==""&&this.$emit("update:modelValue",{...this.modelValue,cachedResultName:"",cachedResultUrl:"",value:""})}},mounted(){this.eventBus.on("refreshList",this.refreshList),window.addEventListener("resize",this.setWidth),Xe().$subscribe((e,t)=>{this.setWidth()}),setTimeout(()=>{this.setWidth()},0)},beforeUnmount(){this.eventBus.off("refreshList",this.refreshList),window.removeEventListener("resize",this.setWidth)},methods:{setWidth(){const e=this.$refs.container;e&&(this.width=e==null?void 0:e.offsetWidth)},getLinkAlt(e){return this.selectedMode==="list"&&e?this.$locale.baseText("resourceLocator.openSpecificResource",{interpolate:{entity:e,appName:this.appName}}):this.$locale.baseText("resourceLocator.openResource",{interpolate:{appName:this.appName}})},refreshList(){this.cachedResponses={},this.trackEvent("User refreshed resource locator list")},onKeyDown(e){this.resourceDropdownVisible&&!this.isSearchable&&this.eventBus.emit("keyDown",e)},openResource(e){window.open(e,"_blank"),this.trackEvent("User clicked resource locator link")},getPropertyArgument(e,t){if(e.typeOptions!==void 0&&e.typeOptions[t]!==void 0)return e.typeOptions[t]},openCredential(){const e=this.ndvStore.activeNode;if(!e||!e.credentials)return;const t=Object.keys(e.credentials)[0];if(!t)return;const s=e.credentials[t].id;this.uiStore.openExistingCredential(s)},createNewCredential(){var n,o;const e=this.nodeTypesStore.getNodeType((n=this.node)==null?void 0:n.type);if(!e)return;const t=jo(e),s=t!==null&&Array.isArray(t.options)&&((o=t.options)==null?void 0:o.length)>0;this.uiStore.openNewCredential("",s)},findModeByName(e){return this.parameter.modes&&this.parameter.modes.find(t=>t.name===e)||null},getModeLabel(e){return e==="id"||e==="url"||e==="list"?this.$locale.baseText(`resourceLocator.mode.${e}`):null},onInputChange(e){const t={__rl:!0,value:e,mode:this.selectedMode};if(this.isListMode){const s=this.currentQueryResults.find(n=>n.value===e);s&&s.name&&(t.cachedResultName=s.name),s&&s.url&&(t.cachedResultUrl=s.url)}this.$emit("update:modelValue",t)},onModeSelected(e){typeof this.modelValue!="object"?this.$emit("update:modelValue",{__rl:!0,value:this.modelValue,mode:e}):e==="url"&&this.modelValue&&this.modelValue.cachedResultUrl?this.$emit("update:modelValue",{__rl:!0,mode:e,value:this.modelValue.cachedResultUrl}):e==="id"&&this.selectedMode==="list"&&this.modelValue&&this.modelValue.value?this.$emit("update:modelValue",{__rl:!0,mode:e,value:this.modelValue.value}):this.$emit("update:modelValue",{__rl:!0,mode:e,value:""}),this.trackEvent("User changed resource locator mode",{mode:e})},trackEvent(e,t){this.$telemetry.track(e,{instance_id:this.rootStore.instanceId,workflow_id:this.workflowsStore.workflowId,node_type:this.node&&this.node.type,resource:this.node&&this.node.parameters&&this.node.parameters.resource,operation:this.node&&this.node.parameters&&this.node.parameters.operation,field_name:this.parameter.name,...t})},onDrop(e){this.switchFromListMode(),this.$emit("drop",e)},onSearchFilter(e){this.searchFilter=e,this.loadResourcesDebounced()},async loadInitialResources(){(!this.currentResponse||this.currentResponse&&this.currentResponse.error)&&(this.searchFilter="",await this.loadResources())},loadResourcesDebounced(){this.callDebounced("loadResources",{debounceTime:1e3,trailing:!0})},setResponse(e,t){this.cachedResponses={...this.cachedResponses,[e]:{...this.cachedResponses[e],...t}}},async loadResources(){const e=this.currentRequestParams,t=this.currentRequestKey,s=this.cachedResponses[t];if(this.requiresSearchFilter&&!e.filter)return;let n=null;try{if(s){const c=s.nextPageToken;if(c)n=c,this.setResponse(t,{loading:!0});else if(s.error)this.setResponse(t,{error:!1,loading:!0});else return}else this.setResponse(t,{loading:!0,error:!1,results:[],nextPageToken:null});const o=this.resolveParameter(e.parameters),i=this.getPropertyArgument(this.currentMode,"searchListMethod"),r=this.getPropertyArgument(this.currentMode,"searchList"),l={nodeTypeAndVersion:{name:this.node.type,version:this.node.typeVersion},path:this.path,methodName:i,searchList:r,currentNodeParameters:o,credentials:this.node.credentials,...e.filter?{filter:e.filter}:{},...n?{paginationToken:n}:{}},m=await this.nodeTypesStore.getResourceLocatorResults(l);this.setResponse(t,{results:(s?s.results:[]).concat(m.results),nextPageToken:m.paginationToken||null,loading:!1,error:!1}),e.filter&&!this.hasCompletedASearch&&(this.hasCompletedASearch=!0,this.trackEvent("User searched resource locator list"))}catch{this.setResponse(t,{loading:!1,error:!0})}},onInputFocus(){!this.isListMode||this.resourceDropdownVisible||(this.loadInitialResources(),this.showResourceDropdown())},switchFromListMode(){if(this.isListMode&&this.parameter.modes&&this.parameter.modes.length>1){let e=this.findModeByName("id");e||(e=this.parameter.modes.filter(t=>t.name!=="list")[0]),e&&this.$emit("update:modelValue",{__rl:!0,value:this.modelValue&&typeof this.modelValue=="object"?this.modelValue.value:"",mode:e.name})}},onDropdownHide(){this.currentQueryError||this.hideResourceDropdown()},hideResourceDropdown(){if(!this.resourceDropdownVisible)return;this.resourceDropdownVisible=!1;const e=this.$refs.input;this.resourceDropdownHiding=!0,this.$nextTick(()=>{var t;(t=e==null?void 0:e.blur)==null||t.call(e),this.resourceDropdownHiding=!1})},showResourceDropdown(){this.resourceDropdownVisible||this.resourceDropdownHiding||(this.resourceDropdownVisible=!0)},onListItemSelected(e){this.onInputChange(e),this.hideResourceDropdown()},onInputBlur(){(!this.isSearchable||this.currentQueryError)&&this.hideResourceDropdown(),this.$emit("blur")}}}),VU="_modeSelector_s153q_5",UU="_resourceLocator_s153q_23",WU="_inputContainer_s153q_27",jU="_multipleModes_s153q_35",qU="_droppable_s153q_45",zU="_activeDrop_s153q_50",HU="_selectInput_s153q_60",QU="_selectIcon_s153q_66",GU="_isReverse_s153q_72",YU="_listModeInputContainer_s153q_76",XU="_error_s153q_80",KU="_openResourceLink_s153q_86",JU={modeSelector:VU,resourceLocator:UU,inputContainer:WU,multipleModes:jU,droppable:qU,activeDrop:zU,selectInput:HU,selectIcon:QU,isReverse:GU,listModeInputContainer:YU,error:XU,openResourceLink:KU,"parameter-issues":"_parameter-issues_s153q_91"},ZU=["data-test-id"];function e3(e,t,s,n,o,i){const r=E("n8n-text"),l=E("n8n-option"),m=E("n8n-select"),c=E("ExpressionParameterInput"),h=E("n8n-input"),p=E("draggable-target"),g=E("parameter-issues"),w=E("font-awesome-icon"),S=E("n8n-link"),k=E("resource-locator-dropdown"),O=Ls("on-click-outside");return y(),P("div",{class:"resource-locator",ref:"container","data-test-id":`resource-locator-${e.parameter.name}`},[He((y(),R(k,{ref:"dropdown",modelValue:e.modelValue?e.modelValue.value:"",show:e.resourceDropdownVisible,filterable:e.isSearchable,filterRequired:e.requiresSearchFilter,resources:e.currentQueryResults,loading:e.currentQueryLoading,filter:e.searchFilter,hasMore:e.currentQueryHasMore,errorView:e.currentQueryError,width:e.width,"event-bus":e.eventBus,"onUpdate:modelValue":e.onListItemSelected,onFilter:e.onSearchFilter,onLoadMore:e.loadResourcesDebounced},{error:v(()=>[D("div",{class:$(e.$style.error),"data-test-id":"rlc-error-container"},[b(r,{color:"text-dark",align:"center",tag:"div"},{default:v(()=>[V(N(e.$locale.baseText("resourceLocator.mode.list.error.title")),1)]),_:1}),e.hasCredential||e.credentialsNotSet?(y(),R(r,{key:0,size:"small",color:"text-base"},{default:v(()=>[V(N(e.$locale.baseText("resourceLocator.mode.list.error.description.part1"))+" ",1),e.credentialsNotSet?(y(),P("a",{key:0,onClick:t[0]||(t[0]=(...C)=>e.createNewCredential&&e.createNewCredential(...C))},N(e.$locale.baseText("resourceLocator.mode.list.error.description.part2.noCredentials")),1)):e.hasCredential?(y(),P("a",{key:1,onClick:t[1]||(t[1]=(...C)=>e.openCredential&&e.openCredential(...C))},N(e.$locale.baseText("resourceLocator.mode.list.error.description.part2.hasCredentials")),1)):W("",!0)]),_:1})):W("",!0)],2)]),default:v(()=>[D("div",{class:$({[e.$style.resourceLocator]:!0,[e.$style.multipleModes]:e.hasMultipleModes})},[e.hasMultipleModes?(y(),P("div",{key:0,class:$(e.$style.modeSelector)},[b(m,{modelValue:e.selectedMode,filterable:"",size:e.inputSize,disabled:e.isReadOnly,"onUpdate:modelValue":e.onModeSelected,placeholder:e.$locale.baseText("resourceLocator.modeSelector.placeholder"),"data-test-id":"rlc-mode-selector"},{default:v(()=>[(y(!0),P(Ie,null,Re(e.parameter.modes,C=>(y(),R(l,{key:C.name,value:C.name,disabled:e.isValueExpression&&C.name==="list",title:e.isValueExpression&&C.name==="list"?e.$locale.baseText("resourceLocator.mode.list.disabled.title"):""},{default:v(()=>[V(N(e.getModeLabel(C.name)||C.displayName),1)]),_:2},1032,["value","disabled","title"]))),128))]),_:1},8,["modelValue","size","disabled","onUpdate:modelValue","placeholder"])],2)):W("",!0),D("div",{class:$(e.$style.inputContainer),"data-test-id":"rlc-input-container"},[b(p,{type:"mapping",disabled:e.hasOnlyListMode,sticky:!0,stickyOffset:e.isValueExpression?[26,3]:[3,3],onDrop:e.onDrop},{default:v(({droppable:C,activeDrop:A})=>[D("div",{class:$({[e.$style.listModeInputContainer]:e.isListMode,[e.$style.droppable]:C,[e.$style.activeDrop]:A}),onKeydown:t[3]||(t[3]=Qe((...T)=>e.onKeyDown&&e.onKeyDown(...T),["stop"]))},[e.isValueExpression||e.forceShowExpression?(y(),R(c,{key:0,modelValue:e.expressionDisplayValue,path:e.path,isForRecordLocator:"","onUpdate:modelValue":e.onInputChange,onModalOpenerClick:t[2]||(t[2]=T=>e.$emit("modalOpenerClick")),ref:"input"},null,8,["modelValue","path","onUpdate:modelValue"])):(y(),R(h,{key:1,class:$({[e.$style.selectInput]:e.isListMode}),size:e.inputSize,modelValue:e.valueToDisplay,disabled:e.isReadOnly,readonly:e.isListMode,title:e.displayTitle,placeholder:e.inputPlaceholder,type:"text",ref:"input","data-test-id":"rlc-input","onUpdate:modelValue":e.onInputChange,onFocus:e.onInputFocus,onBlur:e.onInputBlur},Ms({_:2},[e.isListMode?{name:"suffix",fn:v(()=>[D("i",{class:$({"el-input__icon":!0,"el-icon-arrow-down":!0,[e.$style.selectIcon]:!0,[e.$style.isReverse]:e.resourceDropdownVisible})},null,2)]),key:"0"}:void 0]),1032,["class","size","modelValue","disabled","readonly","title","placeholder","onUpdate:modelValue","onFocus","onBlur"]))],34)]),_:1},8,["disabled","stickyOffset","onDrop"]),e.parameterIssues&&e.parameterIssues.length?(y(),R(g,{key:0,issues:e.parameterIssues,class:$(e.$style["parameter-issues"])},null,8,["issues","class"])):e.urlValue?(y(),P("div",{key:1,class:$(e.$style.openResourceLink)},[b(S,{theme:"text",onClick:t[4]||(t[4]=Qe(C=>e.openResource(e.urlValue),["stop"]))},{default:v(()=>[b(w,{icon:"external-link-alt",title:e.getLinkAlt(e.valueToDisplay)},null,8,["title"])]),_:1})],2)):W("",!0)],2)],2)]),_:1},8,["modelValue","show","filterable","filterRequired","resources","loading","filter","hasMore","errorView","width","event-bus","onUpdate:modelValue","onFilter","onLoadMore"])),[[O,e.hideResourceDropdown]])],8,ZU)}const t3={$style:JU},s3=te(RU,[["render",e3],["__cssModules",t3]]),n3=J({name:"TextEdit",props:["dialogVisible","parameter","path","modelValue","isReadOnly"],data(){return{tempValue:""}},methods:{valueChanged(e){this.$emit("update:modelValue",e)},onKeyDownEsc(){this.tempValue=this.modelValue,this.closeDialog()},closeDialog(){return this.$emit("closeDialog"),!1}},mounted(){this.tempValue=this.modelValue},watch:{async dialogVisible(){this.dialogVisible===!0&&(await Xs(),this.$refs.inputField.focus())},modelValue(e){this.tempValue=e}}}),o3={key:0},i3={class:"ignore-key-press"};function r3(e,t,s,n,o,i){const r=E("n8n-input"),l=E("n8n-input-label"),m=E("el-dialog");return e.dialogVisible?(y(),P("div",o3,[b(m,{modelValue:e.dialogVisible,"append-to-body":"",width:"80%",title:`${e.$locale.baseText("textEdit.edit")} ${e.$locale.nodeText().inputLabelDisplayName(e.parameter,e.path)}`,"before-close":e.closeDialog},{default:v(()=>[D("div",i3,[b(l,{label:e.$locale.nodeText().inputLabelDisplayName(e.parameter,e.path)},{default:v(()=>[D("div",{onKeydown:[t[1]||(t[1]=Qe(()=>{},["stop"])),t[2]||(t[2]=Ts(c=>e.onKeyDownEsc(),["esc"]))]},[b(r,{modelValue:e.tempValue,"onUpdate:modelValue":[t[0]||(t[0]=c=>e.tempValue=c),e.valueChanged],type:"textarea",ref:"inputField",placeholder:e.$locale.nodeText().placeholder(e.parameter,e.path),readOnly:e.isReadOnly,rows:15},null,8,["modelValue","placeholder","readOnly","onUpdate:modelValue"])],32)]),_:1},8,["label"])])]),_:1},8,["modelValue","title","before-close"])])):W("",!0)}const a3=te(n3,[["render",r3]]);var l3=Object.create,xf=Object.defineProperty,u3=Object.getOwnPropertyDescriptor,c3=Object.getOwnPropertyNames,d3=Object.getPrototypeOf,p3=Object.prototype.hasOwnProperty,i1=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),h3=(e,t)=>{for(var s in t)xf(e,s,{get:t[s],enumerable:!0})},m3=(e,t,s,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of c3(t))!p3.call(e,o)&&o!==s&&xf(e,o,{get:()=>t[o],enumerable:!(n=u3(t,o))||n.enumerable});return e},Cf=(e,t,s)=>(s=e!=null?l3(d3(e)):{},m3(t||!e||!e.__esModule?xf(s,"default",{value:e,enumerable:!0}):s,e)),r1=i1(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(u,a){if(u==null)return{};var d={},f=Object.keys(u),x,_;for(_=0;_<f.length;_++)x=f[_],!(a.indexOf(x)>=0)&&(d[x]=u[x]);return d}var s=class{constructor(u,a,d){this.line=void 0,this.column=void 0,this.index=void 0,this.line=u,this.column=a,this.index=d}},n=class{constructor(u,a){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=u,this.end=a}};function o(u,a){let{line:d,column:f,index:x}=u;return new s(d,f+a,x+a)}var i={SyntaxError:"BABEL_PARSER_SYNTAX_ERROR",SourceTypeModuleError:"BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED"},r=(u,a=u.length-1)=>({get(){return u.reduce((d,f)=>d[f],this)},set(d){u.reduce((f,x,_)=>_===a?f[x]=d:f[x],this)}}),l=(u,a,d)=>Object.keys(d).map(f=>[f,d[f]]).filter(([,f])=>!!f).map(([f,x])=>[f,typeof x=="function"?{value:x,enumerable:!1}:typeof x.reflect=="string"?Object.assign({},x,r(x.reflect.split("."))):x]).reduce((f,[x,_])=>Object.defineProperty(f,x,Object.assign({configurable:!0},_)),Object.assign(new u,a)),m={ImportMetaOutsideModule:{message:`import.meta may appear only with 'sourceType: "module"'`,code:i.SourceTypeModuleError},ImportOutsideModule:{message:`'import' and 'export' may appear only with 'sourceType: "module"'`,code:i.SourceTypeModuleError}},c={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},h=({type:u,prefix:a})=>u==="UpdateExpression"?c.UpdateExpression[String(a)]:c[u],p={AccessorIsGenerator:({kind:u})=>`A ${u}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncFunction:"'await' is only allowed within async functions.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:u})=>`Missing initializer in ${u} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:u})=>`\`${u}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:u,exportName:a})=>`A string literal cannot be used as an exported binding without \`from\`.
- Did you mean \`export { '${u}' as '${a}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:u})=>`'${u==="ForInStatement"?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:u})=>`Unsyntactic ${u==="BreakStatement"?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedAssertSyntax: true` option in the import attributes plugin to suppress this error.",ImportBindingIsString:({importName:u})=>`A string literal cannot be used as an imported binding.
- Did you mean \`import { "${u}" as foo }\`?`,ImportCallArgumentTrailingComma:"Trailing comma is disallowed inside import(...) arguments.",ImportCallArity:({maxArgumentCount:u})=>`\`import()\` requires exactly ${u===1?"one argument":"one or two arguments"}.`,ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:u})=>`Expected number in radix ${u}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:u})=>`Escape sequence in keyword ${u}.`,InvalidIdentifier:({identifierName:u})=>`Invalid identifier ${u}.`,InvalidLhs:({ancestor:u})=>`Invalid left-hand side in ${h(u)}.`,InvalidLhsBinding:({ancestor:u})=>`Binding invalid left-hand side in ${h(u)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:u})=>`Unexpected character '${u}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:u})=>`Private name #${u} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:u})=>`Label '${u}' is already declared.`,LetInLexicalBinding:"'let' is not allowed to be used as a name in 'let' or 'const' declarations.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:u})=>`This experimental syntax requires enabling the parser plugin: ${u.map(a=>JSON.stringify(a)).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:u})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${u.map(a=>JSON.stringify(a)).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:u})=>`Duplicate key "${u}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:u})=>`An export name cannot include a lone surrogate, found '\\u${u.toString(16)}'.`,ModuleExportUndefined:({localName:u})=>`Export '${u}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:u})=>`Private names are only allowed in property accesses (\`obj.#${u}\`) or in \`in\` expressions (\`#${u} in obj\`).`,PrivateNameRedeclaration:({identifierName:u})=>`Duplicate private name #${u}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:u})=>`Unexpected keyword '${u}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:u})=>`Unexpected reserved word '${u}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:u,unexpected:a})=>`Unexpected token${a?` '${a}'.`:""}${u?`, expected "${u}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script`.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:u,onlyValidPropertyName:a})=>`The only valid meta property for ${u} is ${u}.${a}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:u})=>`Identifier '${u}' has already been declared.`,YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},g={StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:u})=>`Assigning to '${u}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:u})=>`Binding '${u}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."},w=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]),S={PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:u})=>`Invalid topic token ${u}. In order to use ${u} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${u}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:u})=>`Hack-style pipe body cannot be an unparenthesized ${h({type:u})}; please wrap it in parentheses.`,PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'},k=["toMessage"],O=["message"];function C(u){let{toMessage:a}=u,d=t(u,k);return function f({loc:x,details:_}){return l(SyntaxError,Object.assign({},d,{loc:x}),{clone(B={}){let H=B.loc||{};return f({loc:new s("line"in H?H.line:this.loc.line,"column"in H?H.column:this.loc.column,"index"in H?H.index:this.loc.index),details:Object.assign({},this.details,B.details)})},details:{value:_,enumerable:!1},message:{get(){return`${a(this.details)} (${this.loc.line}:${this.loc.column})`},set(B){Object.defineProperty(this,"message",{value:B})}},pos:{reflect:"loc.index",enumerable:!0},missingPlugin:"missingPlugin"in _&&{reflect:"details.missingPlugin",enumerable:!0}})}}function A(u,a){if(Array.isArray(u))return f=>A(f,u[0]);let d={};for(let f of Object.keys(u)){let x=u[f],_=typeof x=="string"?{message:()=>x}:typeof x=="function"?{message:x}:x,{message:B}=_,H=t(_,O),G=typeof B=="string"?()=>B:B;d[f]=C(Object.assign({code:i.SyntaxError,reasonCode:f,toMessage:G},a?{syntaxPlugin:a}:{},H))}return d}var T=Object.assign({},A(m),A(p),A(g),A`pipelineOperator`(S)),{defineProperty:F}=Object,L=(u,a)=>F(u,a,{enumerable:!1,value:u[a]});function I(u){return u.loc.start&&L(u.loc.start,"index"),u.loc.end&&L(u.loc.end,"index"),u}var j=u=>class extends u{parse(){let a=I(super.parse());return this.options.tokens&&(a.tokens=a.tokens.map(I)),a}parseRegExpLiteral({pattern:a,flags:d}){let f=null;try{f=new RegExp(a,d)}catch{}let x=this.estreeParseLiteral(f);return x.regex={pattern:a,flags:d},x}parseBigIntLiteral(a){let d;try{d=BigInt(a)}catch{d=null}let f=this.estreeParseLiteral(d);return f.bigint=String(f.value||a),f}parseDecimalLiteral(a){let d=this.estreeParseLiteral(null);return d.decimal=String(d.value||a),d}estreeParseLiteral(a){return this.parseLiteral(a,"Literal")}parseStringLiteral(a){return this.estreeParseLiteral(a)}parseNumericLiteral(a){return this.estreeParseLiteral(a)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(a){return this.estreeParseLiteral(a)}directiveToStmt(a){let d=a.value;delete a.value,d.type="Literal",d.raw=d.extra.raw,d.value=d.extra.expressionValue;let f=a;return f.type="ExpressionStatement",f.expression=d,f.directive=d.extra.rawValue,delete d.extra,f}initFunction(a,d){super.initFunction(a,d),a.expression=!1}checkDeclaration(a){a!=null&&this.isObjectProperty(a)?this.checkDeclaration(a.value):super.checkDeclaration(a)}getObjectOrClassMethodParams(a){return a.value.params}isValidDirective(a){var d;return a.type==="ExpressionStatement"&&a.expression.type==="Literal"&&typeof a.expression.value=="string"&&!((d=a.expression.extra)!=null&&d.parenthesized)}parseBlockBody(a,d,f,x,_){super.parseBlockBody(a,d,f,x,_);let B=a.directives.map(H=>this.directiveToStmt(H));a.body=B.concat(a.body),delete a.directives}pushClassMethod(a,d,f,x,_,B){this.parseMethod(d,f,x,_,B,"ClassMethod",!0),d.typeParameters&&(d.value.typeParameters=d.typeParameters,delete d.typeParameters),a.body.push(d)}parsePrivateName(){let a=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(a):a}convertPrivateNameToPrivateIdentifier(a){let d=super.getPrivateNameSV(a);return a=a,delete a.id,a.name=d,a.type="PrivateIdentifier",a}isPrivateName(a){return this.getPluginOption("estree","classFeatures")?a.type==="PrivateIdentifier":super.isPrivateName(a)}getPrivateNameSV(a){return this.getPluginOption("estree","classFeatures")?a.name:super.getPrivateNameSV(a)}parseLiteral(a,d){let f=super.parseLiteral(a,d);return f.raw=f.extra.raw,delete f.extra,f}parseFunctionBody(a,d,f=!1){super.parseFunctionBody(a,d,f),a.expression=a.body.type!=="BlockStatement"}parseMethod(a,d,f,x,_,B,H=!1){let G=this.startNode();return G.kind=a.kind,G=super.parseMethod(G,d,f,x,_,B,H),G.type="FunctionExpression",delete G.kind,a.value=G,B==="ClassPrivateMethod"&&(a.computed=!1),this.finishNode(a,"MethodDefinition")}parseClassProperty(...a){let d=super.parseClassProperty(...a);return this.getPluginOption("estree","classFeatures")&&(d.type="PropertyDefinition"),d}parseClassPrivateProperty(...a){let d=super.parseClassPrivateProperty(...a);return this.getPluginOption("estree","classFeatures")&&(d.type="PropertyDefinition",d.computed=!1),d}parseObjectMethod(a,d,f,x,_){let B=super.parseObjectMethod(a,d,f,x,_);return B&&(B.type="Property",B.kind==="method"&&(B.kind="init"),B.shorthand=!1),B}parseObjectProperty(a,d,f,x){let _=super.parseObjectProperty(a,d,f,x);return _&&(_.kind="init",_.type="Property"),_}isValidLVal(a,d,f){return a==="Property"?"value":super.isValidLVal(a,d,f)}isAssignable(a,d){return a!=null&&this.isObjectProperty(a)?this.isAssignable(a.value,d):super.isAssignable(a,d)}toAssignable(a,d=!1){if(a!=null&&this.isObjectProperty(a)){let{key:f,value:x}=a;this.isPrivateName(f)&&this.classScope.usePrivateName(this.getPrivateNameSV(f),f.loc.start),this.toAssignable(x,d)}else super.toAssignable(a,d)}toAssignableObjectExpressionProp(a,d,f){a.kind==="get"||a.kind==="set"?this.raise(T.PatternHasAccessor,{at:a.key}):a.method?this.raise(T.PatternHasMethod,{at:a.key}):super.toAssignableObjectExpressionProp(a,d,f)}finishCallExpression(a,d){let f=super.finishCallExpression(a,d);if(f.callee.type==="Import"){if(f.type="ImportExpression",f.source=f.arguments[0],this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions")){var x;f.attributes=(x=f.arguments[1])!=null?x:null}delete f.arguments,delete f.callee}return f}toReferencedArguments(a){a.type!=="ImportExpression"&&super.toReferencedArguments(a)}parseExport(a,d){let f=this.state.lastTokStartLoc,x=super.parseExport(a,d);switch(x.type){case"ExportAllDeclaration":x.exported=null;break;case"ExportNamedDeclaration":x.specifiers.length===1&&x.specifiers[0].type==="ExportNamespaceSpecifier"&&(x.type="ExportAllDeclaration",x.exported=x.specifiers[0].exported,delete x.specifiers);case"ExportDefaultDeclaration":{var _;let{declaration:B}=x;(B==null?void 0:B.type)==="ClassDeclaration"&&((_=B.decorators)==null?void 0:_.length)>0&&B.start===x.start&&this.resetStartLocation(x,f)}break}return x}parseSubscript(a,d,f,x){let _=super.parseSubscript(a,d,f,x);if(x.optionalChainMember){if((_.type==="OptionalMemberExpression"||_.type==="OptionalCallExpression")&&(_.type=_.type.substring(8)),x.stop){let B=this.startNodeAtNode(_);return B.expression=_,this.finishNode(B,"ChainExpression")}}else(_.type==="MemberExpression"||_.type==="CallExpression")&&(_.optional=!1);return _}hasPropertyAsPrivateName(a){return a.type==="ChainExpression"&&(a=a.expression),super.hasPropertyAsPrivateName(a)}isObjectProperty(a){return a.type==="Property"&&a.kind==="init"&&!a.method}isObjectMethod(a){return a.method||a.kind==="get"||a.kind==="set"}finishNodeAt(a,d,f){return I(super.finishNodeAt(a,d,f))}resetStartLocation(a,d){super.resetStartLocation(a,d),I(a)}resetEndLocation(a,d=this.state.lastTokEndLoc){super.resetEndLocation(a,d),I(a)}},q=class{constructor(u,a){this.token=void 0,this.preserveSpace=void 0,this.token=u,this.preserveSpace=!!a}},Q={brace:new q("{"),j_oTag:new q("<tag"),j_cTag:new q("</tag"),j_expr:new q("<tag>...</tag>",!0)};Q.template=new q("`",!0);var X=!0,U=!0,ne=!0,ie=!0,M=!0,z=!0,K=class{constructor(u,a={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=u,this.keyword=a.keyword,this.beforeExpr=!!a.beforeExpr,this.startsExpr=!!a.startsExpr,this.rightAssociative=!!a.rightAssociative,this.isLoop=!!a.isLoop,this.isAssign=!!a.isAssign,this.prefix=!!a.prefix,this.postfix=!!a.postfix,this.binop=a.binop!=null?a.binop:null,this.updateContext=null}},oe=new Map;function ve(u,a={}){a.keyword=u;let d=de(u,a);return oe.set(u,d),d}function ae(u,a){return de(u,{beforeExpr:X,binop:a})}var ce=-1,pe=[],ge=[],Ae=[],ue=[],Ce=[],re=[];function de(u,a={}){var d,f,x,_;return++ce,ge.push(u),Ae.push((d=a.binop)!=null?d:-1),ue.push((f=a.beforeExpr)!=null?f:!1),Ce.push((x=a.startsExpr)!=null?x:!1),re.push((_=a.prefix)!=null?_:!1),pe.push(new K(u,a)),ce}function se(u,a={}){var d,f,x,_;return++ce,oe.set(u,ce),ge.push(u),Ae.push((d=a.binop)!=null?d:-1),ue.push((f=a.beforeExpr)!=null?f:!1),Ce.push((x=a.startsExpr)!=null?x:!1),re.push((_=a.prefix)!=null?_:!1),pe.push(new K("name",a)),ce}var he={bracketL:de("[",{beforeExpr:X,startsExpr:U}),bracketHashL:de("#[",{beforeExpr:X,startsExpr:U}),bracketBarL:de("[|",{beforeExpr:X,startsExpr:U}),bracketR:de("]"),bracketBarR:de("|]"),braceL:de("{",{beforeExpr:X,startsExpr:U}),braceBarL:de("{|",{beforeExpr:X,startsExpr:U}),braceHashL:de("#{",{beforeExpr:X,startsExpr:U}),braceR:de("}"),braceBarR:de("|}"),parenL:de("(",{beforeExpr:X,startsExpr:U}),parenR:de(")"),comma:de(",",{beforeExpr:X}),semi:de(";",{beforeExpr:X}),colon:de(":",{beforeExpr:X}),doubleColon:de("::",{beforeExpr:X}),dot:de("."),question:de("?",{beforeExpr:X}),questionDot:de("?."),arrow:de("=>",{beforeExpr:X}),template:de("template"),ellipsis:de("...",{beforeExpr:X}),backQuote:de("`",{startsExpr:U}),dollarBraceL:de("${",{beforeExpr:X,startsExpr:U}),templateTail:de("...`",{startsExpr:U}),templateNonTail:de("...${",{beforeExpr:X,startsExpr:U}),at:de("@"),hash:de("#",{startsExpr:U}),interpreterDirective:de("#!..."),eq:de("=",{beforeExpr:X,isAssign:ie}),assign:de("_=",{beforeExpr:X,isAssign:ie}),slashAssign:de("_=",{beforeExpr:X,isAssign:ie}),xorAssign:de("_=",{beforeExpr:X,isAssign:ie}),moduloAssign:de("_=",{beforeExpr:X,isAssign:ie}),incDec:de("++/--",{prefix:M,postfix:z,startsExpr:U}),bang:de("!",{beforeExpr:X,prefix:M,startsExpr:U}),tilde:de("~",{beforeExpr:X,prefix:M,startsExpr:U}),doubleCaret:de("^^",{startsExpr:U}),doubleAt:de("@@",{startsExpr:U}),pipeline:ae("|>",0),nullishCoalescing:ae("??",1),logicalOR:ae("||",1),logicalAND:ae("&&",2),bitwiseOR:ae("|",3),bitwiseXOR:ae("^",4),bitwiseAND:ae("&",5),equality:ae("==/!=/===/!==",6),lt:ae("</>/<=/>=",7),gt:ae("</>/<=/>=",7),relational:ae("</>/<=/>=",7),bitShift:ae("<</>>/>>>",8),bitShiftL:ae("<</>>/>>>",8),bitShiftR:ae("<</>>/>>>",8),plusMin:de("+/-",{beforeExpr:X,binop:9,prefix:M,startsExpr:U}),modulo:de("%",{binop:10,startsExpr:U}),star:de("*",{binop:10}),slash:ae("/",10),exponent:de("**",{beforeExpr:X,binop:11,rightAssociative:!0}),_in:ve("in",{beforeExpr:X,binop:7}),_instanceof:ve("instanceof",{beforeExpr:X,binop:7}),_break:ve("break"),_case:ve("case",{beforeExpr:X}),_catch:ve("catch"),_continue:ve("continue"),_debugger:ve("debugger"),_default:ve("default",{beforeExpr:X}),_else:ve("else",{beforeExpr:X}),_finally:ve("finally"),_function:ve("function",{startsExpr:U}),_if:ve("if"),_return:ve("return",{beforeExpr:X}),_switch:ve("switch"),_throw:ve("throw",{beforeExpr:X,prefix:M,startsExpr:U}),_try:ve("try"),_var:ve("var"),_const:ve("const"),_with:ve("with"),_new:ve("new",{beforeExpr:X,startsExpr:U}),_this:ve("this",{startsExpr:U}),_super:ve("super",{startsExpr:U}),_class:ve("class",{startsExpr:U}),_extends:ve("extends",{beforeExpr:X}),_export:ve("export"),_import:ve("import",{startsExpr:U}),_null:ve("null",{startsExpr:U}),_true:ve("true",{startsExpr:U}),_false:ve("false",{startsExpr:U}),_typeof:ve("typeof",{beforeExpr:X,prefix:M,startsExpr:U}),_void:ve("void",{beforeExpr:X,prefix:M,startsExpr:U}),_delete:ve("delete",{beforeExpr:X,prefix:M,startsExpr:U}),_do:ve("do",{isLoop:ne,beforeExpr:X}),_for:ve("for",{isLoop:ne}),_while:ve("while",{isLoop:ne}),_as:se("as",{startsExpr:U}),_assert:se("assert",{startsExpr:U}),_async:se("async",{startsExpr:U}),_await:se("await",{startsExpr:U}),_from:se("from",{startsExpr:U}),_get:se("get",{startsExpr:U}),_let:se("let",{startsExpr:U}),_meta:se("meta",{startsExpr:U}),_of:se("of",{startsExpr:U}),_sent:se("sent",{startsExpr:U}),_set:se("set",{startsExpr:U}),_static:se("static",{startsExpr:U}),_using:se("using",{startsExpr:U}),_yield:se("yield",{startsExpr:U}),_asserts:se("asserts",{startsExpr:U}),_checks:se("checks",{startsExpr:U}),_exports:se("exports",{startsExpr:U}),_global:se("global",{startsExpr:U}),_implements:se("implements",{startsExpr:U}),_intrinsic:se("intrinsic",{startsExpr:U}),_infer:se("infer",{startsExpr:U}),_is:se("is",{startsExpr:U}),_mixins:se("mixins",{startsExpr:U}),_proto:se("proto",{startsExpr:U}),_require:se("require",{startsExpr:U}),_satisfies:se("satisfies",{startsExpr:U}),_keyof:se("keyof",{startsExpr:U}),_readonly:se("readonly",{startsExpr:U}),_unique:se("unique",{startsExpr:U}),_abstract:se("abstract",{startsExpr:U}),_declare:se("declare",{startsExpr:U}),_enum:se("enum",{startsExpr:U}),_module:se("module",{startsExpr:U}),_namespace:se("namespace",{startsExpr:U}),_interface:se("interface",{startsExpr:U}),_type:se("type",{startsExpr:U}),_opaque:se("opaque",{startsExpr:U}),name:de("name",{startsExpr:U}),string:de("string",{startsExpr:U}),num:de("num",{startsExpr:U}),bigint:de("bigint",{startsExpr:U}),decimal:de("decimal",{startsExpr:U}),regexp:de("regexp",{startsExpr:U}),privateName:de("#name",{startsExpr:U}),eof:de("eof"),jsxName:de("jsxName"),jsxText:de("jsxText",{beforeExpr:!0}),jsxTagStart:de("jsxTagStart",{startsExpr:!0}),jsxTagEnd:de("jsxTagEnd"),placeholder:de("%%",{startsExpr:!0})};function le(u){return u>=93&&u<=130}function Je(u){return u<=92}function et(u){return u>=58&&u<=130}function Tt(u){return u>=58&&u<=134}function Bt(u){return ue[u]}function Rt(u){return Ce[u]}function Et(u){return u>=29&&u<=33}function Yt(u){return u>=127&&u<=129}function xt(u){return u>=90&&u<=92}function is(u){return u>=58&&u<=92}function En(u){return u>=39&&u<=59}function Wt(u){return u===34}function on(u){return re[u]}function Qn(u){return u>=119&&u<=121}function Rl(u){return u>=122&&u<=128}function yo(u){return ge[u]}function Vl(u){return Ae[u]}function rC(u){return u===57}function Ul(u){return u>=24&&u<=25}function Gn(u){return pe[u]}pe[8].updateContext=u=>{u.pop()},pe[5].updateContext=pe[7].updateContext=pe[23].updateContext=u=>{u.push(Q.brace)},pe[22].updateContext=u=>{u[u.length-1]===Q.template?u.pop():u.push(Q.template)},pe[140].updateContext=u=>{u.push(Q.j_expr,Q.j_oTag)};var Hd="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Kg="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",aC=new RegExp("["+Hd+"]"),lC=new RegExp("["+Hd+Kg+"]");Hd=Kg=null;var Jg=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],uC=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239];function Qd(u,a){let d=65536;for(let f=0,x=a.length;f<x;f+=2){if(d+=a[f],d>u)return!1;if(d+=a[f+1],d>=u)return!0}return!1}function Yn(u){return u<65?u===36:u<=90?!0:u<97?u===95:u<=122?!0:u<=65535?u>=170&&aC.test(String.fromCharCode(u)):Qd(u,Jg)}function Ui(u){return u<48?u===36:u<58?!0:u<65?!1:u<=90?!0:u<97?u===95:u<=122?!0:u<=65535?u>=170&&lC.test(String.fromCharCode(u)):Qd(u,Jg)||Qd(u,uC)}var Gd={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},cC=new Set(Gd.keyword),dC=new Set(Gd.strict),pC=new Set(Gd.strictBind);function Zg(u,a){return a&&u==="await"||u==="enum"}function ey(u,a){return Zg(u,a)||dC.has(u)}function ty(u){return pC.has(u)}function sy(u,a){return ey(u,a)||ty(u)}function hC(u){return cC.has(u)}function mC(u,a,d){return u===64&&a===64&&Yn(d)}var fC=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);function gC(u){return fC.has(u)}var Wi=0,ji=1,Xn=2,Yd=4,ny=8,Wl=16,oy=32,Yo=64,jl=128,qi=256,ql=ji|Xn|jl|qi,xn=1,Xo=2,iy=4,Ko=8,zl=16,ry=64,Hl=128,Xd=256,Kd=512,Jd=1024,Zd=2048,Kr=4096,Ql=8192,ay=xn|Xo|Ko|Hl|Ql,zi=xn|0|Ko|Ql,yC=xn|0|Ko|0,Gl=xn|0|iy|0,ly=xn|0|zl|0,wC=0|Xo|0|Hl,bC=0|Xo|0|0,uy=xn|Xo|Ko|Xd|Ql,cy=0|Jd,wo=0|ry,vC=xn|0|0|ry,TC=uy|Kd,SC=0|Jd,dy=0|Xo|0|Kr,kC=Zd,Yl=4,ep=2,tp=1,sp=ep|tp,EC=ep|Yl,xC=tp|Yl,CC=ep,OC=tp,np=0,op=class{constructor(u){this.var=new Set,this.lexical=new Set,this.functions=new Set,this.flags=u}},ip=class{constructor(u,a){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=u,this.inModule=a}get inTopLevel(){return(this.currentScope().flags&ji)>0}get inFunction(){return(this.currentVarScopeFlags()&Xn)>0}get allowSuper(){return(this.currentThisScopeFlags()&Wl)>0}get allowDirectSuper(){return(this.currentThisScopeFlags()&oy)>0}get inClass(){return(this.currentThisScopeFlags()&Yo)>0}get inClassAndNotInNonArrowFunction(){let u=this.currentThisScopeFlags();return(u&Yo)>0&&(u&Xn)===0}get inStaticBlock(){for(let u=this.scopeStack.length-1;;u--){let{flags:a}=this.scopeStack[u];if(a&jl)return!0;if(a&(ql|Yo))return!1}}get inNonArrowFunction(){return(this.currentThisScopeFlags()&Xn)>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(u){return new op(u)}enter(u){this.scopeStack.push(this.createScope(u))}exit(){return this.scopeStack.pop().flags}treatFunctionsAsVarInScope(u){return!!(u.flags&(Xn|jl)||!this.parser.inModule&&u.flags&ji)}declareName(u,a,d){let f=this.currentScope();if(a&Ko||a&zl)this.checkRedeclarationInScope(f,u,a,d),a&zl?f.functions.add(u):f.lexical.add(u),a&Ko&&this.maybeExportDefined(f,u);else if(a&iy)for(let x=this.scopeStack.length-1;x>=0&&(f=this.scopeStack[x],this.checkRedeclarationInScope(f,u,a,d),f.var.add(u),this.maybeExportDefined(f,u),!(f.flags&ql));--x);this.parser.inModule&&f.flags&ji&&this.undefinedExports.delete(u)}maybeExportDefined(u,a){this.parser.inModule&&u.flags&ji&&this.undefinedExports.delete(a)}checkRedeclarationInScope(u,a,d,f){this.isRedeclaredInScope(u,a,d)&&this.parser.raise(T.VarRedeclaration,{at:f,identifierName:a})}isRedeclaredInScope(u,a,d){return d&xn?d&Ko?u.lexical.has(a)||u.functions.has(a)||u.var.has(a):d&zl?u.lexical.has(a)||!this.treatFunctionsAsVarInScope(u)&&u.var.has(a):u.lexical.has(a)&&!(u.flags&ny&&u.lexical.values().next().value===a)||!this.treatFunctionsAsVarInScope(u)&&u.functions.has(a):!1}checkLocalExport(u){let{name:a}=u,d=this.scopeStack[0];!d.lexical.has(a)&&!d.var.has(a)&&!d.functions.has(a)&&this.undefinedExports.set(a,u.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let u=this.scopeStack.length-1;;u--){let{flags:a}=this.scopeStack[u];if(a&ql)return a}}currentThisScopeFlags(){for(let u=this.scopeStack.length-1;;u--){let{flags:a}=this.scopeStack[u];if(a&(ql|Yo)&&!(a&Yd))return a}}},DC=class extends op{constructor(...u){super(...u),this.declareFunctions=new Set}},AC=class extends ip{createScope(u){return new DC(u)}declareName(u,a,d){let f=this.currentScope();if(a&Zd){this.checkRedeclarationInScope(f,u,a,d),this.maybeExportDefined(f,u),f.declareFunctions.add(u);return}super.declareName(u,a,d)}isRedeclaredInScope(u,a,d){return super.isRedeclaredInScope(u,a,d)?!0:d&Zd?!u.declareFunctions.has(a)&&(u.lexical.has(a)||u.functions.has(a)):!1}checkLocalExport(u){this.scopeStack[0].declareFunctions.has(u.name)||super.checkLocalExport(u)}},$C=class{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}hasPlugin(u){if(typeof u=="string")return this.plugins.has(u);{let[a,d]=u;if(!this.hasPlugin(a))return!1;let f=this.plugins.get(a);for(let x of Object.keys(d))if((f==null?void 0:f[x])!==d[x])return!1;return!0}}getPluginOption(u,a){var d;return(d=this.plugins.get(u))==null?void 0:d[a]}};function py(u,a){u.trailingComments===void 0?u.trailingComments=a:u.trailingComments.unshift(...a)}function NC(u,a){u.leadingComments===void 0?u.leadingComments=a:u.leadingComments.unshift(...a)}function Jr(u,a){u.innerComments===void 0?u.innerComments=a:u.innerComments.unshift(...a)}function Zr(u,a,d){let f=null,x=a.length;for(;f===null&&x>0;)f=a[--x];f===null||f.start>d.start?Jr(u,d.comments):py(f,d.comments)}var _C=class extends $C{addComment(u){this.filename&&(u.loc.filename=this.filename),this.state.comments.push(u)}processComment(u){let{commentStack:a}=this.state,d=a.length;if(d===0)return;let f=d-1,x=a[f];x.start===u.end&&(x.leadingNode=u,f--);let{start:_}=u;for(;f>=0;f--){let B=a[f],H=B.end;if(H>_)B.containingNode=u,this.finalizeComment(B),a.splice(f,1);else{H===_&&(B.trailingNode=u);break}}}finalizeComment(u){let{comments:a}=u;if(u.leadingNode!==null||u.trailingNode!==null)u.leadingNode!==null&&py(u.leadingNode,a),u.trailingNode!==null&&NC(u.trailingNode,a);else{let{containingNode:d,start:f}=u;if(this.input.charCodeAt(f-1)===44)switch(d.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":Zr(d,d.properties,u);break;case"CallExpression":case"OptionalCallExpression":Zr(d,d.arguments,u);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":Zr(d,d.params,u);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":Zr(d,d.elements,u);break;case"ExportNamedDeclaration":case"ImportDeclaration":Zr(d,d.specifiers,u);break;default:Jr(d,a)}else Jr(d,a)}}finalizeRemainingComments(){let{commentStack:u}=this.state;for(let a=u.length-1;a>=0;a--)this.finalizeComment(u[a]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(u){let{commentStack:a}=this.state,{length:d}=a;if(d===0)return;let f=a[d-1];f.leadingNode===u&&(f.leadingNode=null)}resetPreviousIdentifierLeadingComments(u){let{commentStack:a}=this.state,{length:d}=a;d!==0&&(a[d-1].trailingNode===u?a[d-1].trailingNode=null:d>=2&&a[d-2].trailingNode===u&&(a[d-2].trailingNode=null))}takeSurroundingComments(u,a,d){let{commentStack:f}=this.state,x=f.length;if(x===0)return;let _=x-1;for(;_>=0;_--){let B=f[_],H=B.end;if(B.start===d)B.leadingNode=u;else if(H===a)B.trailingNode=u;else if(H<a)break}}},hy=/\r\n?|[\n\u2028\u2029]/,Xl=new RegExp(hy.source,"g");function ea(u){switch(u){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}var rp=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Kl=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g,my=new RegExp("(?=("+Kl.source+"))\\1"+/(?=[\n\r\u2028\u2029]|\/\*(?!.*?\*\/)|$)/.source,"y");function PC(u){switch(u){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}var IC=class a1{constructor(){this.strict=void 0,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.maybeInArrowParameters=!1,this.inType=!1,this.noAnonFunctionType=!1,this.hasFlowComment=!1,this.isAmbientContext=!1,this.inAbstractClass=!1,this.inDisallowConditionalTypesContext=!1,this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.soloAwait=!1,this.inFSharpPipelineDirectBody=!1,this.labels=[],this.comments=[],this.commentStack=[],this.pos=0,this.type=137,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.lastTokStart=0,this.context=[Q.brace],this.canStartJSXElement=!0,this.containsEsc=!1,this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0}init({strictMode:a,sourceType:d,startLine:f,startColumn:x}){this.strict=a===!1?!1:a===!0?!0:d==="module",this.curLine=f,this.lineStart=-x,this.startLoc=this.endLoc=new s(f,x,0)}curPosition(){return new s(this.curLine,this.pos-this.lineStart,this.pos)}clone(a){let d=new a1,f=Object.keys(this);for(let x=0,_=f.length;x<_;x++){let B=f[x],H=this[B];!a&&Array.isArray(H)&&(H=H.slice()),d[B]=H}return d}},MC=function(u){return u>=48&&u<=57},fy={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},Jl={bin:u=>u===48||u===49,oct:u=>u>=48&&u<=55,dec:u=>u>=48&&u<=57,hex:u=>u>=48&&u<=57||u>=65&&u<=70||u>=97&&u<=102};function gy(u,a,d,f,x,_){let B=d,H=f,G=x,Y="",ke=null,Pe=d,{length:Me}=a;for(;;){if(d>=Me){_.unterminated(B,H,G),Y+=a.slice(Pe,d);break}let Ue=a.charCodeAt(d);if(LC(u,Ue,a,d)){Y+=a.slice(Pe,d);break}if(Ue===92){Y+=a.slice(Pe,d);let gt=FC(a,d,f,x,u==="template",_);gt.ch===null&&!ke?ke={pos:d,lineStart:f,curLine:x}:Y+=gt.ch,{pos:d,lineStart:f,curLine:x}=gt,Pe=d}else Ue===8232||Ue===8233?(++d,++x,f=d):Ue===10||Ue===13?u==="template"?(Y+=a.slice(Pe,d)+`
`,++d,Ue===13&&a.charCodeAt(d)===10&&++d,++x,Pe=f=d):_.unterminated(B,H,G):++d}return{pos:d,str:Y,firstInvalidLoc:ke,lineStart:f,curLine:x,containsInvalid:!!ke}}function LC(u,a,d,f){return u==="template"?a===96||a===36&&d.charCodeAt(f+1)===123:a===(u==="double"?34:39)}function FC(u,a,d,f,x,_){let B=!x;a++;let H=Y=>({pos:a,ch:Y,lineStart:d,curLine:f}),G=u.charCodeAt(a++);switch(G){case 110:return H(`
`);case 114:return H("\r");case 120:{let Y;return{code:Y,pos:a}=ap(u,a,d,f,2,!1,B,_),H(Y===null?null:String.fromCharCode(Y))}case 117:{let Y;return{code:Y,pos:a}=wy(u,a,d,f,B,_),H(Y===null?null:String.fromCodePoint(Y))}case 116:return H("	");case 98:return H("\b");case 118:return H("\v");case 102:return H("\f");case 13:u.charCodeAt(a)===10&&++a;case 10:d=a,++f;case 8232:case 8233:return H("");case 56:case 57:if(x)return H(null);_.strictNumericEscape(a-1,d,f);default:if(G>=48&&G<=55){let Y=a-1,ke=u.slice(Y,a+2).match(/^[0-7]+/)[0],Pe=parseInt(ke,8);Pe>255&&(ke=ke.slice(0,-1),Pe=parseInt(ke,8)),a+=ke.length-1;let Me=u.charCodeAt(a);if(ke!=="0"||Me===56||Me===57){if(x)return H(null);_.strictNumericEscape(Y,d,f)}return H(String.fromCharCode(Pe))}return H(String.fromCharCode(G))}}function ap(u,a,d,f,x,_,B,H){let G=a,Y;return{n:Y,pos:a}=yy(u,a,d,f,16,x,_,!1,H,!B),Y===null&&(B?H.invalidEscapeSequence(G,d,f):a=G-1),{code:Y,pos:a}}function yy(u,a,d,f,x,_,B,H,G,Y){let ke=a,Pe=x===16?fy.hex:fy.decBinOct,Me=x===16?Jl.hex:x===10?Jl.dec:x===8?Jl.oct:Jl.bin,Ue=!1,gt=0;for(let ht=0,Ut=_??1/0;ht<Ut;++ht){let ss=u.charCodeAt(a),Es;if(ss===95&&H!=="bail"){let pp=u.charCodeAt(a-1),hp=u.charCodeAt(a+1);if(H){if(Number.isNaN(hp)||!Me(hp)||Pe.has(pp)||Pe.has(hp)){if(Y)return{n:null,pos:a};G.unexpectedNumericSeparator(a,d,f)}}else{if(Y)return{n:null,pos:a};G.numericSeparatorInEscapeSequence(a,d,f)}++a;continue}if(ss>=97?Es=ss-97+10:ss>=65?Es=ss-65+10:MC(ss)?Es=ss-48:Es=1/0,Es>=x){if(Es<=9&&Y)return{n:null,pos:a};if(Es<=9&&G.invalidDigit(a,d,f,x))Es=0;else if(B)Es=0,Ue=!0;else break}++a,gt=gt*x+Es}return a===ke||_!=null&&a-ke!==_||Ue?{n:null,pos:a}:{n:gt,pos:a}}function wy(u,a,d,f,x,_){let B=u.charCodeAt(a),H;if(B===123){if(++a,{code:H,pos:a}=ap(u,a,d,f,u.indexOf("}",a)-a,!0,x,_),++a,H!==null&&H>1114111)if(x)_.invalidCodePoint(a,d,f);else return{code:null,pos:a}}else({code:H,pos:a}=ap(u,a,d,f,4,!1,x,_));return{code:H,pos:a}}var BC=["at"],RC=["at"];function ta(u,a,d){return new s(d,u-a,u)}var VC=new Set([103,109,115,105,121,117,100,118]),bo=class{constructor(u){this.type=u.type,this.value=u.value,this.start=u.start,this.end=u.end,this.loc=new n(u.startLoc,u.endLoc)}},UC=class extends _C{constructor(u,a){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(d,f,x,_)=>this.options.errorRecovery?(this.raise(T.InvalidDigit,{at:ta(d,f,x),radix:_}),!0):!1,numericSeparatorInEscapeSequence:this.errorBuilder(T.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorBuilder(T.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorBuilder(T.InvalidEscapeSequence),invalidCodePoint:this.errorBuilder(T.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(d,f,x)=>{this.recordStrictModeErrors(T.StrictNumericEscape,{at:ta(d,f,x)})},unterminated:(d,f,x)=>{throw this.raise(T.UnterminatedString,{at:ta(d-1,f,x)})}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorBuilder(T.StrictNumericEscape),unterminated:(d,f,x)=>{throw this.raise(T.UnterminatedTemplate,{at:ta(d,f,x)})}}),this.state=new IC,this.state.init(u),this.input=a,this.length=a.length,this.isLookahead=!1}pushToken(u){this.tokens.length=this.state.tokensLength,this.tokens.push(u),++this.state.tokensLength}next(){this.checkKeywordEscapes(),this.options.tokens&&this.pushToken(new bo(this.state)),this.state.lastTokStart=this.state.start,this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(u){return this.match(u)?(this.next(),!0):!1}match(u){return this.state.type===u}createLookaheadState(u){return{pos:u.pos,value:null,type:u.type,start:u.start,end:u.end,context:[this.curContext()],inType:u.inType,startLoc:u.startLoc,lastTokEndLoc:u.lastTokEndLoc,curLine:u.curLine,lineStart:u.lineStart,curPosition:u.curPosition}}lookahead(){let u=this.state;this.state=this.createLookaheadState(u),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;let a=this.state;return this.state=u,a}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(u){return rp.lastIndex=u,rp.test(this.input)?rp.lastIndex:u}lookaheadCharCode(){return this.input.charCodeAt(this.nextTokenStart())}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos)}nextTokenInLineStartSince(u){return Kl.lastIndex=u,Kl.test(this.input)?Kl.lastIndex:u}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart())}codePointAtPos(u){let a=this.input.charCodeAt(u);if((a&64512)===55296&&++u<this.input.length){let d=this.input.charCodeAt(u);(d&64512)===56320&&(a=65536+((a&1023)<<10)+(d&1023))}return a}setStrict(u){this.state.strict=u,u&&(this.state.strictErrors.forEach(([a,d])=>this.raise(a,{at:d})),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){if(this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length){this.finishToken(137);return}this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(u){let a;this.isLookahead||(a=this.state.curPosition());let d=this.state.pos,f=this.input.indexOf(u,d+2);if(f===-1)throw this.raise(T.UnterminatedComment,{at:this.state.curPosition()});for(this.state.pos=f+u.length,Xl.lastIndex=d+2;Xl.test(this.input)&&Xl.lastIndex<=f;)++this.state.curLine,this.state.lineStart=Xl.lastIndex;if(this.isLookahead)return;let x={type:"CommentBlock",value:this.input.slice(d+2,f),start:d,end:f+u.length,loc:new n(a,this.state.curPosition())};return this.options.tokens&&this.pushToken(x),x}skipLineComment(u){let a=this.state.pos,d;this.isLookahead||(d=this.state.curPosition());let f=this.input.charCodeAt(this.state.pos+=u);if(this.state.pos<this.length)for(;!ea(f)&&++this.state.pos<this.length;)f=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;let x=this.state.pos,_={type:"CommentLine",value:this.input.slice(a+u,x),start:a,end:x,loc:new n(d,this.state.curPosition())};return this.options.tokens&&this.pushToken(_),_}skipSpace(){let u=this.state.pos,a=[];e:for(;this.state.pos<this.length;){let d=this.input.charCodeAt(this.state.pos);switch(d){case 32:case 160:case 9:++this.state.pos;break;case 13:this.input.charCodeAt(this.state.pos+1)===10&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{let f=this.skipBlockComment("*/");f!==void 0&&(this.addComment(f),this.options.attachComment&&a.push(f));break}case 47:{let f=this.skipLineComment(2);f!==void 0&&(this.addComment(f),this.options.attachComment&&a.push(f));break}default:break e}break;default:if(PC(d))++this.state.pos;else if(d===45&&!this.inModule&&this.options.annexB){let f=this.state.pos;if(this.input.charCodeAt(f+1)===45&&this.input.charCodeAt(f+2)===62&&(u===0||this.state.lineStart>u)){let x=this.skipLineComment(3);x!==void 0&&(this.addComment(x),this.options.attachComment&&a.push(x))}else break e}else if(d===60&&!this.inModule&&this.options.annexB){let f=this.state.pos;if(this.input.charCodeAt(f+1)===33&&this.input.charCodeAt(f+2)===45&&this.input.charCodeAt(f+3)===45){let x=this.skipLineComment(4);x!==void 0&&(this.addComment(x),this.options.attachComment&&a.push(x))}else break e}else break e}}if(a.length>0){let d=this.state.pos,f={start:u,end:d,comments:a,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(f)}}finishToken(u,a){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();let d=this.state.type;this.state.type=u,this.state.value=a,this.isLookahead||this.updateContext(d)}replaceToken(u){this.state.type=u,this.updateContext()}readToken_numberSign(){if(this.state.pos===0&&this.readToken_interpreter())return;let u=this.state.pos+1,a=this.codePointAtPos(u);if(a>=48&&a<=57)throw this.raise(T.UnexpectedDigitAfterHash,{at:this.state.curPosition()});if(a===123||a===91&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),this.getPluginOption("recordAndTuple","syntaxType")==="bar")throw this.raise(a===123?T.RecordExpressionHashIncorrectStartSyntaxType:T.TupleExpressionHashIncorrectStartSyntaxType,{at:this.state.curPosition()});this.state.pos+=2,a===123?this.finishToken(7):this.finishToken(1)}else Yn(a)?(++this.state.pos,this.finishToken(136,this.readWord1(a))):a===92?(++this.state.pos,this.finishToken(136,this.readWord1())):this.finishOp(27,1)}readToken_dot(){let u=this.input.charCodeAt(this.state.pos+1);if(u>=48&&u<=57){this.readNumber(!0);return}u===46&&this.input.charCodeAt(this.state.pos+2)===46?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){this.input.charCodeAt(this.state.pos+1)===61?this.finishOp(31,2):this.finishOp(56,1)}readToken_interpreter(){if(this.state.pos!==0||this.length<2)return!1;let u=this.input.charCodeAt(this.state.pos+1);if(u!==33)return!1;let a=this.state.pos;for(this.state.pos+=1;!ea(u)&&++this.state.pos<this.length;)u=this.input.charCodeAt(this.state.pos);let d=this.input.slice(a+2,this.state.pos);return this.finishToken(28,d),!0}readToken_mult_modulo(u){let a=u===42?55:54,d=1,f=this.input.charCodeAt(this.state.pos+1);u===42&&f===42&&(d++,f=this.input.charCodeAt(this.state.pos+2),a=57),f===61&&!this.state.inType&&(d++,a=u===37?33:30),this.finishOp(a,d)}readToken_pipe_amp(u){let a=this.input.charCodeAt(this.state.pos+1);if(a===u){this.input.charCodeAt(this.state.pos+2)===61?this.finishOp(30,3):this.finishOp(u===124?41:42,2);return}if(u===124){if(a===62){this.finishOp(39,2);return}if(this.hasPlugin("recordAndTuple")&&a===125){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(T.RecordExpressionBarIncorrectEndSyntaxType,{at:this.state.curPosition()});this.state.pos+=2,this.finishToken(9);return}if(this.hasPlugin("recordAndTuple")&&a===93){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(T.TupleExpressionBarIncorrectEndSyntaxType,{at:this.state.curPosition()});this.state.pos+=2,this.finishToken(4);return}}if(a===61){this.finishOp(30,2);return}this.finishOp(u===124?43:45,1)}readToken_caret(){let u=this.input.charCodeAt(this.state.pos+1);u===61&&!this.state.inType?this.finishOp(32,2):u===94&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])?(this.finishOp(37,2),this.input.codePointAt(this.state.pos)===94&&this.unexpected()):this.finishOp(44,1)}readToken_atSign(){this.input.charCodeAt(this.state.pos+1)===64&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1)}readToken_plus_min(u){let a=this.input.charCodeAt(this.state.pos+1);if(a===u){this.finishOp(34,2);return}a===61?this.finishOp(30,2):this.finishOp(53,1)}readToken_lt(){let{pos:u}=this.state,a=this.input.charCodeAt(u+1);if(a===60){if(this.input.charCodeAt(u+2)===61){this.finishOp(30,3);return}this.finishOp(51,2);return}if(a===61){this.finishOp(49,2);return}this.finishOp(47,1)}readToken_gt(){let{pos:u}=this.state,a=this.input.charCodeAt(u+1);if(a===62){let d=this.input.charCodeAt(u+2)===62?3:2;if(this.input.charCodeAt(u+d)===61){this.finishOp(30,d+1);return}this.finishOp(52,d);return}if(a===61){this.finishOp(49,2);return}this.finishOp(48,1)}readToken_eq_excl(u){let a=this.input.charCodeAt(this.state.pos+1);if(a===61){this.finishOp(46,this.input.charCodeAt(this.state.pos+2)===61?3:2);return}if(u===61&&a===62){this.state.pos+=2,this.finishToken(19);return}this.finishOp(u===61?29:35,1)}readToken_question(){let u=this.input.charCodeAt(this.state.pos+1),a=this.input.charCodeAt(this.state.pos+2);u===63?a===61?this.finishOp(30,3):this.finishOp(40,2):u===46&&!(a>=48&&a<=57)?(this.state.pos+=2,this.finishToken(18)):(++this.state.pos,this.finishToken(17))}getTokenFromCode(u){switch(u){case 46:this.readToken_dot();return;case 40:++this.state.pos,this.finishToken(10);return;case 41:++this.state.pos,this.finishToken(11);return;case 59:++this.state.pos,this.finishToken(13);return;case 44:++this.state.pos,this.finishToken(12);return;case 91:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(T.TupleExpressionBarIncorrectStartSyntaxType,{at:this.state.curPosition()});this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:++this.state.pos,this.finishToken(3);return;case 123:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(T.RecordExpressionBarIncorrectStartSyntaxType,{at:this.state.curPosition()});this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:++this.state.pos,this.finishToken(8);return;case 58:this.hasPlugin("functionBind")&&this.input.charCodeAt(this.state.pos+1)===58?this.finishOp(15,2):(++this.state.pos,this.finishToken(14));return;case 63:this.readToken_question();return;case 96:this.readTemplateToken();return;case 48:{let a=this.input.charCodeAt(this.state.pos+1);if(a===120||a===88){this.readRadixNumber(16);return}if(a===111||a===79){this.readRadixNumber(8);return}if(a===98||a===66){this.readRadixNumber(2);return}}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:this.readNumber(!1);return;case 34:case 39:this.readString(u);return;case 47:this.readToken_slash();return;case 37:case 42:this.readToken_mult_modulo(u);return;case 124:case 38:this.readToken_pipe_amp(u);return;case 94:this.readToken_caret();return;case 43:case 45:this.readToken_plus_min(u);return;case 60:this.readToken_lt();return;case 62:this.readToken_gt();return;case 61:case 33:this.readToken_eq_excl(u);return;case 126:this.finishOp(36,1);return;case 64:this.readToken_atSign();return;case 35:this.readToken_numberSign();return;case 92:this.readWord();return;default:if(Yn(u)){this.readWord(u);return}}throw this.raise(T.InvalidOrUnexpectedToken,{at:this.state.curPosition(),unexpected:String.fromCodePoint(u)})}finishOp(u,a){let d=this.input.slice(this.state.pos,this.state.pos+a);this.state.pos+=a,this.finishToken(u,d)}readRegexp(){let u=this.state.startLoc,a=this.state.start+1,d,f,{pos:x}=this.state;for(;;++x){if(x>=this.length)throw this.raise(T.UnterminatedRegExp,{at:o(u,1)});let G=this.input.charCodeAt(x);if(ea(G))throw this.raise(T.UnterminatedRegExp,{at:o(u,1)});if(d)d=!1;else{if(G===91)f=!0;else if(G===93&&f)f=!1;else if(G===47&&!f)break;d=G===92}}let _=this.input.slice(a,x);++x;let B="",H=()=>o(u,x+2-a);for(;x<this.length;){let G=this.codePointAtPos(x),Y=String.fromCharCode(G);if(VC.has(G))G===118?B.includes("u")&&this.raise(T.IncompatibleRegExpUVFlags,{at:H()}):G===117&&B.includes("v")&&this.raise(T.IncompatibleRegExpUVFlags,{at:H()}),B.includes(Y)&&this.raise(T.DuplicateRegExpFlags,{at:H()});else if(Ui(G)||G===92)this.raise(T.MalformedRegExpFlags,{at:H()});else break;++x,B+=Y}this.state.pos=x,this.finishToken(135,{pattern:_,flags:B})}readInt(u,a,d=!1,f=!0){let{n:x,pos:_}=yy(this.input,this.state.pos,this.state.lineStart,this.state.curLine,u,a,d,f,this.errorHandlers_readInt,!1);return this.state.pos=_,x}readRadixNumber(u){let a=this.state.curPosition(),d=!1;this.state.pos+=2;let f=this.readInt(u);f==null&&this.raise(T.InvalidDigit,{at:o(a,2),radix:u});let x=this.input.charCodeAt(this.state.pos);if(x===110)++this.state.pos,d=!0;else if(x===109)throw this.raise(T.InvalidDecimal,{at:a});if(Yn(this.codePointAtPos(this.state.pos)))throw this.raise(T.NumberIdentifier,{at:this.state.curPosition()});if(d){let _=this.input.slice(a.index,this.state.pos).replace(/[_n]/g,"");this.finishToken(133,_);return}this.finishToken(132,f)}readNumber(u){let a=this.state.pos,d=this.state.curPosition(),f=!1,x=!1,_=!1,B=!1,H=!1;!u&&this.readInt(10)===null&&this.raise(T.InvalidNumber,{at:this.state.curPosition()});let G=this.state.pos-a>=2&&this.input.charCodeAt(a)===48;if(G){let Me=this.input.slice(a,this.state.pos);if(this.recordStrictModeErrors(T.StrictOctalLiteral,{at:d}),!this.state.strict){let Ue=Me.indexOf("_");Ue>0&&this.raise(T.ZeroDigitNumericSeparator,{at:o(d,Ue)})}H=G&&!/[89]/.test(Me)}let Y=this.input.charCodeAt(this.state.pos);if(Y===46&&!H&&(++this.state.pos,this.readInt(10),f=!0,Y=this.input.charCodeAt(this.state.pos)),(Y===69||Y===101)&&!H&&(Y=this.input.charCodeAt(++this.state.pos),(Y===43||Y===45)&&++this.state.pos,this.readInt(10)===null&&this.raise(T.InvalidOrMissingExponent,{at:d}),f=!0,B=!0,Y=this.input.charCodeAt(this.state.pos)),Y===110&&((f||G)&&this.raise(T.InvalidBigIntLiteral,{at:d}),++this.state.pos,x=!0),Y===109&&(this.expectPlugin("decimal",this.state.curPosition()),(B||G)&&this.raise(T.InvalidDecimal,{at:d}),++this.state.pos,_=!0),Yn(this.codePointAtPos(this.state.pos)))throw this.raise(T.NumberIdentifier,{at:this.state.curPosition()});let ke=this.input.slice(a,this.state.pos).replace(/[_mn]/g,"");if(x){this.finishToken(133,ke);return}if(_){this.finishToken(134,ke);return}let Pe=H?parseInt(ke,8):parseFloat(ke);this.finishToken(132,Pe)}readCodePoint(u){let{code:a,pos:d}=wy(this.input,this.state.pos,this.state.lineStart,this.state.curLine,u,this.errorHandlers_readCodePoint);return this.state.pos=d,a}readString(u){let{str:a,pos:d,curLine:f,lineStart:x}=gy(u===34?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=d+1,this.state.lineStart=x,this.state.curLine=f,this.finishToken(131,a)}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken()}readTemplateToken(){let u=this.input[this.state.pos],{str:a,firstInvalidLoc:d,pos:f,curLine:x,lineStart:_}=gy("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=f+1,this.state.lineStart=_,this.state.curLine=x,d&&(this.state.firstInvalidTemplateEscapePos=new s(d.curLine,d.pos-d.lineStart,d.pos)),this.input.codePointAt(f)===96?this.finishToken(24,d?null:u+a+"`"):(this.state.pos++,this.finishToken(25,d?null:u+a+"${"))}recordStrictModeErrors(u,{at:a}){let d=a.index;this.state.strict&&!this.state.strictErrors.has(d)?this.raise(u,{at:a}):this.state.strictErrors.set(d,[u,a])}readWord1(u){this.state.containsEsc=!1;let a="",d=this.state.pos,f=this.state.pos;for(u!==void 0&&(this.state.pos+=u<=65535?1:2);this.state.pos<this.length;){let x=this.codePointAtPos(this.state.pos);if(Ui(x))this.state.pos+=x<=65535?1:2;else if(x===92){this.state.containsEsc=!0,a+=this.input.slice(f,this.state.pos);let _=this.state.curPosition(),B=this.state.pos===d?Yn:Ui;if(this.input.charCodeAt(++this.state.pos)!==117){this.raise(T.MissingUnicodeEscape,{at:this.state.curPosition()}),f=this.state.pos-1;continue}++this.state.pos;let H=this.readCodePoint(!0);H!==null&&(B(H)||this.raise(T.EscapedCharNotAnIdentifier,{at:_}),a+=String.fromCodePoint(H)),f=this.state.pos}else break}return a+this.input.slice(f,this.state.pos)}readWord(u){let a=this.readWord1(u),d=oe.get(a);d!==void 0?this.finishToken(d,yo(d)):this.finishToken(130,a)}checkKeywordEscapes(){let{type:u}=this.state;is(u)&&this.state.containsEsc&&this.raise(T.InvalidEscapedReservedWord,{at:this.state.startLoc,reservedWord:yo(u)})}raise(u,a){let{at:d}=a,f=t(a,BC),x=d instanceof s?d:d.loc.start,_=u({loc:x,details:f});if(!this.options.errorRecovery)throw _;return this.isLookahead||this.state.errors.push(_),_}raiseOverwrite(u,a){let{at:d}=a,f=t(a,RC),x=d instanceof s?d:d.loc.start,_=x.index,B=this.state.errors;for(let H=B.length-1;H>=0;H--){let G=B[H];if(G.loc.index===_)return B[H]=u({loc:x,details:f});if(G.loc.index<_)break}return this.raise(u,a)}updateContext(u){}unexpected(u,a){throw this.raise(T.UnexpectedToken,{expected:a?yo(a):null,at:u??this.state.startLoc})}expectPlugin(u,a){if(this.hasPlugin(u))return!0;throw this.raise(T.MissingPlugin,{at:a??this.state.startLoc,missingPlugin:[u]})}expectOnePlugin(u){if(!u.some(a=>this.hasPlugin(a)))throw this.raise(T.MissingOneOfPlugins,{at:this.state.startLoc,missingPlugin:u})}errorBuilder(u){return(a,d,f)=>{this.raise(u,{at:ta(a,d,f)})}}},WC=class{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}},jC=class{constructor(u){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=u}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new WC)}exit(){let u=this.stack.pop(),a=this.current();for(let[d,f]of Array.from(u.undefinedPrivateNames))a?a.undefinedPrivateNames.has(d)||a.undefinedPrivateNames.set(d,f):this.parser.raise(T.InvalidPrivateFieldResolution,{at:f,identifierName:d})}declarePrivateName(u,a,d){let{privateNames:f,loneAccessors:x,undefinedPrivateNames:_}=this.current(),B=f.has(u);if(a&sp){let H=B&&x.get(u);if(H){let G=H&Yl,Y=a&Yl,ke=H&sp,Pe=a&sp;B=ke===Pe||G!==Y,B||x.delete(u)}else B||x.set(u,a)}B&&this.parser.raise(T.PrivateNameRedeclaration,{at:d,identifierName:u}),f.add(u),_.delete(u)}usePrivateName(u,a){let d;for(d of this.stack)if(d.privateNames.has(u))return;d?d.undefinedPrivateNames.set(u,a):this.parser.raise(T.InvalidPrivateFieldResolution,{at:a,identifierName:u})}},qC=0,by=1,lp=2,vy=3,Zl=class{constructor(u=qC){this.type=void 0,this.type=u}canBeArrowParameterDeclaration(){return this.type===lp||this.type===by}isCertainlyParameterDeclaration(){return this.type===vy}},Ty=class extends Zl{constructor(u){super(u),this.declarationErrors=new Map}recordDeclarationError(u,{at:a}){let d=a.index;this.declarationErrors.set(d,[u,a])}clearDeclarationError(u){this.declarationErrors.delete(u)}iterateErrors(u){this.declarationErrors.forEach(u)}},zC=class{constructor(u){this.parser=void 0,this.stack=[new Zl],this.parser=u}enter(u){this.stack.push(u)}exit(){this.stack.pop()}recordParameterInitializerError(u,{at:a}){let d={at:a.loc.start},{stack:f}=this,x=f.length-1,_=f[x];for(;!_.isCertainlyParameterDeclaration();){if(_.canBeArrowParameterDeclaration())_.recordDeclarationError(u,d);else return;_=f[--x]}this.parser.raise(u,d)}recordArrowParameterBindingError(u,{at:a}){let{stack:d}=this,f=d[d.length-1],x={at:a.loc.start};if(f.isCertainlyParameterDeclaration())this.parser.raise(u,x);else if(f.canBeArrowParameterDeclaration())f.recordDeclarationError(u,x);else return}recordAsyncArrowParametersError({at:u}){let{stack:a}=this,d=a.length-1,f=a[d];for(;f.canBeArrowParameterDeclaration();)f.type===lp&&f.recordDeclarationError(T.AwaitBindingIdentifier,{at:u}),f=a[--d]}validateAsPattern(){let{stack:u}=this,a=u[u.length-1];a.canBeArrowParameterDeclaration()&&a.iterateErrors(([d,f])=>{this.parser.raise(d,{at:f});let x=u.length-2,_=u[x];for(;_.canBeArrowParameterDeclaration();)_.clearDeclarationError(f.index),_=u[--x]})}};function HC(){return new Zl(vy)}function QC(){return new Ty(by)}function GC(){return new Ty(lp)}function Sy(){return new Zl}var Hi=0,ky=1,eu=2,Ey=4,Qi=8,YC=class{constructor(){this.stacks=[]}enter(u){this.stacks.push(u)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(this.currentFlags()&eu)>0}get hasYield(){return(this.currentFlags()&ky)>0}get hasReturn(){return(this.currentFlags()&Ey)>0}get hasIn(){return(this.currentFlags()&Qi)>0}};function tu(u,a){return(u?eu:0)|(a?ky:0)}var XC=class extends UC{addExtra(u,a,d,f=!0){if(!u)return;let x=u.extra=u.extra||{};f?x[a]=d:Object.defineProperty(x,a,{enumerable:f,value:d})}isContextual(u){return this.state.type===u&&!this.state.containsEsc}isUnparsedContextual(u,a){let d=u+a.length;if(this.input.slice(u,d)===a){let f=this.input.charCodeAt(d);return!(Ui(f)||(f&64512)===55296)}return!1}isLookaheadContextual(u){let a=this.nextTokenStart();return this.isUnparsedContextual(a,u)}eatContextual(u){return this.isContextual(u)?(this.next(),!0):!1}expectContextual(u,a){if(!this.eatContextual(u)){if(a!=null)throw this.raise(a,{at:this.state.startLoc});this.unexpected(null,u)}}canInsertSemicolon(){return this.match(137)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return hy.test(this.input.slice(this.state.lastTokEndLoc.index,this.state.start))}hasFollowingLineBreak(){return my.lastIndex=this.state.end,my.test(this.input)}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(u=!0){(u?this.isLineTerminator():this.eat(13))||this.raise(T.MissingSemicolon,{at:this.state.lastTokEndLoc})}expect(u,a){this.eat(u)||this.unexpected(a,u)}tryParse(u,a=this.state.clone()){let d={node:null};try{let f=u((x=null)=>{throw d.node=x,d});if(this.state.errors.length>a.errors.length){let x=this.state;return this.state=a,this.state.tokensLength=x.tokensLength,{node:f,error:x.errors[a.errors.length],thrown:!1,aborted:!1,failState:x}}return{node:f,error:null,thrown:!1,aborted:!1,failState:null}}catch(f){let x=this.state;if(this.state=a,f instanceof SyntaxError)return{node:null,error:f,thrown:!0,aborted:!1,failState:x};if(f===d)return{node:d.node,error:null,thrown:!1,aborted:!0,failState:x};throw f}}checkExpressionErrors(u,a){if(!u)return!1;let{shorthandAssignLoc:d,doubleProtoLoc:f,privateKeyLoc:x,optionalParametersLoc:_}=u,B=!!d||!!f||!!_||!!x;if(!a)return B;d!=null&&this.raise(T.InvalidCoverInitializedName,{at:d}),f!=null&&this.raise(T.DuplicateProto,{at:f}),x!=null&&this.raise(T.UnexpectedPrivateField,{at:x}),_!=null&&this.unexpected(_)}isLiteralPropertyName(){return Tt(this.state.type)}isPrivateName(u){return u.type==="PrivateName"}getPrivateNameSV(u){return u.id.name}hasPropertyAsPrivateName(u){return(u.type==="MemberExpression"||u.type==="OptionalMemberExpression")&&this.isPrivateName(u.property)}isObjectProperty(u){return u.type==="ObjectProperty"}isObjectMethod(u){return u.type==="ObjectMethod"}initializeScopes(u=this.options.sourceType==="module"){let a=this.state.labels;this.state.labels=[];let d=this.exportedIdentifiers;this.exportedIdentifiers=new Set;let f=this.inModule;this.inModule=u;let x=this.scope,_=this.getScopeHandler();this.scope=new _(this,u);let B=this.prodParam;this.prodParam=new YC;let H=this.classScope;this.classScope=new jC(this);let G=this.expressionScope;return this.expressionScope=new zC(this),()=>{this.state.labels=a,this.exportedIdentifiers=d,this.inModule=f,this.scope=x,this.prodParam=B,this.classScope=H,this.expressionScope=G}}enterInitialScopes(){let u=Hi;this.inModule&&(u|=eu),this.scope.enter(ji),this.prodParam.enter(u)}checkDestructuringPrivate(u){let{privateKeyLoc:a}=u;a!==null&&this.expectPlugin("destructuringPrivate",a)}},su=class{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null}},nu=class{constructor(u,a,d){this.type="",this.start=a,this.end=0,this.loc=new n(d),u!=null&&u.options.ranges&&(this.range=[a,0]),u!=null&&u.filename&&(this.loc.filename=u.filename)}},up=nu.prototype;up.__clone=function(){let u=new nu(void 0,this.start,this.loc.start),a=Object.keys(this);for(let d=0,f=a.length;d<f;d++){let x=a[d];x!=="leadingComments"&&x!=="trailingComments"&&x!=="innerComments"&&(u[x]=this[x])}return u};function KC(u){return Kn(u)}function Kn(u){let{type:a,start:d,end:f,loc:x,range:_,extra:B,name:H}=u,G=Object.create(up);return G.type=a,G.start=d,G.end=f,G.loc=x,G.range=_,G.extra=B,G.name=H,a==="Placeholder"&&(G.expectedNode=u.expectedNode),G}function JC(u){let{type:a,start:d,end:f,loc:x,range:_,extra:B}=u;if(a==="Placeholder")return KC(u);let H=Object.create(up);return H.type=a,H.start=d,H.end=f,H.loc=x,H.range=_,u.raw!==void 0?H.raw=u.raw:H.extra=B,H.value=u.value,H}var ZC=class extends XC{startNode(){return new nu(this,this.state.start,this.state.startLoc)}startNodeAt(u){return new nu(this,u.index,u)}startNodeAtNode(u){return this.startNodeAt(u.loc.start)}finishNode(u,a){return this.finishNodeAt(u,a,this.state.lastTokEndLoc)}finishNodeAt(u,a,d){return u.type=a,u.end=d.index,u.loc.end=d,this.options.ranges&&(u.range[1]=d.index),this.options.attachComment&&this.processComment(u),u}resetStartLocation(u,a){u.start=a.index,u.loc.start=a,this.options.ranges&&(u.range[0]=a.index)}resetEndLocation(u,a=this.state.lastTokEndLoc){u.end=a.index,u.loc.end=a,this.options.ranges&&(u.range[1]=a.index)}resetStartLocationFromNode(u,a){this.resetStartLocation(u,a.loc.start)}},eO=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),Ye=A`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:u})=>`Cannot overwrite reserved type ${u}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:u,enumName:a})=>`Boolean enum members need to be initialized. Use either \`${u} = true,\` or \`${u} = false,\` in enum \`${a}\`.`,EnumDuplicateMemberName:({memberName:u,enumName:a})=>`Enum member names need to be unique, but the name \`${u}\` has already been used before in enum \`${a}\`.`,EnumInconsistentMemberValues:({enumName:u})=>`Enum \`${u}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:u,enumName:a})=>`Enum type \`${u}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${a}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:u})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${u}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:u,memberName:a,explicitType:d})=>`Enum \`${u}\` has type \`${d}\`, so the initializer of \`${a}\` needs to be a ${d} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:u,memberName:a})=>`Symbol enum members cannot be initialized. Use \`${a},\` in enum \`${u}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:u,memberName:a})=>`The enum member initializer for \`${a}\` needs to be a literal (either a boolean, number, or string) in enum \`${u}\`.`,EnumInvalidMemberName:({enumName:u,memberName:a,suggestion:d})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${a}\`, consider using \`${d}\`, in enum \`${u}\`.`,EnumNumberMemberNotInitialized:({enumName:u,memberName:a})=>`Number enum members need to be initialized, e.g. \`${a} = 1\` in enum \`${u}\`.`,EnumStringMemberInconsistentlyInitailized:({enumName:u})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${u}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:u})=>`Unexpected reserved type ${u}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:u,suggestion:a})=>`\`declare export ${u}\` is not supported. Use \`${a}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function tO(u){return u.type==="DeclareExportAllDeclaration"||u.type==="DeclareExportDeclaration"&&(!u.declaration||u.declaration.type!=="TypeAlias"&&u.declaration.type!=="InterfaceDeclaration")}function xy(u){return u.importKind==="type"||u.importKind==="typeof"}var sO={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"};function nO(u,a){let d=[],f=[];for(let x=0;x<u.length;x++)(a(u[x],x,u)?d:f).push(u[x]);return[d,f]}var oO=/\*?\s*@((?:no)?flow)\b/,iO=u=>class extends u{constructor(...a){super(...a),this.flowPragma=void 0}getScopeHandler(){return AC}shouldParseTypes(){return this.getPluginOption("flow","all")||this.flowPragma==="flow"}shouldParseEnums(){return!!this.getPluginOption("flow","enums")}finishToken(a,d){a!==131&&a!==13&&a!==28&&this.flowPragma===void 0&&(this.flowPragma=null),super.finishToken(a,d)}addComment(a){if(this.flowPragma===void 0){let d=oO.exec(a.value);if(d)if(d[1]==="flow")this.flowPragma="flow";else if(d[1]==="noflow")this.flowPragma="noflow";else throw new Error("Unexpected flow pragma")}super.addComment(a)}flowParseTypeInitialiser(a){let d=this.state.inType;this.state.inType=!0,this.expect(a||14);let f=this.flowParseType();return this.state.inType=d,f}flowParsePredicate(){let a=this.startNode(),d=this.state.startLoc;return this.next(),this.expectContextual(108),this.state.lastTokStart>d.index+1&&this.raise(Ye.UnexpectedSpaceBetweenModuloChecks,{at:d}),this.eat(10)?(a.value=super.parseExpression(),this.expect(11),this.finishNode(a,"DeclaredPredicate")):this.finishNode(a,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){let a=this.state.inType;this.state.inType=!0,this.expect(14);let d=null,f=null;return this.match(54)?(this.state.inType=a,f=this.flowParsePredicate()):(d=this.flowParseType(),this.state.inType=a,this.match(54)&&(f=this.flowParsePredicate())),[d,f]}flowParseDeclareClass(a){return this.next(),this.flowParseInterfaceish(a,!0),this.finishNode(a,"DeclareClass")}flowParseDeclareFunction(a){this.next();let d=a.id=this.parseIdentifier(),f=this.startNode(),x=this.startNode();this.match(47)?f.typeParameters=this.flowParseTypeParameterDeclaration():f.typeParameters=null,this.expect(10);let _=this.flowParseFunctionTypeParams();return f.params=_.params,f.rest=_.rest,f.this=_._this,this.expect(11),[f.returnType,a.predicate]=this.flowParseTypeAndPredicateInitialiser(),x.typeAnnotation=this.finishNode(f,"FunctionTypeAnnotation"),d.typeAnnotation=this.finishNode(x,"TypeAnnotation"),this.resetEndLocation(d),this.semicolon(),this.scope.declareName(a.id.name,kC,a.id.loc.start),this.finishNode(a,"DeclareFunction")}flowParseDeclare(a,d){if(this.match(80))return this.flowParseDeclareClass(a);if(this.match(68))return this.flowParseDeclareFunction(a);if(this.match(74))return this.flowParseDeclareVariable(a);if(this.eatContextual(125))return this.match(16)?this.flowParseDeclareModuleExports(a):(d&&this.raise(Ye.NestedDeclareModule,{at:this.state.lastTokStartLoc}),this.flowParseDeclareModule(a));if(this.isContextual(128))return this.flowParseDeclareTypeAlias(a);if(this.isContextual(129))return this.flowParseDeclareOpaqueType(a);if(this.isContextual(127))return this.flowParseDeclareInterface(a);if(this.match(82))return this.flowParseDeclareExportDeclaration(a,d);this.unexpected()}flowParseDeclareVariable(a){return this.next(),a.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(a.id.name,Gl,a.id.loc.start),this.semicolon(),this.finishNode(a,"DeclareVariable")}flowParseDeclareModule(a){this.scope.enter(Wi),this.match(131)?a.id=super.parseExprAtom():a.id=this.parseIdentifier();let d=a.body=this.startNode(),f=d.body=[];for(this.expect(5);!this.match(8);){let B=this.startNode();this.match(83)?(this.next(),!this.isContextual(128)&&!this.match(87)&&this.raise(Ye.InvalidNonTypeImportInDeclareModule,{at:this.state.lastTokStartLoc}),super.parseImport(B)):(this.expectContextual(123,Ye.UnsupportedStatementInDeclareModule),B=this.flowParseDeclare(B,!0)),f.push(B)}this.scope.exit(),this.expect(8),this.finishNode(d,"BlockStatement");let x=null,_=!1;return f.forEach(B=>{tO(B)?(x==="CommonJS"&&this.raise(Ye.AmbiguousDeclareModuleKind,{at:B}),x="ES"):B.type==="DeclareModuleExports"&&(_&&this.raise(Ye.DuplicateDeclareModuleExports,{at:B}),x==="ES"&&this.raise(Ye.AmbiguousDeclareModuleKind,{at:B}),x="CommonJS",_=!0)}),a.kind=x||"CommonJS",this.finishNode(a,"DeclareModule")}flowParseDeclareExportDeclaration(a,d){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?a.declaration=this.flowParseDeclare(this.startNode()):(a.declaration=this.flowParseType(),this.semicolon()),a.default=!0,this.finishNode(a,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(128)||this.isContextual(127))&&!d){let f=this.state.value;throw this.raise(Ye.UnsupportedDeclareExportKind,{at:this.state.startLoc,unsupportedExportKind:f,suggestion:sO[f]})}if(this.match(74)||this.match(68)||this.match(80)||this.isContextual(129))return a.declaration=this.flowParseDeclare(this.startNode()),a.default=!1,this.finishNode(a,"DeclareExportDeclaration");if(this.match(55)||this.match(5)||this.isContextual(127)||this.isContextual(128)||this.isContextual(129))return a=this.parseExport(a,null),a.type==="ExportNamedDeclaration"&&(a.type="ExportDeclaration",a.default=!1,delete a.exportKind),a.type="Declare"+a.type,a;this.unexpected()}flowParseDeclareModuleExports(a){return this.next(),this.expectContextual(109),a.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(a,"DeclareModuleExports")}flowParseDeclareTypeAlias(a){this.next();let d=this.flowParseTypeAlias(a);return d.type="DeclareTypeAlias",d}flowParseDeclareOpaqueType(a){this.next();let d=this.flowParseOpaqueType(a,!0);return d.type="DeclareOpaqueType",d}flowParseDeclareInterface(a){return this.next(),this.flowParseInterfaceish(a,!1),this.finishNode(a,"DeclareInterface")}flowParseInterfaceish(a,d){if(a.id=this.flowParseRestrictedIdentifier(!d,!0),this.scope.declareName(a.id.name,d?ly:zi,a.id.loc.start),this.match(47)?a.typeParameters=this.flowParseTypeParameterDeclaration():a.typeParameters=null,a.extends=[],this.eat(81))do a.extends.push(this.flowParseInterfaceExtends());while(!d&&this.eat(12));if(d){if(a.implements=[],a.mixins=[],this.eatContextual(115))do a.mixins.push(this.flowParseInterfaceExtends());while(this.eat(12));if(this.eatContextual(111))do a.implements.push(this.flowParseInterfaceExtends());while(this.eat(12))}a.body=this.flowParseObjectType({allowStatic:d,allowExact:!1,allowSpread:!1,allowProto:d,allowInexact:!1})}flowParseInterfaceExtends(){let a=this.startNode();return a.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?a.typeParameters=this.flowParseTypeParameterInstantiation():a.typeParameters=null,this.finishNode(a,"InterfaceExtends")}flowParseInterface(a){return this.flowParseInterfaceish(a,!1),this.finishNode(a,"InterfaceDeclaration")}checkNotUnderscore(a){a==="_"&&this.raise(Ye.UnexpectedReservedUnderscore,{at:this.state.startLoc})}checkReservedType(a,d,f){eO.has(a)&&this.raise(f?Ye.AssignReservedType:Ye.UnexpectedReservedType,{at:d,reservedType:a})}flowParseRestrictedIdentifier(a,d){return this.checkReservedType(this.state.value,this.state.startLoc,d),this.parseIdentifier(a)}flowParseTypeAlias(a){return a.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(a.id.name,zi,a.id.loc.start),this.match(47)?a.typeParameters=this.flowParseTypeParameterDeclaration():a.typeParameters=null,a.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(a,"TypeAlias")}flowParseOpaqueType(a,d){return this.expectContextual(128),a.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(a.id.name,zi,a.id.loc.start),this.match(47)?a.typeParameters=this.flowParseTypeParameterDeclaration():a.typeParameters=null,a.supertype=null,this.match(14)&&(a.supertype=this.flowParseTypeInitialiser(14)),a.impltype=null,d||(a.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(a,"OpaqueType")}flowParseTypeParameter(a=!1){let d=this.state.startLoc,f=this.startNode(),x=this.flowParseVariance(),_=this.flowParseTypeAnnotatableIdentifier();return f.name=_.name,f.variance=x,f.bound=_.typeAnnotation,this.match(29)?(this.eat(29),f.default=this.flowParseType()):a&&this.raise(Ye.MissingTypeParamDefault,{at:d}),this.finishNode(f,"TypeParameter")}flowParseTypeParameterDeclaration(){let a=this.state.inType,d=this.startNode();d.params=[],this.state.inType=!0,this.match(47)||this.match(140)?this.next():this.unexpected();let f=!1;do{let x=this.flowParseTypeParameter(f);d.params.push(x),x.default&&(f=!0),this.match(48)||this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=a,this.finishNode(d,"TypeParameterDeclaration")}flowParseTypeParameterInstantiation(){let a=this.startNode(),d=this.state.inType;a.params=[],this.state.inType=!0,this.expect(47);let f=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)a.params.push(this.flowParseType()),this.match(48)||this.expect(12);return this.state.noAnonFunctionType=f,this.expect(48),this.state.inType=d,this.finishNode(a,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){let a=this.startNode(),d=this.state.inType;for(a.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)a.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=d,this.finishNode(a,"TypeParameterInstantiation")}flowParseInterfaceType(){let a=this.startNode();if(this.expectContextual(127),a.extends=[],this.eat(81))do a.extends.push(this.flowParseInterfaceExtends());while(this.eat(12));return a.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(a,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(132)||this.match(131)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(a,d,f){return a.static=d,this.lookahead().type===14?(a.id=this.flowParseObjectPropertyKey(),a.key=this.flowParseTypeInitialiser()):(a.id=null,a.key=this.flowParseType()),this.expect(3),a.value=this.flowParseTypeInitialiser(),a.variance=f,this.finishNode(a,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(a,d){return a.static=d,a.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(a.method=!0,a.optional=!1,a.value=this.flowParseObjectTypeMethodish(this.startNodeAt(a.loc.start))):(a.method=!1,this.eat(17)&&(a.optional=!0),a.value=this.flowParseTypeInitialiser()),this.finishNode(a,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(a){for(a.params=[],a.rest=null,a.typeParameters=null,a.this=null,this.match(47)&&(a.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(a.this=this.flowParseFunctionTypeParam(!0),a.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)a.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(a.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),a.returnType=this.flowParseTypeInitialiser(),this.finishNode(a,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(a,d){let f=this.startNode();return a.static=d,a.value=this.flowParseObjectTypeMethodish(f),this.finishNode(a,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:a,allowExact:d,allowSpread:f,allowProto:x,allowInexact:_}){let B=this.state.inType;this.state.inType=!0;let H=this.startNode();H.callProperties=[],H.properties=[],H.indexers=[],H.internalSlots=[];let G,Y,ke=!1;for(d&&this.match(6)?(this.expect(6),G=9,Y=!0):(this.expect(5),G=8,Y=!1),H.exact=Y;!this.match(G);){let Me=!1,Ue=null,gt=null,ht=this.startNode();if(x&&this.isContextual(116)){let ss=this.lookahead();ss.type!==14&&ss.type!==17&&(this.next(),Ue=this.state.startLoc,a=!1)}if(a&&this.isContextual(104)){let ss=this.lookahead();ss.type!==14&&ss.type!==17&&(this.next(),Me=!0)}let Ut=this.flowParseVariance();if(this.eat(0))Ue!=null&&this.unexpected(Ue),this.eat(0)?(Ut&&this.unexpected(Ut.loc.start),H.internalSlots.push(this.flowParseObjectTypeInternalSlot(ht,Me))):H.indexers.push(this.flowParseObjectTypeIndexer(ht,Me,Ut));else if(this.match(10)||this.match(47))Ue!=null&&this.unexpected(Ue),Ut&&this.unexpected(Ut.loc.start),H.callProperties.push(this.flowParseObjectTypeCallProperty(ht,Me));else{let ss="init";if(this.isContextual(98)||this.isContextual(103)){let pp=this.lookahead();Tt(pp.type)&&(ss=this.state.value,this.next())}let Es=this.flowParseObjectTypeProperty(ht,Me,Ue,Ut,ss,f,_??!Y);Es===null?(ke=!0,gt=this.state.lastTokStartLoc):H.properties.push(Es)}this.flowObjectTypeSemicolon(),gt&&!this.match(8)&&!this.match(9)&&this.raise(Ye.UnexpectedExplicitInexactInObject,{at:gt})}this.expect(G),f&&(H.inexact=ke);let Pe=this.finishNode(H,"ObjectTypeAnnotation");return this.state.inType=B,Pe}flowParseObjectTypeProperty(a,d,f,x,_,B,H){if(this.eat(21))return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(B?H||this.raise(Ye.InexactInsideExact,{at:this.state.lastTokStartLoc}):this.raise(Ye.InexactInsideNonObject,{at:this.state.lastTokStartLoc}),x&&this.raise(Ye.InexactVariance,{at:x}),null):(B||this.raise(Ye.UnexpectedSpreadType,{at:this.state.lastTokStartLoc}),f!=null&&this.unexpected(f),x&&this.raise(Ye.SpreadVariance,{at:x}),a.argument=this.flowParseType(),this.finishNode(a,"ObjectTypeSpreadProperty"));{a.key=this.flowParseObjectPropertyKey(),a.static=d,a.proto=f!=null,a.kind=_;let G=!1;return this.match(47)||this.match(10)?(a.method=!0,f!=null&&this.unexpected(f),x&&this.unexpected(x.loc.start),a.value=this.flowParseObjectTypeMethodish(this.startNodeAt(a.loc.start)),(_==="get"||_==="set")&&this.flowCheckGetterSetterParams(a),!B&&a.key.name==="constructor"&&a.value.this&&this.raise(Ye.ThisParamBannedInConstructor,{at:a.value.this})):(_!=="init"&&this.unexpected(),a.method=!1,this.eat(17)&&(G=!0),a.value=this.flowParseTypeInitialiser(),a.variance=x),a.optional=G,this.finishNode(a,"ObjectTypeProperty")}}flowCheckGetterSetterParams(a){let d=a.kind==="get"?0:1,f=a.value.params.length+(a.value.rest?1:0);a.value.this&&this.raise(a.kind==="get"?Ye.GetterMayNotHaveThisParam:Ye.SetterMayNotHaveThisParam,{at:a.value.this}),f!==d&&this.raise(a.kind==="get"?T.BadGetterArity:T.BadSetterArity,{at:a}),a.kind==="set"&&a.value.rest&&this.raise(T.BadSetterRestParameter,{at:a})}flowObjectTypeSemicolon(){!this.eat(13)&&!this.eat(12)&&!this.match(8)&&!this.match(9)&&this.unexpected()}flowParseQualifiedTypeIdentifier(a,d){a!=null||(a=this.state.startLoc);let f=d||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){let x=this.startNodeAt(a);x.qualification=f,x.id=this.flowParseRestrictedIdentifier(!0),f=this.finishNode(x,"QualifiedTypeIdentifier")}return f}flowParseGenericType(a,d){let f=this.startNodeAt(a);return f.typeParameters=null,f.id=this.flowParseQualifiedTypeIdentifier(a,d),this.match(47)&&(f.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(f,"GenericTypeAnnotation")}flowParseTypeofType(){let a=this.startNode();return this.expect(87),a.argument=this.flowParsePrimaryType(),this.finishNode(a,"TypeofTypeAnnotation")}flowParseTupleType(){let a=this.startNode();for(a.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(a.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(a,"TupleTypeAnnotation")}flowParseFunctionTypeParam(a){let d=null,f=!1,x=null,_=this.startNode(),B=this.lookahead(),H=this.state.type===78;return B.type===14||B.type===17?(H&&!a&&this.raise(Ye.ThisParamMustBeFirst,{at:_}),d=this.parseIdentifier(H),this.eat(17)&&(f=!0,H&&this.raise(Ye.ThisParamMayNotBeOptional,{at:_})),x=this.flowParseTypeInitialiser()):x=this.flowParseType(),_.name=d,_.optional=f,_.typeAnnotation=x,this.finishNode(_,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(a){let d=this.startNodeAt(a.loc.start);return d.name=null,d.optional=!1,d.typeAnnotation=a,this.finishNode(d,"FunctionTypeParam")}flowParseFunctionTypeParams(a=[]){let d=null,f=null;for(this.match(78)&&(f=this.flowParseFunctionTypeParam(!0),f.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)a.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(d=this.flowParseFunctionTypeParam(!1)),{params:a,rest:d,_this:f}}flowIdentToTypeAnnotation(a,d,f){switch(f.name){case"any":return this.finishNode(d,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(d,"BooleanTypeAnnotation");case"mixed":return this.finishNode(d,"MixedTypeAnnotation");case"empty":return this.finishNode(d,"EmptyTypeAnnotation");case"number":return this.finishNode(d,"NumberTypeAnnotation");case"string":return this.finishNode(d,"StringTypeAnnotation");case"symbol":return this.finishNode(d,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(f.name),this.flowParseGenericType(a,f)}}flowParsePrimaryType(){let a=this.state.startLoc,d=this.startNode(),f,x,_=!1,B=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,x=this.flowParseTupleType(),this.state.noAnonFunctionType=B,x;case 47:return d.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),f=this.flowParseFunctionTypeParams(),d.params=f.params,d.rest=f.rest,d.this=f._this,this.expect(11),this.expect(19),d.returnType=this.flowParseType(),this.finishNode(d,"FunctionTypeAnnotation");case 10:if(this.next(),!this.match(11)&&!this.match(21))if(le(this.state.type)||this.match(78)){let H=this.lookahead().type;_=H!==17&&H!==14}else _=!0;if(_){if(this.state.noAnonFunctionType=!1,x=this.flowParseType(),this.state.noAnonFunctionType=B,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&this.lookahead().type===19))return this.expect(11),x;this.eat(12)}return x?f=this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(x)]):f=this.flowParseFunctionTypeParams(),d.params=f.params,d.rest=f.rest,d.this=f._this,this.expect(11),this.expect(19),d.returnType=this.flowParseType(),d.typeParameters=null,this.finishNode(d,"FunctionTypeAnnotation");case 131:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return d.value=this.match(85),this.next(),this.finishNode(d,"BooleanLiteralTypeAnnotation");case 53:if(this.state.value==="-"){if(this.next(),this.match(132))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",d);if(this.match(133))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",d);throw this.raise(Ye.UnexpectedSubtractionOperand,{at:this.state.startLoc})}this.unexpected();return;case 132:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 133:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(d,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(d,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(d,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(d,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(is(this.state.type)){let H=yo(this.state.type);return this.next(),super.createIdentifier(d,H)}else if(le(this.state.type))return this.isContextual(127)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(a,d,this.parseIdentifier())}this.unexpected()}flowParsePostfixType(){let a=this.state.startLoc,d=this.flowParsePrimaryType(),f=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){let x=this.startNodeAt(a),_=this.eat(18);f=f||_,this.expect(0),!_&&this.match(3)?(x.elementType=d,this.next(),d=this.finishNode(x,"ArrayTypeAnnotation")):(x.objectType=d,x.indexType=this.flowParseType(),this.expect(3),f?(x.optional=_,d=this.finishNode(x,"OptionalIndexedAccessType")):d=this.finishNode(x,"IndexedAccessType"))}return d}flowParsePrefixType(){let a=this.startNode();return this.eat(17)?(a.typeAnnotation=this.flowParsePrefixType(),this.finishNode(a,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){let a=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){let d=this.startNodeAt(a.loc.start);return d.params=[this.reinterpretTypeAsFunctionTypeParam(a)],d.rest=null,d.this=null,d.returnType=this.flowParseType(),d.typeParameters=null,this.finishNode(d,"FunctionTypeAnnotation")}return a}flowParseIntersectionType(){let a=this.startNode();this.eat(45);let d=this.flowParseAnonFunctionWithoutParens();for(a.types=[d];this.eat(45);)a.types.push(this.flowParseAnonFunctionWithoutParens());return a.types.length===1?d:this.finishNode(a,"IntersectionTypeAnnotation")}flowParseUnionType(){let a=this.startNode();this.eat(43);let d=this.flowParseIntersectionType();for(a.types=[d];this.eat(43);)a.types.push(this.flowParseIntersectionType());return a.types.length===1?d:this.finishNode(a,"UnionTypeAnnotation")}flowParseType(){let a=this.state.inType;this.state.inType=!0;let d=this.flowParseUnionType();return this.state.inType=a,d}flowParseTypeOrImplicitInstantiation(){if(this.state.type===130&&this.state.value==="_"){let a=this.state.startLoc,d=this.parseIdentifier();return this.flowParseGenericType(a,d)}else return this.flowParseType()}flowParseTypeAnnotation(){let a=this.startNode();return a.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(a,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(a){let d=a?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(d.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(d)),d}typeCastToParameter(a){return a.expression.typeAnnotation=a.typeAnnotation,this.resetEndLocation(a.expression,a.typeAnnotation.loc.end),a.expression}flowParseVariance(){let a=null;return this.match(53)?(a=this.startNode(),this.state.value==="+"?a.kind="plus":a.kind="minus",this.next(),this.finishNode(a,"Variance")):a}parseFunctionBody(a,d,f=!1){if(d){this.forwardNoArrowParamsConversionAt(a,()=>super.parseFunctionBody(a,!0,f));return}super.parseFunctionBody(a,!1,f)}parseFunctionBodyAndFinish(a,d,f=!1){if(this.match(14)){let x=this.startNode();[x.typeAnnotation,a.predicate]=this.flowParseTypeAndPredicateInitialiser(),a.returnType=x.typeAnnotation?this.finishNode(x,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(a,d,f)}parseStatementLike(a){if(this.state.strict&&this.isContextual(127)){let f=this.lookahead();if(et(f.type)){let x=this.startNode();return this.next(),this.flowParseInterface(x)}}else if(this.shouldParseEnums()&&this.isContextual(124)){let f=this.startNode();return this.next(),this.flowParseEnumDeclaration(f)}let d=super.parseStatementLike(a);return this.flowPragma===void 0&&!this.isValidDirective(d)&&(this.flowPragma=null),d}parseExpressionStatement(a,d,f){if(d.type==="Identifier"){if(d.name==="declare"){if(this.match(80)||le(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(a)}else if(le(this.state.type)){if(d.name==="interface")return this.flowParseInterface(a);if(d.name==="type")return this.flowParseTypeAlias(a);if(d.name==="opaque")return this.flowParseOpaqueType(a,!1)}}return super.parseExpressionStatement(a,d,f)}shouldParseExportDeclaration(){let{type:a}=this.state;return Yt(a)||this.shouldParseEnums()&&a===124?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){let{type:a}=this.state;return Yt(a)||this.shouldParseEnums()&&a===124?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.shouldParseEnums()&&this.isContextual(124)){let a=this.startNode();return this.next(),this.flowParseEnumDeclaration(a)}return super.parseExportDefaultExpression()}parseConditional(a,d,f){if(!this.match(17))return a;if(this.state.maybeInArrowParameters){let Pe=this.lookaheadCharCode();if(Pe===44||Pe===61||Pe===58||Pe===41)return this.setOptionalParametersError(f),a}this.expect(17);let x=this.state.clone(),_=this.state.noArrowAt,B=this.startNodeAt(d),{consequent:H,failed:G}=this.tryParseConditionalConsequent(),[Y,ke]=this.getArrowLikeExpressions(H);if(G||ke.length>0){let Pe=[..._];if(ke.length>0){this.state=x,this.state.noArrowAt=Pe;for(let Me=0;Me<ke.length;Me++)Pe.push(ke[Me].start);({consequent:H,failed:G}=this.tryParseConditionalConsequent()),[Y,ke]=this.getArrowLikeExpressions(H)}G&&Y.length>1&&this.raise(Ye.AmbiguousConditionalArrow,{at:x.startLoc}),G&&Y.length===1&&(this.state=x,Pe.push(Y[0].start),this.state.noArrowAt=Pe,{consequent:H,failed:G}=this.tryParseConditionalConsequent())}return this.getArrowLikeExpressions(H,!0),this.state.noArrowAt=_,this.expect(14),B.test=a,B.consequent=H,B.alternate=this.forwardNoArrowParamsConversionAt(B,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(B,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);let a=this.parseMaybeAssignAllowIn(),d=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:a,failed:d}}getArrowLikeExpressions(a,d){let f=[a],x=[];for(;f.length!==0;){let _=f.pop();_.type==="ArrowFunctionExpression"?(_.typeParameters||!_.returnType?this.finishArrowValidation(_):x.push(_),f.push(_.body)):_.type==="ConditionalExpression"&&(f.push(_.consequent),f.push(_.alternate))}return d?(x.forEach(_=>this.finishArrowValidation(_)),[x,[]]):nO(x,_=>_.params.every(B=>this.isAssignable(B,!0)))}finishArrowValidation(a){var d;this.toAssignableList(a.params,(d=a.extra)==null?void 0:d.trailingCommaLoc,!1),this.scope.enter(Xn|Yd),super.checkParams(a,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(a,d){let f;return this.state.noArrowParamsConversionAt.indexOf(a.start)!==-1?(this.state.noArrowParamsConversionAt.push(this.state.start),f=d(),this.state.noArrowParamsConversionAt.pop()):f=d(),f}parseParenItem(a,d){if(a=super.parseParenItem(a,d),this.eat(17)&&(a.optional=!0,this.resetEndLocation(a)),this.match(14)){let f=this.startNodeAt(d);return f.expression=a,f.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(f,"TypeCastExpression")}return a}assertModuleNodeAllowed(a){a.type==="ImportDeclaration"&&(a.importKind==="type"||a.importKind==="typeof")||a.type==="ExportNamedDeclaration"&&a.exportKind==="type"||a.type==="ExportAllDeclaration"&&a.exportKind==="type"||super.assertModuleNodeAllowed(a)}parseExportDeclaration(a){if(this.isContextual(128)){a.exportKind="type";let d=this.startNode();return this.next(),this.match(5)?(a.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(a),null):this.flowParseTypeAlias(d)}else if(this.isContextual(129)){a.exportKind="type";let d=this.startNode();return this.next(),this.flowParseOpaqueType(d,!1)}else if(this.isContextual(127)){a.exportKind="type";let d=this.startNode();return this.next(),this.flowParseInterface(d)}else if(this.shouldParseEnums()&&this.isContextual(124)){a.exportKind="value";let d=this.startNode();return this.next(),this.flowParseEnumDeclaration(d)}else return super.parseExportDeclaration(a)}eatExportStar(a){return super.eatExportStar(a)?!0:this.isContextual(128)&&this.lookahead().type===55?(a.exportKind="type",this.next(),this.next(),!0):!1}maybeParseExportNamespaceSpecifier(a){let{startLoc:d}=this.state,f=super.maybeParseExportNamespaceSpecifier(a);return f&&a.exportKind==="type"&&this.unexpected(d),f}parseClassId(a,d,f){super.parseClassId(a,d,f),this.match(47)&&(a.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(a,d,f){let{startLoc:x}=this.state;if(this.isContextual(123)){if(super.parseClassMemberFromModifier(a,d))return;d.declare=!0}super.parseClassMember(a,d,f),d.declare&&(d.type!=="ClassProperty"&&d.type!=="ClassPrivateProperty"&&d.type!=="PropertyDefinition"?this.raise(Ye.DeclareClassElement,{at:x}):d.value&&this.raise(Ye.DeclareClassFieldInitializer,{at:d.value}))}isIterator(a){return a==="iterator"||a==="asyncIterator"}readIterator(){let a=super.readWord1(),d="@@"+a;(!this.isIterator(a)||!this.state.inType)&&this.raise(T.InvalidIdentifier,{at:this.state.curPosition(),identifierName:d}),this.finishToken(130,d)}getTokenFromCode(a){let d=this.input.charCodeAt(this.state.pos+1);a===123&&d===124?this.finishOp(6,2):this.state.inType&&(a===62||a===60)?this.finishOp(a===62?48:47,1):this.state.inType&&a===63?d===46?this.finishOp(18,2):this.finishOp(17,1):mC(a,d,this.input.charCodeAt(this.state.pos+2))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(a)}isAssignable(a,d){return a.type==="TypeCastExpression"?this.isAssignable(a.expression,d):super.isAssignable(a,d)}toAssignable(a,d=!1){!d&&a.type==="AssignmentExpression"&&a.left.type==="TypeCastExpression"&&(a.left=this.typeCastToParameter(a.left)),super.toAssignable(a,d)}toAssignableList(a,d,f){for(let x=0;x<a.length;x++){let _=a[x];(_==null?void 0:_.type)==="TypeCastExpression"&&(a[x]=this.typeCastToParameter(_))}super.toAssignableList(a,d,f)}toReferencedList(a,d){for(let x=0;x<a.length;x++){var f;let _=a[x];_&&_.type==="TypeCastExpression"&&!((f=_.extra)!=null&&f.parenthesized)&&(a.length>1||!d)&&this.raise(Ye.TypeCastInPattern,{at:_.typeAnnotation})}return a}parseArrayLike(a,d,f,x){let _=super.parseArrayLike(a,d,f,x);return d&&!this.state.maybeInArrowParameters&&this.toReferencedList(_.elements),_}isValidLVal(a,d,f){return a==="TypeCastExpression"||super.isValidLVal(a,d,f)}parseClassProperty(a){return this.match(14)&&(a.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(a)}parseClassPrivateProperty(a){return this.match(14)&&(a.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(a)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(a){return!this.match(14)&&super.isNonstaticConstructor(a)}pushClassMethod(a,d,f,x,_,B){if(d.variance&&this.unexpected(d.variance.loc.start),delete d.variance,this.match(47)&&(d.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(a,d,f,x,_,B),d.params&&_){let H=d.params;H.length>0&&this.isThisParam(H[0])&&this.raise(Ye.ThisParamBannedInConstructor,{at:d})}else if(d.type==="MethodDefinition"&&_&&d.value.params){let H=d.value.params;H.length>0&&this.isThisParam(H[0])&&this.raise(Ye.ThisParamBannedInConstructor,{at:d})}}pushClassPrivateMethod(a,d,f,x){d.variance&&this.unexpected(d.variance.loc.start),delete d.variance,this.match(47)&&(d.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(a,d,f,x)}parseClassSuper(a){if(super.parseClassSuper(a),a.superClass&&this.match(47)&&(a.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual(111)){this.next();let d=a.implements=[];do{let f=this.startNode();f.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?f.typeParameters=this.flowParseTypeParameterInstantiation():f.typeParameters=null,d.push(this.finishNode(f,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(a){super.checkGetterSetterParams(a);let d=this.getObjectOrClassMethodParams(a);if(d.length>0){let f=d[0];this.isThisParam(f)&&a.kind==="get"?this.raise(Ye.GetterMayNotHaveThisParam,{at:f}):this.isThisParam(f)&&this.raise(Ye.SetterMayNotHaveThisParam,{at:f})}}parsePropertyNamePrefixOperator(a){a.variance=this.flowParseVariance()}parseObjPropValue(a,d,f,x,_,B,H){a.variance&&this.unexpected(a.variance.loc.start),delete a.variance;let G;this.match(47)&&!B&&(G=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());let Y=super.parseObjPropValue(a,d,f,x,_,B,H);return G&&((Y.value||Y).typeParameters=G),Y}parseAssignableListItemTypes(a){return this.eat(17)&&(a.type!=="Identifier"&&this.raise(Ye.PatternIsOptional,{at:a}),this.isThisParam(a)&&this.raise(Ye.ThisParamMayNotBeOptional,{at:a}),a.optional=!0),this.match(14)?a.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(a)&&this.raise(Ye.ThisParamAnnotationRequired,{at:a}),this.match(29)&&this.isThisParam(a)&&this.raise(Ye.ThisParamNoDefault,{at:a}),this.resetEndLocation(a),a}parseMaybeDefault(a,d){let f=super.parseMaybeDefault(a,d);return f.type==="AssignmentPattern"&&f.typeAnnotation&&f.right.start<f.typeAnnotation.start&&this.raise(Ye.TypeBeforeInitializer,{at:f.typeAnnotation}),f}checkImportReflection(a){super.checkImportReflection(a),a.module&&a.importKind!=="value"&&this.raise(Ye.ImportReflectionHasImportType,{at:a.specifiers[0].loc.start})}parseImportSpecifierLocal(a,d,f){d.local=xy(a)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),a.specifiers.push(this.finishImportSpecifier(d,f))}isPotentialImportPhase(a){if(super.isPotentialImportPhase(a))return!0;if(this.isContextual(128)){if(!a)return!0;let d=this.lookaheadCharCode();return d===123||d===42}return!a&&this.isContextual(87)}applyImportPhase(a,d,f,x){if(super.applyImportPhase(a,d,f,x),d){if(!f&&this.match(65))return;a.exportKind=f==="type"?f:"value"}else f==="type"&&this.match(55)&&this.unexpected(),a.importKind=f==="type"||f==="typeof"?f:"value"}parseImportSpecifier(a,d,f,x,_){let B=a.imported,H=null;B.type==="Identifier"&&(B.name==="type"?H="type":B.name==="typeof"&&(H="typeof"));let G=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){let ke=this.parseIdentifier(!0);H!==null&&!et(this.state.type)?(a.imported=ke,a.importKind=H,a.local=Kn(ke)):(a.imported=B,a.importKind=null,a.local=this.parseIdentifier())}else{if(H!==null&&et(this.state.type))a.imported=this.parseIdentifier(!0),a.importKind=H;else{if(d)throw this.raise(T.ImportBindingIsString,{at:a,importName:B.value});a.imported=B,a.importKind=null}this.eatContextual(93)?a.local=this.parseIdentifier():(G=!0,a.local=Kn(a.imported))}let Y=xy(a);return f&&Y&&this.raise(Ye.ImportTypeShorthandOnlyInPureImport,{at:a}),(f||Y)&&this.checkReservedType(a.local.name,a.local.loc.start,!0),G&&!f&&!Y&&this.checkReservedWord(a.local.name,a.loc.start,!0,!0),this.finishImportSpecifier(a,"ImportSpecifier")}parseBindingAtom(){switch(this.state.type){case 78:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseFunctionParams(a,d){let f=a.kind;f!=="get"&&f!=="set"&&this.match(47)&&(a.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(a,d)}parseVarId(a,d){super.parseVarId(a,d),this.match(14)&&(a.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(a.id))}parseAsyncArrowFromCallExpression(a,d){if(this.match(14)){let f=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,a.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=f}return super.parseAsyncArrowFromCallExpression(a,d)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(a,d){var f;let x=null,_;if(this.hasPlugin("jsx")&&(this.match(140)||this.match(47))){if(x=this.state.clone(),_=this.tryParse(()=>super.parseMaybeAssign(a,d),x),!_.error)return _.node;let{context:G}=this.state,Y=G[G.length-1];(Y===Q.j_oTag||Y===Q.j_expr)&&G.pop()}if((f=_)!=null&&f.error||this.match(47)){var B,H;x=x||this.state.clone();let G,Y=this.tryParse(Pe=>{var Me;G=this.flowParseTypeParameterDeclaration();let Ue=this.forwardNoArrowParamsConversionAt(G,()=>{let ht=super.parseMaybeAssign(a,d);return this.resetStartLocationFromNode(ht,G),ht});(Me=Ue.extra)!=null&&Me.parenthesized&&Pe();let gt=this.maybeUnwrapTypeCastExpression(Ue);return gt.type!=="ArrowFunctionExpression"&&Pe(),gt.typeParameters=G,this.resetStartLocationFromNode(gt,G),Ue},x),ke=null;if(Y.node&&this.maybeUnwrapTypeCastExpression(Y.node).type==="ArrowFunctionExpression"){if(!Y.error&&!Y.aborted)return Y.node.async&&this.raise(Ye.UnexpectedTypeParameterBeforeAsyncArrowFunction,{at:G}),Y.node;ke=Y.node}if((B=_)!=null&&B.node)return this.state=_.failState,_.node;if(ke)return this.state=Y.failState,ke;throw(H=_)!=null&&H.thrown?_.error:Y.thrown?Y.error:this.raise(Ye.UnexpectedTokenAfterTypeParameter,{at:G})}return super.parseMaybeAssign(a,d)}parseArrow(a){if(this.match(14)){let d=this.tryParse(()=>{let f=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;let x=this.startNode();return[x.typeAnnotation,a.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=f,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),x});if(d.thrown)return null;d.error&&(this.state=d.failState),a.returnType=d.node.typeAnnotation?this.finishNode(d.node,"TypeAnnotation"):null}return super.parseArrow(a)}shouldParseArrow(a){return this.match(14)||super.shouldParseArrow(a)}setArrowFunctionParameters(a,d){this.state.noArrowParamsConversionAt.indexOf(a.start)!==-1?a.params=d:super.setArrowFunctionParameters(a,d)}checkParams(a,d,f,x=!0){if(!(f&&this.state.noArrowParamsConversionAt.indexOf(a.start)!==-1)){for(let _=0;_<a.params.length;_++)this.isThisParam(a.params[_])&&_>0&&this.raise(Ye.ThisParamMustBeFirst,{at:a.params[_]});super.checkParams(a,d,f,x)}}parseParenAndDistinguishExpression(a){return super.parseParenAndDistinguishExpression(a&&this.state.noArrowAt.indexOf(this.state.start)===-1)}parseSubscripts(a,d,f){if(a.type==="Identifier"&&a.name==="async"&&this.state.noArrowAt.indexOf(d.index)!==-1){this.next();let x=this.startNodeAt(d);x.callee=a,x.arguments=super.parseCallExpressionArguments(11,!1),a=this.finishNode(x,"CallExpression")}else if(a.type==="Identifier"&&a.name==="async"&&this.match(47)){let x=this.state.clone(),_=this.tryParse(H=>this.parseAsyncArrowWithTypeParameters(d)||H(),x);if(!_.error&&!_.aborted)return _.node;let B=this.tryParse(()=>super.parseSubscripts(a,d,f),x);if(B.node&&!B.error)return B.node;if(_.node)return this.state=_.failState,_.node;if(B.node)return this.state=B.failState,B.node;throw _.error||B.error}return super.parseSubscripts(a,d,f)}parseSubscript(a,d,f,x){if(this.match(18)&&this.isLookaheadToken_lt()){if(x.optionalChainMember=!0,f)return x.stop=!0,a;this.next();let _=this.startNodeAt(d);return _.callee=a,_.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(10),_.arguments=this.parseCallExpressionArguments(11,!1),_.optional=!0,this.finishCallExpression(_,!0)}else if(!f&&this.shouldParseTypes()&&this.match(47)){let _=this.startNodeAt(d);_.callee=a;let B=this.tryParse(()=>(_.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),_.arguments=super.parseCallExpressionArguments(11,!1),x.optionalChainMember&&(_.optional=!1),this.finishCallExpression(_,x.optionalChainMember)));if(B.node)return B.error&&(this.state=B.failState),B.node}return super.parseSubscript(a,d,f,x)}parseNewCallee(a){super.parseNewCallee(a);let d=null;this.shouldParseTypes()&&this.match(47)&&(d=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node),a.typeArguments=d}parseAsyncArrowWithTypeParameters(a){let d=this.startNodeAt(a);if(this.parseFunctionParams(d,!1),!!this.parseArrow(d))return super.parseArrowExpression(d,void 0,!0)}readToken_mult_modulo(a){let d=this.input.charCodeAt(this.state.pos+1);if(a===42&&d===47&&this.state.hasFlowComment){this.state.hasFlowComment=!1,this.state.pos+=2,this.nextToken();return}super.readToken_mult_modulo(a)}readToken_pipe_amp(a){let d=this.input.charCodeAt(this.state.pos+1);if(a===124&&d===125){this.finishOp(9,2);return}super.readToken_pipe_amp(a)}parseTopLevel(a,d){let f=super.parseTopLevel(a,d);return this.state.hasFlowComment&&this.raise(Ye.UnterminatedFlowComment,{at:this.state.curPosition()}),f}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){if(this.state.hasFlowComment)throw this.raise(Ye.NestedFlowComment,{at:this.state.startLoc});this.hasFlowCommentCompletion();let a=this.skipFlowComment();a&&(this.state.pos+=a,this.state.hasFlowComment=!0);return}return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/")}skipFlowComment(){let{pos:a}=this.state,d=2;for(;[32,9].includes(this.input.charCodeAt(a+d));)d++;let f=this.input.charCodeAt(d+a),x=this.input.charCodeAt(d+a+1);return f===58&&x===58?d+2:this.input.slice(d+a,d+a+12)==="flow-include"?d+12:f===58&&x!==58?d:!1}hasFlowCommentCompletion(){if(this.input.indexOf("*/",this.state.pos)===-1)throw this.raise(T.UnterminatedComment,{at:this.state.curPosition()})}flowEnumErrorBooleanMemberNotInitialized(a,{enumName:d,memberName:f}){this.raise(Ye.EnumBooleanMemberNotInitialized,{at:a,memberName:f,enumName:d})}flowEnumErrorInvalidMemberInitializer(a,d){return this.raise(d.explicitType?d.explicitType==="symbol"?Ye.EnumInvalidMemberInitializerSymbolType:Ye.EnumInvalidMemberInitializerPrimaryType:Ye.EnumInvalidMemberInitializerUnknownType,Object.assign({at:a},d))}flowEnumErrorNumberMemberNotInitialized(a,{enumName:d,memberName:f}){this.raise(Ye.EnumNumberMemberNotInitialized,{at:a,enumName:d,memberName:f})}flowEnumErrorStringMemberInconsistentlyInitailized(a,{enumName:d}){this.raise(Ye.EnumStringMemberInconsistentlyInitailized,{at:a,enumName:d})}flowEnumMemberInit(){let a=this.state.startLoc,d=()=>this.match(12)||this.match(8);switch(this.state.type){case 132:{let f=this.parseNumericLiteral(this.state.value);return d()?{type:"number",loc:f.loc.start,value:f}:{type:"invalid",loc:a}}case 131:{let f=this.parseStringLiteral(this.state.value);return d()?{type:"string",loc:f.loc.start,value:f}:{type:"invalid",loc:a}}case 85:case 86:{let f=this.parseBooleanLiteral(this.match(85));return d()?{type:"boolean",loc:f.loc.start,value:f}:{type:"invalid",loc:a}}default:return{type:"invalid",loc:a}}}flowEnumMemberRaw(){let a=this.state.startLoc,d=this.parseIdentifier(!0),f=this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:a};return{id:d,init:f}}flowEnumCheckExplicitTypeMismatch(a,d,f){let{explicitType:x}=d;x!==null&&x!==f&&this.flowEnumErrorInvalidMemberInitializer(a,d)}flowEnumMembers({enumName:a,explicitType:d}){let f=new Set,x={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]},_=!1;for(;!this.match(8);){if(this.eat(21)){_=!0;break}let B=this.startNode(),{id:H,init:G}=this.flowEnumMemberRaw(),Y=H.name;if(Y==="")continue;/^[a-z]/.test(Y)&&this.raise(Ye.EnumInvalidMemberName,{at:H,memberName:Y,suggestion:Y[0].toUpperCase()+Y.slice(1),enumName:a}),f.has(Y)&&this.raise(Ye.EnumDuplicateMemberName,{at:H,memberName:Y,enumName:a}),f.add(Y);let ke={enumName:a,explicitType:d,memberName:Y};switch(B.id=H,G.type){case"boolean":{this.flowEnumCheckExplicitTypeMismatch(G.loc,ke,"boolean"),B.init=G.value,x.booleanMembers.push(this.finishNode(B,"EnumBooleanMember"));break}case"number":{this.flowEnumCheckExplicitTypeMismatch(G.loc,ke,"number"),B.init=G.value,x.numberMembers.push(this.finishNode(B,"EnumNumberMember"));break}case"string":{this.flowEnumCheckExplicitTypeMismatch(G.loc,ke,"string"),B.init=G.value,x.stringMembers.push(this.finishNode(B,"EnumStringMember"));break}case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(G.loc,ke);case"none":switch(d){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(G.loc,ke);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(G.loc,ke);break;default:x.defaultedMembers.push(this.finishNode(B,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:x,hasUnknownMembers:_}}flowEnumStringMembers(a,d,{enumName:f}){if(a.length===0)return d;if(d.length===0)return a;if(d.length>a.length){for(let x of a)this.flowEnumErrorStringMemberInconsistentlyInitailized(x,{enumName:f});return d}else{for(let x of d)this.flowEnumErrorStringMemberInconsistentlyInitailized(x,{enumName:f});return a}}flowEnumParseExplicitType({enumName:a}){if(!this.eatContextual(101))return null;if(!le(this.state.type))throw this.raise(Ye.EnumInvalidExplicitTypeUnknownSupplied,{at:this.state.startLoc,enumName:a});let{value:d}=this.state;return this.next(),d!=="boolean"&&d!=="number"&&d!=="string"&&d!=="symbol"&&this.raise(Ye.EnumInvalidExplicitType,{at:this.state.startLoc,enumName:a,invalidEnumType:d}),d}flowEnumBody(a,d){let f=d.name,x=d.loc.start,_=this.flowEnumParseExplicitType({enumName:f});this.expect(5);let{members:B,hasUnknownMembers:H}=this.flowEnumMembers({enumName:f,explicitType:_});switch(a.hasUnknownMembers=H,_){case"boolean":return a.explicitType=!0,a.members=B.booleanMembers,this.expect(8),this.finishNode(a,"EnumBooleanBody");case"number":return a.explicitType=!0,a.members=B.numberMembers,this.expect(8),this.finishNode(a,"EnumNumberBody");case"string":return a.explicitType=!0,a.members=this.flowEnumStringMembers(B.stringMembers,B.defaultedMembers,{enumName:f}),this.expect(8),this.finishNode(a,"EnumStringBody");case"symbol":return a.members=B.defaultedMembers,this.expect(8),this.finishNode(a,"EnumSymbolBody");default:{let G=()=>(a.members=[],this.expect(8),this.finishNode(a,"EnumStringBody"));a.explicitType=!1;let Y=B.booleanMembers.length,ke=B.numberMembers.length,Pe=B.stringMembers.length,Me=B.defaultedMembers.length;if(!Y&&!ke&&!Pe&&!Me)return G();if(!Y&&!ke)return a.members=this.flowEnumStringMembers(B.stringMembers,B.defaultedMembers,{enumName:f}),this.expect(8),this.finishNode(a,"EnumStringBody");if(!ke&&!Pe&&Y>=Me){for(let Ue of B.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(Ue.loc.start,{enumName:f,memberName:Ue.id.name});return a.members=B.booleanMembers,this.expect(8),this.finishNode(a,"EnumBooleanBody")}else if(!Y&&!Pe&&ke>=Me){for(let Ue of B.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(Ue.loc.start,{enumName:f,memberName:Ue.id.name});return a.members=B.numberMembers,this.expect(8),this.finishNode(a,"EnumNumberBody")}else return this.raise(Ye.EnumInconsistentMemberValues,{at:x,enumName:f}),G()}}}flowParseEnumDeclaration(a){let d=this.parseIdentifier();return a.id=d,a.body=this.flowEnumBody(this.startNode(),d),this.finishNode(a,"EnumDeclaration")}isLookaheadToken_lt(){let a=this.nextTokenStart();if(this.input.charCodeAt(a)===60){let d=this.input.charCodeAt(a+1);return d!==60&&d!==61}return!1}maybeUnwrapTypeCastExpression(a){return a.type==="TypeCastExpression"?a.expression:a}},Jo=A`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:u})=>`Expected corresponding JSX closing tag for <${u}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:u,HTMLEntity:a})=>`Unexpected token \`${u}\`. Did you mean \`${a}\` or \`{'${u}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function vo(u){return u?u.type==="JSXOpeningFragment"||u.type==="JSXClosingFragment":!1}function Gi(u){if(u.type==="JSXIdentifier")return u.name;if(u.type==="JSXNamespacedName")return u.namespace.name+":"+u.name.name;if(u.type==="JSXMemberExpression")return Gi(u.object)+"."+Gi(u.property);throw new Error("Node had unexpected type: "+u.type)}var rO=u=>class extends u{jsxReadToken(){let a="",d=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(Jo.UnterminatedJsxContent,{at:this.state.startLoc});let f=this.input.charCodeAt(this.state.pos);switch(f){case 60:case 123:if(this.state.pos===this.state.start){f===60&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(140)):super.getTokenFromCode(f);return}a+=this.input.slice(d,this.state.pos),this.finishToken(139,a);return;case 38:a+=this.input.slice(d,this.state.pos),a+=this.jsxReadEntity(),d=this.state.pos;break;case 62:case 125:default:ea(f)?(a+=this.input.slice(d,this.state.pos),a+=this.jsxReadNewLine(!0),d=this.state.pos):++this.state.pos}}}jsxReadNewLine(a){let d=this.input.charCodeAt(this.state.pos),f;return++this.state.pos,d===13&&this.input.charCodeAt(this.state.pos)===10?(++this.state.pos,f=a?`
`:`\r
`):f=String.fromCharCode(d),++this.state.curLine,this.state.lineStart=this.state.pos,f}jsxReadString(a){let d="",f=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(T.UnterminatedString,{at:this.state.startLoc});let x=this.input.charCodeAt(this.state.pos);if(x===a)break;x===38?(d+=this.input.slice(f,this.state.pos),d+=this.jsxReadEntity(),f=this.state.pos):ea(x)?(d+=this.input.slice(f,this.state.pos),d+=this.jsxReadNewLine(!1),f=this.state.pos):++this.state.pos}d+=this.input.slice(f,this.state.pos++),this.finishToken(131,d)}jsxReadEntity(){let a=++this.state.pos;if(this.codePointAtPos(this.state.pos)===35){++this.state.pos;let d=10;this.codePointAtPos(this.state.pos)===120&&(d=16,++this.state.pos);let f=this.readInt(d,void 0,!1,"bail");if(f!==null&&this.codePointAtPos(this.state.pos)===59)return++this.state.pos,String.fromCodePoint(f)}else{let d=0,f=!1;for(;d++<10&&this.state.pos<this.length&&!(f=this.codePointAtPos(this.state.pos)==59);)++this.state.pos;if(f){this.input.slice(a,this.state.pos);let x;++this.state.pos}}return this.state.pos=a,"&"}jsxReadWord(){let a,d=this.state.pos;do a=this.input.charCodeAt(++this.state.pos);while(Ui(a)||a===45);this.finishToken(138,this.input.slice(d,this.state.pos))}jsxParseIdentifier(){let a=this.startNode();return this.match(138)?a.name=this.state.value:is(this.state.type)?a.name=yo(this.state.type):this.unexpected(),this.next(),this.finishNode(a,"JSXIdentifier")}jsxParseNamespacedName(){let a=this.state.startLoc,d=this.jsxParseIdentifier();if(!this.eat(14))return d;let f=this.startNodeAt(a);return f.namespace=d,f.name=this.jsxParseIdentifier(),this.finishNode(f,"JSXNamespacedName")}jsxParseElementName(){let a=this.state.startLoc,d=this.jsxParseNamespacedName();if(d.type==="JSXNamespacedName")return d;for(;this.eat(16);){let f=this.startNodeAt(a);f.object=d,f.property=this.jsxParseIdentifier(),d=this.finishNode(f,"JSXMemberExpression")}return d}jsxParseAttributeValue(){let a;switch(this.state.type){case 5:return a=this.startNode(),this.setContext(Q.brace),this.next(),a=this.jsxParseExpressionContainer(a,Q.j_oTag),a.expression.type==="JSXEmptyExpression"&&this.raise(Jo.AttributeIsEmpty,{at:a}),a;case 140:case 131:return this.parseExprAtom();default:throw this.raise(Jo.UnsupportedJsxValue,{at:this.state.startLoc})}}jsxParseEmptyExpression(){let a=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(a,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(a){return this.next(),a.expression=this.parseExpression(),this.setContext(Q.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(a,"JSXSpreadChild")}jsxParseExpressionContainer(a,d){if(this.match(8))a.expression=this.jsxParseEmptyExpression();else{let f=this.parseExpression();a.expression=f}return this.setContext(d),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(a,"JSXExpressionContainer")}jsxParseAttribute(){let a=this.startNode();return this.match(5)?(this.setContext(Q.brace),this.next(),this.expect(21),a.argument=this.parseMaybeAssignAllowIn(),this.setContext(Q.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(a,"JSXSpreadAttribute")):(a.name=this.jsxParseNamespacedName(),a.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(a,"JSXAttribute"))}jsxParseOpeningElementAt(a){let d=this.startNodeAt(a);return this.eat(141)?this.finishNode(d,"JSXOpeningFragment"):(d.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(d))}jsxParseOpeningElementAfterName(a){let d=[];for(;!this.match(56)&&!this.match(141);)d.push(this.jsxParseAttribute());return a.attributes=d,a.selfClosing=this.eat(56),this.expect(141),this.finishNode(a,"JSXOpeningElement")}jsxParseClosingElementAt(a){let d=this.startNodeAt(a);return this.eat(141)?this.finishNode(d,"JSXClosingFragment"):(d.name=this.jsxParseElementName(),this.expect(141),this.finishNode(d,"JSXClosingElement"))}jsxParseElementAt(a){let d=this.startNodeAt(a),f=[],x=this.jsxParseOpeningElementAt(a),_=null;if(!x.selfClosing){e:for(;;)switch(this.state.type){case 140:if(a=this.state.startLoc,this.next(),this.eat(56)){_=this.jsxParseClosingElementAt(a);break e}f.push(this.jsxParseElementAt(a));break;case 139:f.push(this.parseExprAtom());break;case 5:{let B=this.startNode();this.setContext(Q.brace),this.next(),this.match(21)?f.push(this.jsxParseSpreadChild(B)):f.push(this.jsxParseExpressionContainer(B,Q.j_expr));break}default:this.unexpected()}vo(x)&&!vo(_)&&_!==null?this.raise(Jo.MissingClosingTagFragment,{at:_}):!vo(x)&&vo(_)?this.raise(Jo.MissingClosingTagElement,{at:_,openingTagName:Gi(x.name)}):!vo(x)&&!vo(_)&&Gi(_.name)!==Gi(x.name)&&this.raise(Jo.MissingClosingTagElement,{at:_,openingTagName:Gi(x.name)})}if(vo(x)?(d.openingFragment=x,d.closingFragment=_):(d.openingElement=x,d.closingElement=_),d.children=f,this.match(47))throw this.raise(Jo.UnwrappedAdjacentJSXElements,{at:this.state.startLoc});return vo(x)?this.finishNode(d,"JSXFragment"):this.finishNode(d,"JSXElement")}jsxParseElement(){let a=this.state.startLoc;return this.next(),this.jsxParseElementAt(a)}setContext(a){let{context:d}=this.state;d[d.length-1]=a}parseExprAtom(a){return this.match(139)?this.parseLiteral(this.state.value,"JSXText"):this.match(140)?this.jsxParseElement():this.match(47)&&this.input.charCodeAt(this.state.pos)!==33?(this.replaceToken(140),this.jsxParseElement()):super.parseExprAtom(a)}skipSpace(){this.curContext().preserveSpace||super.skipSpace()}getTokenFromCode(a){let d=this.curContext();if(d===Q.j_expr){this.jsxReadToken();return}if(d===Q.j_oTag||d===Q.j_cTag){if(Yn(a)){this.jsxReadWord();return}if(a===62){++this.state.pos,this.finishToken(141);return}if((a===34||a===39)&&d===Q.j_oTag){this.jsxReadString(a);return}}if(a===60&&this.state.canStartJSXElement&&this.input.charCodeAt(this.state.pos+1)!==33){++this.state.pos,this.finishToken(140);return}super.getTokenFromCode(a)}updateContext(a){let{context:d,type:f}=this.state;if(f===56&&a===140)d.splice(-2,2,Q.j_cTag),this.state.canStartJSXElement=!1;else if(f===140)d.push(Q.j_oTag);else if(f===141){let x=d[d.length-1];x===Q.j_oTag&&a===56||x===Q.j_cTag?(d.pop(),this.state.canStartJSXElement=d[d.length-1]===Q.j_expr):(this.setContext(Q.j_expr),this.state.canStartJSXElement=!0)}else this.state.canStartJSXElement=Bt(f)}},aO=class extends op{constructor(...u){super(...u),this.types=new Set,this.enums=new Set,this.constEnums=new Set,this.classes=new Set,this.exportOnlyBindings=new Set}},lO=class extends ip{constructor(...u){super(...u),this.importsStack=[]}createScope(u){return this.importsStack.push(new Set),new aO(u)}enter(u){u==qi&&this.importsStack.push(new Set),super.enter(u)}exit(){let u=super.exit();return u==qi&&this.importsStack.pop(),u}hasImport(u,a){let d=this.importsStack.length;if(this.importsStack[d-1].has(u))return!0;if(!a&&d>1){for(let f=0;f<d-1;f++)if(this.importsStack[f].has(u))return!0}return!1}declareName(u,a,d){if(a&Kr){this.hasImport(u,!0)&&this.parser.raise(T.VarRedeclaration,{at:d,identifierName:u}),this.importsStack[this.importsStack.length-1].add(u);return}let f=this.currentScope();if(a&Jd){this.maybeExportDefined(f,u),f.exportOnlyBindings.add(u);return}super.declareName(u,a,d),a&Xo&&(a&xn||(this.checkRedeclarationInScope(f,u,a,d),this.maybeExportDefined(f,u)),f.types.add(u)),a&Xd&&f.enums.add(u),a&Kd&&f.constEnums.add(u),a&Hl&&f.classes.add(u)}isRedeclaredInScope(u,a,d){if(u.enums.has(a)){if(d&Xd){let f=!!(d&Kd),x=u.constEnums.has(a);return f!==x}return!0}return d&Hl&&u.classes.has(a)?u.lexical.has(a)?!!(d&xn):!1:d&Xo&&u.types.has(a)?!0:super.isRedeclaredInScope(u,a,d)}checkLocalExport(u){let{name:a}=u;if(this.hasImport(a))return;let d=this.scopeStack.length;for(let f=d-1;f>=0;f--){let x=this.scopeStack[f];if(x.types.has(a)||x.exportOnlyBindings.has(a))return}super.checkLocalExport(u)}},uO=(u,a)=>Object.hasOwnProperty.call(u,a)&&u[a],Cy=u=>u.type==="ParenthesizedExpression"?Cy(u.expression):u,cO=class extends ZC{toAssignable(u,a=!1){var d,f;let x;switch((u.type==="ParenthesizedExpression"||(d=u.extra)!=null&&d.parenthesized)&&(x=Cy(u),a?x.type==="Identifier"?this.expressionScope.recordArrowParameterBindingError(T.InvalidParenthesizedAssignment,{at:u}):x.type!=="MemberExpression"&&this.raise(T.InvalidParenthesizedAssignment,{at:u}):this.raise(T.InvalidParenthesizedAssignment,{at:u})),u.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":u.type="ObjectPattern";for(let B=0,H=u.properties.length,G=H-1;B<H;B++){var _;let Y=u.properties[B],ke=B===G;this.toAssignableObjectExpressionProp(Y,ke,a),ke&&Y.type==="RestElement"&&(_=u.extra)!=null&&_.trailingCommaLoc&&this.raise(T.RestTrailingComma,{at:u.extra.trailingCommaLoc})}break;case"ObjectProperty":{let{key:B,value:H}=u;this.isPrivateName(B)&&this.classScope.usePrivateName(this.getPrivateNameSV(B),B.loc.start),this.toAssignable(H,a);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":u.type="ArrayPattern",this.toAssignableList(u.elements,(f=u.extra)==null?void 0:f.trailingCommaLoc,a);break;case"AssignmentExpression":u.operator!=="="&&this.raise(T.MissingEqInAssignment,{at:u.left.loc.end}),u.type="AssignmentPattern",delete u.operator,this.toAssignable(u.left,a);break;case"ParenthesizedExpression":this.toAssignable(x,a);break}}toAssignableObjectExpressionProp(u,a,d){if(u.type==="ObjectMethod")this.raise(u.kind==="get"||u.kind==="set"?T.PatternHasAccessor:T.PatternHasMethod,{at:u.key});else if(u.type==="SpreadElement"){u.type="RestElement";let f=u.argument;this.checkToRestConversion(f,!1),this.toAssignable(f,d),a||this.raise(T.RestTrailingComma,{at:u})}else this.toAssignable(u,d)}toAssignableList(u,a,d){let f=u.length-1;for(let x=0;x<=f;x++){let _=u[x];if(_){if(_.type==="SpreadElement"){_.type="RestElement";let B=_.argument;this.checkToRestConversion(B,!0),this.toAssignable(B,d)}else this.toAssignable(_,d);_.type==="RestElement"&&(x<f?this.raise(T.RestTrailingComma,{at:_}):a&&this.raise(T.RestTrailingComma,{at:a}))}}}isAssignable(u,a){switch(u.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":return!0;case"ObjectExpression":{let d=u.properties.length-1;return u.properties.every((f,x)=>f.type!=="ObjectMethod"&&(x===d||f.type!=="SpreadElement")&&this.isAssignable(f))}case"ObjectProperty":return this.isAssignable(u.value);case"SpreadElement":return this.isAssignable(u.argument);case"ArrayExpression":return u.elements.every(d=>d===null||this.isAssignable(d));case"AssignmentExpression":return u.operator==="=";case"ParenthesizedExpression":return this.isAssignable(u.expression);case"MemberExpression":case"OptionalMemberExpression":return!a;default:return!1}}toReferencedList(u,a){return u}toReferencedListDeep(u,a){this.toReferencedList(u,a);for(let d of u)(d==null?void 0:d.type)==="ArrayExpression"&&this.toReferencedListDeep(d.elements)}parseSpread(u){let a=this.startNode();return this.next(),a.argument=this.parseMaybeAssignAllowIn(u,void 0),this.finishNode(a,"SpreadElement")}parseRestBinding(){let u=this.startNode();return this.next(),u.argument=this.parseBindingAtom(),this.finishNode(u,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{let u=this.startNode();return this.next(),u.elements=this.parseBindingList(3,93,1),this.finishNode(u,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0)}return this.parseIdentifier()}parseBindingList(u,a,d){let f=d&1,x=[],_=!0;for(;!this.eat(u);)if(_?_=!1:this.expect(12),f&&this.match(12))x.push(null);else{if(this.eat(u))break;if(this.match(21)){if(x.push(this.parseAssignableListItemTypes(this.parseRestBinding(),d)),!this.checkCommaAfterRest(a)){this.expect(u);break}}else{let B=[];for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(T.UnsupportedParameterDecorator,{at:this.state.startLoc});this.match(26);)B.push(this.parseDecorator());x.push(this.parseAssignableListItem(d,B))}}return x}parseBindingRestProperty(u){return this.next(),u.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(u,"RestElement")}parseBindingProperty(){let u=this.startNode(),{type:a,startLoc:d}=this.state;return a===21?this.parseBindingRestProperty(u):(a===136?(this.expectPlugin("destructuringPrivate",d),this.classScope.usePrivateName(this.state.value,d),u.key=this.parsePrivateName()):this.parsePropertyName(u),u.method=!1,this.parseObjPropValue(u,d,!1,!1,!0,!1))}parseAssignableListItem(u,a){let d=this.parseMaybeDefault();this.parseAssignableListItemTypes(d,u);let f=this.parseMaybeDefault(d.loc.start,d);return a.length&&(d.decorators=a),f}parseAssignableListItemTypes(u,a){return u}parseMaybeDefault(u,a){var d;if(u!=null||(u=this.state.startLoc),a=(d=a)!=null?d:this.parseBindingAtom(),!this.eat(29))return a;let f=this.startNodeAt(u);return f.left=a,f.right=this.parseMaybeAssignAllowIn(),this.finishNode(f,"AssignmentPattern")}isValidLVal(u,a,d){return uO({AssignmentPattern:"left",RestElement:"argument",ObjectProperty:"value",ParenthesizedExpression:"expression",ArrayPattern:"elements",ObjectPattern:"properties"},u)}checkLVal(u,{in:a,binding:d=wo,checkClashes:f=!1,strictModeChanged:x=!1,hasParenthesizedAncestor:_=!1}){var B;let H=u.type;if(this.isObjectMethod(u))return;if(H==="MemberExpression"){d!==wo&&this.raise(T.InvalidPropertyBindingPattern,{at:u});return}if(H==="Identifier"){this.checkIdentifier(u,d,x);let{name:Me}=u;f&&(f.has(Me)?this.raise(T.ParamDupe,{at:u}):f.add(Me));return}let G=this.isValidLVal(H,!(_||(B=u.extra)!=null&&B.parenthesized)&&a.type==="AssignmentExpression",d);if(G===!0)return;if(G===!1){let Me=d===wo?T.InvalidLhs:T.InvalidLhsBinding;this.raise(Me,{at:u,ancestor:a});return}let[Y,ke]=Array.isArray(G)?G:[G,H==="ParenthesizedExpression"],Pe=H==="ArrayPattern"||H==="ObjectPattern"||H==="ParenthesizedExpression"?{type:H}:a;for(let Me of[].concat(u[Y]))Me&&this.checkLVal(Me,{in:Pe,binding:d,checkClashes:f,strictModeChanged:x,hasParenthesizedAncestor:ke})}checkIdentifier(u,a,d=!1){this.state.strict&&(d?sy(u.name,this.inModule):ty(u.name))&&(a===wo?this.raise(T.StrictEvalArguments,{at:u,referenceName:u.name}):this.raise(T.StrictEvalArgumentsBinding,{at:u,bindingName:u.name})),a&Ql&&u.name==="let"&&this.raise(T.LetInLexicalBinding,{at:u}),a&wo||this.declareNameFromIdentifier(u,a)}declareNameFromIdentifier(u,a){this.scope.declareName(u.name,a,u.loc.start)}checkToRestConversion(u,a){switch(u.type){case"ParenthesizedExpression":this.checkToRestConversion(u.expression,a);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(a)break;default:this.raise(T.InvalidRestAssignmentPattern,{at:u})}}checkCommaAfterRest(u){return this.match(12)?(this.raise(this.lookaheadCharCode()===u?T.RestTrailingComma:T.ElementAfterRest,{at:this.state.startLoc}),!0):!1}},dO=(u,a)=>Object.hasOwnProperty.call(u,a)&&u[a];function pO(u){if(u==null)throw new Error(`Unexpected ${u} value.`);return u}function Oy(u){if(!u)throw new Error("Assert fail")}var Ve=A`typescript`({AbstractMethodHasImplementation:({methodName:u})=>`Method '${u}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:u})=>`Property '${u}' cannot have an initializer because it is marked abstract.`,AccesorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccesorCannotHaveTypeParameters:"An accessor cannot have type parameters.",AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:u})=>`'declare' is not allowed in ${u}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:u})=>"Accessibility modifier already seen.",DuplicateModifier:({modifier:u})=>`Duplicate modifier: '${u}'.`,EmptyHeritageClauseType:({token:u})=>`'${u}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:u})=>`'${u[0]}' modifier cannot be used with '${u[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:u})=>`Index signatures cannot have an accessibility modifier ('${u}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidModifierOnTypeMember:({modifier:u})=>`'${u}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:u})=>`'${u}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:u})=>`'${u}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifiersOrder:({orderedModifiers:u})=>`'${u[0]}' modifier must precede '${u[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",MixedLabeledAndUnlabeledElements:"Tuple members must all have names or all not have names.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifer:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:u})=>`Private elements cannot have an accessibility modifier ('${u}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccesorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccesorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccesorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:u})=>`Single type parameter ${u} should have a trailing comma. Example usage: <${u},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:u})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${u}.`});function hO(u){switch(u){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}function Dy(u){return u==="private"||u==="public"||u==="protected"}function mO(u){return u==="in"||u==="out"}var fO=u=>class extends u{constructor(...a){super(...a),this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:Ve.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:Ve.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:Ve.InvalidModifierOnTypeParameter})}getScopeHandler(){return lO}tsIsIdentifier(){return le(this.state.type)}tsTokenCanFollowModifier(){return(this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(136)||this.isLiteralPropertyName())&&!this.hasPrecedingLineBreak()}tsNextTokenCanFollowModifier(){return this.next(),this.tsTokenCanFollowModifier()}tsParseModifier(a,d){if(!le(this.state.type)&&this.state.type!==58&&this.state.type!==75)return;let f=this.state.value;if(a.indexOf(f)!==-1){if(d&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return f}}tsParseModifiers({allowedModifiers:a,disallowedModifiers:d,stopOnStartOfClassStaticBlock:f,errorTemplate:x=Ve.InvalidModifierOnTypeMember},_){let B=(G,Y,ke,Pe)=>{Y===ke&&_[Pe]&&this.raise(Ve.InvalidModifiersOrder,{at:G,orderedModifiers:[ke,Pe]})},H=(G,Y,ke,Pe)=>{(_[ke]&&Y===Pe||_[Pe]&&Y===ke)&&this.raise(Ve.IncompatibleModifiers,{at:G,modifiers:[ke,Pe]})};for(;;){let{startLoc:G}=this.state,Y=this.tsParseModifier(a.concat(d??[]),f);if(!Y)break;Dy(Y)?_.accessibility?this.raise(Ve.DuplicateAccessibilityModifier,{at:G,modifier:Y}):(B(G,Y,Y,"override"),B(G,Y,Y,"static"),B(G,Y,Y,"readonly"),_.accessibility=Y):mO(Y)?(_[Y]&&this.raise(Ve.DuplicateModifier,{at:G,modifier:Y}),_[Y]=!0,B(G,Y,"in","out")):(Object.hasOwnProperty.call(_,Y)?this.raise(Ve.DuplicateModifier,{at:G,modifier:Y}):(B(G,Y,"static","readonly"),B(G,Y,"static","override"),B(G,Y,"override","readonly"),B(G,Y,"abstract","override"),H(G,Y,"declare","override"),H(G,Y,"static","abstract")),_[Y]=!0),d!=null&&d.includes(Y)&&this.raise(x,{at:G,modifier:Y})}}tsIsListTerminator(a){switch(a){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}}tsParseList(a,d){let f=[];for(;!this.tsIsListTerminator(a);)f.push(d());return f}tsParseDelimitedList(a,d,f){return pO(this.tsParseDelimitedListWorker(a,d,!0,f))}tsParseDelimitedListWorker(a,d,f,x){let _=[],B=-1;for(;!this.tsIsListTerminator(a);){B=-1;let H=d();if(H==null)return;if(_.push(H),this.eat(12)){B=this.state.lastTokStart;continue}if(this.tsIsListTerminator(a))break;f&&this.expect(12);return}return x&&(x.value=B),_}tsParseBracketedList(a,d,f,x,_){x||(f?this.expect(0):this.expect(47));let B=this.tsParseDelimitedList(a,d,_);return f?this.expect(3):this.expect(48),B}tsParseImportType(){let a=this.startNode();return this.expect(83),this.expect(10),this.match(131)||this.raise(Ve.UnsupportedImportTypeArgument,{at:this.state.startLoc}),a.argument=super.parseExprAtom(),this.expect(11),this.eat(16)&&(a.qualifier=this.tsParseEntityName()),this.match(47)&&(a.typeParameters=this.tsParseTypeArguments()),this.finishNode(a,"TSImportType")}tsParseEntityName(a=!0){let d=this.parseIdentifier(a);for(;this.eat(16);){let f=this.startNodeAtNode(d);f.left=d,f.right=this.parseIdentifier(a),d=this.finishNode(f,"TSQualifiedName")}return d}tsParseTypeReference(){let a=this.startNode();return a.typeName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(a.typeParameters=this.tsParseTypeArguments()),this.finishNode(a,"TSTypeReference")}tsParseThisTypePredicate(a){this.next();let d=this.startNodeAtNode(a);return d.parameterName=a,d.typeAnnotation=this.tsParseTypeAnnotation(!1),d.asserts=!1,this.finishNode(d,"TSTypePredicate")}tsParseThisTypeNode(){let a=this.startNode();return this.next(),this.finishNode(a,"TSThisType")}tsParseTypeQuery(){let a=this.startNode();return this.expect(87),this.match(83)?a.exprName=this.tsParseImportType():a.exprName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(a.typeParameters=this.tsParseTypeArguments()),this.finishNode(a,"TSTypeQuery")}tsParseTypeParameter(a){let d=this.startNode();return a(d),d.name=this.tsParseTypeParameterName(),d.constraint=this.tsEatThenParseType(81),d.default=this.tsEatThenParseType(29),this.finishNode(d,"TSTypeParameter")}tsTryParseTypeParameters(a){if(this.match(47))return this.tsParseTypeParameters(a)}tsParseTypeParameters(a){let d=this.startNode();this.match(47)||this.match(140)?this.next():this.unexpected();let f={value:-1};return d.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,a),!1,!0,f),d.params.length===0&&this.raise(Ve.EmptyTypeParameters,{at:d}),f.value!==-1&&this.addExtra(d,"trailingComma",f.value),this.finishNode(d,"TSTypeParameterDeclaration")}tsFillSignature(a,d){let f=a===19,x="parameters",_="typeAnnotation";d.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),d[x]=this.tsParseBindingListForSignature(),f?d[_]=this.tsParseTypeOrTypePredicateAnnotation(a):this.match(a)&&(d[_]=this.tsParseTypeOrTypePredicateAnnotation(a))}tsParseBindingListForSignature(){let a=super.parseBindingList(11,41,2);for(let d of a){let{type:f}=d;(f==="AssignmentPattern"||f==="TSParameterProperty")&&this.raise(Ve.UnsupportedSignatureParameterKind,{at:d,type:f})}return a}tsParseTypeMemberSemicolon(){!this.eat(12)&&!this.isLineTerminator()&&this.expect(13)}tsParseSignatureMember(a,d){return this.tsFillSignature(14,d),this.tsParseTypeMemberSemicolon(),this.finishNode(d,a)}tsIsUnambiguouslyIndexSignature(){return this.next(),le(this.state.type)?(this.next(),this.match(14)):!1}tsTryParseIndexSignature(a){if(!(this.match(0)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))))return;this.expect(0);let d=this.parseIdentifier();d.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(d),this.expect(3),a.parameters=[d];let f=this.tsTryParseTypeAnnotation();return f&&(a.typeAnnotation=f),this.tsParseTypeMemberSemicolon(),this.finishNode(a,"TSIndexSignature")}tsParsePropertyOrMethodSignature(a,d){this.eat(17)&&(a.optional=!0);let f=a;if(this.match(10)||this.match(47)){d&&this.raise(Ve.ReadonlyForMethodSignature,{at:a});let x=f;x.kind&&this.match(47)&&this.raise(Ve.AccesorCannotHaveTypeParameters,{at:this.state.curPosition()}),this.tsFillSignature(14,x),this.tsParseTypeMemberSemicolon();let _="parameters",B="typeAnnotation";if(x.kind==="get")x[_].length>0&&(this.raise(T.BadGetterArity,{at:this.state.curPosition()}),this.isThisParam(x[_][0])&&this.raise(Ve.AccesorCannotDeclareThisParameter,{at:this.state.curPosition()}));else if(x.kind==="set"){if(x[_].length!==1)this.raise(T.BadSetterArity,{at:this.state.curPosition()});else{let H=x[_][0];this.isThisParam(H)&&this.raise(Ve.AccesorCannotDeclareThisParameter,{at:this.state.curPosition()}),H.type==="Identifier"&&H.optional&&this.raise(Ve.SetAccesorCannotHaveOptionalParameter,{at:this.state.curPosition()}),H.type==="RestElement"&&this.raise(Ve.SetAccesorCannotHaveRestParameter,{at:this.state.curPosition()})}x[B]&&this.raise(Ve.SetAccesorCannotHaveReturnType,{at:x[B]})}else x.kind="method";return this.finishNode(x,"TSMethodSignature")}else{let x=f;d&&(x.readonly=!0);let _=this.tsTryParseTypeAnnotation();return _&&(x.typeAnnotation=_),this.tsParseTypeMemberSemicolon(),this.finishNode(x,"TSPropertySignature")}}tsParseTypeMember(){let a=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",a);if(this.match(77)){let f=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",a):(a.key=this.createIdentifier(f,"new"),this.tsParsePropertyOrMethodSignature(a,!1))}return this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},a),this.tsTryParseIndexSignature(a)||(super.parsePropertyName(a),!a.computed&&a.key.type==="Identifier"&&(a.key.name==="get"||a.key.name==="set")&&this.tsTokenCanFollowModifier()&&(a.kind=a.key.name,super.parsePropertyName(a)),this.tsParsePropertyOrMethodSignature(a,!!a.readonly))}tsParseTypeLiteral(){let a=this.startNode();return a.members=this.tsParseObjectTypeMembers(),this.finishNode(a,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);let a=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),a}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(120):(this.isContextual(120)&&this.next(),!this.match(0)||(this.next(),!this.tsIsIdentifier())?!1:(this.next(),this.match(58)))}tsParseMappedTypeParameter(){let a=this.startNode();return a.name=this.tsParseTypeParameterName(),a.constraint=this.tsExpectThenParseType(58),this.finishNode(a,"TSTypeParameter")}tsParseMappedType(){let a=this.startNode();return this.expect(5),this.match(53)?(a.readonly=this.state.value,this.next(),this.expectContextual(120)):this.eatContextual(120)&&(a.readonly=!0),this.expect(0),a.typeParameter=this.tsParseMappedTypeParameter(),a.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(a.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(a.optional=!0),a.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(a,"TSMappedType")}tsParseTupleType(){let a=this.startNode();a.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let d=!1,f=null;return a.elementTypes.forEach(x=>{let{type:_}=x;d&&_!=="TSRestType"&&_!=="TSOptionalType"&&!(_==="TSNamedTupleMember"&&x.optional)&&this.raise(Ve.OptionalTypeBeforeRequired,{at:x}),d||(d=_==="TSNamedTupleMember"&&x.optional||_==="TSOptionalType");let B=_;_==="TSRestType"&&(x=x.typeAnnotation,B=x.type);let H=B==="TSNamedTupleMember";f!=null||(f=H),f!==H&&this.raise(Ve.MixedLabeledAndUnlabeledElements,{at:x})}),this.finishNode(a,"TSTupleType")}tsParseTupleElementType(){let{startLoc:a}=this.state,d=this.eat(21),f,x,_,B,H=et(this.state.type)?this.lookaheadCharCode():null;if(H===58)f=!0,_=!1,x=this.parseIdentifier(!0),this.expect(14),B=this.tsParseType();else if(H===63){_=!0;let G=this.state.startLoc,Y=this.state.value,ke=this.tsParseNonArrayType();this.lookaheadCharCode()===58?(f=!0,x=this.createIdentifier(this.startNodeAt(G),Y),this.expect(17),this.expect(14),B=this.tsParseType()):(f=!1,B=ke,this.expect(17))}else B=this.tsParseType(),_=this.eat(17),f=this.eat(14);if(f){let G;x?(G=this.startNodeAtNode(x),G.optional=_,G.label=x,G.elementType=B,this.eat(17)&&(G.optional=!0,this.raise(Ve.TupleOptionalAfterType,{at:this.state.lastTokStartLoc}))):(G=this.startNodeAtNode(B),G.optional=_,this.raise(Ve.InvalidTupleMemberLabel,{at:B}),G.label=B,G.elementType=this.tsParseType()),B=this.finishNode(G,"TSNamedTupleMember")}else if(_){let G=this.startNodeAtNode(B);G.typeAnnotation=B,B=this.finishNode(G,"TSOptionalType")}if(d){let G=this.startNodeAt(a);G.typeAnnotation=B,B=this.finishNode(G,"TSRestType")}return B}tsParseParenthesizedType(){let a=this.startNode();return this.expect(10),a.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(a,"TSParenthesizedType")}tsParseFunctionOrConstructorType(a,d){let f=this.startNode();return a==="TSConstructorType"&&(f.abstract=!!d,d&&this.next(),this.next()),this.tsInAllowConditionalTypesContext(()=>this.tsFillSignature(19,f)),this.finishNode(f,a)}tsParseLiteralTypeNode(){let a=this.startNode();switch(this.state.type){case 132:case 133:case 131:case 85:case 86:a.literal=super.parseExprAtom();break;default:this.unexpected()}return this.finishNode(a,"TSLiteralType")}tsParseTemplateLiteralType(){let a=this.startNode();return a.literal=super.parseTemplate(!1),this.finishNode(a,"TSLiteralType")}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){let a=this.tsParseThisTypeNode();return this.isContextual(114)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(a):a}tsParseNonArrayType(){switch(this.state.type){case 131:case 132:case 133:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if(this.state.value==="-"){let a=this.startNode(),d=this.lookahead();return d.type!==132&&d.type!==133&&this.unexpected(),a.literal=this.parseMaybeUnary(),this.finishNode(a,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{let{type:a}=this.state;if(le(a)||a===88||a===84){let d=a===88?"TSVoidKeyword":a===84?"TSNullKeyword":hO(this.state.value);if(d!==void 0&&this.lookaheadCharCode()!==46){let f=this.startNode();return this.next(),this.finishNode(f,d)}return this.tsParseTypeReference()}}}this.unexpected()}tsParseArrayTypeOrHigher(){let a=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){let d=this.startNodeAtNode(a);d.elementType=a,this.expect(3),a=this.finishNode(d,"TSArrayType")}else{let d=this.startNodeAtNode(a);d.objectType=a,d.indexType=this.tsParseType(),this.expect(3),a=this.finishNode(d,"TSIndexedAccessType")}return a}tsParseTypeOperator(){let a=this.startNode(),d=this.state.value;return this.next(),a.operator=d,a.typeAnnotation=this.tsParseTypeOperatorOrHigher(),d==="readonly"&&this.tsCheckTypeAnnotationForReadOnly(a),this.finishNode(a,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(a){switch(a.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(Ve.UnexpectedReadonly,{at:a})}}tsParseInferType(){let a=this.startNode();this.expectContextual(113);let d=this.startNode();return d.name=this.tsParseTypeParameterName(),d.constraint=this.tsTryParse(()=>this.tsParseConstraintForInferType()),a.typeParameter=this.finishNode(d,"TSTypeParameter"),this.finishNode(a,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){let a=this.tsInDisallowConditionalTypesContext(()=>this.tsParseType());if(this.state.inDisallowConditionalTypesContext||!this.match(17))return a}}tsParseTypeOperatorOrHigher(){return Qn(this.state.type)&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(113)?this.tsParseInferType():this.tsInAllowConditionalTypesContext(()=>this.tsParseArrayTypeOrHigher())}tsParseUnionOrIntersectionType(a,d,f){let x=this.startNode(),_=this.eat(f),B=[];do B.push(d());while(this.eat(f));return B.length===1&&!_?B[0]:(x.types=B,this.finishNode(x,a))}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){return this.match(47)?!0:this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(le(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){let{errors:a}=this.state,d=a.length;try{return this.parseObjectLike(8,!0),a.length===d}catch{return!1}}if(this.match(0)){this.next();let{errors:a}=this.state,d=a.length;try{return super.parseBindingList(3,93,1),a.length===d}catch{return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){return this.next(),!!(this.match(11)||this.match(21)||this.tsSkipParameterStart()&&(this.match(14)||this.match(12)||this.match(17)||this.match(29)||this.match(11)&&(this.next(),this.match(19))))}tsParseTypeOrTypePredicateAnnotation(a){return this.tsInType(()=>{let d=this.startNode();this.expect(a);let f=this.startNode(),x=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(x&&this.match(78)){let H=this.tsParseThisTypeOrThisTypePredicate();return H.type==="TSThisType"?(f.parameterName=H,f.asserts=!0,f.typeAnnotation=null,H=this.finishNode(f,"TSTypePredicate")):(this.resetStartLocationFromNode(H,f),H.asserts=!0),d.typeAnnotation=H,this.finishNode(d,"TSTypeAnnotation")}let _=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!_)return x?(f.parameterName=this.parseIdentifier(),f.asserts=x,f.typeAnnotation=null,d.typeAnnotation=this.finishNode(f,"TSTypePredicate"),this.finishNode(d,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,d);let B=this.tsParseTypeAnnotation(!1);return f.parameterName=_,f.typeAnnotation=B,f.asserts=x,d.typeAnnotation=this.finishNode(f,"TSTypePredicate"),this.finishNode(d,"TSTypeAnnotation")})}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14)}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation()}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){let a=this.parseIdentifier();if(this.isContextual(114)&&!this.hasPrecedingLineBreak())return this.next(),a}tsParseTypePredicateAsserts(){if(this.state.type!==107)return!1;let a=this.state.containsEsc;return this.next(),!le(this.state.type)&&!this.match(78)?!1:(a&&this.raise(T.InvalidEscapedReservedWord,{at:this.state.lastTokStartLoc,reservedWord:"asserts"}),!0)}tsParseTypeAnnotation(a=!0,d=this.startNode()){return this.tsInType(()=>{a&&this.expect(14),d.typeAnnotation=this.tsParseType()}),this.finishNode(d,"TSTypeAnnotation")}tsParseType(){Oy(this.state.inType);let a=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return a;let d=this.startNodeAtNode(a);return d.checkType=a,d.extendsType=this.tsInDisallowConditionalTypesContext(()=>this.tsParseNonConditionalType()),this.expect(17),d.trueType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.expect(14),d.falseType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.finishNode(d,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(122)&&this.lookahead().type===77}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(Ve.ReservedTypeAssertion,{at:this.state.startLoc});let a=this.startNode();return a.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType())),this.expect(48),a.expression=this.parseMaybeUnary(),this.finishNode(a,"TSTypeAssertion")}tsParseHeritageClause(a){let d=this.state.startLoc,f=this.tsParseDelimitedList("HeritageClauseElement",()=>{let x=this.startNode();return x.expression=this.tsParseEntityName(),this.match(47)&&(x.typeParameters=this.tsParseTypeArguments()),this.finishNode(x,"TSExpressionWithTypeArguments")});return f.length||this.raise(Ve.EmptyHeritageClauseType,{at:d,token:a}),f}tsParseInterfaceDeclaration(a,d={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(127),d.declare&&(a.declare=!0),le(this.state.type)?(a.id=this.parseIdentifier(),this.checkIdentifier(a.id,wC)):(a.id=null,this.raise(Ve.MissingInterfaceName,{at:this.state.startLoc})),a.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81)&&(a.extends=this.tsParseHeritageClause("extends"));let f=this.startNode();return f.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),a.body=this.finishNode(f,"TSInterfaceBody"),this.finishNode(a,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(a){return a.id=this.parseIdentifier(),this.checkIdentifier(a.id,bC),a.typeAnnotation=this.tsInType(()=>{if(a.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(112)&&this.lookahead().type!==16){let d=this.startNode();return this.next(),this.finishNode(d,"TSIntrinsicKeyword")}return this.tsParseType()}),this.semicolon(),this.finishNode(a,"TSTypeAliasDeclaration")}tsInNoContext(a){let d=this.state.context;this.state.context=[d[0]];try{return a()}finally{this.state.context=d}}tsInType(a){let d=this.state.inType;this.state.inType=!0;try{return a()}finally{this.state.inType=d}}tsInDisallowConditionalTypesContext(a){let d=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return a()}finally{this.state.inDisallowConditionalTypesContext=d}}tsInAllowConditionalTypesContext(a){let d=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return a()}finally{this.state.inDisallowConditionalTypesContext=d}}tsEatThenParseType(a){if(this.match(a))return this.tsNextThenParseType()}tsExpectThenParseType(a){return this.tsInType(()=>(this.expect(a),this.tsParseType()))}tsNextThenParseType(){return this.tsInType(()=>(this.next(),this.tsParseType()))}tsParseEnumMember(){let a=this.startNode();return a.id=this.match(131)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(a.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(a,"TSEnumMember")}tsParseEnumDeclaration(a,d={}){return d.const&&(a.const=!0),d.declare&&(a.declare=!0),this.expectContextual(124),a.id=this.parseIdentifier(),this.checkIdentifier(a.id,a.const?TC:uy),this.expect(5),a.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(a,"TSEnumDeclaration")}tsParseModuleBlock(){let a=this.startNode();return this.scope.enter(Wi),this.expect(5),super.parseBlockOrModuleBlockBody(a.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(a,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(a,d=!1){if(a.id=this.parseIdentifier(),d||this.checkIdentifier(a.id,SC),this.eat(16)){let f=this.startNode();this.tsParseModuleOrNamespaceDeclaration(f,!0),a.body=f}else this.scope.enter(qi),this.prodParam.enter(Hi),a.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(a,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(a){return this.isContextual(110)?(a.global=!0,a.id=this.parseIdentifier()):this.match(131)?a.id=super.parseStringLiteral(this.state.value):this.unexpected(),this.match(5)?(this.scope.enter(qi),this.prodParam.enter(Hi),a.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(a,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(a,d,f){a.isExport=f||!1,a.id=d||this.parseIdentifier(),this.checkIdentifier(a.id,Kr),this.expect(29);let x=this.tsParseModuleReference();return a.importKind==="type"&&x.type!=="TSExternalModuleReference"&&this.raise(Ve.ImportAliasHasImportType,{at:x}),a.moduleReference=x,this.semicolon(),this.finishNode(a,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(117)&&this.lookaheadCharCode()===40}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)}tsParseExternalModuleReference(){let a=this.startNode();return this.expectContextual(117),this.expect(10),this.match(131)||this.unexpected(),a.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(a,"TSExternalModuleReference")}tsLookAhead(a){let d=this.state.clone(),f=a();return this.state=d,f}tsTryParseAndCatch(a){let d=this.tryParse(f=>a()||f());if(!(d.aborted||!d.node))return d.error&&(this.state=d.failState),d.node}tsTryParse(a){let d=this.state.clone(),f=a();if(f!==void 0&&f!==!1)return f;this.state=d}tsTryParseDeclare(a){if(this.isLineTerminator())return;let d=this.state.type,f;return this.isContextual(99)&&(d=74,f="let"),this.tsInAmbientContext(()=>{switch(d){case 68:return a.declare=!0,super.parseFunctionStatement(a,!1,!1);case 80:return a.declare=!0,this.parseClass(a,!0,!1);case 124:return this.tsParseEnumDeclaration(a,{declare:!0});case 110:return this.tsParseAmbientExternalModuleDeclaration(a);case 75:case 74:return!this.match(75)||!this.isLookaheadContextual("enum")?(a.declare=!0,this.parseVarStatement(a,f||this.state.value,!0)):(this.expect(75),this.tsParseEnumDeclaration(a,{const:!0,declare:!0}));case 127:{let x=this.tsParseInterfaceDeclaration(a,{declare:!0});if(x)return x}default:if(le(d))return this.tsParseDeclaration(a,this.state.value,!0,null)}})}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0,null)}tsParseExpressionStatement(a,d,f){switch(d.name){case"declare":{let x=this.tsTryParseDeclare(a);return x&&(x.declare=!0),x}case"global":if(this.match(5)){this.scope.enter(qi),this.prodParam.enter(Hi);let x=a;return x.global=!0,x.id=d,x.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(x,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(a,d.name,!1,f)}}tsParseDeclaration(a,d,f,x){switch(d){case"abstract":if(this.tsCheckLineTerminator(f)&&(this.match(80)||le(this.state.type)))return this.tsParseAbstractDeclaration(a,x);break;case"module":if(this.tsCheckLineTerminator(f)){if(this.match(131))return this.tsParseAmbientExternalModuleDeclaration(a);if(le(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(a)}break;case"namespace":if(this.tsCheckLineTerminator(f)&&le(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(a);break;case"type":if(this.tsCheckLineTerminator(f)&&le(this.state.type))return this.tsParseTypeAliasDeclaration(a);break}}tsCheckLineTerminator(a){return a?this.hasFollowingLineBreak()?!1:(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(a){if(!this.match(47))return;let d=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;let f=this.tsTryParseAndCatch(()=>{let x=this.startNodeAt(a);return x.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(x),x.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),x});if(this.state.maybeInArrowParameters=d,!!f)return super.parseArrowExpression(f,null,!0)}tsParseTypeArgumentsInExpression(){if(this.reScan_lt()===47)return this.tsParseTypeArguments()}tsParseTypeArguments(){let a=this.startNode();return a.params=this.tsInType(()=>this.tsInNoContext(()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))),a.params.length===0?this.raise(Ve.EmptyTypeArguments,{at:a}):!this.state.inType&&this.curContext()===Q.brace&&this.reScan_lt_gt(),this.expect(48),this.finishNode(a,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return Rl(this.state.type)}isExportDefaultSpecifier(){return this.tsIsDeclarationStart()?!1:super.isExportDefaultSpecifier()}parseAssignableListItem(a,d){let f=this.state.startLoc,x={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},x);let _=x.accessibility,B=x.override,H=x.readonly;!(a&4)&&(_||H||B)&&this.raise(Ve.UnexpectedParameterModifier,{at:f});let G=this.parseMaybeDefault();this.parseAssignableListItemTypes(G,a);let Y=this.parseMaybeDefault(G.loc.start,G);if(_||H||B){let ke=this.startNodeAt(f);return d.length&&(ke.decorators=d),_&&(ke.accessibility=_),H&&(ke.readonly=H),B&&(ke.override=B),Y.type!=="Identifier"&&Y.type!=="AssignmentPattern"&&this.raise(Ve.UnsupportedParameterPropertyKind,{at:ke}),ke.parameter=Y,this.finishNode(ke,"TSParameterProperty")}return d.length&&(G.decorators=d),Y}isSimpleParameter(a){return a.type==="TSParameterProperty"&&super.isSimpleParameter(a.parameter)||super.isSimpleParameter(a)}tsDisallowOptionalPattern(a){for(let d of a.params)d.type!=="Identifier"&&d.optional&&!this.state.isAmbientContext&&this.raise(Ve.PatternIsOptional,{at:d})}setArrowFunctionParameters(a,d,f){super.setArrowFunctionParameters(a,d,f),this.tsDisallowOptionalPattern(a)}parseFunctionBodyAndFinish(a,d,f=!1){this.match(14)&&(a.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));let x=d==="FunctionDeclaration"?"TSDeclareFunction":d==="ClassMethod"||d==="ClassPrivateMethod"?"TSDeclareMethod":void 0;return x&&!this.match(5)&&this.isLineTerminator()?this.finishNode(a,x):x==="TSDeclareFunction"&&this.state.isAmbientContext&&(this.raise(Ve.DeclareFunctionHasImplementation,{at:a}),a.declare)?super.parseFunctionBodyAndFinish(a,x,f):(this.tsDisallowOptionalPattern(a),super.parseFunctionBodyAndFinish(a,d,f))}registerFunctionStatementId(a){!a.body&&a.id?this.checkIdentifier(a.id,cy):super.registerFunctionStatementId(a)}tsCheckForInvalidTypeCasts(a){a.forEach(d=>{(d==null?void 0:d.type)==="TSTypeCastExpression"&&this.raise(Ve.UnexpectedTypeAnnotation,{at:d.typeAnnotation})})}toReferencedList(a,d){return this.tsCheckForInvalidTypeCasts(a),a}parseArrayLike(a,d,f,x){let _=super.parseArrayLike(a,d,f,x);return _.type==="ArrayExpression"&&this.tsCheckForInvalidTypeCasts(_.elements),_}parseSubscript(a,d,f,x){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();let B=this.startNodeAt(d);return B.expression=a,this.finishNode(B,"TSNonNullExpression")}let _=!1;if(this.match(18)&&this.lookaheadCharCode()===60){if(f)return x.stop=!0,a;x.optionalChainMember=_=!0,this.next()}if(this.match(47)||this.match(51)){let B,H=this.tsTryParseAndCatch(()=>{if(!f&&this.atPossibleAsyncArrow(a)){let Pe=this.tsTryParseGenericAsyncArrowFunction(d);if(Pe)return Pe}let G=this.tsParseTypeArgumentsInExpression();if(!G)return;if(_&&!this.match(10)){B=this.state.curPosition();return}if(Ul(this.state.type)){let Pe=super.parseTaggedTemplateExpression(a,d,x);return Pe.typeParameters=G,Pe}if(!f&&this.eat(10)){let Pe=this.startNodeAt(d);return Pe.callee=a,Pe.arguments=this.parseCallExpressionArguments(11,!1),this.tsCheckForInvalidTypeCasts(Pe.arguments),Pe.typeParameters=G,x.optionalChainMember&&(Pe.optional=_),this.finishCallExpression(Pe,x.optionalChainMember)}let Y=this.state.type;if(Y===48||Y===52||Y!==10&&Rt(Y)&&!this.hasPrecedingLineBreak())return;let ke=this.startNodeAt(d);return ke.expression=a,ke.typeParameters=G,this.finishNode(ke,"TSInstantiationExpression")});if(B&&this.unexpected(B,10),H)return H.type==="TSInstantiationExpression"&&(this.match(16)||this.match(18)&&this.lookaheadCharCode()!==40)&&this.raise(Ve.InvalidPropertyAccessAfterInstantiationExpression,{at:this.state.startLoc}),H}return super.parseSubscript(a,d,f,x)}parseNewCallee(a){var d;super.parseNewCallee(a);let{callee:f}=a;f.type==="TSInstantiationExpression"&&!((d=f.extra)!=null&&d.parenthesized)&&(a.typeParameters=f.typeParameters,a.callee=f.expression)}parseExprOp(a,d,f){let x;if(Vl(58)>f&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(x=this.isContextual(118)))){let _=this.startNodeAt(d);return _.expression=a,_.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?(x&&this.raise(T.UnexpectedKeyword,{at:this.state.startLoc,keyword:"const"}),this.tsParseTypeReference()):this.tsParseType())),this.finishNode(_,x?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(_,d,f)}return super.parseExprOp(a,d,f)}checkReservedWord(a,d,f,x){this.state.isAmbientContext||super.checkReservedWord(a,d,f,x)}checkImportReflection(a){super.checkImportReflection(a),a.module&&a.importKind!=="value"&&this.raise(Ve.ImportReflectionHasImportType,{at:a.specifiers[0].loc.start})}checkDuplicateExports(){}isPotentialImportPhase(a){if(super.isPotentialImportPhase(a))return!0;if(this.isContextual(128)){let d=this.lookaheadCharCode();return a?d===123||d===42:d!==61}return!a&&this.isContextual(87)}applyImportPhase(a,d,f,x){super.applyImportPhase(a,d,f,x),d?a.exportKind=f==="type"?"type":"value":a.importKind=f==="type"||f==="typeof"?f:"value"}parseImport(a){if(this.match(131))return a.importKind="value",super.parseImport(a);let d;if(le(this.state.type)&&this.lookaheadCharCode()===61)return a.importKind="value",this.tsParseImportEqualsDeclaration(a);if(this.isContextual(128)){let f=this.parseMaybeImportPhase(a,!1);if(this.lookaheadCharCode()===61)return this.tsParseImportEqualsDeclaration(a,f);d=super.parseImportSpecifiersAndAfter(a,f)}else d=super.parseImport(a);return d.importKind==="type"&&d.specifiers.length>1&&d.specifiers[0].type==="ImportDefaultSpecifier"&&this.raise(Ve.TypeImportCannotSpecifyDefaultAndNamed,{at:d}),d}parseExport(a,d){if(this.match(83)){this.next();let f=null;return this.isContextual(128)&&this.isPotentialImportPhase(!1)?f=this.parseMaybeImportPhase(a,!1):a.importKind="value",this.tsParseImportEqualsDeclaration(a,f,!0)}else if(this.eat(29)){let f=a;return f.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(f,"TSExportAssignment")}else if(this.eatContextual(93)){let f=a;return this.expectContextual(126),f.id=this.parseIdentifier(),this.semicolon(),this.finishNode(f,"TSNamespaceExportDeclaration")}else return super.parseExport(a,d)}isAbstractClass(){return this.isContextual(122)&&this.lookahead().type===80}parseExportDefaultExpression(){if(this.isAbstractClass()){let a=this.startNode();return this.next(),a.abstract=!0,this.parseClass(a,!0,!0)}if(this.match(127)){let a=this.tsParseInterfaceDeclaration(this.startNode());if(a)return a}return super.parseExportDefaultExpression()}parseVarStatement(a,d,f=!1){let{isAmbientContext:x}=this.state,_=super.parseVarStatement(a,d,f||x);if(!x)return _;for(let{id:B,init:H}of _.declarations)H&&(d!=="const"||B.typeAnnotation?this.raise(Ve.InitializerNotAllowedInAmbientContext,{at:H}):yO(H,this.hasPlugin("estree"))||this.raise(Ve.ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference,{at:H}));return _}parseStatementContent(a,d){if(this.match(75)&&this.isLookaheadContextual("enum")){let f=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(f,{const:!0})}if(this.isContextual(124))return this.tsParseEnumDeclaration(this.startNode());if(this.isContextual(127)){let f=this.tsParseInterfaceDeclaration(this.startNode());if(f)return f}return super.parseStatementContent(a,d)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(a,d){return d.some(f=>Dy(f)?a.accessibility===f:!!a[f])}tsIsStartOfStaticBlocks(){return this.isContextual(104)&&this.lookaheadCharCode()===123}parseClassMember(a,d,f){let x=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:x,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:Ve.InvalidModifierOnTypeParameterPositions},d);let _=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(d,x)&&this.raise(Ve.StaticBlockCannotHaveModifier,{at:this.state.curPosition()}),super.parseClassStaticBlock(a,d)):this.parseClassMemberWithIsStatic(a,d,f,!!d.static)};d.declare?this.tsInAmbientContext(_):_()}parseClassMemberWithIsStatic(a,d,f,x){let _=this.tsTryParseIndexSignature(d);if(_){a.body.push(_),d.abstract&&this.raise(Ve.IndexSignatureHasAbstract,{at:d}),d.accessibility&&this.raise(Ve.IndexSignatureHasAccessibility,{at:d,modifier:d.accessibility}),d.declare&&this.raise(Ve.IndexSignatureHasDeclare,{at:d}),d.override&&this.raise(Ve.IndexSignatureHasOverride,{at:d});return}!this.state.inAbstractClass&&d.abstract&&this.raise(Ve.NonAbstractClassHasAbstractMethod,{at:d}),d.override&&(f.hadSuperClass||this.raise(Ve.OverrideNotInSubClass,{at:d})),super.parseClassMemberWithIsStatic(a,d,f,x)}parsePostMemberNameModifiers(a){this.eat(17)&&(a.optional=!0),a.readonly&&this.match(10)&&this.raise(Ve.ClassMethodHasReadonly,{at:a}),a.declare&&this.match(10)&&this.raise(Ve.ClassMethodHasDeclare,{at:a})}parseExpressionStatement(a,d,f){return(d.type==="Identifier"?this.tsParseExpressionStatement(a,d,f):void 0)||super.parseExpressionStatement(a,d,f)}shouldParseExportDeclaration(){return this.tsIsDeclarationStart()?!0:super.shouldParseExportDeclaration()}parseConditional(a,d,f){if(!this.state.maybeInArrowParameters||!this.match(17))return super.parseConditional(a,d,f);let x=this.tryParse(()=>super.parseConditional(a,d));return x.node?(x.error&&(this.state=x.failState),x.node):(x.error&&super.setOptionalParametersError(f,x.error),a)}parseParenItem(a,d){if(a=super.parseParenItem(a,d),this.eat(17)&&(a.optional=!0,this.resetEndLocation(a)),this.match(14)){let f=this.startNodeAt(d);return f.expression=a,f.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(f,"TSTypeCastExpression")}return a}parseExportDeclaration(a){if(!this.state.isAmbientContext&&this.isContextual(123))return this.tsInAmbientContext(()=>this.parseExportDeclaration(a));let d=this.state.startLoc,f=this.eatContextual(123);if(f&&(this.isContextual(123)||!this.shouldParseExportDeclaration()))throw this.raise(Ve.ExpectedAmbientAfterExportDeclare,{at:this.state.startLoc});let x=le(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(a);return x?((x.type==="TSInterfaceDeclaration"||x.type==="TSTypeAliasDeclaration"||f)&&(a.exportKind="type"),f&&(this.resetStartLocation(x,d),x.declare=!0),x):null}parseClassId(a,d,f,x){if((!d||f)&&this.isContextual(111))return;super.parseClassId(a,d,f,a.declare?cy:ay);let _=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);_&&(a.typeParameters=_)}parseClassPropertyAnnotation(a){a.optional||(this.eat(35)?a.definite=!0:this.eat(17)&&(a.optional=!0));let d=this.tsTryParseTypeAnnotation();d&&(a.typeAnnotation=d)}parseClassProperty(a){if(this.parseClassPropertyAnnotation(a),this.state.isAmbientContext&&!(a.readonly&&!a.typeAnnotation)&&this.match(29)&&this.raise(Ve.DeclareClassFieldHasInitializer,{at:this.state.startLoc}),a.abstract&&this.match(29)){let{key:d}=a;this.raise(Ve.AbstractPropertyHasInitializer,{at:this.state.startLoc,propertyName:d.type==="Identifier"&&!a.computed?d.name:`[${this.input.slice(d.start,d.end)}]`})}return super.parseClassProperty(a)}parseClassPrivateProperty(a){return a.abstract&&this.raise(Ve.PrivateElementHasAbstract,{at:a}),a.accessibility&&this.raise(Ve.PrivateElementHasAccessibility,{at:a,modifier:a.accessibility}),this.parseClassPropertyAnnotation(a),super.parseClassPrivateProperty(a)}parseClassAccessorProperty(a){return this.parseClassPropertyAnnotation(a),a.optional&&this.raise(Ve.AccessorCannotBeOptional,{at:a}),super.parseClassAccessorProperty(a)}pushClassMethod(a,d,f,x,_,B){let H=this.tsTryParseTypeParameters(this.tsParseConstModifier);H&&_&&this.raise(Ve.ConstructorHasTypeParameters,{at:H});let{declare:G=!1,kind:Y}=d;G&&(Y==="get"||Y==="set")&&this.raise(Ve.DeclareAccessor,{at:d,kind:Y}),H&&(d.typeParameters=H),super.pushClassMethod(a,d,f,x,_,B)}pushClassPrivateMethod(a,d,f,x){let _=this.tsTryParseTypeParameters(this.tsParseConstModifier);_&&(d.typeParameters=_),super.pushClassPrivateMethod(a,d,f,x)}declareClassPrivateMethodInScope(a,d){a.type!=="TSDeclareMethod"&&(a.type==="MethodDefinition"&&!a.value.body||super.declareClassPrivateMethodInScope(a,d))}parseClassSuper(a){super.parseClassSuper(a),a.superClass&&(this.match(47)||this.match(51))&&(a.superTypeParameters=this.tsParseTypeArgumentsInExpression()),this.eatContextual(111)&&(a.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(a,d,f,x,_,B,H){let G=this.tsTryParseTypeParameters(this.tsParseConstModifier);return G&&(a.typeParameters=G),super.parseObjPropValue(a,d,f,x,_,B,H)}parseFunctionParams(a,d){let f=this.tsTryParseTypeParameters(this.tsParseConstModifier);f&&(a.typeParameters=f),super.parseFunctionParams(a,d)}parseVarId(a,d){super.parseVarId(a,d),a.id.type==="Identifier"&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(a.definite=!0);let f=this.tsTryParseTypeAnnotation();f&&(a.id.typeAnnotation=f,this.resetEndLocation(a.id))}parseAsyncArrowFromCallExpression(a,d){return this.match(14)&&(a.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(a,d)}parseMaybeAssign(a,d){var f,x,_,B,H;let G,Y,ke;if(this.hasPlugin("jsx")&&(this.match(140)||this.match(47))){if(G=this.state.clone(),Y=this.tryParse(()=>super.parseMaybeAssign(a,d),G),!Y.error)return Y.node;let{context:Ue}=this.state,gt=Ue[Ue.length-1];(gt===Q.j_oTag||gt===Q.j_expr)&&Ue.pop()}if(!((f=Y)!=null&&f.error)&&!this.match(47))return super.parseMaybeAssign(a,d);(!G||G===this.state)&&(G=this.state.clone());let Pe,Me=this.tryParse(Ue=>{var gt,ht;Pe=this.tsParseTypeParameters(this.tsParseConstModifier);let Ut=super.parseMaybeAssign(a,d);return(Ut.type!=="ArrowFunctionExpression"||(gt=Ut.extra)!=null&&gt.parenthesized)&&Ue(),((ht=Pe)==null?void 0:ht.params.length)!==0&&this.resetStartLocationFromNode(Ut,Pe),Ut.typeParameters=Pe,Ut},G);if(!Me.error&&!Me.aborted)return Pe&&this.reportReservedArrowTypeParam(Pe),Me.node;if(!Y&&(Oy(!this.hasPlugin("jsx")),ke=this.tryParse(()=>super.parseMaybeAssign(a,d),G),!ke.error))return ke.node;if((x=Y)!=null&&x.node)return this.state=Y.failState,Y.node;if(Me.node)return this.state=Me.failState,Pe&&this.reportReservedArrowTypeParam(Pe),Me.node;if((_=ke)!=null&&_.node)return this.state=ke.failState,ke.node;throw((B=Y)==null?void 0:B.error)||Me.error||((H=ke)==null?void 0:H.error)}reportReservedArrowTypeParam(a){var d;a.params.length===1&&!a.params[0].constraint&&!((d=a.extra)!=null&&d.trailingComma)&&this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(Ve.ReservedArrowTypeParam,{at:a})}parseMaybeUnary(a,d){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(a,d)}parseArrow(a){if(this.match(14)){let d=this.tryParse(f=>{let x=this.tsParseTypeOrTypePredicateAnnotation(14);return(this.canInsertSemicolon()||!this.match(19))&&f(),x});if(d.aborted)return;d.thrown||(d.error&&(this.state=d.failState),a.returnType=d.node)}return super.parseArrow(a)}parseAssignableListItemTypes(a,d){if(!(d&2))return a;this.eat(17)&&(a.optional=!0);let f=this.tsTryParseTypeAnnotation();return f&&(a.typeAnnotation=f),this.resetEndLocation(a),a}isAssignable(a,d){switch(a.type){case"TSTypeCastExpression":return this.isAssignable(a.expression,d);case"TSParameterProperty":return!0;default:return super.isAssignable(a,d)}}toAssignable(a,d=!1){switch(a.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(a,d);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":d?this.expressionScope.recordArrowParameterBindingError(Ve.UnexpectedTypeCastInParameter,{at:a}):this.raise(Ve.UnexpectedTypeCastInParameter,{at:a}),this.toAssignable(a.expression,d);break;case"AssignmentExpression":!d&&a.left.type==="TSTypeCastExpression"&&(a.left=this.typeCastToParameter(a.left));default:super.toAssignable(a,d)}}toAssignableParenthesizedExpression(a,d){switch(a.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(a.expression,d);break;default:super.toAssignable(a,d)}}checkToRestConversion(a,d){switch(a.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(a.expression,!1);break;default:super.checkToRestConversion(a,d)}}isValidLVal(a,d,f){return dO({TSTypeCastExpression:!0,TSParameterProperty:"parameter",TSNonNullExpression:"expression",TSAsExpression:(f!==wo||!d)&&["expression",!0],TSSatisfiesExpression:(f!==wo||!d)&&["expression",!0],TSTypeAssertion:(f!==wo||!d)&&["expression",!0]},a)||super.isValidLVal(a,d,f)}parseBindingAtom(){return this.state.type===78?this.parseIdentifier(!0):super.parseBindingAtom()}parseMaybeDecoratorArguments(a){if(this.match(47)||this.match(51)){let d=this.tsParseTypeArgumentsInExpression();if(this.match(10)){let f=super.parseMaybeDecoratorArguments(a);return f.typeParameters=d,f}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(a)}checkCommaAfterRest(a){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===a?(this.next(),!1):super.checkCommaAfterRest(a)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(a,d){let f=super.parseMaybeDefault(a,d);return f.type==="AssignmentPattern"&&f.typeAnnotation&&f.right.start<f.typeAnnotation.start&&this.raise(Ve.TypeAnnotationAfterAssign,{at:f.typeAnnotation}),f}getTokenFromCode(a){if(this.state.inType){if(a===62){this.finishOp(48,1);return}if(a===60){this.finishOp(47,1);return}}super.getTokenFromCode(a)}reScan_lt_gt(){let{type:a}=this.state;a===47?(this.state.pos-=1,this.readToken_lt()):a===48&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){let{type:a}=this.state;return a===51?(this.state.pos-=2,this.finishOp(47,1),47):a}toAssignableList(a,d,f){for(let x=0;x<a.length;x++){let _=a[x];(_==null?void 0:_.type)==="TSTypeCastExpression"&&(a[x]=this.typeCastToParameter(_))}super.toAssignableList(a,d,f)}typeCastToParameter(a){return a.expression.typeAnnotation=a.typeAnnotation,this.resetEndLocation(a.expression,a.typeAnnotation.loc.end),a.expression}shouldParseArrow(a){return this.match(14)?a.every(d=>this.isAssignable(d,!0)):super.shouldParseArrow(a)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(a){if(this.match(47)||this.match(51)){let d=this.tsTryParseAndCatch(()=>this.tsParseTypeArgumentsInExpression());d&&(a.typeParameters=d)}return super.jsxParseOpeningElementAfterName(a)}getGetterSetterExpectedParamCount(a){let d=super.getGetterSetterExpectedParamCount(a),f=this.getObjectOrClassMethodParams(a)[0];return f&&this.isThisParam(f)?d+1:d}parseCatchClauseParam(){let a=super.parseCatchClauseParam(),d=this.tsTryParseTypeAnnotation();return d&&(a.typeAnnotation=d,this.resetEndLocation(a)),a}tsInAmbientContext(a){let d=this.state.isAmbientContext;this.state.isAmbientContext=!0;try{return a()}finally{this.state.isAmbientContext=d}}parseClass(a,d,f){let x=this.state.inAbstractClass;this.state.inAbstractClass=!!a.abstract;try{return super.parseClass(a,d,f)}finally{this.state.inAbstractClass=x}}tsParseAbstractDeclaration(a,d){if(this.match(80))return a.abstract=!0,this.maybeTakeDecorators(d,this.parseClass(a,!0,!1));if(this.isContextual(127)){if(!this.hasFollowingLineBreak())return a.abstract=!0,this.raise(Ve.NonClassMethodPropertyHasAbstractModifer,{at:a}),this.tsParseInterfaceDeclaration(a)}else this.unexpected(null,80)}parseMethod(a,d,f,x,_,B,H){let G=super.parseMethod(a,d,f,x,_,B,H);if(G.abstract&&(this.hasPlugin("estree")?G.value.body:G.body)){let{key:Y}=G;this.raise(Ve.AbstractMethodHasImplementation,{at:G,methodName:Y.type==="Identifier"&&!G.computed?Y.name:`[${this.input.slice(Y.start,Y.end)}]`})}return G}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(a,d,f,x){return!d&&x?(this.parseTypeOnlyImportExportSpecifier(a,!1,f),this.finishNode(a,"ExportSpecifier")):(a.exportKind="value",super.parseExportSpecifier(a,d,f,x))}parseImportSpecifier(a,d,f,x,_){return!d&&x?(this.parseTypeOnlyImportExportSpecifier(a,!0,f),this.finishNode(a,"ImportSpecifier")):(a.importKind="value",super.parseImportSpecifier(a,d,f,x,f?dy:Kr))}parseTypeOnlyImportExportSpecifier(a,d,f){let x=d?"imported":"local",_=d?"local":"exported",B=a[x],H,G=!1,Y=!0,ke=B.loc.start;if(this.isContextual(93)){let Me=this.parseIdentifier();if(this.isContextual(93)){let Ue=this.parseIdentifier();et(this.state.type)?(G=!0,B=Me,H=d?this.parseIdentifier():this.parseModuleExportName(),Y=!1):(H=Ue,Y=!1)}else et(this.state.type)?(Y=!1,H=d?this.parseIdentifier():this.parseModuleExportName()):(G=!0,B=Me)}else et(this.state.type)&&(G=!0,d?(B=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(B.name,B.loc.start,!0,!0)):B=this.parseModuleExportName());G&&f&&this.raise(d?Ve.TypeModifierIsUsedInTypeImports:Ve.TypeModifierIsUsedInTypeExports,{at:ke}),a[x]=B,a[_]=H;let Pe=d?"importKind":"exportKind";a[Pe]=G?"type":"value",Y&&this.eatContextual(93)&&(a[_]=d?this.parseIdentifier():this.parseModuleExportName()),a[_]||(a[_]=Kn(a[x])),d&&this.checkIdentifier(a[_],G?dy:Kr)}};function gO(u){if(u.type!=="MemberExpression")return!1;let{computed:a,property:d}=u;return a&&d.type!=="StringLiteral"&&(d.type!=="TemplateLiteral"||d.expressions.length>0)?!1:$y(u.object)}function yO(u,a){var d;let{type:f}=u;if((d=u.extra)!=null&&d.parenthesized)return!1;if(a){if(f==="Literal"){let{value:x}=u;if(typeof x=="string"||typeof x=="boolean")return!0}}else if(f==="StringLiteral"||f==="BooleanLiteral")return!0;return!!(Ay(u,a)||wO(u,a)||f==="TemplateLiteral"&&u.expressions.length===0||gO(u))}function Ay(u,a){return a?u.type==="Literal"&&(typeof u.value=="number"||"bigint"in u):u.type==="NumericLiteral"||u.type==="BigIntLiteral"}function wO(u,a){if(u.type==="UnaryExpression"){let{operator:d,argument:f}=u;if(d==="-"&&Ay(f,a))return!0}return!1}function $y(u){return u.type==="Identifier"?!0:u.type!=="MemberExpression"||u.computed?!1:$y(u.object)}var Ny=A`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."}),bO=u=>class extends u{parsePlaceholder(a){if(this.match(142)){let d=this.startNode();return this.next(),this.assertNoSpace(),d.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(142),this.finishPlaceholder(d,a)}}finishPlaceholder(a,d){let f=!!(a.expectedNode&&a.type==="Placeholder");return a.expectedNode=d,f?a:this.finishNode(a,"Placeholder")}getTokenFromCode(a){a===37&&this.input.charCodeAt(this.state.pos+1)===37?this.finishOp(142,2):super.getTokenFromCode(a)}parseExprAtom(a){return this.parsePlaceholder("Expression")||super.parseExprAtom(a)}parseIdentifier(a){return this.parsePlaceholder("Identifier")||super.parseIdentifier(a)}checkReservedWord(a,d,f,x){a!==void 0&&super.checkReservedWord(a,d,f,x)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(a,d,f){return a==="Placeholder"||super.isValidLVal(a,d,f)}toAssignable(a,d){a&&a.type==="Placeholder"&&a.expectedNode==="Expression"?a.expectedNode="Pattern":super.toAssignable(a,d)}chStartsBindingIdentifier(a,d){return!!(super.chStartsBindingIdentifier(a,d)||this.lookahead().type===142)}verifyBreakContinue(a,d){a.label&&a.label.type==="Placeholder"||super.verifyBreakContinue(a,d)}parseExpressionStatement(a,d){if(d.type!=="Placeholder"||d.extra&&d.extra.parenthesized)return super.parseExpressionStatement(a,d);if(this.match(14)){let f=a;return f.label=this.finishPlaceholder(d,"Identifier"),this.next(),f.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(f,"LabeledStatement")}return this.semicolon(),a.name=d.name,this.finishPlaceholder(a,"Statement")}parseBlock(a,d,f){return this.parsePlaceholder("BlockStatement")||super.parseBlock(a,d,f)}parseFunctionId(a){return this.parsePlaceholder("Identifier")||super.parseFunctionId(a)}parseClass(a,d,f){let x=d?"ClassDeclaration":"ClassExpression";this.next();let _=this.state.strict,B=this.parsePlaceholder("Identifier");if(B)if(this.match(81)||this.match(142)||this.match(5))a.id=B;else{if(f||!d)return a.id=null,a.body=this.finishPlaceholder(B,"ClassBody"),this.finishNode(a,x);throw this.raise(Ny.ClassNameIsRequired,{at:this.state.startLoc})}else this.parseClassId(a,d,f);return super.parseClassSuper(a),a.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!a.superClass,_),this.finishNode(a,x)}parseExport(a,d){let f=this.parsePlaceholder("Identifier");if(!f)return super.parseExport(a,d);if(!this.isContextual(97)&&!this.match(12))return a.specifiers=[],a.source=null,a.declaration=this.finishPlaceholder(f,"Declaration"),this.finishNode(a,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");let x=this.startNode();return x.exported=f,a.specifiers=[this.finishNode(x,"ExportDefaultSpecifier")],super.parseExport(a,d)}isExportDefaultSpecifier(){if(this.match(65)){let a=this.nextTokenStart();if(this.isUnparsedContextual(a,"from")&&this.input.startsWith(yo(142),this.nextTokenStartSince(a+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(a,d){var f;return(f=a.specifiers)!=null&&f.length?!0:super.maybeParseExportDefaultSpecifier(a,d)}checkExport(a){let{specifiers:d}=a;d!=null&&d.length&&(a.specifiers=d.filter(f=>f.exported.type==="Placeholder")),super.checkExport(a),a.specifiers=d}parseImport(a){let d=this.parsePlaceholder("Identifier");if(!d)return super.parseImport(a);if(a.specifiers=[],!this.isContextual(97)&&!this.match(12))return a.source=this.finishPlaceholder(d,"StringLiteral"),this.semicolon(),this.finishNode(a,"ImportDeclaration");let f=this.startNodeAtNode(d);return f.local=d,a.specifiers.push(this.finishNode(f,"ImportDefaultSpecifier")),this.eat(12)&&(this.maybeParseStarImportSpecifier(a)||this.parseNamedImportSpecifiers(a)),this.expectContextual(97),a.source=this.parseImportSource(),this.semicolon(),this.finishNode(a,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){this.state.start>this.state.lastTokEndLoc.index&&this.raise(Ny.UnexpectedSpace,{at:this.state.lastTokEndLoc})}},vO=u=>class extends u{parseV8Intrinsic(){if(this.match(54)){let a=this.state.startLoc,d=this.startNode();if(this.next(),le(this.state.type)){let f=this.parseIdentifierName(),x=this.createIdentifier(d,f);if(x.type="V8IntrinsicIdentifier",this.match(10))return x}this.unexpected(a)}}parseExprAtom(a){return this.parseV8Intrinsic()||super.parseExprAtom(a)}};function Vt(u,a){let[d,f]=typeof a=="string"?[a,{}]:a,x=Object.keys(f),_=x.length===0;return u.some(B=>{if(typeof B=="string")return _&&B===d;{let[H,G]=B;if(H!==d)return!1;for(let Y of x)if(G[Y]!==f[Y])return!1;return!0}})}function Zo(u,a,d){let f=u.find(x=>Array.isArray(x)?x[0]===a:x===a);return f&&Array.isArray(f)&&f.length>1?f[1][d]:null}var _y=["minimal","fsharp","hack","smart"],Py=["^^","@@","^","%","#"],Iy=["hash","bar"];function TO(u){if(Vt(u,"decorators")){if(Vt(u,"decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");let a=Zo(u,"decorators","decoratorsBeforeExport");if(a!=null&&typeof a!="boolean")throw new Error("'decoratorsBeforeExport' must be a boolean, if specified.");let d=Zo(u,"decorators","allowCallParenthesized");if(d!=null&&typeof d!="boolean")throw new Error("'allowCallParenthesized' must be a boolean.")}if(Vt(u,"flow")&&Vt(u,"typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(Vt(u,"placeholders")&&Vt(u,"v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(Vt(u,"pipelineOperator")){let a=Zo(u,"pipelineOperator","proposal");if(!_y.includes(a)){let f=_y.map(x=>`"${x}"`).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${f}.`)}let d=Vt(u,["recordAndTuple",{syntaxType:"hash"}]);if(a==="hack"){if(Vt(u,"placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(Vt(u,"v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");let f=Zo(u,"pipelineOperator","topicToken");if(!Py.includes(f)){let x=Py.map(_=>`"${_}"`).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${x}.`)}if(f==="#"&&d)throw new Error('Plugin conflict between `["pipelineOperator", { proposal: "hack", topicToken: "#" }]` and `["recordAndtuple", { syntaxType: "hash"}]`.')}else if(a==="smart"&&d)throw new Error('Plugin conflict between `["pipelineOperator", { proposal: "smart" }]` and `["recordAndtuple", { syntaxType: "hash"}]`.')}if(Vt(u,"moduleAttributes")){if(Vt(u,"importAssertions")||Vt(u,"importAttributes"))throw new Error("Cannot combine importAssertions, importAttributes and moduleAttributes plugins.");if(Zo(u,"moduleAttributes","version")!=="may-2020")throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(Vt(u,"importAssertions")&&Vt(u,"importAttributes"))throw new Error("Cannot combine importAssertions and importAttributes plugins.");if(Vt(u,"recordAndTuple")&&Zo(u,"recordAndTuple","syntaxType")!=null&&!Iy.includes(Zo(u,"recordAndTuple","syntaxType")))throw new Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+Iy.map(a=>`'${a}'`).join(", "));if(Vt(u,"asyncDoExpressions")&&!Vt(u,"doExpressions")){let a=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw a.missingPlugins="doExpressions",a}}var My={estree:j,jsx:rO,flow:iO,typescript:fO,v8intrinsic:vO,placeholders:bO},SO=Object.keys(My),Ly={sourceType:"script",sourceFilename:void 0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0};function kO(u){if(u&&u.annexB!=null&&u.annexB!==!1)throw new Error("The `annexB` option can only be set to `false`.");let a={};for(let d of Object.keys(Ly))a[d]=u&&u[d]!=null?u[d]:Ly[d];return a}var EO=class extends cO{checkProto(u,a,d,f){if(u.type==="SpreadElement"||this.isObjectMethod(u)||u.computed||u.shorthand)return;let x=u.key;if((x.type==="Identifier"?x.name:x.value)==="__proto__"){if(a){this.raise(T.RecordNoProto,{at:x});return}d.used&&(f?f.doubleProtoLoc===null&&(f.doubleProtoLoc=x.loc.start):this.raise(T.DuplicateProto,{at:x})),d.used=!0}}shouldExitDescending(u,a){return u.type==="ArrowFunctionExpression"&&u.start===a}getExpression(){this.enterInitialScopes(),this.nextToken();let u=this.parseExpression();return this.match(137)||this.unexpected(),this.finalizeRemainingComments(),u.comments=this.state.comments,u.errors=this.state.errors,this.options.tokens&&(u.tokens=this.tokens),u}parseExpression(u,a){return u?this.disallowInAnd(()=>this.parseExpressionBase(a)):this.allowInAnd(()=>this.parseExpressionBase(a))}parseExpressionBase(u){let a=this.state.startLoc,d=this.parseMaybeAssign(u);if(this.match(12)){let f=this.startNodeAt(a);for(f.expressions=[d];this.eat(12);)f.expressions.push(this.parseMaybeAssign(u));return this.toReferencedList(f.expressions),this.finishNode(f,"SequenceExpression")}return d}parseMaybeAssignDisallowIn(u,a){return this.disallowInAnd(()=>this.parseMaybeAssign(u,a))}parseMaybeAssignAllowIn(u,a){return this.allowInAnd(()=>this.parseMaybeAssign(u,a))}setOptionalParametersError(u,a){var d;u.optionalParametersLoc=(d=a==null?void 0:a.loc)!=null?d:this.state.startLoc}parseMaybeAssign(u,a){let d=this.state.startLoc;if(this.isContextual(106)&&this.prodParam.hasYield){let B=this.parseYield();return a&&(B=a.call(this,B,d)),B}let f;u?f=!1:(u=new su,f=!0);let{type:x}=this.state;(x===10||le(x))&&(this.state.potentialArrowAt=this.state.start);let _=this.parseMaybeConditional(u);if(a&&(_=a.call(this,_,d)),Et(this.state.type)){let B=this.startNodeAt(d),H=this.state.value;if(B.operator=H,this.match(29)){this.toAssignable(_,!0),B.left=_;let G=d.index;u.doubleProtoLoc!=null&&u.doubleProtoLoc.index>=G&&(u.doubleProtoLoc=null),u.shorthandAssignLoc!=null&&u.shorthandAssignLoc.index>=G&&(u.shorthandAssignLoc=null),u.privateKeyLoc!=null&&u.privateKeyLoc.index>=G&&(this.checkDestructuringPrivate(u),u.privateKeyLoc=null)}else B.left=_;return this.next(),B.right=this.parseMaybeAssign(),this.checkLVal(_,{in:this.finishNode(B,"AssignmentExpression")}),B}else f&&this.checkExpressionErrors(u,!0);return _}parseMaybeConditional(u){let a=this.state.startLoc,d=this.state.potentialArrowAt,f=this.parseExprOps(u);return this.shouldExitDescending(f,d)?f:this.parseConditional(f,a,u)}parseConditional(u,a,d){if(this.eat(17)){let f=this.startNodeAt(a);return f.test=u,f.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),f.alternate=this.parseMaybeAssign(),this.finishNode(f,"ConditionalExpression")}return u}parseMaybeUnaryOrPrivate(u){return this.match(136)?this.parsePrivateName():this.parseMaybeUnary(u)}parseExprOps(u){let a=this.state.startLoc,d=this.state.potentialArrowAt,f=this.parseMaybeUnaryOrPrivate(u);return this.shouldExitDescending(f,d)?f:this.parseExprOp(f,a,-1)}parseExprOp(u,a,d){if(this.isPrivateName(u)){let x=this.getPrivateNameSV(u);(d>=Vl(58)||!this.prodParam.hasIn||!this.match(58))&&this.raise(T.PrivateInExpectedIn,{at:u,identifierName:x}),this.classScope.usePrivateName(x,u.loc.start)}let f=this.state.type;if(En(f)&&(this.prodParam.hasIn||!this.match(58))){let x=Vl(f);if(x>d){if(f===39){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return u;this.checkPipelineAtInfixOperator(u,a)}let _=this.startNodeAt(a);_.left=u,_.operator=this.state.value;let B=f===41||f===42,H=f===40;if(H&&(x=Vl(42)),this.next(),f===39&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&this.state.type===96&&this.prodParam.hasAwait)throw this.raise(T.UnexpectedAwaitAfterPipelineBody,{at:this.state.startLoc});_.right=this.parseExprOpRightExpr(f,x);let G=this.finishNode(_,B||H?"LogicalExpression":"BinaryExpression"),Y=this.state.type;if(H&&(Y===41||Y===42)||B&&Y===40)throw this.raise(T.MixingCoalesceWithLogical,{at:this.state.startLoc});return this.parseExprOp(G,a,d)}}return u}parseExprOpRightExpr(u,a){let d=this.state.startLoc;switch(u){case 39:switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>this.parseHackPipeBody());case"smart":return this.withTopicBindingContext(()=>{if(this.prodParam.hasYield&&this.isContextual(106))throw this.raise(T.PipeBodyIsTighter,{at:this.state.startLoc});return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(u,a),d)});case"fsharp":return this.withSoloAwaitPermittingContext(()=>this.parseFSharpPipelineBody(a))}default:return this.parseExprOpBaseRightExpr(u,a)}}parseExprOpBaseRightExpr(u,a){let d=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),d,rC(u)?a-1:a)}parseHackPipeBody(){var u;let{startLoc:a}=this.state,d=this.parseMaybeAssign();return w.has(d.type)&&!((u=d.extra)!=null&&u.parenthesized)&&this.raise(T.PipeUnparenthesizedBody,{at:a,type:d.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(T.PipeTopicUnused,{at:a}),d}checkExponentialAfterUnary(u){this.match(57)&&this.raise(T.UnexpectedTokenUnaryExponentiation,{at:u.argument})}parseMaybeUnary(u,a){let d=this.state.startLoc,f=this.isContextual(96);if(f&&this.isAwaitAllowed()){this.next();let H=this.parseAwait(d);return a||this.checkExponentialAfterUnary(H),H}let x=this.match(34),_=this.startNode();if(on(this.state.type)){_.operator=this.state.value,_.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");let H=this.match(89);if(this.next(),_.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(u,!0),this.state.strict&&H){let G=_.argument;G.type==="Identifier"?this.raise(T.StrictDelete,{at:_}):this.hasPropertyAsPrivateName(G)&&this.raise(T.DeletePrivateField,{at:_})}if(!x)return a||this.checkExponentialAfterUnary(_),this.finishNode(_,"UnaryExpression")}let B=this.parseUpdate(_,x,u);if(f){let{type:H}=this.state;if((this.hasPlugin("v8intrinsic")?Rt(H):Rt(H)&&!this.match(54))&&!this.isAmbiguousAwait())return this.raiseOverwrite(T.AwaitNotInAsyncContext,{at:d}),this.parseAwait(d)}return B}parseUpdate(u,a,d){if(a){let _=u;return this.checkLVal(_.argument,{in:this.finishNode(_,"UpdateExpression")}),u}let f=this.state.startLoc,x=this.parseExprSubscripts(d);if(this.checkExpressionErrors(d,!1))return x;for(;Wt(this.state.type)&&!this.canInsertSemicolon();){let _=this.startNodeAt(f);_.operator=this.state.value,_.prefix=!1,_.argument=x,this.next(),this.checkLVal(x,{in:x=this.finishNode(_,"UpdateExpression")})}return x}parseExprSubscripts(u){let a=this.state.startLoc,d=this.state.potentialArrowAt,f=this.parseExprAtom(u);return this.shouldExitDescending(f,d)?f:this.parseSubscripts(f,a)}parseSubscripts(u,a,d){let f={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(u),stop:!1};do u=this.parseSubscript(u,a,d,f),f.maybeAsyncArrow=!1;while(!f.stop);return u}parseSubscript(u,a,d,f){let{type:x}=this.state;if(!d&&x===15)return this.parseBind(u,a,d,f);if(Ul(x))return this.parseTaggedTemplateExpression(u,a,f);let _=!1;if(x===18){if(d&&(this.raise(T.OptionalChainingNoNew,{at:this.state.startLoc}),this.lookaheadCharCode()===40))return f.stop=!0,u;f.optionalChainMember=_=!0,this.next()}if(!d&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(u,a,f,_);{let B=this.eat(0);return B||_||this.eat(16)?this.parseMember(u,a,f,B,_):(f.stop=!0,u)}}parseMember(u,a,d,f,x){let _=this.startNodeAt(a);return _.object=u,_.computed=f,f?(_.property=this.parseExpression(),this.expect(3)):this.match(136)?(u.type==="Super"&&this.raise(T.SuperPrivateField,{at:a}),this.classScope.usePrivateName(this.state.value,this.state.startLoc),_.property=this.parsePrivateName()):_.property=this.parseIdentifier(!0),d.optionalChainMember?(_.optional=x,this.finishNode(_,"OptionalMemberExpression")):this.finishNode(_,"MemberExpression")}parseBind(u,a,d,f){let x=this.startNodeAt(a);return x.object=u,this.next(),x.callee=this.parseNoCallExpr(),f.stop=!0,this.parseSubscripts(this.finishNode(x,"BindExpression"),a,d)}parseCoverCallAndAsyncArrowHead(u,a,d,f){let x=this.state.maybeInArrowParameters,_=null;this.state.maybeInArrowParameters=!0,this.next();let B=this.startNodeAt(a);B.callee=u;let{maybeAsyncArrow:H,optionalChainMember:G}=d;H&&(this.expressionScope.enter(GC()),_=new su),G&&(B.optional=f),f?B.arguments=this.parseCallExpressionArguments(11):B.arguments=this.parseCallExpressionArguments(11,u.type==="Import",u.type!=="Super",B,_);let Y=this.finishCallExpression(B,G);return H&&this.shouldParseAsyncArrow()&&!f?(d.stop=!0,this.checkDestructuringPrivate(_),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),Y=this.parseAsyncArrowFromCallExpression(this.startNodeAt(a),Y)):(H&&(this.checkExpressionErrors(_,!0),this.expressionScope.exit()),this.toReferencedArguments(Y)),this.state.maybeInArrowParameters=x,Y}toReferencedArguments(u,a){this.toReferencedListDeep(u.arguments,a)}parseTaggedTemplateExpression(u,a,d){let f=this.startNodeAt(a);return f.tag=u,f.quasi=this.parseTemplate(!0),d.optionalChainMember&&this.raise(T.OptionalChainingNoTemplate,{at:a}),this.finishNode(f,"TaggedTemplateExpression")}atPossibleAsyncArrow(u){return u.type==="Identifier"&&u.name==="async"&&this.state.lastTokEndLoc.index===u.end&&!this.canInsertSemicolon()&&u.end-u.start===5&&u.start===this.state.potentialArrowAt}expectImportAttributesPlugin(){this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes")}finishCallExpression(u,a){if(u.callee.type==="Import")if(u.arguments.length===2&&(this.hasPlugin("moduleAttributes")||this.expectImportAttributesPlugin()),u.arguments.length===0||u.arguments.length>2)this.raise(T.ImportCallArity,{at:u,maxArgumentCount:this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")?2:1});else for(let d of u.arguments)d.type==="SpreadElement"&&this.raise(T.ImportCallSpreadArgument,{at:d});return this.finishNode(u,a?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(u,a,d,f,x){let _=[],B=!0,H=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(u);){if(B)B=!1;else if(this.expect(12),this.match(u)){a&&!this.hasPlugin("importAttributes")&&!this.hasPlugin("importAssertions")&&!this.hasPlugin("moduleAttributes")&&this.raise(T.ImportCallArgumentTrailingComma,{at:this.state.lastTokStartLoc}),f&&this.addTrailingCommaExtraToNode(f),this.next();break}_.push(this.parseExprListItem(!1,x,d))}return this.state.inFSharpPipelineDirectBody=H,_}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(u,a){var d;return this.resetPreviousNodeTrailingComments(a),this.expect(19),this.parseArrowExpression(u,a.arguments,!0,(d=a.extra)==null?void 0:d.trailingCommaLoc),a.innerComments&&Jr(u,a.innerComments),a.callee.trailingComments&&Jr(u,a.callee.trailingComments),u}parseNoCallExpr(){let u=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),u,!0)}parseExprAtom(u){let a,d=null,{type:f}=this.state;switch(f){case 79:return this.parseSuper();case 83:return a=this.startNode(),this.next(),this.match(16)?this.parseImportMetaProperty(a):(this.match(10)||this.raise(T.UnsupportedImport,{at:this.state.lastTokStartLoc}),this.finishNode(a,"Import"));case 78:return a=this.startNode(),this.next(),this.finishNode(a,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 132:return this.parseNumericLiteral(this.state.value);case 133:return this.parseBigIntLiteral(this.state.value);case 134:return this.parseDecimalLiteral(this.state.value);case 131:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{let x=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(x)}case 2:case 1:return this.parseArrayLike(this.state.type===2?4:3,!1,!0);case 0:return this.parseArrayLike(3,!0,!1,u);case 6:case 7:return this.parseObjectLike(this.state.type===6?9:8,!1,!0);case 5:return this.parseObjectLike(8,!1,!1,u);case 68:return this.parseFunctionOrFunctionSent();case 26:d=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(d,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{a=this.startNode(),this.next(),a.object=null;let x=a.callee=this.parseNoCallExpr();if(x.type==="MemberExpression")return this.finishNode(a,"BindExpression");throw this.raise(T.UnsupportedBind,{at:x})}case 136:return this.raise(T.PrivateInExpectedIn,{at:this.state.startLoc,identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{let x=this.getPluginOption("pipelineOperator","proposal");if(x)return this.parseTopicReference(x);this.unexpected();break}case 47:{let x=this.input.codePointAt(this.nextTokenStart());Yn(x)||x===62?this.expectOnePlugin(["jsx","flow","typescript"]):this.unexpected();break}default:if(le(f)){if(this.isContextual(125)&&this.lookaheadInLineCharCode()===123)return this.parseModuleExpression();let x=this.state.potentialArrowAt===this.state.start,_=this.state.containsEsc,B=this.parseIdentifier();if(!_&&B.name==="async"&&!this.canInsertSemicolon()){let{type:H}=this.state;if(H===68)return this.resetPreviousNodeTrailingComments(B),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(B));if(le(H))return this.lookaheadCharCode()===61?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(B)):B;if(H===90)return this.resetPreviousNodeTrailingComments(B),this.parseDo(this.startNodeAtNode(B),!0)}return x&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(B),[B],!1)):B}else this.unexpected()}}parseTopicReferenceThenEqualsSign(u,a){let d=this.getPluginOption("pipelineOperator","proposal");if(d)return this.state.type=u,this.state.value=a,this.state.pos--,this.state.end--,this.state.endLoc=o(this.state.endLoc,-1),this.parseTopicReference(d);this.unexpected()}parseTopicReference(u){let a=this.startNode(),d=this.state.startLoc,f=this.state.type;return this.next(),this.finishTopicReference(a,d,u,f)}finishTopicReference(u,a,d,f){if(this.testTopicReferenceConfiguration(d,a,f)){let x=d==="smart"?"PipelinePrimaryTopicReference":"TopicReference";return this.topicReferenceIsAllowedInCurrentContext()||this.raise(d==="smart"?T.PrimaryTopicNotAllowed:T.PipeTopicUnbound,{at:a}),this.registerTopicReference(),this.finishNode(u,x)}else throw this.raise(T.PipeTopicUnconfiguredToken,{at:a,token:yo(f)})}testTopicReferenceConfiguration(u,a,d){switch(u){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:yo(d)}]);case"smart":return d===27;default:throw this.raise(T.PipeTopicRequiresHackPipes,{at:a})}}parseAsyncArrowUnaryFunction(u){this.prodParam.enter(tu(!0,this.prodParam.hasYield));let a=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(T.LineTerminatorBeforeArrow,{at:this.state.curPosition()}),this.expect(19),this.parseArrowExpression(u,a,!0)}parseDo(u,a){this.expectPlugin("doExpressions"),a&&this.expectPlugin("asyncDoExpressions"),u.async=a,this.next();let d=this.state.labels;return this.state.labels=[],a?(this.prodParam.enter(eu),u.body=this.parseBlock(),this.prodParam.exit()):u.body=this.parseBlock(),this.state.labels=d,this.finishNode(u,"DoExpression")}parseSuper(){let u=this.startNode();return this.next(),this.match(10)&&!this.scope.allowDirectSuper&&!this.options.allowSuperOutsideMethod?this.raise(T.SuperNotAllowed,{at:u}):!this.scope.allowSuper&&!this.options.allowSuperOutsideMethod&&this.raise(T.UnexpectedSuper,{at:u}),!this.match(10)&&!this.match(0)&&!this.match(16)&&this.raise(T.UnsupportedSuper,{at:u}),this.finishNode(u,"Super")}parsePrivateName(){let u=this.startNode(),a=this.startNodeAt(o(this.state.startLoc,1)),d=this.state.value;return this.next(),u.id=this.createIdentifier(a,d),this.finishNode(u,"PrivateName")}parseFunctionOrFunctionSent(){let u=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){let a=this.createIdentifier(this.startNodeAtNode(u),"function");return this.next(),this.match(102)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(u,a,"sent")}return this.parseFunction(u)}parseMetaProperty(u,a,d){u.meta=a;let f=this.state.containsEsc;return u.property=this.parseIdentifier(!0),(u.property.name!==d||f)&&this.raise(T.UnsupportedMetaProperty,{at:u.property,target:a.name,onlyValidPropertyName:d}),this.finishNode(u,"MetaProperty")}parseImportMetaProperty(u){let a=this.createIdentifier(this.startNodeAtNode(u),"import");return this.next(),this.isContextual(100)&&(this.inModule||this.raise(T.ImportMetaOutsideModule,{at:a}),this.sawUnambiguousESM=!0),this.parseMetaProperty(u,a,"meta")}parseLiteralAtNode(u,a,d){return this.addExtra(d,"rawValue",u),this.addExtra(d,"raw",this.input.slice(d.start,this.state.end)),d.value=u,this.next(),this.finishNode(d,a)}parseLiteral(u,a){let d=this.startNode();return this.parseLiteralAtNode(u,a,d)}parseStringLiteral(u){return this.parseLiteral(u,"StringLiteral")}parseNumericLiteral(u){return this.parseLiteral(u,"NumericLiteral")}parseBigIntLiteral(u){return this.parseLiteral(u,"BigIntLiteral")}parseDecimalLiteral(u){return this.parseLiteral(u,"DecimalLiteral")}parseRegExpLiteral(u){let a=this.parseLiteral(u.value,"RegExpLiteral");return a.pattern=u.pattern,a.flags=u.flags,a}parseBooleanLiteral(u){let a=this.startNode();return a.value=u,this.next(),this.finishNode(a,"BooleanLiteral")}parseNullLiteral(){let u=this.startNode();return this.next(),this.finishNode(u,"NullLiteral")}parseParenAndDistinguishExpression(u){let a=this.state.startLoc,d;this.next(),this.expressionScope.enter(QC());let f=this.state.maybeInArrowParameters,x=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;let _=this.state.startLoc,B=[],H=new su,G=!0,Y,ke;for(;!this.match(11);){if(G)G=!1;else if(this.expect(12,H.optionalParametersLoc===null?null:H.optionalParametersLoc),this.match(11)){ke=this.state.startLoc;break}if(this.match(21)){let Ue=this.state.startLoc;if(Y=this.state.startLoc,B.push(this.parseParenItem(this.parseRestBinding(),Ue)),!this.checkCommaAfterRest(41))break}else B.push(this.parseMaybeAssignAllowIn(H,this.parseParenItem))}let Pe=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=f,this.state.inFSharpPipelineDirectBody=x;let Me=this.startNodeAt(a);return u&&this.shouldParseArrow(B)&&(Me=this.parseArrow(Me))?(this.checkDestructuringPrivate(H),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(Me,B,!1),Me):(this.expressionScope.exit(),B.length||this.unexpected(this.state.lastTokStartLoc),ke&&this.unexpected(ke),Y&&this.unexpected(Y),this.checkExpressionErrors(H,!0),this.toReferencedListDeep(B,!0),B.length>1?(d=this.startNodeAt(_),d.expressions=B,this.finishNode(d,"SequenceExpression"),this.resetEndLocation(d,Pe)):d=B[0],this.wrapParenthesis(a,d))}wrapParenthesis(u,a){if(!this.options.createParenthesizedExpressions)return this.addExtra(a,"parenthesized",!0),this.addExtra(a,"parenStart",u.index),this.takeSurroundingComments(a,u.index,this.state.lastTokEndLoc.index),a;let d=this.startNodeAt(u);return d.expression=a,this.finishNode(d,"ParenthesizedExpression")}shouldParseArrow(u){return!this.canInsertSemicolon()}parseArrow(u){if(this.eat(19))return u}parseParenItem(u,a){return u}parseNewOrNewTarget(){let u=this.startNode();if(this.next(),this.match(16)){let a=this.createIdentifier(this.startNodeAtNode(u),"new");this.next();let d=this.parseMetaProperty(u,a,"target");return!this.scope.inNonArrowFunction&&!this.scope.inClass&&!this.options.allowNewTargetOutsideFunction&&this.raise(T.UnexpectedNewTarget,{at:d}),d}return this.parseNew(u)}parseNew(u){if(this.parseNewCallee(u),this.eat(10)){let a=this.parseExprList(11);this.toReferencedList(a),u.arguments=a}else u.arguments=[];return this.finishNode(u,"NewExpression")}parseNewCallee(u){u.callee=this.parseNoCallExpr(),u.callee.type==="Import"&&this.raise(T.ImportCallNotNewExpression,{at:u.callee})}parseTemplateElement(u){let{start:a,startLoc:d,end:f,value:x}=this.state,_=a+1,B=this.startNodeAt(o(d,1));x===null&&(u||this.raise(T.InvalidEscapeSequenceTemplate,{at:o(this.state.firstInvalidTemplateEscapePos,1)}));let H=this.match(24),G=H?-1:-2,Y=f+G;B.value={raw:this.input.slice(_,Y).replace(/\r\n?/g,`
`),cooked:x===null?null:x.slice(1,G)},B.tail=H,this.next();let ke=this.finishNode(B,"TemplateElement");return this.resetEndLocation(ke,o(this.state.lastTokEndLoc,G)),ke}parseTemplate(u){let a=this.startNode();a.expressions=[];let d=this.parseTemplateElement(u);for(a.quasis=[d];!d.tail;)a.expressions.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),a.quasis.push(d=this.parseTemplateElement(u));return this.finishNode(a,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(u,a,d,f){d&&this.expectPlugin("recordAndTuple");let x=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let _=Object.create(null),B=!0,H=this.startNode();for(H.properties=[],this.next();!this.match(u);){if(B)B=!1;else if(this.expect(12),this.match(u)){this.addTrailingCommaExtraToNode(H);break}let Y;a?Y=this.parseBindingProperty():(Y=this.parsePropertyDefinition(f),this.checkProto(Y,d,_,f)),d&&!this.isObjectProperty(Y)&&Y.type!=="SpreadElement"&&this.raise(T.InvalidRecordProperty,{at:Y}),Y.shorthand&&this.addExtra(Y,"shorthand",!0),H.properties.push(Y)}this.next(),this.state.inFSharpPipelineDirectBody=x;let G="ObjectExpression";return a?G="ObjectPattern":d&&(G="RecordExpression"),this.finishNode(H,G)}addTrailingCommaExtraToNode(u){this.addExtra(u,"trailingComma",this.state.lastTokStart),this.addExtra(u,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(u){return!u.computed&&u.key.type==="Identifier"&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(u){let a=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(T.UnsupportedPropertyDecorator,{at:this.state.startLoc});this.match(26);)a.push(this.parseDecorator());let d=this.startNode(),f=!1,x=!1,_;if(this.match(21))return a.length&&this.unexpected(),this.parseSpread();a.length&&(d.decorators=a,a=[]),d.method=!1,u&&(_=this.state.startLoc);let B=this.eat(55);this.parsePropertyNamePrefixOperator(d);let H=this.state.containsEsc,G=this.parsePropertyName(d,u);if(!B&&!H&&this.maybeAsyncOrAccessorProp(d)){let Y=G.name;Y==="async"&&!this.hasPrecedingLineBreak()&&(f=!0,this.resetPreviousNodeTrailingComments(G),B=this.eat(55),this.parsePropertyName(d)),(Y==="get"||Y==="set")&&(x=!0,this.resetPreviousNodeTrailingComments(G),d.kind=Y,this.match(55)&&(B=!0,this.raise(T.AccessorIsGenerator,{at:this.state.curPosition(),kind:Y}),this.next()),this.parsePropertyName(d))}return this.parseObjPropValue(d,_,B,f,!1,x,u)}getGetterSetterExpectedParamCount(u){return u.kind==="get"?0:1}getObjectOrClassMethodParams(u){return u.params}checkGetterSetterParams(u){var a;let d=this.getGetterSetterExpectedParamCount(u),f=this.getObjectOrClassMethodParams(u);f.length!==d&&this.raise(u.kind==="get"?T.BadGetterArity:T.BadSetterArity,{at:u}),u.kind==="set"&&((a=f[f.length-1])==null?void 0:a.type)==="RestElement"&&this.raise(T.BadSetterRestParameter,{at:u})}parseObjectMethod(u,a,d,f,x){if(x){let _=this.parseMethod(u,a,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(_),_}if(d||a||this.match(10))return f&&this.unexpected(),u.kind="method",u.method=!0,this.parseMethod(u,a,d,!1,!1,"ObjectMethod")}parseObjectProperty(u,a,d,f){if(u.shorthand=!1,this.eat(14))return u.value=d?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowIn(f),this.finishNode(u,"ObjectProperty");if(!u.computed&&u.key.type==="Identifier"){if(this.checkReservedWord(u.key.name,u.key.loc.start,!0,!1),d)u.value=this.parseMaybeDefault(a,Kn(u.key));else if(this.match(29)){let x=this.state.startLoc;f!=null?f.shorthandAssignLoc===null&&(f.shorthandAssignLoc=x):this.raise(T.InvalidCoverInitializedName,{at:x}),u.value=this.parseMaybeDefault(a,Kn(u.key))}else u.value=Kn(u.key);return u.shorthand=!0,this.finishNode(u,"ObjectProperty")}}parseObjPropValue(u,a,d,f,x,_,B){let H=this.parseObjectMethod(u,d,f,x,_)||this.parseObjectProperty(u,a,x,B);return H||this.unexpected(),H}parsePropertyName(u,a){if(this.eat(0))u.computed=!0,u.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{let{type:d,value:f}=this.state,x;if(et(d))x=this.parseIdentifier(!0);else switch(d){case 132:x=this.parseNumericLiteral(f);break;case 131:x=this.parseStringLiteral(f);break;case 133:x=this.parseBigIntLiteral(f);break;case 134:x=this.parseDecimalLiteral(f);break;case 136:{let _=this.state.startLoc;a!=null?a.privateKeyLoc===null&&(a.privateKeyLoc=_):this.raise(T.UnexpectedPrivateField,{at:_}),x=this.parsePrivateName();break}default:this.unexpected()}u.key=x,d!==136&&(u.computed=!1)}return u.key}initFunction(u,a){u.id=null,u.generator=!1,u.async=a}parseMethod(u,a,d,f,x,_,B=!1){this.initFunction(u,d),u.generator=a,this.scope.enter(Xn|Wl|(B?Yo:0)|(x?oy:0)),this.prodParam.enter(tu(d,u.generator)),this.parseFunctionParams(u,f);let H=this.parseFunctionBodyAndFinish(u,_,!0);return this.prodParam.exit(),this.scope.exit(),H}parseArrayLike(u,a,d,f){d&&this.expectPlugin("recordAndTuple");let x=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let _=this.startNode();return this.next(),_.elements=this.parseExprList(u,!d,f,_),this.state.inFSharpPipelineDirectBody=x,this.finishNode(_,d?"TupleExpression":"ArrayExpression")}parseArrowExpression(u,a,d,f){this.scope.enter(Xn|Yd);let x=tu(d,!1);!this.match(5)&&this.prodParam.hasIn&&(x|=Qi),this.prodParam.enter(x),this.initFunction(u,d);let _=this.state.maybeInArrowParameters;return a&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(u,a,f)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(u,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=_,this.finishNode(u,"ArrowFunctionExpression")}setArrowFunctionParameters(u,a,d){this.toAssignableList(a,d,!1),u.params=a}parseFunctionBodyAndFinish(u,a,d=!1){return this.parseFunctionBody(u,!1,d),this.finishNode(u,a)}parseFunctionBody(u,a,d=!1){let f=a&&!this.match(5);if(this.expressionScope.enter(Sy()),f)u.body=this.parseMaybeAssign(),this.checkParams(u,!1,a,!1);else{let x=this.state.strict,_=this.state.labels;this.state.labels=[],this.prodParam.enter(this.prodParam.currentFlags()|Ey),u.body=this.parseBlock(!0,!1,B=>{let H=!this.isSimpleParamList(u.params);B&&H&&this.raise(T.IllegalLanguageModeDirective,{at:(u.kind==="method"||u.kind==="constructor")&&u.key?u.key.loc.end:u});let G=!x&&this.state.strict;this.checkParams(u,!this.state.strict&&!a&&!d&&!H,a,G),this.state.strict&&u.id&&this.checkIdentifier(u.id,vC,G)}),this.prodParam.exit(),this.state.labels=_}this.expressionScope.exit()}isSimpleParameter(u){return u.type==="Identifier"}isSimpleParamList(u){for(let a=0,d=u.length;a<d;a++)if(!this.isSimpleParameter(u[a]))return!1;return!0}checkParams(u,a,d,f=!0){let x=!a&&new Set,_={type:"FormalParameters"};for(let B of u.params)this.checkLVal(B,{in:_,binding:Gl,checkClashes:x,strictModeChanged:f})}parseExprList(u,a,d,f){let x=[],_=!0;for(;!this.eat(u);){if(_)_=!1;else if(this.expect(12),this.match(u)){f&&this.addTrailingCommaExtraToNode(f),this.next();break}x.push(this.parseExprListItem(a,d))}return x}parseExprListItem(u,a,d){let f;if(this.match(12))u||this.raise(T.UnexpectedToken,{at:this.state.curPosition(),unexpected:","}),f=null;else if(this.match(21)){let x=this.state.startLoc;f=this.parseParenItem(this.parseSpread(a),x)}else if(this.match(17)){this.expectPlugin("partialApplication"),d||this.raise(T.UnexpectedArgumentPlaceholder,{at:this.state.startLoc});let x=this.startNode();this.next(),f=this.finishNode(x,"ArgumentPlaceholder")}else f=this.parseMaybeAssignAllowIn(a,this.parseParenItem);return f}parseIdentifier(u){let a=this.startNode(),d=this.parseIdentifierName(u);return this.createIdentifier(a,d)}createIdentifier(u,a){return u.name=a,u.loc.identifierName=a,this.finishNode(u,"Identifier")}parseIdentifierName(u){let a,{startLoc:d,type:f}=this.state;et(f)?a=this.state.value:this.unexpected();let x=Je(f);return u?x&&this.replaceToken(130):this.checkReservedWord(a,d,x,!1),this.next(),a}checkReservedWord(u,a,d,f){if(!(u.length>10||!gC(u))){if(d&&hC(u)){this.raise(T.UnexpectedKeyword,{at:a,keyword:u});return}if((this.state.strict?f?sy:ey:Zg)(u,this.inModule)){this.raise(T.UnexpectedReservedWord,{at:a,reservedWord:u});return}else if(u==="yield"){if(this.prodParam.hasYield){this.raise(T.YieldBindingIdentifier,{at:a});return}}else if(u==="await"){if(this.prodParam.hasAwait){this.raise(T.AwaitBindingIdentifier,{at:a});return}if(this.scope.inStaticBlock){this.raise(T.AwaitBindingIdentifierInStaticBlock,{at:a});return}this.expressionScope.recordAsyncArrowParametersError({at:a})}else if(u==="arguments"&&this.scope.inClassAndNotInNonArrowFunction){this.raise(T.ArgumentsInClass,{at:a});return}}}isAwaitAllowed(){return!!(this.prodParam.hasAwait||this.options.allowAwaitOutsideFunction&&!this.scope.inFunction)}parseAwait(u){let a=this.startNodeAt(u);return this.expressionScope.recordParameterInitializerError(T.AwaitExpressionFormalParameter,{at:a}),this.eat(55)&&this.raise(T.ObsoleteAwaitStar,{at:a}),!this.scope.inFunction&&!this.options.allowAwaitOutsideFunction&&(this.isAmbiguousAwait()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(a.argument=this.parseMaybeUnary(null,!0)),this.finishNode(a,"AwaitExpression")}isAmbiguousAwait(){if(this.hasPrecedingLineBreak())return!0;let{type:u}=this.state;return u===53||u===10||u===0||Ul(u)||u===101&&!this.state.containsEsc||u===135||u===56||this.hasPlugin("v8intrinsic")&&u===54}parseYield(){let u=this.startNode();this.expressionScope.recordParameterInitializerError(T.YieldInParameter,{at:u}),this.next();let a=!1,d=null;if(!this.hasPrecedingLineBreak())switch(a=this.eat(55),this.state.type){case 13:case 137:case 8:case 11:case 3:case 9:case 14:case 12:if(!a)break;default:d=this.parseMaybeAssign()}return u.delegate=a,u.argument=d,this.finishNode(u,"YieldExpression")}checkPipelineAtInfixOperator(u,a){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&u.type==="SequenceExpression"&&this.raise(T.PipelineHeadSequenceExpression,{at:a})}parseSmartPipelineBodyInStyle(u,a){if(this.isSimpleReference(u)){let d=this.startNodeAt(a);return d.callee=u,this.finishNode(d,"PipelineBareFunction")}else{let d=this.startNodeAt(a);return this.checkSmartPipeTopicBodyEarlyErrors(a),d.expression=u,this.finishNode(d,"PipelineTopicExpression")}}isSimpleReference(u){switch(u.type){case"MemberExpression":return!u.computed&&this.isSimpleReference(u.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(u){if(this.match(19))throw this.raise(T.PipelineBodyNoArrow,{at:this.state.startLoc});this.topicReferenceWasUsedInCurrentContext()||this.raise(T.PipelineTopicUnused,{at:u})}withTopicBindingContext(u){let a=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return u()}finally{this.state.topicContext=a}}withSmartMixTopicForbiddingContext(u){if(this.hasPlugin(["pipelineOperator",{proposal:"smart"}])){let a=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return u()}finally{this.state.topicContext=a}}else return u()}withSoloAwaitPermittingContext(u){let a=this.state.soloAwait;this.state.soloAwait=!0;try{return u()}finally{this.state.soloAwait=a}}allowInAnd(u){let a=this.prodParam.currentFlags();if(Qi&~a){this.prodParam.enter(a|Qi);try{return u()}finally{this.prodParam.exit()}}return u()}disallowInAnd(u){let a=this.prodParam.currentFlags();if(Qi&a){this.prodParam.enter(a&~Qi);try{return u()}finally{this.prodParam.exit()}}return u()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return this.state.topicContext.maxTopicIndex!=null&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(u){let a=this.state.startLoc;this.state.potentialArrowAt=this.state.start;let d=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;let f=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),a,u);return this.state.inFSharpPipelineDirectBody=d,f}parseModuleExpression(){this.expectPlugin("moduleBlocks");let u=this.startNode();this.next(),this.match(5)||this.unexpected(null,5);let a=this.startNodeAt(this.state.endLoc);this.next();let d=this.initializeScopes(!0);this.enterInitialScopes();try{u.body=this.parseProgram(a,8,"module")}finally{d()}return this.finishNode(u,"ModuleExpression")}parsePropertyNamePrefixOperator(u){}},cp={kind:"loop"},xO={kind:"switch"},CO=/[\uD800-\uDFFF]/u,dp=/in(?:stanceof)?/y;function OO(u,a){for(let d=0;d<u.length;d++){let f=u[d],{type:x}=f;if(typeof x=="number"){{if(x===136){let{loc:_,start:B,value:H,end:G}=f,Y=B+1,ke=o(_.start,1);u.splice(d,1,new bo({type:Gn(27),value:"#",start:B,end:Y,startLoc:_.start,endLoc:ke}),new bo({type:Gn(130),value:H,start:Y,end:G,startLoc:ke,endLoc:_.end})),d++;continue}if(Ul(x)){let{loc:_,start:B,value:H,end:G}=f,Y=B+1,ke=o(_.start,1),Pe;a.charCodeAt(B)===96?Pe=new bo({type:Gn(22),value:"`",start:B,end:Y,startLoc:_.start,endLoc:ke}):Pe=new bo({type:Gn(8),value:"}",start:B,end:Y,startLoc:_.start,endLoc:ke});let Me,Ue,gt,ht;x===24?(Ue=G-1,gt=o(_.end,-1),Me=H===null?null:H.slice(1,-1),ht=new bo({type:Gn(22),value:"`",start:Ue,end:G,startLoc:gt,endLoc:_.end})):(Ue=G-2,gt=o(_.end,-2),Me=H===null?null:H.slice(1,-2),ht=new bo({type:Gn(23),value:"${",start:Ue,end:G,startLoc:gt,endLoc:_.end})),u.splice(d,1,Pe,new bo({type:Gn(20),value:Me,start:Y,end:Ue,startLoc:ke,endLoc:gt}),ht),d+=2;continue}}f.type=Gn(x)}}return u}var DO=class extends EO{parseTopLevel(u,a){return u.program=this.parseProgram(a),u.comments=this.state.comments,this.options.tokens&&(u.tokens=OO(this.tokens,this.input)),this.finishNode(u,"File")}parseProgram(u,a=137,d=this.options.sourceType){if(u.sourceType=d,u.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(u,!0,!0,a),this.inModule&&!this.options.allowUndeclaredExports&&this.scope.undefinedExports.size>0)for(let[x,_]of Array.from(this.scope.undefinedExports))this.raise(T.ModuleExportUndefined,{at:_,localName:x});let f;return a===137?f=this.finishNode(u,"Program"):f=this.finishNodeAt(u,"Program",o(this.state.startLoc,-1)),f}stmtToDirective(u){let a=u;a.type="Directive",a.value=a.expression,delete a.expression;let d=a.value,f=d.value,x=this.input.slice(d.start,d.end),_=d.value=x.slice(1,-1);return this.addExtra(d,"raw",x),this.addExtra(d,"rawValue",_),this.addExtra(d,"expressionValue",f),d.type="DirectiveLiteral",a}parseInterpreterDirective(){if(!this.match(28))return null;let u=this.startNode();return u.value=this.state.value,this.next(),this.finishNode(u,"InterpreterDirective")}isLet(){return this.isContextual(99)?this.hasFollowingBindingAtom():!1}chStartsBindingIdentifier(u,a){if(Yn(u)){if(dp.lastIndex=a,dp.test(this.input)){let d=this.codePointAtPos(dp.lastIndex);if(!Ui(d)&&d!==92)return!1}return!0}else return u===92}chStartsBindingPattern(u){return u===91||u===123}hasFollowingBindingAtom(){let u=this.nextTokenStart(),a=this.codePointAtPos(u);return this.chStartsBindingPattern(a)||this.chStartsBindingIdentifier(a,u)}hasInLineFollowingBindingIdentifier(){let u=this.nextTokenInLineStart(),a=this.codePointAtPos(u);return this.chStartsBindingIdentifier(a,u)}startsUsingForOf(){let{type:u,containsEsc:a}=this.lookahead();if(u===101&&!a)return!1;if(le(u)&&!this.hasFollowingLineBreak())return this.expectPlugin("explicitResourceManagement"),!0}startsAwaitUsing(){let u=this.nextTokenInLineStart();if(this.isUnparsedContextual(u,"using")){u=this.nextTokenInLineStartSince(u+5);let a=this.codePointAtPos(u);if(this.chStartsBindingIdentifier(a,u))return this.expectPlugin("explicitResourceManagement"),!0}return!1}parseModuleItem(){return this.parseStatementLike(15)}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8))}parseStatementOrSloppyAnnexBFunctionDeclaration(u=!1){let a=0;return this.options.annexB&&!this.state.strict&&(a|=4,u&&(a|=8)),this.parseStatementLike(a)}parseStatement(){return this.parseStatementLike(0)}parseStatementLike(u){let a=null;return this.match(26)&&(a=this.parseDecorators(!0)),this.parseStatementContent(u,a)}parseStatementContent(u,a){let d=this.state.type,f=this.startNode(),x=!!(u&2),_=!!(u&4),B=u&1;switch(d){case 60:return this.parseBreakContinueStatement(f,!0);case 63:return this.parseBreakContinueStatement(f,!1);case 64:return this.parseDebuggerStatement(f);case 90:return this.parseDoWhileStatement(f);case 91:return this.parseForStatement(f);case 68:if(this.lookaheadCharCode()===46)break;return _||this.raise(this.state.strict?T.StrictFunction:this.options.annexB?T.SloppyFunctionAnnexB:T.SloppyFunction,{at:this.state.startLoc}),this.parseFunctionStatement(f,!1,!x&&_);case 80:return x||this.unexpected(),this.parseClass(this.maybeTakeDecorators(a,f),!0);case 69:return this.parseIfStatement(f);case 70:return this.parseReturnStatement(f);case 71:return this.parseSwitchStatement(f);case 72:return this.parseThrowStatement(f);case 73:return this.parseTryStatement(f);case 96:if(!this.state.containsEsc&&this.startsAwaitUsing())return this.isAwaitAllowed()?x||this.raise(T.UnexpectedLexicalDeclaration,{at:f}):this.raise(T.AwaitUsingNotInAsyncContext,{at:f}),this.next(),this.parseVarStatement(f,"await using");break;case 105:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifier())break;return this.expectPlugin("explicitResourceManagement"),!this.scope.inModule&&this.scope.inTopLevel?this.raise(T.UnexpectedUsingDeclaration,{at:this.state.startLoc}):x||this.raise(T.UnexpectedLexicalDeclaration,{at:this.state.startLoc}),this.parseVarStatement(f,"using");case 99:{if(this.state.containsEsc)break;let Y=this.nextTokenStart(),ke=this.codePointAtPos(Y);if(ke!==91&&(!x&&this.hasFollowingLineBreak()||!this.chStartsBindingIdentifier(ke,Y)&&ke!==123))break}case 75:x||this.raise(T.UnexpectedLexicalDeclaration,{at:this.state.startLoc});case 74:{let Y=this.state.value;return this.parseVarStatement(f,Y)}case 92:return this.parseWhileStatement(f);case 76:return this.parseWithStatement(f);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(f);case 83:{let Y=this.lookaheadCharCode();if(Y===40||Y===46)break}case 82:{!this.options.allowImportExportEverywhere&&!B&&this.raise(T.UnexpectedImportExport,{at:this.state.startLoc}),this.next();let Y;return d===83?(Y=this.parseImport(f),Y.type==="ImportDeclaration"&&(!Y.importKind||Y.importKind==="value")&&(this.sawUnambiguousESM=!0)):(Y=this.parseExport(f,a),(Y.type==="ExportNamedDeclaration"&&(!Y.exportKind||Y.exportKind==="value")||Y.type==="ExportAllDeclaration"&&(!Y.exportKind||Y.exportKind==="value")||Y.type==="ExportDefaultDeclaration")&&(this.sawUnambiguousESM=!0)),this.assertModuleNodeAllowed(Y),Y}default:if(this.isAsyncFunction())return x||this.raise(T.AsyncFunctionInSingleStatementContext,{at:this.state.startLoc}),this.next(),this.parseFunctionStatement(f,!0,!x&&_)}let H=this.state.value,G=this.parseExpression();return le(d)&&G.type==="Identifier"&&this.eat(14)?this.parseLabeledStatement(f,H,G,u):this.parseExpressionStatement(f,G,a)}assertModuleNodeAllowed(u){!this.options.allowImportExportEverywhere&&!this.inModule&&this.raise(T.ImportOutsideModule,{at:u})}decoratorsEnabledBeforeExport(){return this.hasPlugin("decorators-legacy")?!0:this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")!==!1}maybeTakeDecorators(u,a,d){return u&&(a.decorators&&a.decorators.length>0?(typeof this.getPluginOption("decorators","decoratorsBeforeExport")!="boolean"&&this.raise(T.DecoratorsBeforeAfterExport,{at:a.decorators[0]}),a.decorators.unshift(...u)):a.decorators=u,this.resetStartLocationFromNode(a,u[0]),d&&this.resetStartLocationFromNode(d,a)),a}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(u){let a=[];do a.push(this.parseDecorator());while(this.match(26));if(this.match(82))u||this.unexpected(),this.decoratorsEnabledBeforeExport()||this.raise(T.DecoratorExportClass,{at:this.state.startLoc});else if(!this.canHaveLeadingDecorator())throw this.raise(T.UnexpectedLeadingDecorator,{at:this.state.startLoc});return a}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);let u=this.startNode();if(this.next(),this.hasPlugin("decorators")){let a=this.state.startLoc,d;if(this.match(10)){let f=this.state.startLoc;this.next(),d=this.parseExpression(),this.expect(11),d=this.wrapParenthesis(f,d);let x=this.state.startLoc;u.expression=this.parseMaybeDecoratorArguments(d),this.getPluginOption("decorators","allowCallParenthesized")===!1&&u.expression!==d&&this.raise(T.DecoratorArgumentsOutsideParentheses,{at:x})}else{for(d=this.parseIdentifier(!1);this.eat(16);){let f=this.startNodeAt(a);f.object=d,this.match(136)?(this.classScope.usePrivateName(this.state.value,this.state.startLoc),f.property=this.parsePrivateName()):f.property=this.parseIdentifier(!0),f.computed=!1,d=this.finishNode(f,"MemberExpression")}u.expression=this.parseMaybeDecoratorArguments(d)}}else u.expression=this.parseExprSubscripts();return this.finishNode(u,"Decorator")}parseMaybeDecoratorArguments(u){if(this.eat(10)){let a=this.startNodeAtNode(u);return a.callee=u,a.arguments=this.parseCallExpressionArguments(11,!1),this.toReferencedList(a.arguments),this.finishNode(a,"CallExpression")}return u}parseBreakContinueStatement(u,a){return this.next(),this.isLineTerminator()?u.label=null:(u.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(u,a),this.finishNode(u,a?"BreakStatement":"ContinueStatement")}verifyBreakContinue(u,a){let d;for(d=0;d<this.state.labels.length;++d){let f=this.state.labels[d];if((u.label==null||f.name===u.label.name)&&(f.kind!=null&&(a||f.kind==="loop")||u.label&&a))break}if(d===this.state.labels.length){let f=a?"BreakStatement":"ContinueStatement";this.raise(T.IllegalBreakContinue,{at:u,type:f})}}parseDebuggerStatement(u){return this.next(),this.semicolon(),this.finishNode(u,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);let u=this.parseExpression();return this.expect(11),u}parseDoWhileStatement(u){return this.next(),this.state.labels.push(cp),u.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.expect(92),u.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(u,"DoWhileStatement")}parseForStatement(u){this.next(),this.state.labels.push(cp);let a=null;if(this.isAwaitAllowed()&&this.eatContextual(96)&&(a=this.state.lastTokStartLoc),this.scope.enter(Wi),this.expect(10),this.match(13))return a!==null&&this.unexpected(a),this.parseFor(u,null);let d=this.isContextual(99);{let H=this.isContextual(96)&&this.startsAwaitUsing(),G=H||this.isContextual(105)&&this.startsUsingForOf(),Y=d&&this.hasFollowingBindingAtom()||G;if(this.match(74)||this.match(75)||Y){let ke=this.startNode(),Pe;H?(Pe="await using",this.isAwaitAllowed()||this.raise(T.AwaitUsingNotInAsyncContext,{at:this.state.startLoc}),this.next()):Pe=this.state.value,this.next(),this.parseVar(ke,!0,Pe);let Me=this.finishNode(ke,"VariableDeclaration"),Ue=this.match(58);return Ue&&G&&this.raise(T.ForInUsing,{at:Me}),(Ue||this.isContextual(101))&&Me.declarations.length===1?this.parseForIn(u,Me,a):(a!==null&&this.unexpected(a),this.parseFor(u,Me))}}let f=this.isContextual(95),x=new su,_=this.parseExpression(!0,x),B=this.isContextual(101);if(B&&(d&&this.raise(T.ForOfLet,{at:_}),a===null&&f&&_.type==="Identifier"&&this.raise(T.ForOfAsync,{at:_})),B||this.match(58)){this.checkDestructuringPrivate(x),this.toAssignable(_,!0);let H=B?"ForOfStatement":"ForInStatement";return this.checkLVal(_,{in:{type:H}}),this.parseForIn(u,_,a)}else this.checkExpressionErrors(x,!0);return a!==null&&this.unexpected(a),this.parseFor(u,_)}parseFunctionStatement(u,a,d){return this.next(),this.parseFunction(u,1|(d?2:0)|(a?8:0))}parseIfStatement(u){return this.next(),u.test=this.parseHeaderExpression(),u.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),u.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(u,"IfStatement")}parseReturnStatement(u){return!this.prodParam.hasReturn&&!this.options.allowReturnOutsideFunction&&this.raise(T.IllegalReturn,{at:this.state.startLoc}),this.next(),this.isLineTerminator()?u.argument=null:(u.argument=this.parseExpression(),this.semicolon()),this.finishNode(u,"ReturnStatement")}parseSwitchStatement(u){this.next(),u.discriminant=this.parseHeaderExpression();let a=u.cases=[];this.expect(5),this.state.labels.push(xO),this.scope.enter(Wi);let d;for(let f;!this.match(8);)if(this.match(61)||this.match(65)){let x=this.match(61);d&&this.finishNode(d,"SwitchCase"),a.push(d=this.startNode()),d.consequent=[],this.next(),x?d.test=this.parseExpression():(f&&this.raise(T.MultipleDefaultsInSwitch,{at:this.state.lastTokStartLoc}),f=!0,d.test=null),this.expect(14)}else d?d.consequent.push(this.parseStatementListItem()):this.unexpected();return this.scope.exit(),d&&this.finishNode(d,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(u,"SwitchStatement")}parseThrowStatement(u){return this.next(),this.hasPrecedingLineBreak()&&this.raise(T.NewlineAfterThrow,{at:this.state.lastTokEndLoc}),u.argument=this.parseExpression(),this.semicolon(),this.finishNode(u,"ThrowStatement")}parseCatchClauseParam(){let u=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&u.type==="Identifier"?ny:0),this.checkLVal(u,{in:{type:"CatchClause"},binding:yC}),u}parseTryStatement(u){if(this.next(),u.block=this.parseBlock(),u.handler=null,this.match(62)){let a=this.startNode();this.next(),this.match(10)?(this.expect(10),a.param=this.parseCatchClauseParam(),this.expect(11)):(a.param=null,this.scope.enter(Wi)),a.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),u.handler=this.finishNode(a,"CatchClause")}return u.finalizer=this.eat(67)?this.parseBlock():null,!u.handler&&!u.finalizer&&this.raise(T.NoCatchOrFinally,{at:u}),this.finishNode(u,"TryStatement")}parseVarStatement(u,a,d=!1){return this.next(),this.parseVar(u,!1,a,d),this.semicolon(),this.finishNode(u,"VariableDeclaration")}parseWhileStatement(u){return this.next(),u.test=this.parseHeaderExpression(),this.state.labels.push(cp),u.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.finishNode(u,"WhileStatement")}parseWithStatement(u){return this.state.strict&&this.raise(T.StrictWith,{at:this.state.startLoc}),this.next(),u.object=this.parseHeaderExpression(),u.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.finishNode(u,"WithStatement")}parseEmptyStatement(u){return this.next(),this.finishNode(u,"EmptyStatement")}parseLabeledStatement(u,a,d,f){for(let _ of this.state.labels)_.name===a&&this.raise(T.LabelRedeclaration,{at:d,labelName:a});let x=xt(this.state.type)?"loop":this.match(71)?"switch":null;for(let _=this.state.labels.length-1;_>=0;_--){let B=this.state.labels[_];if(B.statementStart===u.start)B.statementStart=this.state.start,B.kind=x;else break}return this.state.labels.push({name:a,kind:x,statementStart:this.state.start}),u.body=f&8?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),u.label=d,this.finishNode(u,"LabeledStatement")}parseExpressionStatement(u,a,d){return u.expression=a,this.semicolon(),this.finishNode(u,"ExpressionStatement")}parseBlock(u=!1,a=!0,d){let f=this.startNode();return u&&this.state.strictErrors.clear(),this.expect(5),a&&this.scope.enter(Wi),this.parseBlockBody(f,u,!1,8,d),a&&this.scope.exit(),this.finishNode(f,"BlockStatement")}isValidDirective(u){return u.type==="ExpressionStatement"&&u.expression.type==="StringLiteral"&&!u.expression.extra.parenthesized}parseBlockBody(u,a,d,f,x){let _=u.body=[],B=u.directives=[];this.parseBlockOrModuleBlockBody(_,a?B:void 0,d,f,x)}parseBlockOrModuleBlockBody(u,a,d,f,x){let _=this.state.strict,B=!1,H=!1;for(;!this.match(f);){let G=d?this.parseModuleItem():this.parseStatementListItem();if(a&&!H){if(this.isValidDirective(G)){let Y=this.stmtToDirective(G);a.push(Y),!B&&Y.value.value==="use strict"&&(B=!0,this.setStrict(!0));continue}H=!0,this.state.strictErrors.clear()}u.push(G)}x&&x.call(this,B),_||this.setStrict(!1),this.next()}parseFor(u,a){return u.init=a,this.semicolon(!1),u.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),u.update=this.match(11)?null:this.parseExpression(),this.expect(11),u.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(u,"ForStatement")}parseForIn(u,a,d){let f=this.match(58);return this.next(),f?d!==null&&this.unexpected(d):u.await=d!==null,a.type==="VariableDeclaration"&&a.declarations[0].init!=null&&(!f||!this.options.annexB||this.state.strict||a.kind!=="var"||a.declarations[0].id.type!=="Identifier")&&this.raise(T.ForInOfLoopInitializer,{at:a,type:f?"ForInStatement":"ForOfStatement"}),a.type==="AssignmentPattern"&&this.raise(T.InvalidLhs,{at:a,ancestor:{type:"ForStatement"}}),u.left=a,u.right=f?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),u.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(u,f?"ForInStatement":"ForOfStatement")}parseVar(u,a,d,f=!1){let x=u.declarations=[];for(u.kind=d;;){let _=this.startNode();if(this.parseVarId(_,d),_.init=this.eat(29)?a?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,_.init===null&&!f&&(_.id.type!=="Identifier"&&!(a&&(this.match(58)||this.isContextual(101)))?this.raise(T.DeclarationMissingInitializer,{at:this.state.lastTokEndLoc,kind:"destructuring"}):d==="const"&&!(this.match(58)||this.isContextual(101))&&this.raise(T.DeclarationMissingInitializer,{at:this.state.lastTokEndLoc,kind:"const"})),x.push(this.finishNode(_,"VariableDeclarator")),!this.eat(12))break}return u}parseVarId(u,a){let d=this.parseBindingAtom();this.checkLVal(d,{in:{type:"VariableDeclarator"},binding:a==="var"?Gl:zi}),u.id=d}parseAsyncFunctionExpression(u){return this.parseFunction(u,8)}parseFunction(u,a=0){let d=a&2,f=!!(a&1),x=f&&!(a&4),_=!!(a&8);this.initFunction(u,_),this.match(55)&&(d&&this.raise(T.GeneratorInSingleStatementContext,{at:this.state.startLoc}),this.next(),u.generator=!0),f&&(u.id=this.parseFunctionId(x));let B=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(Xn),this.prodParam.enter(tu(_,u.generator)),f||(u.id=this.parseFunctionId()),this.parseFunctionParams(u,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(u,f?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),f&&!d&&this.registerFunctionStatementId(u),this.state.maybeInArrowParameters=B,u}parseFunctionId(u){return u||le(this.state.type)?this.parseIdentifier():null}parseFunctionParams(u,a){this.expect(10),this.expressionScope.enter(HC()),u.params=this.parseBindingList(11,41,2|(a?4:0)),this.expressionScope.exit()}registerFunctionStatementId(u){u.id&&this.scope.declareName(u.id.name,!this.options.annexB||this.state.strict||u.generator||u.async?this.scope.treatFunctionsAsVar?Gl:zi:ly,u.id.loc.start)}parseClass(u,a,d){this.next();let f=this.state.strict;return this.state.strict=!0,this.parseClassId(u,a,d),this.parseClassSuper(u),u.body=this.parseClassBody(!!u.superClass,f),this.finishNode(u,a?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}isNonstaticConstructor(u){return!u.computed&&!u.static&&(u.key.name==="constructor"||u.key.value==="constructor")}parseClassBody(u,a){this.classScope.enter();let d={hadConstructor:!1,hadSuperClass:u},f=[],x=this.startNode();if(x.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext(()=>{for(;!this.match(8);){if(this.eat(13)){if(f.length>0)throw this.raise(T.DecoratorSemicolon,{at:this.state.lastTokEndLoc});continue}if(this.match(26)){f.push(this.parseDecorator());continue}let _=this.startNode();f.length&&(_.decorators=f,this.resetStartLocationFromNode(_,f[0]),f=[]),this.parseClassMember(x,_,d),_.kind==="constructor"&&_.decorators&&_.decorators.length>0&&this.raise(T.DecoratorConstructor,{at:_})}}),this.state.strict=a,this.next(),f.length)throw this.raise(T.TrailingDecorator,{at:this.state.startLoc});return this.classScope.exit(),this.finishNode(x,"ClassBody")}parseClassMemberFromModifier(u,a){let d=this.parseIdentifier(!0);if(this.isClassMethod()){let f=a;return f.kind="method",f.computed=!1,f.key=d,f.static=!1,this.pushClassMethod(u,f,!1,!1,!1,!1),!0}else if(this.isClassProperty()){let f=a;return f.computed=!1,f.key=d,f.static=!1,u.body.push(this.parseClassProperty(f)),!0}return this.resetPreviousNodeTrailingComments(d),!1}parseClassMember(u,a,d){let f=this.isContextual(104);if(f){if(this.parseClassMemberFromModifier(u,a))return;if(this.eat(5)){this.parseClassStaticBlock(u,a);return}}this.parseClassMemberWithIsStatic(u,a,d,f)}parseClassMemberWithIsStatic(u,a,d,f){let x=a,_=a,B=a,H=a,G=a,Y=x,ke=x;if(a.static=f,this.parsePropertyNamePrefixOperator(a),this.eat(55)){Y.kind="method";let ht=this.match(136);if(this.parseClassElementName(Y),ht){this.pushClassPrivateMethod(u,_,!0,!1);return}this.isNonstaticConstructor(x)&&this.raise(T.ConstructorIsGenerator,{at:x.key}),this.pushClassMethod(u,x,!0,!1,!1,!1);return}let Pe=le(this.state.type)&&!this.state.containsEsc,Me=this.match(136),Ue=this.parseClassElementName(a),gt=this.state.startLoc;if(this.parsePostMemberNameModifiers(ke),this.isClassMethod()){if(Y.kind="method",Me){this.pushClassPrivateMethod(u,_,!1,!1);return}let ht=this.isNonstaticConstructor(x),Ut=!1;ht&&(x.kind="constructor",d.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(T.DuplicateConstructor,{at:Ue}),ht&&this.hasPlugin("typescript")&&a.override&&this.raise(T.OverrideOnConstructor,{at:Ue}),d.hadConstructor=!0,Ut=d.hadSuperClass),this.pushClassMethod(u,x,!1,!1,ht,Ut)}else if(this.isClassProperty())Me?this.pushClassPrivateProperty(u,H):this.pushClassProperty(u,B);else if(Pe&&Ue.name==="async"&&!this.isLineTerminator()){this.resetPreviousNodeTrailingComments(Ue);let ht=this.eat(55);ke.optional&&this.unexpected(gt),Y.kind="method";let Ut=this.match(136);this.parseClassElementName(Y),this.parsePostMemberNameModifiers(ke),Ut?this.pushClassPrivateMethod(u,_,ht,!0):(this.isNonstaticConstructor(x)&&this.raise(T.ConstructorIsAsync,{at:x.key}),this.pushClassMethod(u,x,ht,!0,!1,!1))}else if(Pe&&(Ue.name==="get"||Ue.name==="set")&&!(this.match(55)&&this.isLineTerminator())){this.resetPreviousNodeTrailingComments(Ue),Y.kind=Ue.name;let ht=this.match(136);this.parseClassElementName(x),ht?this.pushClassPrivateMethod(u,_,!1,!1):(this.isNonstaticConstructor(x)&&this.raise(T.ConstructorIsAccessor,{at:x.key}),this.pushClassMethod(u,x,!1,!1,!1,!1)),this.checkGetterSetterParams(x)}else if(Pe&&Ue.name==="accessor"&&!this.isLineTerminator()){this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(Ue);let ht=this.match(136);this.parseClassElementName(B),this.pushClassAccessorProperty(u,G,ht)}else this.isLineTerminator()?Me?this.pushClassPrivateProperty(u,H):this.pushClassProperty(u,B):this.unexpected()}parseClassElementName(u){let{type:a,value:d}=this.state;if((a===130||a===131)&&u.static&&d==="prototype"&&this.raise(T.StaticPrototype,{at:this.state.startLoc}),a===136){d==="constructor"&&this.raise(T.ConstructorClassPrivateField,{at:this.state.startLoc});let f=this.parsePrivateName();return u.key=f,f}return this.parsePropertyName(u)}parseClassStaticBlock(u,a){var d;this.scope.enter(Yo|jl|Wl);let f=this.state.labels;this.state.labels=[],this.prodParam.enter(Hi);let x=a.body=[];this.parseBlockOrModuleBlockBody(x,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=f,u.body.push(this.finishNode(a,"StaticBlock")),(d=a.decorators)!=null&&d.length&&this.raise(T.DecoratorStaticBlock,{at:a})}pushClassProperty(u,a){!a.computed&&(a.key.name==="constructor"||a.key.value==="constructor")&&this.raise(T.ConstructorClassField,{at:a.key}),u.body.push(this.parseClassProperty(a))}pushClassPrivateProperty(u,a){let d=this.parseClassPrivateProperty(a);u.body.push(d),this.classScope.declarePrivateName(this.getPrivateNameSV(d.key),np,d.key.loc.start)}pushClassAccessorProperty(u,a,d){if(!d&&!a.computed){let x=a.key;(x.name==="constructor"||x.value==="constructor")&&this.raise(T.ConstructorClassField,{at:x})}let f=this.parseClassAccessorProperty(a);u.body.push(f),d&&this.classScope.declarePrivateName(this.getPrivateNameSV(f.key),np,f.key.loc.start)}pushClassMethod(u,a,d,f,x,_){u.body.push(this.parseMethod(a,d,f,x,_,"ClassMethod",!0))}pushClassPrivateMethod(u,a,d,f){let x=this.parseMethod(a,d,f,!1,!1,"ClassPrivateMethod",!0);u.body.push(x);let _=x.kind==="get"?x.static?EC:CC:x.kind==="set"?x.static?xC:OC:np;this.declareClassPrivateMethodInScope(x,_)}declareClassPrivateMethodInScope(u,a){this.classScope.declarePrivateName(this.getPrivateNameSV(u.key),a,u.key.loc.start)}parsePostMemberNameModifiers(u){}parseClassPrivateProperty(u){return this.parseInitializer(u),this.semicolon(),this.finishNode(u,"ClassPrivateProperty")}parseClassProperty(u){return this.parseInitializer(u),this.semicolon(),this.finishNode(u,"ClassProperty")}parseClassAccessorProperty(u){return this.parseInitializer(u),this.semicolon(),this.finishNode(u,"ClassAccessorProperty")}parseInitializer(u){this.scope.enter(Yo|Wl),this.expressionScope.enter(Sy()),this.prodParam.enter(Hi),u.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(u,a,d,f=ay){if(le(this.state.type))u.id=this.parseIdentifier(),a&&this.declareNameFromIdentifier(u.id,f);else if(d||!a)u.id=null;else throw this.raise(T.MissingClassName,{at:this.state.startLoc})}parseClassSuper(u){u.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(u,a){let d=this.parseMaybeImportPhase(u,!0),f=this.maybeParseExportDefaultSpecifier(u,d),x=!f||this.eat(12),_=x&&this.eatExportStar(u),B=_&&this.maybeParseExportNamespaceSpecifier(u),H=x&&(!B||this.eat(12)),G=f||_;if(_&&!B){if(f&&this.unexpected(),a)throw this.raise(T.UnsupportedDecoratorExport,{at:u});return this.parseExportFrom(u,!0),this.finishNode(u,"ExportAllDeclaration")}let Y=this.maybeParseExportNamedSpecifiers(u);f&&x&&!_&&!Y&&this.unexpected(null,5),B&&H&&this.unexpected(null,97);let ke;if(G||Y){if(ke=!1,a)throw this.raise(T.UnsupportedDecoratorExport,{at:u});this.parseExportFrom(u,G)}else ke=this.maybeParseExportDeclaration(u);if(G||Y||ke){var Pe;let Me=u;if(this.checkExport(Me,!0,!1,!!Me.source),((Pe=Me.declaration)==null?void 0:Pe.type)==="ClassDeclaration")this.maybeTakeDecorators(a,Me.declaration,Me);else if(a)throw this.raise(T.UnsupportedDecoratorExport,{at:u});return this.finishNode(Me,"ExportNamedDeclaration")}if(this.eat(65)){let Me=u,Ue=this.parseExportDefaultExpression();if(Me.declaration=Ue,Ue.type==="ClassDeclaration")this.maybeTakeDecorators(a,Ue,Me);else if(a)throw this.raise(T.UnsupportedDecoratorExport,{at:u});return this.checkExport(Me,!0,!0),this.finishNode(Me,"ExportDefaultDeclaration")}this.unexpected(null,5)}eatExportStar(u){return this.eat(55)}maybeParseExportDefaultSpecifier(u,a){if(a||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",a==null?void 0:a.loc.start);let d=a||this.parseIdentifier(!0),f=this.startNodeAtNode(d);return f.exported=d,u.specifiers=[this.finishNode(f,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(u){if(this.isContextual(93)){u.specifiers||(u.specifiers=[]);let a=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),a.exported=this.parseModuleExportName(),u.specifiers.push(this.finishNode(a,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(u){if(this.match(5)){u.specifiers||(u.specifiers=[]);let a=u.exportKind==="type";return u.specifiers.push(...this.parseExportSpecifiers(a)),u.source=null,u.declaration=null,this.hasPlugin("importAssertions")&&(u.assertions=[]),!0}return!1}maybeParseExportDeclaration(u){return this.shouldParseExportDeclaration()?(u.specifiers=[],u.source=null,this.hasPlugin("importAssertions")&&(u.assertions=[]),u.declaration=this.parseExportDeclaration(u),!0):!1}isAsyncFunction(){if(!this.isContextual(95))return!1;let u=this.nextTokenInLineStart();return this.isUnparsedContextual(u,"function")}parseExportDefaultExpression(){let u=this.startNode();if(this.match(68))return this.next(),this.parseFunction(u,5);if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(u,13);if(this.match(80))return this.parseClass(u,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(T.DecoratorBeforeExport,{at:this.state.startLoc}),this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0);if(this.match(75)||this.match(74)||this.isLet())throw this.raise(T.UnsupportedDefaultExport,{at:this.state.startLoc});let a=this.parseMaybeAssignAllowIn();return this.semicolon(),a}parseExportDeclaration(u){return this.match(80)?this.parseClass(this.startNode(),!0,!1):this.parseStatementListItem()}isExportDefaultSpecifier(){let{type:u}=this.state;if(le(u)){if(u===95&&!this.state.containsEsc||u===99)return!1;if((u===128||u===127)&&!this.state.containsEsc){let{type:f}=this.lookahead();if(le(f)&&f!==97||f===5)return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;let a=this.nextTokenStart(),d=this.isUnparsedContextual(a,"from");if(this.input.charCodeAt(a)===44||le(this.state.type)&&d)return!0;if(this.match(65)&&d){let f=this.input.charCodeAt(this.nextTokenStartSince(a+4));return f===34||f===39}return!1}parseExportFrom(u,a){this.eatContextual(97)?(u.source=this.parseImportSource(),this.checkExport(u),this.maybeParseImportAttributes(u),this.checkJSONModuleImport(u)):a&&this.unexpected(),this.semicolon()}shouldParseExportDeclaration(){let{type:u}=this.state;return u===26&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))?(this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(T.DecoratorBeforeExport,{at:this.state.startLoc}),!0):u===74||u===75||u===68||u===80||this.isLet()||this.isAsyncFunction()}checkExport(u,a,d,f){if(a){if(d){if(this.checkDuplicateExports(u,"default"),this.hasPlugin("exportDefaultFrom")){var x;let _=u.declaration;_.type==="Identifier"&&_.name==="from"&&_.end-_.start===4&&!((x=_.extra)!=null&&x.parenthesized)&&this.raise(T.ExportDefaultFromAsIdentifier,{at:_})}}else if(u.specifiers&&u.specifiers.length)for(let _ of u.specifiers){let{exported:B}=_,H=B.type==="Identifier"?B.name:B.value;if(this.checkDuplicateExports(_,H),!f&&_.local){let{local:G}=_;G.type!=="Identifier"?this.raise(T.ExportBindingIsString,{at:_,localName:G.value,exportName:H}):(this.checkReservedWord(G.name,G.loc.start,!0,!1),this.scope.checkLocalExport(G))}}else if(u.declaration){if(u.declaration.type==="FunctionDeclaration"||u.declaration.type==="ClassDeclaration"){let _=u.declaration.id;if(!_)throw new Error("Assertion failure");this.checkDuplicateExports(u,_.name)}else if(u.declaration.type==="VariableDeclaration")for(let _ of u.declaration.declarations)this.checkDeclaration(_.id)}}}checkDeclaration(u){if(u.type==="Identifier")this.checkDuplicateExports(u,u.name);else if(u.type==="ObjectPattern")for(let a of u.properties)this.checkDeclaration(a);else if(u.type==="ArrayPattern")for(let a of u.elements)a&&this.checkDeclaration(a);else u.type==="ObjectProperty"?this.checkDeclaration(u.value):u.type==="RestElement"?this.checkDeclaration(u.argument):u.type==="AssignmentPattern"&&this.checkDeclaration(u.left)}checkDuplicateExports(u,a){this.exportedIdentifiers.has(a)&&(a==="default"?this.raise(T.DuplicateDefaultExport,{at:u}):this.raise(T.DuplicateExport,{at:u,exportName:a})),this.exportedIdentifiers.add(a)}parseExportSpecifiers(u){let a=[],d=!0;for(this.expect(5);!this.eat(8);){if(d)d=!1;else if(this.expect(12),this.eat(8))break;let f=this.isContextual(128),x=this.match(131),_=this.startNode();_.local=this.parseModuleExportName(),a.push(this.parseExportSpecifier(_,x,u,f))}return a}parseExportSpecifier(u,a,d,f){return this.eatContextual(93)?u.exported=this.parseModuleExportName():a?u.exported=JC(u.local):u.exported||(u.exported=Kn(u.local)),this.finishNode(u,"ExportSpecifier")}parseModuleExportName(){if(this.match(131)){let u=this.parseStringLiteral(this.state.value),a=u.value.match(CO);return a&&this.raise(T.ModuleExportNameHasLoneSurrogate,{at:u,surrogateCharCode:a[0].charCodeAt(0)}),u}return this.parseIdentifier(!0)}isJSONModuleImport(u){return u.assertions!=null?u.assertions.some(({key:a,value:d})=>d.value==="json"&&(a.type==="Identifier"?a.name==="type":a.value==="type")):!1}checkImportReflection(u){if(u.module){var a;(u.specifiers.length!==1||u.specifiers[0].type!=="ImportDefaultSpecifier")&&this.raise(T.ImportReflectionNotBinding,{at:u.specifiers[0].loc.start}),((a=u.assertions)==null?void 0:a.length)>0&&this.raise(T.ImportReflectionHasAssertion,{at:u.specifiers[0].loc.start})}}checkJSONModuleImport(u){if(this.isJSONModuleImport(u)&&u.type!=="ExportAllDeclaration"){let{specifiers:a}=u;if(a!=null){let d=a.find(f=>{let x;if(f.type==="ExportSpecifier"?x=f.local:f.type==="ImportSpecifier"&&(x=f.imported),x!==void 0)return x.type==="Identifier"?x.name!=="default":x.value!=="default"});d!==void 0&&this.raise(T.ImportJSONBindingNotDefault,{at:d.loc.start})}}}isPotentialImportPhase(u){return!u&&this.isContextual(125)}applyImportPhase(u,a,d,f){a||(d==="module"?(this.expectPlugin("importReflection",f),u.module=!0):this.hasPlugin("importReflection")&&(u.module=!1))}parseMaybeImportPhase(u,a){if(!this.isPotentialImportPhase(a))return this.applyImportPhase(u,a,null),null;let d=this.parseIdentifier(!0),{type:f}=this.state;return(et(f)?f!==97||this.lookaheadCharCode()===102:f!==12)?(this.resetPreviousIdentifierLeadingComments(d),this.applyImportPhase(u,a,d.name,d.loc.start),null):(this.applyImportPhase(u,a,null),d)}isPrecedingIdImportPhase(u){let{type:a}=this.state;return le(a)?a!==97||this.lookaheadCharCode()===102:a!==12}parseImport(u){return this.match(131)?this.parseImportSourceAndAttributes(u):this.parseImportSpecifiersAndAfter(u,this.parseMaybeImportPhase(u,!1))}parseImportSpecifiersAndAfter(u,a){u.specifiers=[];let d=!this.maybeParseDefaultImportSpecifier(u,a)||this.eat(12),f=d&&this.maybeParseStarImportSpecifier(u);return d&&!f&&this.parseNamedImportSpecifiers(u),this.expectContextual(97),this.parseImportSourceAndAttributes(u)}parseImportSourceAndAttributes(u){return u.specifiers!=null||(u.specifiers=[]),u.source=this.parseImportSource(),this.maybeParseImportAttributes(u),this.checkImportReflection(u),this.checkJSONModuleImport(u),this.semicolon(),this.finishNode(u,"ImportDeclaration")}parseImportSource(){return this.match(131)||this.unexpected(),this.parseExprAtom()}parseImportSpecifierLocal(u,a,d){a.local=this.parseIdentifier(),u.specifiers.push(this.finishImportSpecifier(a,d))}finishImportSpecifier(u,a,d=zi){return this.checkLVal(u.local,{in:{type:a},binding:d}),this.finishNode(u,a)}parseImportAttributes(){this.expect(5);let u=[],a=new Set;do{if(this.match(8))break;let d=this.startNode(),f=this.state.value;if(a.has(f)&&this.raise(T.ModuleAttributesWithDuplicateKeys,{at:this.state.startLoc,key:f}),a.add(f),this.match(131)?d.key=this.parseStringLiteral(f):d.key=this.parseIdentifier(!0),this.expect(14),!this.match(131))throw this.raise(T.ModuleAttributeInvalidValue,{at:this.state.startLoc});d.value=this.parseStringLiteral(this.state.value),u.push(this.finishNode(d,"ImportAttribute"))}while(this.eat(12));return this.expect(8),u}parseModuleAttributes(){let u=[],a=new Set;do{let d=this.startNode();if(d.key=this.parseIdentifier(!0),d.key.name!=="type"&&this.raise(T.ModuleAttributeDifferentFromType,{at:d.key}),a.has(d.key.name)&&this.raise(T.ModuleAttributesWithDuplicateKeys,{at:d.key,key:d.key.name}),a.add(d.key.name),this.expect(14),!this.match(131))throw this.raise(T.ModuleAttributeInvalidValue,{at:this.state.startLoc});d.value=this.parseStringLiteral(this.state.value),u.push(this.finishNode(d,"ImportAttribute"))}while(this.eat(12));return u}maybeParseImportAttributes(u){let a,d=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&this.lookaheadCharCode()===40)return;this.next(),this.hasPlugin("moduleAttributes")?a=this.parseModuleAttributes():(this.expectImportAttributesPlugin(),a=this.parseImportAttributes()),d=!0}else if(this.isContextual(94)&&!this.hasPrecedingLineBreak())this.hasPlugin("importAttributes")?(this.getPluginOption("importAttributes","deprecatedAssertSyntax")!==!0&&this.raise(T.ImportAttributesUseAssert,{at:this.state.startLoc}),this.addExtra(u,"deprecatedAssertSyntax",!0)):this.expectOnePlugin(["importAttributes","importAssertions"]),this.next(),a=this.parseImportAttributes();else if(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))a=[];else if(this.hasPlugin("moduleAttributes"))a=[];else return;!d&&this.hasPlugin("importAssertions")?u.assertions=a:u.attributes=a}maybeParseDefaultImportSpecifier(u,a){if(a){let d=this.startNodeAtNode(a);return d.local=a,u.specifiers.push(this.finishImportSpecifier(d,"ImportDefaultSpecifier")),!0}else if(et(this.state.type))return this.parseImportSpecifierLocal(u,this.startNode(),"ImportDefaultSpecifier"),!0;return!1}maybeParseStarImportSpecifier(u){if(this.match(55)){let a=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(u,a,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(u){let a=!0;for(this.expect(5);!this.eat(8);){if(a)a=!1;else{if(this.eat(14))throw this.raise(T.DestructureNamedImport,{at:this.state.startLoc});if(this.expect(12),this.eat(8))break}let d=this.startNode(),f=this.match(131),x=this.isContextual(128);d.imported=this.parseModuleExportName();let _=this.parseImportSpecifier(d,f,u.importKind==="type"||u.importKind==="typeof",x,void 0);u.specifiers.push(_)}}parseImportSpecifier(u,a,d,f,x){if(this.eatContextual(93))u.local=this.parseIdentifier();else{let{imported:_}=u;if(a)throw this.raise(T.ImportBindingIsString,{at:u,importName:_.value});this.checkReservedWord(_.name,u.loc.start,!0,!0),u.local||(u.local=Kn(_))}return this.finishImportSpecifier(u,"ImportSpecifier",x)}isThisParam(u){return u.type==="Identifier"&&u.name==="this"}},Fy=class extends DO{constructor(u,a){u=kO(u),super(u,a),this.options=u,this.initializeScopes(),this.plugins=AO(this.options.plugins),this.filename=u.sourceFilename}getScopeHandler(){return ip}parse(){this.enterInitialScopes();let u=this.startNode(),a=this.startNode();return this.nextToken(),u.errors=null,this.parseTopLevel(u,a),u.errors=this.state.errors,u}};function AO(u){let a=new Map;for(let d of u){let[f,x]=Array.isArray(d)?d:[d,{}];a.has(f)||a.set(f,x||{})}return a}function $O(u,a){var d;if(((d=a)==null?void 0:d.sourceType)==="unambiguous"){a=Object.assign({},a);try{a.sourceType="module";let f=sa(a,u),x=f.parse();if(f.sawUnambiguousESM)return x;if(f.ambiguousScriptDifferentAst)try{return a.sourceType="script",sa(a,u).parse()}catch{}else x.program.sourceType="script";return x}catch(f){try{return a.sourceType="script",sa(a,u).parse()}catch{}throw f}}else return sa(a,u).parse()}function NO(u,a){let d=sa(a,u);return d.options.strictMode&&(d.state.strict=!0),d.getExpression()}function _O(u){let a={};for(let d of Object.keys(u))a[d]=Gn(u[d]);return a}var PO=_O(he);function sa(u,a){let d=Fy;return u!=null&&u.plugins&&(TO(u.plugins),d=IO(u.plugins)),new d(u,a)}var By={};function IO(u){let a=SO.filter(x=>Vt(u,x)),d=a.join("/"),f=By[d];if(!f){f=Fy;for(let x of a)f=My[x](f);By[d]=f}return f}e.parse=$O,e.parseExpression=NO,e.tokTypes=PO}),f3=i1(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.extract=h,e.parse=g,e.parseWithComments=w,e.print=S,e.strip=p;var t=/\*\/$/,s=/^\/\*\*?/,n=/^\s*(\/\*\*?(.|\r?\n)*?\*\/)/,o=/(^|\s+)\/\/([^\r\n]*)/g,i=/^(\r?\n)+/,r=/(?:^|\r?\n) *(@[^\r\n]*?) *\r?\n *(?![^@\r\n]*\/\/[^]*)([^@\r\n\s][^@\r\n]+?) *\r?\n/g,l=/(?:^|\r?\n) *@(\S+) *([^\r\n]*)/g,m=/(\r?\n|^) *\* ?/g,c=[];function h(O){let C=O.match(n);return C?C[0].trimLeft():""}function p(O){let C=O.match(n);return C&&C[0]?O.substring(C[0].length):O}function g(O){return w(O).pragmas}function w(O){let C=`
`;O=O.replace(s,"").replace(t,"").replace(m,"$1");let A="";for(;A!==O;)A=O,O=O.replace(r,`${C}$1 $2${C}`);O=O.replace(i,"").trimRight();let T=Object.create(null),F=O.replace(l,"").replace(i,"").trimRight(),L;for(;L=l.exec(O);){let I=L[2].replace(o,"");typeof T[L[1]]=="string"||Array.isArray(T[L[1]])?T[L[1]]=c.concat(T[L[1]],I):T[L[1]]=I}return{comments:F,pragmas:T}}function S({comments:O="",pragmas:C={}}){let A=`
`,T="/**",F=" *",L=" */",I=Object.keys(C),j=I.map(Q=>k(Q,C[Q])).reduce((Q,X)=>Q.concat(X),[]).map(Q=>`${F} ${Q}${A}`).join("");if(!O){if(I.length===0)return"";if(I.length===1&&!Array.isArray(C[I[0]])){let Q=C[I[0]];return`${T} ${k(I[0],Q)[0]}${L}`}}let q=O.split(A).map(Q=>`${F} ${Q}`).join(A)+A;return T+A+(O?q:"")+(O&&I.length?F+A:"")+j+L}function k(O,C){return c.concat(C).map(A=>`@${O} ${A}`.trim())}}),l1={};h3(l1,{parsers:()=>hW});var ib=Cf(r1(),1);function g3(e){let t=[];for(let s of e)try{return s()}catch(n){t.push(n)}throw Object.assign(new Error("All combinations failed"),{errors:t})}var y3=g3;function w3(e){if(!e.startsWith("#!"))return"";let t=e.indexOf(`
`);return t===-1?e:e.slice(0,t)}var u1=w3;function b3(e,t){if(t===!1)return!1;if(e.charAt(t)==="/"&&e.charAt(t+1)==="*"){for(let s=t+2;s<e.length;++s)if(e.charAt(s)==="*"&&e.charAt(s+1)==="/")return s+2}return t}var v3=b3;function T3(e,t,s){let n=!!(s!=null&&s.backwards);if(t===!1)return!1;let o=e.charAt(t);if(n){if(e.charAt(t-1)==="\r"&&o===`
`)return t-2;if(o===`
`||o==="\r"||o==="\u2028"||o==="\u2029")return t-1}else{if(o==="\r"&&e.charAt(t+1)===`
`)return t+2;if(o===`
`||o==="\r"||o==="\u2028"||o==="\u2029")return t+1}return t}var S3=T3;function c1(e){return(t,s,n)=>{let o=!!(n!=null&&n.backwards);if(s===!1)return!1;let{length:i}=t,r=s;for(;r>=0&&r<i;){let l=t.charAt(r);if(e instanceof RegExp){if(!e.test(l))return r}else if(!e.includes(l))return r;o?r--:r++}return r===-1||r===i?r:!1}}var k3=c1(" 	"),E3=c1(/[^\n\r]/);function x3(e,t){return t===!1?!1:e.charAt(t)==="/"&&e.charAt(t+1)==="/"?E3(e,t):t}var C3=x3;function O3(e,t){let s=null,n=t;for(;n!==s;)s=n,n=k3(e,n),n=v3(e,n),n=C3(e,n),n=S3(e,n);return n}var D3=O3,rb=Cf(f3(),1);function A3(e){let t=u1(e);t&&(e=e.slice(t.length+1));let s=(0,rb.extract)(e),{pragmas:n,comments:o}=(0,rb.parseWithComments)(s);return{shebang:t,text:e,pragmas:n,comments:o}}function $3(e){let{pragmas:t}=A3(e);return Object.prototype.hasOwnProperty.call(t,"prettier")||Object.prototype.hasOwnProperty.call(t,"format")}function N3(e){return Array.isArray(e)&&e.length>0}var qa=N3;function dn(e){var t;let s=e.range?e.range[0]:e.start,n=((t=e.declaration)==null?void 0:t.decorators)??e.decorators;return qa(n)?Math.min(dn(n[0]),s):s}function $o(e){return e.range?e.range[1]:e.end}function _3(e){return e=typeof e=="function"?{parse:e}:e,{astFormat:"estree",hasPragma:$3,locStart:dn,locEnd:$o,...e}}var Uu=_3;function P3(e,t){let s=new SyntaxError(e+" ("+t.loc.start.line+":"+t.loc.start.column+")");return Object.assign(s,t)}var Of=P3;function I3(e){let{message:t,loc:s}=e;return Of(t.replace(/ \(.*\)$/,""),{loc:{start:{line:s?s.line:0,column:s?s.column+1:0}},cause:e})}var Jh=I3,M3=(e,t,s)=>{if(!(e&&t==null))return Array.isArray(t)||typeof t=="string"?t[s<0?t.length+s:s]:t.at(s)},ab=M3;function L3(e){return e=new Set(e),t=>e.has(t==null?void 0:t.type)}var F3=L3,B3=F3(["Block","CommentBlock","MultiLine"]),Zh=B3;function R3(e){return Zh(e)&&e.value[0]==="*"&&/@(?:type|satisfies)\b/.test(e.value)}var V3=R3;function U3(e){let t=`*${e.value}*`.split(`
`);return t.length>1&&t.every(s=>s.trimStart()[0]==="*")}var lb=U3,ia=null;function Oa(e){if(ia!==null&&typeof ia.property){let t=ia;return ia=Oa.prototype=null,t}return ia=Oa.prototype=e??Object.create(null),new Oa}var W3=10;for(let e=0;e<=W3;e++)Oa();function j3(e){return Oa(e)}function q3(e,t="type"){j3(e);function s(n){let o=n[t],i=e[o];if(!Array.isArray(i))throw Object.assign(new Error(`Missing visitor keys for '${o}'.`),{node:n});return i}return s}var z3=q3,H3={ArrayExpression:["elements"],AssignmentExpression:["left","right"],BinaryExpression:["left","right"],InterpreterDirective:[],Directive:["value"],DirectiveLiteral:[],BlockStatement:["directives","body"],BreakStatement:["label"],CallExpression:["callee","arguments","typeParameters","typeArguments"],CatchClause:["param","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DoWhileStatement:["test","body"],EmptyStatement:[],ExpressionStatement:["expression"],File:["program"],ForInStatement:["left","right","body"],ForStatement:["init","test","update","body"],FunctionDeclaration:["id","params","body","returnType","typeParameters","predicate"],FunctionExpression:["id","params","body","returnType","typeParameters"],Identifier:["typeAnnotation","decorators"],IfStatement:["test","consequent","alternate"],LabeledStatement:["label","body"],StringLiteral:[],NumericLiteral:[],NullLiteral:[],BooleanLiteral:[],RegExpLiteral:[],LogicalExpression:["left","right"],MemberExpression:["object","property"],NewExpression:["callee","arguments","typeParameters","typeArguments"],Program:["directives","body"],ObjectExpression:["properties"],ObjectMethod:["key","params","body","decorators","returnType","typeParameters"],ObjectProperty:["key","value","decorators"],RestElement:["argument","typeAnnotation","decorators"],ReturnStatement:["argument"],SequenceExpression:["expressions"],ParenthesizedExpression:["expression"],SwitchCase:["test","consequent"],SwitchStatement:["discriminant","cases"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],AssignmentPattern:["left","right","decorators","typeAnnotation"],ArrayPattern:["elements","typeAnnotation","decorators"],ArrowFunctionExpression:["params","body","returnType","typeParameters","predicate"],ClassBody:["body"],ClassExpression:["id","body","superClass","mixins","typeParameters","superTypeParameters","implements","decorators"],ClassDeclaration:["id","body","superClass","mixins","typeParameters","superTypeParameters","implements","decorators"],ExportAllDeclaration:["source","attributes","assertions","exported"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source","attributes","assertions"],ExportSpecifier:["local","exported"],ForOfStatement:["left","right","body"],ImportDeclaration:["specifiers","source","attributes","assertions"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["local","imported"],MetaProperty:["meta","property"],ClassMethod:["key","params","body","decorators","returnType","typeParameters"],ObjectPattern:["properties","typeAnnotation","decorators"],SpreadElement:["argument"],Super:[],TaggedTemplateExpression:["tag","quasi","typeParameters"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],YieldExpression:["argument"],AwaitExpression:["argument"],Import:[],BigIntLiteral:[],ExportNamespaceSpecifier:["exported"],OptionalMemberExpression:["object","property"],OptionalCallExpression:["callee","arguments","typeParameters","typeArguments"],ClassProperty:["key","value","typeAnnotation","decorators","variance"],ClassAccessorProperty:["key","value","typeAnnotation","decorators"],ClassPrivateProperty:["key","value","decorators","typeAnnotation","variance"],ClassPrivateMethod:["key","params","body","decorators","returnType","typeParameters"],PrivateName:["id"],StaticBlock:["body"],AnyTypeAnnotation:[],ArrayTypeAnnotation:["elementType"],BooleanTypeAnnotation:[],BooleanLiteralTypeAnnotation:[],NullLiteralTypeAnnotation:[],ClassImplements:["id","typeParameters"],DeclareClass:["id","typeParameters","extends","mixins","implements","body"],DeclareFunction:["id","predicate"],DeclareInterface:["id","typeParameters","extends","body"],DeclareModule:["id","body"],DeclareModuleExports:["typeAnnotation"],DeclareTypeAlias:["id","typeParameters","right"],DeclareOpaqueType:["id","typeParameters","supertype"],DeclareVariable:["id"],DeclareExportDeclaration:["declaration","specifiers","source"],DeclareExportAllDeclaration:["source"],DeclaredPredicate:["value"],ExistsTypeAnnotation:[],FunctionTypeAnnotation:["typeParameters","params","rest","returnType","this"],FunctionTypeParam:["name","typeAnnotation"],GenericTypeAnnotation:["id","typeParameters"],InferredPredicate:[],InterfaceExtends:["id","typeParameters"],InterfaceDeclaration:["id","typeParameters","extends","body"],InterfaceTypeAnnotation:["extends","body"],IntersectionTypeAnnotation:["types"],MixedTypeAnnotation:[],EmptyTypeAnnotation:[],NullableTypeAnnotation:["typeAnnotation"],NumberLiteralTypeAnnotation:[],NumberTypeAnnotation:[],ObjectTypeAnnotation:["properties","indexers","callProperties","internalSlots"],ObjectTypeInternalSlot:["id","value","optional","static","method"],ObjectTypeCallProperty:["value"],ObjectTypeIndexer:["id","key","value","variance"],ObjectTypeProperty:["key","value","variance"],ObjectTypeSpreadProperty:["argument"],OpaqueType:["id","typeParameters","supertype","impltype"],QualifiedTypeIdentifier:["id","qualification"],StringLiteralTypeAnnotation:[],StringTypeAnnotation:[],SymbolTypeAnnotation:[],ThisTypeAnnotation:[],TupleTypeAnnotation:["types","elementTypes"],TypeofTypeAnnotation:["argument"],TypeAlias:["id","typeParameters","right"],TypeAnnotation:["typeAnnotation"],TypeCastExpression:["expression","typeAnnotation"],TypeParameter:["bound","default","variance"],TypeParameterDeclaration:["params"],TypeParameterInstantiation:["params"],UnionTypeAnnotation:["types"],Variance:[],VoidTypeAnnotation:[],EnumDeclaration:["id","body"],EnumBooleanBody:["members"],EnumNumberBody:["members"],EnumStringBody:["members"],EnumSymbolBody:["members"],EnumBooleanMember:["id","init"],EnumNumberMember:["id","init"],EnumStringMember:["id","init"],EnumDefaultedMember:["id"],IndexedAccessType:["objectType","indexType"],OptionalIndexedAccessType:["objectType","indexType"],JSXAttribute:["name","value"],JSXClosingElement:["name"],JSXElement:["openingElement","children","closingElement"],JSXEmptyExpression:[],JSXExpressionContainer:["expression"],JSXSpreadChild:["expression"],JSXIdentifier:[],JSXMemberExpression:["object","property"],JSXNamespacedName:["namespace","name"],JSXOpeningElement:["name","attributes","typeParameters"],JSXSpreadAttribute:["argument"],JSXText:[],JSXFragment:["openingFragment","children","closingFragment"],JSXOpeningFragment:[],JSXClosingFragment:[],Noop:[],Placeholder:[],V8IntrinsicIdentifier:[],ArgumentPlaceholder:[],BindExpression:["object","callee"],ImportAttribute:["key","value"],Decorator:["expression"],DoExpression:["body"],ExportDefaultSpecifier:["exported"],RecordExpression:["properties"],TupleExpression:["elements"],DecimalLiteral:[],ModuleExpression:["body"],TopicReference:[],PipelineTopicExpression:["expression"],PipelineBareFunction:["callee"],PipelinePrimaryTopicReference:[],TSParameterProperty:["parameter","decorators"],TSDeclareFunction:["id","typeParameters","params","returnType","body"],TSDeclareMethod:["decorators","key","typeParameters","params","returnType"],TSQualifiedName:["left","right"],TSCallSignatureDeclaration:["typeParameters","parameters","typeAnnotation","params","returnType"],TSConstructSignatureDeclaration:["typeParameters","parameters","typeAnnotation","params","returnType"],TSPropertySignature:["key","typeAnnotation"],TSMethodSignature:["key","typeParameters","parameters","typeAnnotation","params","returnType"],TSIndexSignature:["parameters","typeAnnotation"],TSAnyKeyword:[],TSBooleanKeyword:[],TSBigIntKeyword:[],TSIntrinsicKeyword:[],TSNeverKeyword:[],TSNullKeyword:[],TSNumberKeyword:[],TSObjectKeyword:[],TSStringKeyword:[],TSSymbolKeyword:[],TSUndefinedKeyword:[],TSUnknownKeyword:[],TSVoidKeyword:[],TSThisType:[],TSFunctionType:["typeParameters","parameters","typeAnnotation","params","returnType"],TSConstructorType:["typeParameters","parameters","typeAnnotation","params","returnType"],TSTypeReference:["typeName","typeParameters"],TSTypePredicate:["parameterName","typeAnnotation"],TSTypeQuery:["exprName","typeParameters"],TSTypeLiteral:["members"],TSArrayType:["elementType"],TSTupleType:["elementTypes"],TSOptionalType:["typeAnnotation"],TSRestType:["typeAnnotation"],TSNamedTupleMember:["label","elementType"],TSUnionType:["types"],TSIntersectionType:["types"],TSConditionalType:["checkType","extendsType","trueType","falseType"],TSInferType:["typeParameter"],TSParenthesizedType:["typeAnnotation"],TSTypeOperator:["typeAnnotation"],TSIndexedAccessType:["objectType","indexType"],TSMappedType:["typeParameter","typeAnnotation","nameType"],TSLiteralType:["literal"],TSExpressionWithTypeArguments:["expression","typeParameters"],TSInterfaceDeclaration:["id","typeParameters","extends","body"],TSInterfaceBody:["body"],TSTypeAliasDeclaration:["id","typeParameters","typeAnnotation"],TSInstantiationExpression:["expression","typeParameters"],TSAsExpression:["expression","typeAnnotation"],TSSatisfiesExpression:["expression","typeAnnotation"],TSTypeAssertion:["typeAnnotation","expression"],TSEnumDeclaration:["id","members"],TSEnumMember:["id","initializer"],TSModuleDeclaration:["id","body"],TSModuleBlock:["body"],TSImportType:["argument","qualifier","typeParameters","parameter"],TSImportEqualsDeclaration:["id","moduleReference"],TSExternalModuleReference:["expression"],TSNonNullExpression:["expression"],TSExportAssignment:["expression"],TSNamespaceExportDeclaration:["id"],TSTypeAnnotation:["typeAnnotation"],TSTypeParameterInstantiation:["params"],TSTypeParameterDeclaration:["params"],TSTypeParameter:["constraint","default","name"],ChainExpression:["expression"],ExperimentalRestProperty:["argument"],ExperimentalSpreadProperty:["argument"],ImportExpression:["source","attributes"],Literal:[],MethodDefinition:["decorators","key","value"],PrivateIdentifier:[],Property:["key","value"],PropertyDefinition:["decorators","key","typeAnnotation","value","variance"],AccessorProperty:["decorators","key","typeAnnotation","value"],TSAbstractAccessorProperty:["decorators","key","typeAnnotation"],TSAbstractKeyword:[],TSAbstractMethodDefinition:["key","value"],TSAbstractPropertyDefinition:["decorators","key","typeAnnotation"],TSAsyncKeyword:[],TSClassImplements:["expression","typeParameters"],TSDeclareKeyword:[],TSEmptyBodyFunctionExpression:["id","typeParameters","params","returnType"],TSExportKeyword:[],TSInterfaceHeritage:["expression","typeParameters"],TSPrivateKeyword:[],TSProtectedKeyword:[],TSPublicKeyword:[],TSReadonlyKeyword:[],TSStaticKeyword:[],TSTemplateLiteralType:["quasis","types"],BigIntLiteralTypeAnnotation:[],BigIntTypeAnnotation:[],ConditionalTypeAnnotation:["checkType","extendsType","trueType","falseType"],DeclareEnum:["id","body"],InferTypeAnnotation:["typeParameter"],KeyofTypeAnnotation:["argument"],ObjectTypeMappedTypeProperty:["keyTparam","propType","sourceType","variance"],QualifiedTypeofIdentifier:["qualification","id"],TupleTypeLabeledElement:["label","elementType","variance"],TupleTypeSpreadElement:["label","typeAnnotation"],TypePredicate:["parameterName","typeAnnotation","asserts"],NGRoot:["node"],NGPipeExpression:["left","right","arguments"],NGChainedExpression:["expressions"],NGEmptyExpression:[],NGMicrosyntax:["body"],NGMicrosyntaxKey:[],NGMicrosyntaxExpression:["expression","alias"],NGMicrosyntaxKeyedExpression:["key","expression"],NGMicrosyntaxLet:["key","value"],NGMicrosyntaxAs:["key","alias"],JsExpressionRoot:["node"],JsonRoot:["node"],TSJSDocAllType:[],TSJSDocUnknownType:[],TSJSDocNullableType:["typeAnnotation"],TSJSDocNonNullableType:["typeAnnotation"],NeverTypeAnnotation:[],UndefinedTypeAnnotation:[],UnknownTypeAnnotation:[]},Q3=z3(H3),G3=Q3;function em(e,t){if(!(e!==null&&typeof e=="object"))return e;if(Array.isArray(e)){for(let n=0;n<e.length;n++)e[n]=em(e[n],t);return e}let s=G3(e);for(let n=0;n<s.length;n++)e[s[n]]=em(e[s[n]],t);return t(e)||e}var jp=em;function Y3(e,t){let{start:s,end:n}=e.loc;throw Of(t,{loc:{start:{line:s.line,column:s.column+1},end:{line:n.line,column:n.column+1}}})}var qp=Y3;function X3(e,t){let{parser:s,text:n}=t;if(e.type==="File"&&e.program.interpreter){let{program:{interpreter:i},comments:r}=e;delete e.program.interpreter,r.unshift(i)}if(s==="babel"){let i=new Set;e=jp(e,r=>{var l;(l=r.leadingComments)!=null&&l.some(V3)&&i.add(dn(r))}),e=jp(e,r=>{if(r.type==="ParenthesizedExpression"){let{expression:l}=r;if(l.type==="TypeCastExpression")return l.range=r.range,l;let m=dn(r);if(!i.has(m))return l.extra={...l.extra,parenthesized:!0},l}})}if(e=jp(e,i=>{switch(i.type){case"LogicalExpression":if(d1(i))return tm(i);break;case"VariableDeclaration":{let r=ab(!1,i.declarations,-1);r!=null&&r.init&&o(i,r);break}case"TSParenthesizedType":return i.typeAnnotation;case"TSTypeParameter":if(typeof i.name=="string"){let r=dn(i);i.name={type:"Identifier",name:i.name,range:[r,r+i.name.length]}}break;case"ObjectExpression":if(s==="typescript"){let r=i.properties.find(l=>l.type==="Property"&&l.value.type==="TSEmptyBodyFunctionExpression");r&&qp(r.value,"Unexpected token.")}break;case"TSInterfaceDeclaration":qa(i.implements)&&qp(i.implements[0],"Interface declaration cannot have 'implements' clause.");break;case"TSPropertySignature":i.initializer&&qp(i.initializer,"An interface property cannot have an initializer.");break;case"TopicReference":e.extra={...e.extra,__isUsingHackPipeline:!0};break;case"ExportAllDeclaration":{let{exported:r}=i;if(s==="meriyah"&&(r==null?void 0:r.type)==="Identifier"){let l=n.slice(dn(r),$o(r));(l.startsWith('"')||l.startsWith("'"))&&(i.exported={...i.exported,type:"Literal",value:i.exported.name,raw:l})}break}case"TSUnionType":case"TSIntersectionType":if(i.types.length===1)return i.types[0];break}}),qa(e.comments)){let i=ab(!1,e.comments,-1);for(let r=e.comments.length-2;r>=0;r--){let l=e.comments[r];$o(l)===dn(i)&&Zh(l)&&Zh(i)&&lb(l)&&lb(i)&&(e.comments.splice(r+1,1),l.value+="*//*"+i.value,l.range=[dn(l),$o(i)]),i=l}}return e.type==="Program"&&(e.range=[0,n.length]),e;function o(i,r){n[$o(r)]!==";"&&(i.range=[dn(i),$o(r)])}}function d1(e){return e.type==="LogicalExpression"&&e.right.type==="LogicalExpression"&&e.operator===e.right.operator}function tm(e){return d1(e)?tm({type:"LogicalExpression",operator:e.operator,left:tm({type:"LogicalExpression",operator:e.operator,left:e.left,right:e.right.left,range:[dn(e.left),$o(e.right.left)]}),right:e.right.right,range:[dn(e),$o(e)]}):e}var K3=X3;function J3(e){let{filepath:t}=e;if(t){if(t=t.toLowerCase(),t.endsWith(".cjs"))return"script";if(t.endsWith(".mjs"))return"module"}}var Z3=J3;function eW(e,t){let{type:s="JsExpressionRoot",rootMarker:n,text:o}=t,{tokens:i,comments:r}=e;return delete e.tokens,delete e.comments,{tokens:i,comments:r,type:s,node:e,range:[0,o.length],rootMarker:n}}var p1=eW,Rr=e=>Uu(rW(e)),tW={sourceType:"module",allowImportExportEverywhere:!0,allowReturnOutsideFunction:!0,allowNewTargetOutsideFunction:!0,allowSuperOutsideMethod:!0,allowUndeclaredExports:!0,errorRecovery:!0,createParenthesizedExpressions:!0,plugins:["doExpressions","exportDefaultFrom","functionBind","functionSent","throwExpressions","partialApplication","decorators","decimal","moduleBlocks","asyncDoExpressions","regexpUnicodeSets","destructuringPrivate","decoratorAutoAccessors","importReflection","explicitResourceManagement",["importAttributes",{deprecatedAssertSyntax:!0}]],tokens:!0,ranges:!0},sW=["recordAndTuple",{syntaxType:"hash"}],ub="v8intrinsic",cb=[["pipelineOperator",{proposal:"hack",topicToken:"%"}],["pipelineOperator",{proposal:"minimal"}],["pipelineOperator",{proposal:"fsharp"}]],Fn=(e,t=tW)=>({...t,plugins:[...t.plugins,...e]}),nW=/@(?:no)?flow\b/;function oW(e,t){var s;if((s=t.filepath)!=null&&s.endsWith(".js.flow"))return!0;let n=u1(e);n&&(e=e.slice(n.length));let o=D3(e,0);return o!==!1&&(e=e.slice(0,o)),nW.test(e)}function iW(e,t,s){let n=e(t,s),o=n.errors.find(i=>!aW.has(i.reasonCode));if(o)throw o;return n}function rW({isExpression:e=!1,optionsCombinations:t}){return(s,n={})=>{if((n.parser==="babel"||n.parser==="__babel_estree")&&oW(s,n))return n.parser="babel-flow",m1.parse(s,n);let o=t;(n.__babelSourceType??Z3(n))==="script"&&(o=o.map(m=>({...m,sourceType:"script"}))),/#[[{]/.test(s)&&(o=o.map(m=>Fn([sW],m)));let i=/%[A-Z]/.test(s);s.includes("|>")?o=(i?[...cb,ub]:cb).flatMap(m=>o.map(c=>Fn([m],c))):i&&(o=o.map(m=>Fn([ub],m)));let r=e?ib.parseExpression:ib.parse,l;try{l=y3(o.map(m=>()=>iW(r,s,m)))}catch({errors:[m]}){throw Jh(m)}return e&&(l=p1(l,{text:s,rootMarker:n.rootMarker})),K3(l,{parser:"babel",text:s})}}var aW=new Set(["StrictNumericEscape","StrictWith","StrictOctalLiteral","StrictDelete","StrictEvalArguments","StrictEvalArgumentsBinding","StrictFunction","EmptyTypeArguments","EmptyTypeParameters","ConstructorHasTypeParameters","UnsupportedParameterPropertyKind","MixedLabeledAndUnlabeledElements","DuplicateAccessibilityModifier","DecoratorExportClass","ParamDupe","InvalidDecimal","RestTrailingComma","UnsupportedParameterDecorator","UnterminatedJsxContent","UnexpectedReservedWord","ModuleAttributesWithDuplicateKeys","LineTerminatorBeforeArrow","InvalidEscapeSequenceTemplate","NonAbstractClassHasAbstractMethod","OptionalTypeBeforeRequired","PatternIsOptional","OptionalBindingPattern","DeclareClassFieldHasInitializer","TypeImportCannotSpecifyDefaultAndNamed","DeclareFunctionHasImplementation","ConstructorClassField","VarRedeclaration","InvalidPrivateFieldResolution","DuplicateExport"]),h1=[Fn(["jsx"])],db=Rr({optionsCombinations:h1}),pb=Rr({optionsCombinations:[Fn(["jsx","typescript"]),Fn(["typescript"])]}),hb=Rr({isExpression:!0,optionsCombinations:[Fn(["jsx"])]}),mb=Rr({isExpression:!0,optionsCombinations:[Fn(["typescript"])]}),m1=Rr({optionsCombinations:[Fn(["jsx",["flow",{all:!0,enums:!0}],"flowComments"])]}),lW=Rr({optionsCombinations:h1.map(e=>Fn(["estree"],e))}),uW={babel:db,"babel-flow":m1,"babel-ts":pb,__js_expression:hb,__ts_expression:mb,__vue_expression:hb,__vue_ts_expression:mb,__vue_event_binding:db,__vue_ts_event_binding:pb,__babel_estree:lW},cW=Cf(r1(),1);function f1(e={}){let{allowComments:t=!0}=e;return function(s){let n;try{n=(0,cW.parseExpression)(s,{tokens:!0,ranges:!0})}catch(o){throw(o==null?void 0:o.reasonCode)==="MissingPlugin"||(o==null?void 0:o.reasonCode)==="MissingOneOfPlugins"?Jh({message:"Unexpected token",loc:o.loc}):Jh(o)}if(!t&&qa(n.comments))throw Oo(n.comments[0],"Comment");return rr(n),p1(n,{type:"JsonRoot",text:s})}}function Oo(e,t){let[s,n]=[e.loc.start,e.loc.end].map(({line:o,column:i})=>({line:o,column:i+1}));return Of(`${t} is not allowed in JSON.`,{loc:{start:s,end:n}})}function rr(e){switch(e.type){case"ArrayExpression":for(let t of e.elements)t!==null&&rr(t);return;case"ObjectExpression":for(let t of e.properties)rr(t);return;case"ObjectProperty":if(e.computed)throw Oo(e.key,"Computed key");if(e.shorthand)throw Oo(e.key,"Shorthand property");e.key.type!=="Identifier"&&rr(e.key),rr(e.value);return;case"UnaryExpression":{let{operator:t,argument:s}=e;if(t!=="+"&&t!=="-")throw Oo(e,`Operator '${e.operator}'`);if(s.type==="NumericLiteral"||s.type==="Identifier"&&(s.name==="Infinity"||s.name==="NaN"))return;throw Oo(s,`Operator '${t}' before '${s.type}'`)}case"Identifier":if(e.name!=="Infinity"&&e.name!=="NaN"&&e.name!=="undefined")throw Oo(e,`Identifier '${e.name}'`);return;case"TemplateLiteral":if(qa(e.expressions))throw Oo(e.expressions[0],"'TemplateLiteral' with expression");for(let t of e.quasis)rr(t);return;case"NullLiteral":case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":case"TemplateElement":return;default:throw Oo(e,`'${e.type}'`)}}var fb=f1(),dW={json:Uu({parse:fb,hasPragma(){return!0}}),json5:Uu(fb),"json-stringify":Uu({parse:f1({allowComments:!1}),astFormat:"estree-json"})},pW=dW,hW={...uW,...pW},g1=l1,mW=Object.create,Df=Object.defineProperty,fW=Object.getOwnPropertyDescriptor,gW=Object.getOwnPropertyNames,yW=Object.getPrototypeOf,wW=Object.prototype.hasOwnProperty,bW=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ad=(e,t)=>{for(var s in t)Df(e,s,{get:t[s],enumerable:!0})},vW=(e,t,s,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of gW(t))!wW.call(e,o)&&o!==s&&Df(e,o,{get:()=>t[o],enumerable:!(n=fW(t,o))||n.enumerable});return e},TW=(e,t,s)=>(s=e!=null?mW(yW(e)):{},vW(t||!e||!e.__esModule?Df(s,"default",{value:e,enumerable:!0}):s,e)),y1=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)},So=(e,t,s)=>(y1(e,t,"read from private field"),s?s.call(e):t.get(e)),SW=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},kW=(e,t,s,n)=>(y1(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),EW=bW(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.extract=h,e.parse=g,e.parseWithComments=w,e.print=S,e.strip=p;var t=/\*\/$/,s=/^\/\*\*?/,n=/^\s*(\/\*\*?(.|\r?\n)*?\*\/)/,o=/(^|\s+)\/\/([^\r\n]*)/g,i=/^(\r?\n)+/,r=/(?:^|\r?\n) *(@[^\r\n]*?) *\r?\n *(?![^@\r\n]*\/\/[^]*)([^@\r\n\s][^@\r\n]+?) *\r?\n/g,l=/(?:^|\r?\n) *@(\S+) *([^\r\n]*)/g,m=/(\r?\n|^) *\* ?/g,c=[];function h(O){let C=O.match(n);return C?C[0].trimLeft():""}function p(O){let C=O.match(n);return C&&C[0]?O.substring(C[0].length):O}function g(O){return w(O).pragmas}function w(O){let C=`
`;O=O.replace(s,"").replace(t,"").replace(m,"$1");let A="";for(;A!==O;)A=O,O=O.replace(r,`${C}$1 $2${C}`);O=O.replace(i,"").trimRight();let T=Object.create(null),F=O.replace(l,"").replace(i,"").trimRight(),L;for(;L=l.exec(O);){let I=L[2].replace(o,"");typeof T[L[1]]=="string"||Array.isArray(T[L[1]])?T[L[1]]=c.concat(T[L[1]],I):T[L[1]]=I}return{comments:F,pragmas:T}}function S({comments:O="",pragmas:C={}}){let A=`
`,T="/**",F=" *",L=" */",I=Object.keys(C),j=I.map(Q=>k(Q,C[Q])).reduce((Q,X)=>Q.concat(X),[]).map(Q=>`${F} ${Q}${A}`).join("");if(!O){if(I.length===0)return"";if(I.length===1&&!Array.isArray(C[I[0]])){let Q=C[I[0]];return`${T} ${k(I[0],Q)[0]}${L}`}}let q=O.split(A).map(Q=>`${F} ${Q}`).join(A)+A;return T+A+(O?q:"")+(O&&I.length?F+A:"")+j+L}function k(O,C){return c.concat(C).map(A=>`@${O} ${A}`.trim())}}),w1={};ad(w1,{languages:()=>xE,options:()=>kE,printers:()=>EE});var b1={};ad(b1,{canAttachComment:()=>B4,embed:()=>D7,experimentalFeatures:()=>M7,getCommentChildNodes:()=>R4,getVisitorKeys:()=>O1,handleComments:()=>z1,insertPragma:()=>I7,isBlockComment:()=>fo,isGap:()=>V4,massageAstNode:()=>$7,print:()=>t7,printComment:()=>M4,willPrintOwnComments:()=>ek});function xW(e,t){let{originalText:s,[Symbol.for("comments")]:n,locStart:o,locEnd:i,[Symbol.for("printedComments")]:r}=t,{node:l}=e,m=o(l),c=i(l);for(let h of n)o(h)>=m&&i(h)<=c&&r.add(h);return s.slice(m,c)}var CW=xW,Vr="string",bi="array",Ur="cursor",$i="indent",Ni="align",Wr="trim",tn="group",Wn="fill",Bn="if-break",_i="indent-if-break",Pi="line-suffix",Ii="line-suffix-boundary",Rs="line",qo="label",zo="break-parent",v1=new Set([Ur,$i,Ni,Wr,tn,Wn,Bn,_i,Pi,Ii,Rs,qo,zo]);function OW(e){if(typeof e=="string")return Vr;if(Array.isArray(e))return bi;if(!e)return;let{type:t}=e;if(v1.has(t))return t}var jr=OW,DW=e=>new Intl.ListFormat("en-US",{type:"disjunction"}).format(e);function AW(e){let t=e===null?"null":typeof e;if(t!=="string"&&t!=="object")return`Unexpected doc '${t}', 
Expected it to be 'string' or 'object'.`;if(jr(e))throw new Error("doc is valid.");let s=Object.prototype.toString.call(e);if(s!=="[object Object]")return`Unexpected doc '${s}'.`;let n=DW([...v1].map(o=>`'${o}'`));return`Unexpected doc.type '${e.type}'.
Expected it to be ${n}.`}var $W=class extends Error{constructor(s){super(AW(s));qe(this,"name","InvalidDocError");this.doc=s}},za=$W,gb={};function NW(e,t,s,n){let o=[e];for(;o.length>0;){let i=o.pop();if(i===gb){s(o.pop());continue}s&&o.push(i,gb);let r=jr(i);if(!r)throw new za(i);if((t==null?void 0:t(i))!==!1)switch(r){case bi:case Wn:{let l=r===bi?i:i.parts;for(let m=l.length,c=m-1;c>=0;--c)o.push(l[c]);break}case Bn:o.push(i.flatContents,i.breakContents);break;case tn:if(n&&i.expandedStates)for(let l=i.expandedStates.length,m=l-1;m>=0;--m)o.push(i.expandedStates[m]);else o.push(i.contents);break;case Ni:case $i:case _i:case qo:case Pi:o.push(i.contents);break;case Vr:case Ur:case Wr:case Ii:case Rs:case zo:break;default:throw new za(i)}}}var T1=NW,_W=()=>{},PW=_W;function $e(e){return{type:$i,contents:e}}function wn(e,t){return{type:Ni,contents:t,n:e}}function ye(e,t={}){return PW(t.expandedStates),{type:tn,id:t.id,contents:e,break:!!t.shouldBreak,expandedStates:t.expandedStates}}function IW(e){return wn(Number.NEGATIVE_INFINITY,e)}function MW(e){return wn(-1,e)}function li(e,t){return ye(e[0],{...t,expandedStates:e})}function Af(e){return{type:Wn,parts:e}}function dt(e,t="",s={}){return{type:Bn,breakContents:e,flatContents:t,groupId:s.groupId}}function ld(e,t){return{type:_i,contents:e,groupId:t.groupId,negate:t.negate}}function yb(e){return{type:Pi,contents:e}}var lo={type:Ii},Ro={type:zo},S1={type:Rs,hard:!0},LW={type:Rs,hard:!0,literal:!0},We={type:Rs},Oe={type:Rs,soft:!0},De=[S1,Ro],k1=[LW,Ro],wb={type:Ur};function rt(e,t){let s=[];for(let n=0;n<t.length;n++)n!==0&&s.push(e),s.push(t[n]);return s}function FW(e,t,s){let n=e;if(t>0){for(let o=0;o<Math.floor(t/s);++o)n=$e(n);n=wn(t%s,n),n=wn(Number.NEGATIVE_INFINITY,n)}return n}function Sl(e,t){return e?{type:qo,label:e,contents:t}:t}var BW=(e,t,s)=>{if(!(e&&t==null))return Array.isArray(t)||typeof t=="string"?t[s<0?t.length+s:s]:t.at(s)},ft=BW,E1=e=>{if(Array.isArray(e))return e;if(e.type!==Wn)throw new Error(`Expect doc to be 'array' or '${Wn}'.`);return e.parts};function qr(e,t){if(typeof e=="string")return t(e);let s=new Map;return n(e);function n(i){if(s.has(i))return s.get(i);let r=o(i);return s.set(i,r),r}function o(i){switch(jr(i)){case bi:return t(i.map(n));case Wn:return t({...i,parts:i.parts.map(n)});case Bn:return t({...i,breakContents:n(i.breakContents),flatContents:n(i.flatContents)});case tn:{let{expandedStates:r,contents:l}=i;return r?(r=r.map(n),l=r[0]):l=n(l),t({...i,contents:l,expandedStates:r})}case Ni:case $i:case _i:case qo:case Pi:return t({...i,contents:n(i.contents)});case Vr:case Ur:case Wr:case Ii:case Rs:case zo:return t(i);default:throw new za(i)}}}function x1(e,t,s){let n=s,o=!1;function i(r){if(o)return!1;let l=t(r);l!==void 0&&(o=!0,n=l)}return T1(e,i),n}function RW(e){if(e.type===tn&&e.break||e.type===Rs&&e.hard||e.type===zo)return!0}function cs(e){return x1(e,RW,!1)}function bb(e){if(e.length>0){let t=ft(!1,e,-1);!t.expandedStates&&!t.break&&(t.break="propagated")}return null}function VW(e){let t=new Set,s=[];function n(i){if(i.type===zo&&bb(s),i.type===tn){if(s.push(i),t.has(i))return!1;t.add(i)}}function o(i){i.type===tn&&s.pop().break&&bb(s)}T1(e,n,o,!0)}function UW(e){return e.type===Rs&&!e.hard?e.soft?"":" ":e.type===Bn?e.flatContents:e}function sm(e){return qr(e,UW)}function WW(e){switch(jr(e)){case Wn:if(e.parts.every(t=>t===""))return"";break;case tn:if(!e.contents&&!e.id&&!e.break&&!e.expandedStates)return"";if(e.contents.type===tn&&e.contents.id===e.id&&e.contents.break===e.break&&e.contents.expandedStates===e.expandedStates)return e.contents;break;case Ni:case $i:case _i:case Pi:if(!e.contents)return"";break;case Bn:if(!e.flatContents&&!e.breakContents)return"";break;case bi:{let t=[];for(let s of e){if(!s)continue;let[n,...o]=Array.isArray(s)?s:[s];typeof n=="string"&&typeof ft(!1,t,-1)=="string"?t[t.length-1]+=n:t.push(n),t.push(...o)}return t.length===0?"":t.length===1?t[0]:t}case Vr:case Ur:case Wr:case Ii:case Rs:case qo:case zo:break;default:throw new za(e)}return e}function $f(e){return qr(e,t=>WW(t))}function vi(e,t=k1){return qr(e,s=>typeof s=="string"?rt(t,s.split(`
`)):s)}function jW(e){if(e.type===Rs)return!0}function qW(e){return x1(e,jW,!1)}function nm(e,t){return e.type===qo?{...e,contents:t(e.contents)}:t(e)}function zW(e){return Array.isArray(e)&&e.length>0}var pt=zW,HW=/^[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC][\$0-9A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]*$/,QW=e=>HW.test(e),GW=QW;function YW(e){return e!==null&&typeof e=="object"}var XW=YW;function*KW(e,t){let{getVisitorKeys:s,filter:n=()=>!0}=t,o=i=>XW(i)&&n(i);for(let i of s(e)){let r=e[i];if(Array.isArray(r))for(let l of r)o(l)&&(yield l);else o(r)&&(yield r)}}function*JW(e,t){let s=[e];for(let n=0;n<s.length;n++){let o=s[n];for(let i of KW(o,t))yield i,s.push(i)}}function ZW(e,{getVisitorKeys:t,predicate:s}){for(let n of JW(e,{getVisitorKeys:t}))if(s(n))return!0;return!1}function Nf(e){return(t,s,n)=>{let o=!!(n!=null&&n.backwards);if(s===!1)return!1;let{length:i}=t,r=s;for(;r>=0&&r<i;){let l=t.charAt(r);if(e instanceof RegExp){if(!e.test(l))return r}else if(!e.includes(l))return r;o?r--:r++}return r===-1||r===i?r:!1}}var $r=Nf(" 	"),e5=Nf(",; 	"),t5=Nf(/[^\n\r]/);function s5(e,t,s){let n=!!(s!=null&&s.backwards);if(t===!1)return!1;let o=e.charAt(t);if(n){if(e.charAt(t-1)==="\r"&&o===`
`)return t-2;if(o===`
`||o==="\r"||o==="\u2028"||o==="\u2029")return t-1}else{if(o==="\r"&&e.charAt(t+1)===`
`)return t+2;if(o===`
`||o==="\r"||o==="\u2028"||o==="\u2029")return t+1}return t}var Nr=s5;function n5(e,t,s={}){let n=$r(e,s.backwards?t-1:t,s),o=Nr(e,n,s);return n!==o}var _s=n5;function o5(e,t){if(t===!1)return!1;if(e.charAt(t)==="/"&&e.charAt(t+1)==="*"){for(let s=t+2;s<e.length;++s)if(e.charAt(s)==="*"&&e.charAt(s+1)==="/")return s+2}return t}var _f=o5;function i5(e,t){return t===!1?!1:e.charAt(t)==="/"&&e.charAt(t+1)==="/"?t5(e,t):t}var Pf=i5;function r5(e,t){let s=null,n=t;for(;n!==s;)s=n,n=e5(e,n),n=_f(e,n),n=$r(e,n);return n=Pf(e,n),n=Nr(e,n),n!==!1&&_s(e,n)}var If=r5,a5=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC08\uDC26](?:\u200D\u2B1B)?|[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,l5={eastAsianWidth(e){var t=e.charCodeAt(0),s=e.length==2?e.charCodeAt(1):0,n=t;return 55296<=t&&t<=56319&&56320<=s&&s<=57343&&(t&=1023,s&=1023,n=t<<10|s,n+=65536),n==12288||65281<=n&&n<=65376||65504<=n&&n<=65510?"F":4352<=n&&n<=4447||4515<=n&&n<=4519||4602<=n&&n<=4607||9001<=n&&n<=9002||11904<=n&&n<=11929||11931<=n&&n<=12019||12032<=n&&n<=12245||12272<=n&&n<=12283||12289<=n&&n<=12350||12353<=n&&n<=12438||12441<=n&&n<=12543||12549<=n&&n<=12589||12593<=n&&n<=12686||12688<=n&&n<=12730||12736<=n&&n<=12771||12784<=n&&n<=12830||12832<=n&&n<=12871||12880<=n&&n<=13054||13056<=n&&n<=19903||19968<=n&&n<=42124||42128<=n&&n<=42182||43360<=n&&n<=43388||44032<=n&&n<=55203||55216<=n&&n<=55238||55243<=n&&n<=55291||63744<=n&&n<=64255||65040<=n&&n<=65049||65072<=n&&n<=65106||65108<=n&&n<=65126||65128<=n&&n<=65131||110592<=n&&n<=110593||127488<=n&&n<=127490||127504<=n&&n<=127546||127552<=n&&n<=127560||127568<=n&&n<=127569||131072<=n&&n<=194367||177984<=n&&n<=196605||196608<=n&&n<=262141?"W":"N"}},u5=/[^\x20-\x7F]/;function c5(e){if(!e)return 0;if(!u5.test(e))return e.length;e=e.replace(a5(),"  ");let t=0;for(let s of e){let n=s.codePointAt(0);if(n<=31||n>=127&&n<=159||n>=768&&n<=879)continue;let o=l5.eastAsianWidth(s);t+=o==="F"||o==="W"?2:1}return t}var _r=c5;function Gt(e){var t;let s=e.range?e.range[0]:e.start,n=((t=e.declaration)==null?void 0:t.decorators)??e.decorators;return pt(n)?Math.min(Gt(n[0]),s):s}function vt(e){return e.range?e.range[1]:e.end}function kl(e,t){let s=Gt(e);return Number.isInteger(s)&&s===Gt(t)}function d5(e,t){let s=vt(e);return Number.isInteger(s)&&s===vt(t)}function p5(e,t){return kl(e,t)&&d5(e,t)}var ra=null;function Da(e){if(ra!==null&&typeof ra.property){let t=ra;return ra=Da.prototype=null,t}return ra=Da.prototype=e??Object.create(null),new Da}var h5=10;for(let e=0;e<=h5;e++)Da();function m5(e){return Da(e)}function f5(e,t="type"){m5(e);function s(n){let o=n[t],i=e[o];if(!Array.isArray(i))throw Object.assign(new Error(`Missing visitor keys for '${o}'.`),{node:n});return i}return s}var C1=f5,g5={ArrayExpression:["elements"],AssignmentExpression:["left","right"],BinaryExpression:["left","right"],InterpreterDirective:[],Directive:["value"],DirectiveLiteral:[],BlockStatement:["directives","body"],BreakStatement:["label"],CallExpression:["callee","arguments","typeParameters","typeArguments"],CatchClause:["param","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DoWhileStatement:["test","body"],EmptyStatement:[],ExpressionStatement:["expression"],File:["program"],ForInStatement:["left","right","body"],ForStatement:["init","test","update","body"],FunctionDeclaration:["id","params","body","returnType","typeParameters","predicate"],FunctionExpression:["id","params","body","returnType","typeParameters"],Identifier:["typeAnnotation","decorators"],IfStatement:["test","consequent","alternate"],LabeledStatement:["label","body"],StringLiteral:[],NumericLiteral:[],NullLiteral:[],BooleanLiteral:[],RegExpLiteral:[],LogicalExpression:["left","right"],MemberExpression:["object","property"],NewExpression:["callee","arguments","typeParameters","typeArguments"],Program:["directives","body"],ObjectExpression:["properties"],ObjectMethod:["key","params","body","decorators","returnType","typeParameters"],ObjectProperty:["key","value","decorators"],RestElement:["argument","typeAnnotation","decorators"],ReturnStatement:["argument"],SequenceExpression:["expressions"],ParenthesizedExpression:["expression"],SwitchCase:["test","consequent"],SwitchStatement:["discriminant","cases"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],AssignmentPattern:["left","right","decorators","typeAnnotation"],ArrayPattern:["elements","typeAnnotation","decorators"],ArrowFunctionExpression:["params","body","returnType","typeParameters","predicate"],ClassBody:["body"],ClassExpression:["id","body","superClass","mixins","typeParameters","superTypeParameters","implements","decorators"],ClassDeclaration:["id","body","superClass","mixins","typeParameters","superTypeParameters","implements","decorators"],ExportAllDeclaration:["source","attributes","assertions","exported"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source","attributes","assertions"],ExportSpecifier:["local","exported"],ForOfStatement:["left","right","body"],ImportDeclaration:["specifiers","source","attributes","assertions"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["local","imported"],MetaProperty:["meta","property"],ClassMethod:["key","params","body","decorators","returnType","typeParameters"],ObjectPattern:["properties","typeAnnotation","decorators"],SpreadElement:["argument"],Super:[],TaggedTemplateExpression:["tag","quasi","typeParameters"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],YieldExpression:["argument"],AwaitExpression:["argument"],Import:[],BigIntLiteral:[],ExportNamespaceSpecifier:["exported"],OptionalMemberExpression:["object","property"],OptionalCallExpression:["callee","arguments","typeParameters","typeArguments"],ClassProperty:["key","value","typeAnnotation","decorators","variance"],ClassAccessorProperty:["key","value","typeAnnotation","decorators"],ClassPrivateProperty:["key","value","decorators","typeAnnotation","variance"],ClassPrivateMethod:["key","params","body","decorators","returnType","typeParameters"],PrivateName:["id"],StaticBlock:["body"],AnyTypeAnnotation:[],ArrayTypeAnnotation:["elementType"],BooleanTypeAnnotation:[],BooleanLiteralTypeAnnotation:[],NullLiteralTypeAnnotation:[],ClassImplements:["id","typeParameters"],DeclareClass:["id","typeParameters","extends","mixins","implements","body"],DeclareFunction:["id","predicate"],DeclareInterface:["id","typeParameters","extends","body"],DeclareModule:["id","body"],DeclareModuleExports:["typeAnnotation"],DeclareTypeAlias:["id","typeParameters","right"],DeclareOpaqueType:["id","typeParameters","supertype"],DeclareVariable:["id"],DeclareExportDeclaration:["declaration","specifiers","source"],DeclareExportAllDeclaration:["source"],DeclaredPredicate:["value"],ExistsTypeAnnotation:[],FunctionTypeAnnotation:["typeParameters","params","rest","returnType","this"],FunctionTypeParam:["name","typeAnnotation"],GenericTypeAnnotation:["id","typeParameters"],InferredPredicate:[],InterfaceExtends:["id","typeParameters"],InterfaceDeclaration:["id","typeParameters","extends","body"],InterfaceTypeAnnotation:["extends","body"],IntersectionTypeAnnotation:["types"],MixedTypeAnnotation:[],EmptyTypeAnnotation:[],NullableTypeAnnotation:["typeAnnotation"],NumberLiteralTypeAnnotation:[],NumberTypeAnnotation:[],ObjectTypeAnnotation:["properties","indexers","callProperties","internalSlots"],ObjectTypeInternalSlot:["id","value","optional","static","method"],ObjectTypeCallProperty:["value"],ObjectTypeIndexer:["id","key","value","variance"],ObjectTypeProperty:["key","value","variance"],ObjectTypeSpreadProperty:["argument"],OpaqueType:["id","typeParameters","supertype","impltype"],QualifiedTypeIdentifier:["id","qualification"],StringLiteralTypeAnnotation:[],StringTypeAnnotation:[],SymbolTypeAnnotation:[],ThisTypeAnnotation:[],TupleTypeAnnotation:["types","elementTypes"],TypeofTypeAnnotation:["argument"],TypeAlias:["id","typeParameters","right"],TypeAnnotation:["typeAnnotation"],TypeCastExpression:["expression","typeAnnotation"],TypeParameter:["bound","default","variance"],TypeParameterDeclaration:["params"],TypeParameterInstantiation:["params"],UnionTypeAnnotation:["types"],Variance:[],VoidTypeAnnotation:[],EnumDeclaration:["id","body"],EnumBooleanBody:["members"],EnumNumberBody:["members"],EnumStringBody:["members"],EnumSymbolBody:["members"],EnumBooleanMember:["id","init"],EnumNumberMember:["id","init"],EnumStringMember:["id","init"],EnumDefaultedMember:["id"],IndexedAccessType:["objectType","indexType"],OptionalIndexedAccessType:["objectType","indexType"],JSXAttribute:["name","value"],JSXClosingElement:["name"],JSXElement:["openingElement","children","closingElement"],JSXEmptyExpression:[],JSXExpressionContainer:["expression"],JSXSpreadChild:["expression"],JSXIdentifier:[],JSXMemberExpression:["object","property"],JSXNamespacedName:["namespace","name"],JSXOpeningElement:["name","attributes","typeParameters"],JSXSpreadAttribute:["argument"],JSXText:[],JSXFragment:["openingFragment","children","closingFragment"],JSXOpeningFragment:[],JSXClosingFragment:[],Noop:[],Placeholder:[],V8IntrinsicIdentifier:[],ArgumentPlaceholder:[],BindExpression:["object","callee"],ImportAttribute:["key","value"],Decorator:["expression"],DoExpression:["body"],ExportDefaultSpecifier:["exported"],RecordExpression:["properties"],TupleExpression:["elements"],DecimalLiteral:[],ModuleExpression:["body"],TopicReference:[],PipelineTopicExpression:["expression"],PipelineBareFunction:["callee"],PipelinePrimaryTopicReference:[],TSParameterProperty:["parameter","decorators"],TSDeclareFunction:["id","typeParameters","params","returnType","body"],TSDeclareMethod:["decorators","key","typeParameters","params","returnType"],TSQualifiedName:["left","right"],TSCallSignatureDeclaration:["typeParameters","parameters","typeAnnotation","params","returnType"],TSConstructSignatureDeclaration:["typeParameters","parameters","typeAnnotation","params","returnType"],TSPropertySignature:["key","typeAnnotation"],TSMethodSignature:["key","typeParameters","parameters","typeAnnotation","params","returnType"],TSIndexSignature:["parameters","typeAnnotation"],TSAnyKeyword:[],TSBooleanKeyword:[],TSBigIntKeyword:[],TSIntrinsicKeyword:[],TSNeverKeyword:[],TSNullKeyword:[],TSNumberKeyword:[],TSObjectKeyword:[],TSStringKeyword:[],TSSymbolKeyword:[],TSUndefinedKeyword:[],TSUnknownKeyword:[],TSVoidKeyword:[],TSThisType:[],TSFunctionType:["typeParameters","parameters","typeAnnotation","params","returnType"],TSConstructorType:["typeParameters","parameters","typeAnnotation","params","returnType"],TSTypeReference:["typeName","typeParameters"],TSTypePredicate:["parameterName","typeAnnotation"],TSTypeQuery:["exprName","typeParameters"],TSTypeLiteral:["members"],TSArrayType:["elementType"],TSTupleType:["elementTypes"],TSOptionalType:["typeAnnotation"],TSRestType:["typeAnnotation"],TSNamedTupleMember:["label","elementType"],TSUnionType:["types"],TSIntersectionType:["types"],TSConditionalType:["checkType","extendsType","trueType","falseType"],TSInferType:["typeParameter"],TSParenthesizedType:["typeAnnotation"],TSTypeOperator:["typeAnnotation"],TSIndexedAccessType:["objectType","indexType"],TSMappedType:["typeParameter","typeAnnotation","nameType"],TSLiteralType:["literal"],TSExpressionWithTypeArguments:["expression","typeParameters"],TSInterfaceDeclaration:["id","typeParameters","extends","body"],TSInterfaceBody:["body"],TSTypeAliasDeclaration:["id","typeParameters","typeAnnotation"],TSInstantiationExpression:["expression","typeParameters"],TSAsExpression:["expression","typeAnnotation"],TSSatisfiesExpression:["expression","typeAnnotation"],TSTypeAssertion:["typeAnnotation","expression"],TSEnumDeclaration:["id","members"],TSEnumMember:["id","initializer"],TSModuleDeclaration:["id","body"],TSModuleBlock:["body"],TSImportType:["argument","qualifier","typeParameters","parameter"],TSImportEqualsDeclaration:["id","moduleReference"],TSExternalModuleReference:["expression"],TSNonNullExpression:["expression"],TSExportAssignment:["expression"],TSNamespaceExportDeclaration:["id"],TSTypeAnnotation:["typeAnnotation"],TSTypeParameterInstantiation:["params"],TSTypeParameterDeclaration:["params"],TSTypeParameter:["constraint","default","name"],ChainExpression:["expression"],ExperimentalRestProperty:["argument"],ExperimentalSpreadProperty:["argument"],ImportExpression:["source","attributes"],Literal:[],MethodDefinition:["decorators","key","value"],PrivateIdentifier:[],Property:["key","value"],PropertyDefinition:["decorators","key","typeAnnotation","value","variance"],AccessorProperty:["decorators","key","typeAnnotation","value"],TSAbstractAccessorProperty:["decorators","key","typeAnnotation"],TSAbstractKeyword:[],TSAbstractMethodDefinition:["key","value"],TSAbstractPropertyDefinition:["decorators","key","typeAnnotation"],TSAsyncKeyword:[],TSClassImplements:["expression","typeParameters"],TSDeclareKeyword:[],TSEmptyBodyFunctionExpression:["id","typeParameters","params","returnType"],TSExportKeyword:[],TSInterfaceHeritage:["expression","typeParameters"],TSPrivateKeyword:[],TSProtectedKeyword:[],TSPublicKeyword:[],TSReadonlyKeyword:[],TSStaticKeyword:[],TSTemplateLiteralType:["quasis","types"],BigIntLiteralTypeAnnotation:[],BigIntTypeAnnotation:[],ConditionalTypeAnnotation:["checkType","extendsType","trueType","falseType"],DeclareEnum:["id","body"],InferTypeAnnotation:["typeParameter"],KeyofTypeAnnotation:["argument"],ObjectTypeMappedTypeProperty:["keyTparam","propType","sourceType","variance"],QualifiedTypeofIdentifier:["qualification","id"],TupleTypeLabeledElement:["label","elementType","variance"],TupleTypeSpreadElement:["label","typeAnnotation"],TypePredicate:["parameterName","typeAnnotation","asserts"],NGRoot:["node"],NGPipeExpression:["left","right","arguments"],NGChainedExpression:["expressions"],NGEmptyExpression:[],NGMicrosyntax:["body"],NGMicrosyntaxKey:[],NGMicrosyntaxExpression:["expression","alias"],NGMicrosyntaxKeyedExpression:["key","expression"],NGMicrosyntaxLet:["key","value"],NGMicrosyntaxAs:["key","alias"],JsExpressionRoot:["node"],JsonRoot:["node"],TSJSDocAllType:[],TSJSDocUnknownType:[],TSJSDocNullableType:["typeAnnotation"],TSJSDocNonNullableType:["typeAnnotation"],NeverTypeAnnotation:[],UndefinedTypeAnnotation:[],UnknownTypeAnnotation:[]},y5=C1(g5),O1=y5;function w5(e){return e=new Set(e),t=>e.has(t==null?void 0:t.type)}var kt=w5,b5=kt(["Block","CommentBlock","MultiLine"]),fo=b5;function v5(e,t){let s=t.split(".");for(let n=s.length-1;n>=0;n--){let o=s[n];if(n===0)return e.type==="Identifier"&&e.name===o;if(e.type!=="MemberExpression"||e.optional||e.computed||e.property.type!=="Identifier"||e.property.name!==o)return!1;e=e.object}}function T5(e,t){return t.some(s=>v5(e,s))}var S5=T5,k5=kt(["AnyTypeAnnotation","ThisTypeAnnotation","NumberTypeAnnotation","VoidTypeAnnotation","BooleanTypeAnnotation","BigIntTypeAnnotation","SymbolTypeAnnotation","StringTypeAnnotation","NeverTypeAnnotation","UndefinedTypeAnnotation","UnknownTypeAnnotation","EmptyTypeAnnotation","MixedTypeAnnotation"]),D1=k5;function E5({type:e}){return e.startsWith("TS")&&e.endsWith("Keyword")}var A1=E5;function om(e,t){return t(e)||ZW(e,{getVisitorKeys:O1,predicate:t})}function Mf(e){return e.type==="AssignmentExpression"||e.type==="BinaryExpression"||e.type==="LogicalExpression"||e.type==="NGPipeExpression"||e.type==="ConditionalExpression"||ct(e)||Dt(e)||e.type==="SequenceExpression"||e.type==="TaggedTemplateExpression"||e.type==="BindExpression"||e.type==="UpdateExpression"&&!e.prefix||Fo(e)||e.type==="TSNonNullExpression"||e.type==="ChainExpression"}function x5(e){return e.expressions?e.expressions[0]:e.left??e.test??e.callee??e.object??e.tag??e.argument??e.expression}function $1(e){if(e.expressions)return["expressions",0];if(e.left)return["left"];if(e.test)return["test"];if(e.object)return["object"];if(e.callee)return["callee"];if(e.tag)return["tag"];if(e.argument)return["argument"];if(e.expression)return["expression"];throw new Error("Unexpected node has no left side.")}var Lf=kt(["Line","CommentLine","SingleLine","HashbangComment","HTMLOpen","HTMLClose","Hashbang","InterpreterDirective"]),C5=kt(["ExportDefaultDeclaration","DeclareExportDeclaration","ExportNamedDeclaration","ExportAllDeclaration","DeclareExportAllDeclaration"]),Jt=kt(["ArrayExpression","TupleExpression"]),Sn=kt(["ObjectExpression","RecordExpression"]);function Vo(e){return e.type==="NumericLiteral"||e.type==="Literal"&&typeof e.value=="number"}function N1(e){return e.type==="UnaryExpression"&&(e.operator==="+"||e.operator==="-")&&Vo(e.argument)}function Ps(e){return e.type==="StringLiteral"||e.type==="Literal"&&typeof e.value=="string"}function _1(e){return e.type==="RegExpLiteral"||e.type==="Literal"&&!!e.regex}var Uo=kt(["ObjectTypeAnnotation","TSTypeLiteral","TSMappedType"]),Ha=kt(["FunctionExpression","ArrowFunctionExpression"]);function O5(e){return e.type==="FunctionExpression"||e.type==="ArrowFunctionExpression"&&e.body.type==="BlockStatement"}function zp(e){return ct(e)&&e.callee.type==="Identifier"&&["async","inject","fakeAsync","waitForAsync"].includes(e.callee.name)}var os=kt(["JSXElement","JSXFragment"]);function P1(e){return e.kind==="get"||e.kind==="set"}function I1(e){return P1(e)||kl(e,e.value)}function M1(e){return(e.type==="ObjectTypeProperty"||e.type==="ObjectTypeInternalSlot")&&e.value.type==="FunctionTypeAnnotation"&&!e.static&&!I1(e)}function D5(e){return(e.type==="TypeAnnotation"||e.type==="TSTypeAnnotation")&&e.typeAnnotation.type==="FunctionTypeAnnotation"&&!e.static&&!kl(e,e.typeAnnotation)}var uo=kt(["BinaryExpression","LogicalExpression","NGPipeExpression"]);function ar(e){return Dt(e)||e.type==="BindExpression"&&!!e.object}var A5=kt(["TSThisType","NullLiteralTypeAnnotation","BooleanLiteralTypeAnnotation","StringLiteralTypeAnnotation","BigIntLiteralTypeAnnotation","NumberLiteralTypeAnnotation","TSLiteralType","TSTemplateLiteralType"]);function Ff(e){return A1(e)||D1(e)||A5(e)||(e.type==="GenericTypeAnnotation"||e.type==="TSTypeReference")&&!e.typeParameters}function $5(e){let t=/^(?:before|after)(?:Each|All)$/;return e.callee.type==="Identifier"&&e.arguments.length===1&&t.test(e.callee.name)}var N5=["it","it.only","it.skip","describe","describe.only","describe.skip","test","test.only","test.skip","test.step","test.describe","test.describe.only","test.describe.parallel","test.describe.parallel.only","test.describe.serial","test.describe.serial.only","skip","xit","xdescribe","xtest","fit","fdescribe","ftest"];function _5(e){return S5(e,N5)}function ud(e,t){if(e.type!=="CallExpression")return!1;if(e.arguments.length===1){if(zp(e)&&t&&ud(t))return Ha(e.arguments[0]);if($5(e))return zp(e.arguments[0])}else if((e.arguments.length===2||e.arguments.length===3)&&(e.arguments[0].type==="TemplateLiteral"||Ps(e.arguments[0]))&&_5(e.callee))return e.arguments[2]&&!Vo(e.arguments[2])?!1:(e.arguments.length===2?Ha(e.arguments[1]):O5(e.arguments[1])&&Zt(e.arguments[1]).length<=1)||zp(e.arguments[1]);return!1}var ct=kt(["CallExpression","OptionalCallExpression"]),Dt=kt(["MemberExpression","OptionalMemberExpression"]);function P5(e){let t="expressions";e.type==="TSTemplateLiteralType"&&(t="types");let s=e[t];return s.length===0?!1:s.every(n=>{if(Fe(n))return!1;if(n.type==="Identifier"||n.type==="ThisExpression")return!0;if(n.type==="ChainExpression"&&(n=n.expression),Dt(n)){let o=n;for(;Dt(o);)if(o.property.type!=="Identifier"&&o.property.type!=="Literal"&&o.property.type!=="StringLiteral"&&o.property.type!=="NumericLiteral"||(o=o.object,Fe(o)))return!1;return o.type==="Identifier"||o.type==="ThisExpression"}return!1})}function Ti(e,t){return os(t)?cd(t):Fe(t,ze.Leading,s=>_s(e,vt(s)))}function vb(e,t){return t.parser!=="json"&&Ps(e.key)&&sn(e.key).slice(1,-1)===e.key.value&&(GW(e.key.value)&&!(t.parser==="babel-ts"&&e.type==="ClassProperty"||t.parser==="typescript"&&e.type==="PropertyDefinition")||L1(e.key.value)&&String(Number(e.key.value))===e.key.value&&(t.parser==="babel"||t.parser==="acorn"||t.parser==="espree"||t.parser==="meriyah"||t.parser==="__babel_estree"))}function L1(e){return/^(?:\d+|\d+\.\d+)$/.test(e)}function Tb(e){return e.quasis.some(t=>t.value.raw.includes(`
`))}function F1(e,t){return(e.type==="TemplateLiteral"&&Tb(e)||e.type==="TaggedTemplateExpression"&&Tb(e.quasi))&&!_s(t,Gt(e),{backwards:!0})}function B1(e){if(!Fe(e))return!1;let t=ft(!1,Rf(e,ze.Dangling),-1);return t&&!fo(t)}function I5(e){if(e.length<=1)return!1;let t=0;for(let s of e)if(Ha(s)){if(t+=1,t>1)return!0}else if(ct(s)){for(let n of s.arguments)if(Ha(n))return!0}return!1}function R1(e){let{node:t,parent:s,key:n}=e;return n==="callee"&&ct(t)&&ct(s)&&s.arguments.length>0&&t.arguments.length>s.arguments.length}var M5=new Set(["!","-","+","~"]);function pn(e,t=2){if(t<=0)return!1;let s=n=>pn(n,t-1);if(_1(e))return _r(e.pattern??e.regex.pattern)<=5;if(e.type==="Literal"||e.type==="BigIntLiteral"||e.type==="DecimalLiteral"||e.type==="BooleanLiteral"||e.type==="NullLiteral"||e.type==="NumericLiteral"||e.type==="StringLiteral"||e.type==="Identifier"||e.type==="ThisExpression"||e.type==="Super"||e.type==="PrivateName"||e.type==="PrivateIdentifier"||e.type==="ArgumentPlaceholder"||e.type==="Import")return!0;if(e.type==="TemplateLiteral")return e.quasis.every(n=>!n.value.raw.includes(`
`))&&e.expressions.every(s);if(Sn(e))return e.properties.every(n=>!n.computed&&(n.shorthand||n.value&&s(n.value)));if(Jt(e))return e.elements.every(n=>n===null||s(n));if(Pr(e)){if(e.type==="ImportExpression"||pn(e.callee,t)){let n=Qo(e);return n.length<=t&&n.every(s)}return!1}return Dt(e)?pn(e.object,t)&&pn(e.property,t):e.type==="UnaryExpression"&&M5.has(e.operator)||e.type==="UpdateExpression"?pn(e.argument,t):e.type==="TSNonNullExpression"?pn(e.expression,t):!1}function sn(e){var t;return((t=e.extra)==null?void 0:t.raw)??e.raw}function L5(e){return e}function Ho(e,t="es5"){return e.trailingComma==="es5"&&t==="es5"||e.trailingComma==="all"&&(t==="all"||t==="es5")}function us(e,t){switch(e.type){case"BinaryExpression":case"LogicalExpression":case"AssignmentExpression":case"NGPipeExpression":return us(e.left,t);case"MemberExpression":case"OptionalMemberExpression":return us(e.object,t);case"TaggedTemplateExpression":return e.tag.type==="FunctionExpression"?!1:us(e.tag,t);case"CallExpression":case"OptionalCallExpression":return e.callee.type==="FunctionExpression"?!1:us(e.callee,t);case"ConditionalExpression":return us(e.test,t);case"UpdateExpression":return!e.prefix&&us(e.argument,t);case"BindExpression":return e.object&&us(e.object,t);case"SequenceExpression":return us(e.expressions[0],t);case"ChainExpression":case"TSSatisfiesExpression":case"TSAsExpression":case"TSNonNullExpression":return us(e.expression,t);default:return t(e)}}var Sb={"==":!0,"!=":!0,"===":!0,"!==":!0},du={"*":!0,"/":!0,"%":!0},im={">>":!0,">>>":!0,"<<":!0};function Bf(e,t){return!(fc(t)!==fc(e)||e==="**"||Sb[e]&&Sb[t]||t==="%"&&du[e]||e==="%"&&du[t]||t!==e&&du[t]&&du[e]||im[e]&&im[t])}var F5=new Map([["|>"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]].flatMap((e,t)=>e.map(s=>[s,t])));function fc(e){return F5.get(e)}function B5(e){return!!im[e]||e==="|"||e==="^"||e==="&"}function R5(e){var t;if(e.rest)return!0;let s=Zt(e);return((t=ft(!1,s,-1))==null?void 0:t.type)==="RestElement"}var Hp=new WeakMap;function Zt(e){if(Hp.has(e))return Hp.get(e);let t=[];return e.this&&t.push(e.this),Array.isArray(e.parameters)?t.push(...e.parameters):Array.isArray(e.params)&&t.push(...e.params),e.rest&&t.push(e.rest),Hp.set(e,t),t}function V5(e,t){let{node:s}=e,n=0,o=i=>t(i,n++);s.this&&e.call(o,"this"),Array.isArray(s.parameters)?e.each(o,"parameters"):Array.isArray(s.params)&&e.each(o,"params"),s.rest&&e.call(o,"rest")}var Qp=new WeakMap;function Qo(e){if(Qp.has(e))return Qp.get(e);let t=e.arguments;return e.type==="ImportExpression"&&(t=[e.source],e.attributes&&t.push(e.attributes)),Qp.set(e,t),t}function V1(e,t){let{node:s}=e;s.type==="ImportExpression"?(e.call(n=>t(n,0),"source"),s.attributes&&e.call(n=>t(n,1),"attributes")):e.each(t,"arguments")}function kb(e,t){if(e.type==="ImportExpression"){if(t===0||t===(e.attributes?-2:-1))return"source";if(e.attributes&&(t===1||t===-1))return"attributes";throw new RangeError("Invalid argument index")}if(t<0&&(t=e.arguments.length+t),t<0||t>=e.arguments.length)throw new RangeError("Invalid argument index");return["arguments",t]}function gc(e){return e.value.trim()==="prettier-ignore"&&!e.unignore}function cd(e){return(e==null?void 0:e.prettierIgnore)||Fe(e,ze.PrettierIgnore)}var ze={Leading:2,Trailing:4,Dangling:8,Block:16,Line:32,PrettierIgnore:64,First:128,Last:256},U1=(e,t)=>{if(typeof e=="function"&&(t=e,e=0),e||t)return(s,n,o)=>!(e&ze.Leading&&!s.leading||e&ze.Trailing&&!s.trailing||e&ze.Dangling&&(s.leading||s.trailing)||e&ze.Block&&!fo(s)||e&ze.Line&&!Lf(s)||e&ze.First&&n!==0||e&ze.Last&&n!==o.length-1||e&ze.PrettierIgnore&&!gc(s)||t&&!t(s))};function Fe(e,t,s){if(!pt(e==null?void 0:e.comments))return!1;let n=U1(t,s);return n?e.comments.some(n):!0}function Rf(e,t,s){if(!Array.isArray(e==null?void 0:e.comments))return[];let n=U1(t,s);return n?e.comments.filter(n):e.comments}var Go=(e,{originalText:t})=>If(t,vt(e));function Pr(e){return ct(e)||e.type==="NewExpression"||e.type==="ImportExpression"}function go(e){return e&&(e.type==="ObjectProperty"||e.type==="Property"&&!e.method&&e.kind==="init")}var rm=Symbol("ifWithoutBlockAndSameLineComment"),Fo=kt(["TSAsExpression","TSSatisfiesExpression"]);function am(e,t){var s,n,o,i,r,l,m;if(e.isRoot)return!1;let{node:c,key:h,parent:p}=e;if(t.__isInHtmlInterpolation&&!t.bracketSpacing&&q5(c)&&ba(e))return!0;if(U5(c))return!1;if(c.type==="Identifier"){if((s=c.extra)!=null&&s.parenthesized&&/^PRETTIER_HTML_PLACEHOLDER_\d+_\d+_IN_JS$/.test(c.name)||h==="left"&&(c.name==="async"&&!p.await||c.name==="let")&&p.type==="ForOfStatement")return!0;if(c.name==="let"){let g=(n=e.findAncestor(w=>w.type==="ForOfStatement"))==null?void 0:n.left;if(g&&us(g,w=>w===c))return!0}if(h==="object"&&c.name==="let"&&p.type==="MemberExpression"&&p.computed&&!p.optional){let g=e.findAncestor(S=>S.type==="ExpressionStatement"||S.type==="ForStatement"||S.type==="ForInStatement"),w=g?g.type==="ExpressionStatement"?g.expression:g.type==="ForStatement"?g.init:g.left:void 0;if(w&&us(w,S=>S===c))return!0}return!1}if(c.type==="ObjectExpression"||c.type==="FunctionExpression"||c.type==="ClassExpression"||c.type==="DoExpression"){let g=(o=e.findAncestor(w=>w.type==="ExpressionStatement"))==null?void 0:o.expression;if(g&&us(g,w=>w===c))return!0}if(c.type==="ObjectExpression"){let g=(i=e.findAncestor(w=>w.type==="ArrowFunctionExpression"))==null?void 0:i.body;if(g&&g.type!=="SequenceExpression"&&g.type!=="AssignmentExpression"&&us(g,w=>w===c))return!0}switch(p.type){case"ParenthesizedExpression":return!1;case"ClassDeclaration":case"ClassExpression":if(h==="superClass"&&(c.type==="ArrowFunctionExpression"||c.type==="AssignmentExpression"||c.type==="AwaitExpression"||c.type==="BinaryExpression"||c.type==="ConditionalExpression"||c.type==="LogicalExpression"||c.type==="NewExpression"||c.type==="ObjectExpression"||c.type==="SequenceExpression"||c.type==="TaggedTemplateExpression"||c.type==="UnaryExpression"||c.type==="UpdateExpression"||c.type==="YieldExpression"||c.type==="TSNonNullExpression"||c.type==="ClassExpression"&&pt(c.decorators)))return!0;break;case"ExportDefaultDeclaration":return W1(e,t)||c.type==="SequenceExpression";case"Decorator":if(h==="expression"){if(Dt(c)&&c.computed)return!0;let g=!1,w=!1,S=c;for(;S;)switch(S.type){case"MemberExpression":w=!0,S=S.object;break;case"CallExpression":if(w||g)return t.parser!=="typescript";g=!0,S=S.callee;break;case"Identifier":return!1;case"TaggedTemplateExpression":return t.parser!=="typescript";default:return!0}return!0}break;case"TypeAnnotation":if(e.match(void 0,void 0,(g,w)=>w==="returnType"&&g.type==="ArrowFunctionExpression")&&j5(c))return!0;break}switch(c.type){case"UpdateExpression":if(p.type==="UnaryExpression")return c.prefix&&(c.operator==="++"&&p.operator==="+"||c.operator==="--"&&p.operator==="-");case"UnaryExpression":switch(p.type){case"UnaryExpression":return c.operator===p.operator&&(c.operator==="+"||c.operator==="-");case"BindExpression":return!0;case"MemberExpression":case"OptionalMemberExpression":return h==="object";case"TaggedTemplateExpression":return!0;case"NewExpression":case"CallExpression":case"OptionalCallExpression":return h==="callee";case"BinaryExpression":return h==="left"&&p.operator==="**";case"TSNonNullExpression":return!0;default:return!1}case"BinaryExpression":if(p.type==="UpdateExpression"||c.operator==="in"&&W5(e))return!0;if(c.operator==="|>"&&(r=c.extra)!=null&&r.parenthesized){let g=e.grandparent;if(g.type==="BinaryExpression"&&g.operator==="|>")return!0}case"TSTypeAssertion":case"TSAsExpression":case"TSSatisfiesExpression":case"LogicalExpression":switch(p.type){case"TSAsExpression":case"TSSatisfiesExpression":return!Fo(c);case"ConditionalExpression":return Fo(c);case"CallExpression":case"NewExpression":case"OptionalCallExpression":return h==="callee";case"ClassExpression":case"ClassDeclaration":return h==="superClass";case"TSTypeAssertion":case"TaggedTemplateExpression":case"UnaryExpression":case"JSXSpreadAttribute":case"SpreadElement":case"BindExpression":case"AwaitExpression":case"TSNonNullExpression":case"UpdateExpression":return!0;case"MemberExpression":case"OptionalMemberExpression":return h==="object";case"AssignmentExpression":case"AssignmentPattern":return h==="left"&&(c.type==="TSTypeAssertion"||Fo(c));case"LogicalExpression":if(c.type==="LogicalExpression")return p.operator!==c.operator;case"BinaryExpression":{let{operator:g,type:w}=c;if(!g&&w!=="TSTypeAssertion")return!0;let S=fc(g),k=p.operator,O=fc(k);return O>S||h==="right"&&O===S||O===S&&!Bf(k,g)?!0:O<S&&g==="%"?k==="+"||k==="-":!!B5(k)}default:return!1}case"SequenceExpression":switch(p.type){case"ReturnStatement":return!1;case"ForStatement":return!1;case"ExpressionStatement":return h!=="expression";case"ArrowFunctionExpression":return h!=="body";default:return!0}case"YieldExpression":if(p.type==="AwaitExpression")return!0;case"AwaitExpression":switch(p.type){case"TaggedTemplateExpression":case"UnaryExpression":case"LogicalExpression":case"SpreadElement":case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"BindExpression":return!0;case"MemberExpression":case"OptionalMemberExpression":return h==="object";case"NewExpression":case"CallExpression":case"OptionalCallExpression":return h==="callee";case"ConditionalExpression":return h==="test";case"BinaryExpression":return!(!c.argument&&p.operator==="|>");default:return!1}case"TSFunctionType":if(e.match(g=>g.type==="TSFunctionType",(g,w)=>w==="typeAnnotation"&&g.type==="TSTypeAnnotation",(g,w)=>w==="returnType"&&g.type==="ArrowFunctionExpression"))return!0;case"TSConditionalType":case"TSConstructorType":if(h==="extendsType"&&p.type==="TSConditionalType"){if(c.type==="TSConditionalType")return!0;let{typeAnnotation:g}=c.returnType||c.typeAnnotation;if(g.type==="TSTypePredicate"&&g.typeAnnotation&&(g=g.typeAnnotation.typeAnnotation),g.type==="TSInferType"&&g.typeParameter.constraint)return!0}if(h==="checkType"&&p.type==="TSConditionalType")return!0;case"TSUnionType":case"TSIntersectionType":if((p.type==="TSUnionType"||p.type==="TSIntersectionType")&&p.types.length>1&&(!c.types||c.types.length>1))return!0;case"TSInferType":if(c.type==="TSInferType"&&p.type==="TSRestType")return!1;case"TSTypeOperator":return p.type==="TSArrayType"||p.type==="TSOptionalType"||p.type==="TSRestType"||h==="objectType"&&p.type==="TSIndexedAccessType"||p.type==="TSTypeOperator"||p.type==="TSTypeAnnotation"&&e.grandparent.type.startsWith("TSJSDoc");case"TSTypeQuery":return h==="objectType"&&p.type==="TSIndexedAccessType"||h==="elementType"&&p.type==="TSArrayType";case"TypeofTypeAnnotation":return h==="objectType"&&(p.type==="IndexedAccessType"||p.type==="OptionalIndexedAccessType")||h==="elementType"&&p.type==="ArrayTypeAnnotation";case"ArrayTypeAnnotation":return p.type==="NullableTypeAnnotation";case"IntersectionTypeAnnotation":case"UnionTypeAnnotation":return p.type==="ArrayTypeAnnotation"||p.type==="NullableTypeAnnotation"||p.type==="IntersectionTypeAnnotation"||p.type==="UnionTypeAnnotation"||h==="objectType"&&(p.type==="IndexedAccessType"||p.type==="OptionalIndexedAccessType");case"InferTypeAnnotation":case"NullableTypeAnnotation":return p.type==="ArrayTypeAnnotation"||h==="objectType"&&(p.type==="IndexedAccessType"||p.type==="OptionalIndexedAccessType");case"FunctionTypeAnnotation":{if(e.match(void 0,(w,S)=>S==="typeAnnotation"&&w.type==="TypeAnnotation",(w,S)=>S==="returnType"&&w.type==="ArrowFunctionExpression")||e.match(void 0,(w,S)=>S==="typeAnnotation"&&w.type==="TypePredicate",(w,S)=>S==="typeAnnotation"&&w.type==="TypeAnnotation",(w,S)=>S==="returnType"&&w.type==="ArrowFunctionExpression"))return!0;let g=p.type==="NullableTypeAnnotation"?e.grandparent:p;return g.type==="UnionTypeAnnotation"||g.type==="IntersectionTypeAnnotation"||g.type==="ArrayTypeAnnotation"||h==="objectType"&&(g.type==="IndexedAccessType"||g.type==="OptionalIndexedAccessType")||h==="checkType"&&p.type==="ConditionalTypeAnnotation"||h==="extendsType"&&p.type==="ConditionalTypeAnnotation"&&c.returnType.type==="InferTypeAnnotation"&&c.returnType.typeParameter.bound||g.type==="NullableTypeAnnotation"||p.type==="FunctionTypeParam"&&p.name===null&&Zt(c).some(w=>{var S;return((S=w.typeAnnotation)==null?void 0:S.type)==="NullableTypeAnnotation"})}case"ConditionalTypeAnnotation":if(h==="extendsType"&&p.type==="ConditionalTypeAnnotation"&&c.type==="ConditionalTypeAnnotation"||h==="checkType"&&p.type==="ConditionalTypeAnnotation")return!0;case"OptionalIndexedAccessType":return h==="objectType"&&p.type==="IndexedAccessType";case"StringLiteral":case"NumericLiteral":case"Literal":if(typeof c.value=="string"&&p.type==="ExpressionStatement"&&!p.directive){let g=e.grandparent;return g.type==="Program"||g.type==="BlockStatement"}return h==="object"&&p.type==="MemberExpression"&&typeof c.value=="number";case"AssignmentExpression":{let g=e.grandparent;return h==="body"&&p.type==="ArrowFunctionExpression"?!0:h==="key"&&(p.type==="ClassProperty"||p.type==="PropertyDefinition")&&p.computed||(h==="init"||h==="update")&&p.type==="ForStatement"?!1:p.type==="ExpressionStatement"?c.left.type==="ObjectPattern":!(h==="key"&&p.type==="TSPropertySignature"||p.type==="AssignmentExpression"||p.type==="SequenceExpression"&&g.type==="ForStatement"&&(g.init===p||g.update===p)||h==="value"&&p.type==="Property"&&g.type==="ObjectPattern"&&g.properties.includes(p)||p.type==="NGChainedExpression")}case"ConditionalExpression":switch(p.type){case"TaggedTemplateExpression":case"UnaryExpression":case"SpreadElement":case"BinaryExpression":case"LogicalExpression":case"NGPipeExpression":case"ExportDefaultDeclaration":case"AwaitExpression":case"JSXSpreadAttribute":case"TSTypeAssertion":case"TypeCastExpression":case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":return!0;case"NewExpression":case"CallExpression":case"OptionalCallExpression":return h==="callee";case"ConditionalExpression":return h==="test";case"MemberExpression":case"OptionalMemberExpression":return h==="object";default:return!1}case"FunctionExpression":switch(p.type){case"NewExpression":case"CallExpression":case"OptionalCallExpression":return h==="callee";case"TaggedTemplateExpression":return!0;default:return!1}case"ArrowFunctionExpression":switch(p.type){case"BinaryExpression":return p.operator!=="|>"||((l=c.extra)==null?void 0:l.parenthesized);case"NewExpression":case"CallExpression":case"OptionalCallExpression":return h==="callee";case"MemberExpression":case"OptionalMemberExpression":return h==="object";case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"BindExpression":case"TaggedTemplateExpression":case"UnaryExpression":case"LogicalExpression":case"AwaitExpression":case"TSTypeAssertion":return!0;case"ConditionalExpression":return h==="test";default:return!1}case"ClassExpression":switch(p.type){case"NewExpression":return h==="callee";default:return!1}case"OptionalMemberExpression":case"OptionalCallExpression":case"CallExpression":case"MemberExpression":if(z5(e))return!0;case"TaggedTemplateExpression":case"TSNonNullExpression":if(h==="callee"&&(p.type==="BindExpression"||p.type==="NewExpression")){let g=c;for(;g;)switch(g.type){case"CallExpression":case"OptionalCallExpression":return!0;case"MemberExpression":case"OptionalMemberExpression":case"BindExpression":g=g.object;break;case"TaggedTemplateExpression":g=g.tag;break;case"TSNonNullExpression":g=g.expression;break;default:return!1}}return!1;case"BindExpression":return h==="callee"&&(p.type==="BindExpression"||p.type==="NewExpression")||h==="object"&&Dt(p);case"NGPipeExpression":return!(p.type==="NGRoot"||p.type==="NGMicrosyntaxExpression"||p.type==="ObjectProperty"&&!((m=c.extra)!=null&&m.parenthesized)||Jt(p)||h==="arguments"&&ct(p)||h==="right"&&p.type==="NGPipeExpression"||h==="property"&&p.type==="MemberExpression"||p.type==="AssignmentExpression");case"JSXFragment":case"JSXElement":return h==="callee"||h==="left"&&p.type==="BinaryExpression"&&p.operator==="<"||!Jt(p)&&p.type!=="ArrowFunctionExpression"&&p.type!=="AssignmentExpression"&&p.type!=="AssignmentPattern"&&p.type!=="BinaryExpression"&&p.type!=="NewExpression"&&p.type!=="ConditionalExpression"&&p.type!=="ExpressionStatement"&&p.type!=="JsExpressionRoot"&&p.type!=="JSXAttribute"&&p.type!=="JSXElement"&&p.type!=="JSXExpressionContainer"&&p.type!=="JSXFragment"&&p.type!=="LogicalExpression"&&!ct(p)&&!go(p)&&p.type!=="ReturnStatement"&&p.type!=="ThrowStatement"&&p.type!=="TypeCastExpression"&&p.type!=="VariableDeclarator"&&p.type!=="YieldExpression";case"TSInstantiationExpression":return h==="object"&&Dt(p)}return!1}var U5=kt(["BlockStatement","BreakStatement","ClassBody","ClassDeclaration","ClassMethod","ClassProperty","PropertyDefinition","ClassPrivateProperty","ContinueStatement","DebuggerStatement","DeclareClass","DeclareExportAllDeclaration","DeclareExportDeclaration","DeclareFunction","DeclareInterface","DeclareModule","DeclareModuleExports","DeclareVariable","DeclareEnum","DoWhileStatement","EnumDeclaration","ExportAllDeclaration","ExportDefaultDeclaration","ExportNamedDeclaration","ExpressionStatement","ForInStatement","ForOfStatement","ForStatement","FunctionDeclaration","IfStatement","ImportDeclaration","InterfaceDeclaration","LabeledStatement","MethodDefinition","ReturnStatement","SwitchStatement","ThrowStatement","TryStatement","TSDeclareFunction","TSEnumDeclaration","TSImportEqualsDeclaration","TSInterfaceDeclaration","TSModuleDeclaration","TSNamespaceExportDeclaration","TypeAlias","VariableDeclaration","WhileStatement","WithStatement"]);function W5(e){let t=0,{node:s}=e;for(;s;){let n=e.getParentNode(t++);if((n==null?void 0:n.type)==="ForStatement"&&n.init===s)return!0;s=n}return!1}function j5(e){return om(e,t=>t.type==="ObjectTypeAnnotation"&&om(t,s=>s.type==="FunctionTypeAnnotation"))}function q5(e){return Sn(e)}function ba(e){let{parent:t,key:s}=e;switch(t.type){case"NGPipeExpression":if(s==="arguments"&&e.isLast)return e.callParent(ba);break;case"ObjectProperty":if(s==="value")return e.callParent(()=>e.key==="properties"&&e.isLast);break;case"BinaryExpression":case"LogicalExpression":if(s==="right")return e.callParent(ba);break;case"ConditionalExpression":if(s==="alternate")return e.callParent(ba);break;case"UnaryExpression":if(t.prefix)return e.callParent(ba);break}return!1}function W1(e,t){let{node:s,parent:n}=e;return s.type==="FunctionExpression"||s.type==="ClassExpression"?n.type==="ExportDefaultDeclaration"||!am(e,t):!Mf(s)||n.type!=="ExportDefaultDeclaration"&&am(e,t)?!1:e.call(()=>W1(e,t),...$1(s))}function z5(e){let{node:t,parent:s,grandparent:n,key:o}=e;return!!((t.type==="OptionalMemberExpression"||t.type==="OptionalCallExpression")&&(o==="object"&&s.type==="MemberExpression"||o==="callee"&&(s.type==="CallExpression"||s.type==="NewExpression")||s.type==="TSNonNullExpression"&&n.type==="MemberExpression"&&n.object===s)||e.match(()=>t.type==="CallExpression"||t.type==="MemberExpression",(i,r)=>r==="expression"&&i.type==="ChainExpression")&&(e.match(void 0,void 0,(i,r)=>r==="callee"&&(i.type==="CallExpression"&&!i.optional||i.type==="NewExpression")||r==="object"&&i.type==="MemberExpression"&&!i.optional)||e.match(void 0,void 0,(i,r)=>r==="expression"&&i.type==="TSNonNullExpression",(i,r)=>r==="object"&&i.type==="MemberExpression"))||e.match(()=>t.type==="CallExpression"||t.type==="MemberExpression",(i,r)=>r==="expression"&&i.type==="TSNonNullExpression",(i,r)=>r==="expression"&&i.type==="ChainExpression",(i,r)=>r==="object"&&i.type==="MemberExpression"))}var zr=am,H5=(e,t,s,n)=>{if(!(e&&t==null))return t.replaceAll?t.replaceAll(s,n):s.global?t.replace(s,n):t.split(s).join(n)},$s=H5;function Q5(e,t){let s=t-1;s=$r(e,s,{backwards:!0}),s=Nr(e,s,{backwards:!0}),s=$r(e,s,{backwards:!0});let n=Nr(e,s,{backwards:!0});return s!==n}var G5=Q5,Y5=()=>!0;function Vf(e,t){let s=e.node;return s.printed=!0,t.printer.printComment(e,t)}function X5(e,t){var s;let n=e.node,o=[Vf(e,t)],{printer:i,originalText:r,locStart:l,locEnd:m}=t;if((s=i.isBlockComment)!=null&&s.call(i,n)){let h=_s(r,m(n))?_s(r,l(n),{backwards:!0})?De:We:" ";o.push(h)}else o.push(De);let c=Nr(r,$r(r,m(n)));return c!==!1&&_s(r,c)&&o.push(De),o}function K5(e,t,s){var n;let o=e.node,i=Vf(e,t),{printer:r,originalText:l,locStart:m}=t,c=(n=r.isBlockComment)==null?void 0:n.call(r,o);if(s!=null&&s.hasLineSuffix&&!(s!=null&&s.isBlock)||_s(l,m(o),{backwards:!0})){let h=G5(l,m(o));return{doc:yb([De,h?De:"",i]),isBlock:c,hasLineSuffix:!0}}return!c||s!=null&&s.hasLineSuffix?{doc:[yb([" ",i]),Ro],isBlock:c,hasLineSuffix:!0}:{doc:[" ",i],isBlock:c,hasLineSuffix:!1}}function Pt(e,t,s={}){let{node:n}=e;if(!pt(n==null?void 0:n.comments))return"";let{indent:o=!1,marker:i,filter:r=Y5}=s,l=[];if(e.each(({node:c})=>{c.leading||c.trailing||c.marker!==i||!r(c)||l.push(Vf(e,t))},"comments"),l.length===0)return"";let m=rt(De,l);return o?$e([De,m]):m}function j1(e,t){let s=e.node;if(!s)return{};let n=t[Symbol.for("printedComments")];if((s.comments||[]).filter(l=>!n.has(l)).length===0)return{leading:"",trailing:""};let o=[],i=[],r;return e.each(()=>{let l=e.node;if(n!=null&&n.has(l))return;let{leading:m,trailing:c}=l;m?o.push(X5(e,t)):c&&(r=K5(e,t,r),i.push(r.doc))},"comments"),{leading:o,trailing:i}}function bn(e,t,s){let{leading:n,trailing:o}=j1(e,s);return!n&&!o?t:nm(t,i=>[n,i,o])}var J5=class extends Error{constructor(s,n,o="type"){super(`Unexpected ${n} node ${o}: ${JSON.stringify(s[o])}.`);qe(this,"name","UnexpectedNodeError");this.node=s}},Hr=J5,pu="'",Eb='"';function Z5(e,t){let s=t===!0||t===pu?pu:Eb,n=s===pu?Eb:pu,o=0,i=0;for(let r of e)r===s?o++:r===n&&i++;return o>i?n:s}var q1=Z5;function e4(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var an,t4=class{constructor(t){SW(this,an,void 0),kW(this,an,new Set(t))}getLeadingWhitespaceCount(t){let s=So(this,an),n=0;for(let o=0;o<t.length&&s.has(t.charAt(o));o++)n++;return n}getTrailingWhitespaceCount(t){let s=So(this,an),n=0;for(let o=t.length-1;o>=0&&s.has(t.charAt(o));o--)n++;return n}getLeadingWhitespace(t){let s=this.getLeadingWhitespaceCount(t);return t.slice(0,s)}getTrailingWhitespace(t){let s=this.getTrailingWhitespaceCount(t);return t.slice(t.length-s)}hasLeadingWhitespace(t){return So(this,an).has(t.charAt(0))}hasTrailingWhitespace(t){return So(this,an).has(ft(!1,t,-1))}trimStart(t){let s=this.getLeadingWhitespaceCount(t);return t.slice(s)}trimEnd(t){let s=this.getTrailingWhitespaceCount(t);return t.slice(0,t.length-s)}trim(t){return this.trimEnd(this.trimStart(t))}split(t,s=!1){let n=`[${e4([...So(this,an)].join(""))}]+`,o=new RegExp(s?`(${n})`:n);return t.split(o)}hasWhitespaceCharacter(t){let s=So(this,an);return Array.prototype.some.call(t,n=>s.has(n))}hasNonWhitespaceCharacter(t){let s=So(this,an);return Array.prototype.some.call(t,n=>!s.has(n))}isWhitespaceOnly(t){let s=So(this,an);return Array.prototype.every.call(t,n=>s.has(n))}};an=new WeakMap;var s4=t4,z1={};ad(z1,{endOfLine:()=>c4,ownLine:()=>u4,remaining:()=>d4});function n4(e,t){let s=null,n=t;for(;n!==s;)s=n,n=$r(e,n),n=_f(e,n),n=Pf(e,n),n=Nr(e,n);return n}var mi=n4;function o4(e,t){let s=mi(e,t);return s===!1?"":e.charAt(s)}var co=o4;function i4(e,t,s){for(let n=t;n<s;++n)if(e.charAt(n)===`
`)return!0;return!1}var dd=i4;function r4(e){let t=e.type||e.kind||"(unknown type)",s=String(e.name||e.id&&(typeof e.id=="object"?e.id.name:e.id)||e.key&&(typeof e.key=="object"?e.key.name:e.key)||e.value&&(typeof e.value=="object"?"":String(e.value))||e.operator||"");return s.length>20&&(s=s.slice(0,19)+"…"),t+(s?" "+s:"")}function Uf(e,t){(e.comments??(e.comments=[])).push(t),t.printed=!1,t.nodeDescription=r4(e)}function es(e,t){t.leading=!0,t.trailing=!1,Uf(e,t)}function vn(e,t,s){t.leading=!1,t.trailing=!1,s&&(t.marker=s),Uf(e,t)}function Qt(e,t){t.leading=!1,t.trailing=!0,Uf(e,t)}function a4(e){return fo(e)&&e.value[0]==="*"&&/@(?:type|satisfies)\b/.test(e.value)}var l4=a4;function u4(e){return[J1,Y1,h4,Wf,jf,H1,Q1,x4,k4,zf,K1,C4,G1,X1,qf].some(t=>t(e))}function c4(e){return[p4,Y1,m4,K1,Wf,jf,H1,Q1,X1,S4,E4,zf,A4,qf,_4].some(t=>t(e))}function d4(e){return[J1,Wf,jf,f4,T4,G1,zf,v4,b4,N4,qf,$4].some(t=>t(e))}function Mi(e,t){let s=(e.body||e.properties).find(({type:n})=>n!=="EmptyStatement");s?es(s,t):vn(e,t)}function lm(e,t){e.type==="BlockStatement"?Mi(e,t):es(e,t)}function p4({comment:e,followingNode:t}){return t&&l4(e)?(es(t,e),!0):!1}function Wf({comment:e,precedingNode:t,enclosingNode:s,followingNode:n,text:o}){if((s==null?void 0:s.type)!=="IfStatement"||!n)return!1;if(co(o,vt(e))===")")return Qt(t,e),!0;if(t===s.consequent&&n===s.alternate){if(t.type==="BlockStatement")Qt(t,e);else{let i=e.type==="SingleLine"||e.loc.start.line===e.loc.end.line,r=e.loc.start.line===t.loc.start.line;i&&r?vn(t,e,rm):vn(s,e)}return!0}return n.type==="BlockStatement"?(Mi(n,e),!0):n.type==="IfStatement"?(lm(n.consequent,e),!0):s.consequent===n?(es(n,e),!0):!1}function jf({comment:e,precedingNode:t,enclosingNode:s,followingNode:n,text:o}){return(s==null?void 0:s.type)!=="WhileStatement"||!n?!1:co(o,vt(e))===")"?(Qt(t,e),!0):n.type==="BlockStatement"?(Mi(n,e),!0):s.body===n?(es(n,e),!0):!1}function H1({comment:e,precedingNode:t,enclosingNode:s,followingNode:n}){return(s==null?void 0:s.type)!=="TryStatement"&&(s==null?void 0:s.type)!=="CatchClause"||!n?!1:s.type==="CatchClause"&&t?(Qt(t,e),!0):n.type==="BlockStatement"?(Mi(n,e),!0):n.type==="TryStatement"?(lm(n.finalizer,e),!0):n.type==="CatchClause"?(lm(n.body,e),!0):!1}function h4({comment:e,enclosingNode:t,followingNode:s}){return Dt(t)&&(s==null?void 0:s.type)==="Identifier"?(es(t,e),!0):!1}function m4({comment:e,precedingNode:t,enclosingNode:s,followingNode:n,text:o}){let i=t&&!dd(o,vt(t),Gt(e));return(!t||!i)&&((s==null?void 0:s.type)==="ConditionalExpression"||(s==null?void 0:s.type)==="TSConditionalType")&&n?(es(n,e),!0):!1}function f4({comment:e,precedingNode:t,enclosingNode:s}){return go(s)&&s.shorthand&&s.key===t&&s.value.type==="AssignmentPattern"?(Qt(s.value.left,e),!0):!1}var g4=new Set(["ClassDeclaration","ClassExpression","DeclareClass","DeclareInterface","InterfaceDeclaration","TSInterfaceDeclaration"]);function Q1({comment:e,precedingNode:t,enclosingNode:s,followingNode:n}){if(g4.has(s==null?void 0:s.type)){if(pt(s.decorators)&&(n==null?void 0:n.type)!=="Decorator")return Qt(ft(!1,s.decorators,-1),e),!0;if(s.body&&n===s.body)return Mi(s.body,e),!0;if(n){if(s.superClass&&n===s.superClass&&t&&(t===s.id||t===s.typeParameters))return Qt(t,e),!0;for(let o of["implements","extends","mixins"])if(s[o]&&n===s[o][0])return t&&(t===s.id||t===s.typeParameters||t===s.superClass)?Qt(t,e):vn(s,e,o),!0}}return!1}var y4=new Set(["ClassMethod","ClassProperty","PropertyDefinition","TSAbstractPropertyDefinition","TSAbstractMethodDefinition","TSDeclareMethod","MethodDefinition","ClassAccessorProperty","AccessorProperty","TSAbstractAccessorProperty"]);function G1({comment:e,precedingNode:t,enclosingNode:s,text:n}){return s&&t&&co(n,vt(e))==="("&&(s.type==="Property"||s.type==="TSDeclareMethod"||s.type==="TSAbstractMethodDefinition")&&t.type==="Identifier"&&s.key===t&&co(n,vt(t))!==":"||(t==null?void 0:t.type)==="Decorator"&&y4.has(s==null?void 0:s.type)?(Qt(t,e),!0):!1}var w4=new Set(["FunctionDeclaration","FunctionExpression","ClassMethod","MethodDefinition","ObjectMethod"]);function b4({comment:e,precedingNode:t,enclosingNode:s,text:n}){return co(n,vt(e))!=="("?!1:t&&w4.has(s==null?void 0:s.type)?(Qt(t,e),!0):!1}function v4({comment:e,enclosingNode:t,text:s}){if((t==null?void 0:t.type)!=="ArrowFunctionExpression")return!1;let n=mi(s,vt(e));return n!==!1&&s.slice(n,n+2)==="=>"?(vn(t,e),!0):!1}function T4({comment:e,enclosingNode:t,text:s}){return co(s,vt(e))!==")"?!1:t&&(Z1(t)&&Zt(t).length===0||Pr(t)&&Qo(t).length===0)?(vn(t,e),!0):((t==null?void 0:t.type)==="MethodDefinition"||(t==null?void 0:t.type)==="TSAbstractMethodDefinition")&&Zt(t.value).length===0?(vn(t.value,e),!0):!1}function Y1({comment:e,precedingNode:t,enclosingNode:s,followingNode:n,text:o}){if((t==null?void 0:t.type)==="FunctionTypeParam"&&(s==null?void 0:s.type)==="FunctionTypeAnnotation"&&(n==null?void 0:n.type)!=="FunctionTypeParam"||((t==null?void 0:t.type)==="Identifier"||(t==null?void 0:t.type)==="AssignmentPattern"||(t==null?void 0:t.type)==="ObjectPattern"||(t==null?void 0:t.type)==="ArrayPattern"||(t==null?void 0:t.type)==="RestElement")&&s&&Z1(s)&&co(o,vt(e))===")")return Qt(t,e),!0;if((s==null?void 0:s.type)==="FunctionDeclaration"&&(n==null?void 0:n.type)==="BlockStatement"){let i=(()=>{let r=Zt(s);if(r.length>0)return mi(o,vt(ft(!1,r,-1)));let l=mi(o,vt(s.id));return l!==!1&&mi(o,l+1)})();if(Gt(e)>i)return Mi(n,e),!0}return!1}function X1({comment:e,enclosingNode:t}){return(t==null?void 0:t.type)==="LabeledStatement"?(es(t,e),!0):!1}function qf({comment:e,enclosingNode:t}){return((t==null?void 0:t.type)==="ContinueStatement"||(t==null?void 0:t.type)==="BreakStatement")&&!t.label?(Qt(t,e),!0):!1}function S4({comment:e,precedingNode:t,enclosingNode:s}){return ct(s)&&t&&s.callee===t&&s.arguments.length>0?(es(s.arguments[0],e),!0):!1}function k4({comment:e,precedingNode:t,enclosingNode:s,followingNode:n}){return(s==null?void 0:s.type)==="UnionTypeAnnotation"||(s==null?void 0:s.type)==="TSUnionType"?(gc(e)&&(n.prettierIgnore=!0,e.unignore=!0),t?(Qt(t,e),!0):!1):(((n==null?void 0:n.type)==="UnionTypeAnnotation"||(n==null?void 0:n.type)==="TSUnionType")&&gc(e)&&(n.types[0].prettierIgnore=!0,e.unignore=!0),!1)}function E4({comment:e,enclosingNode:t}){return go(t)?(es(t,e),!0):!1}function zf({comment:e,enclosingNode:t,followingNode:s,ast:n,isLastComment:o}){var i;return((i=n==null?void 0:n.body)==null?void 0:i.length)===0?(o?vn(n,e):es(n,e),!0):(t==null?void 0:t.type)==="Program"&&t.body.length===0&&!pt(t.directives)?(o?vn(t,e):es(t,e),!0):(s==null?void 0:s.type)==="Program"&&s.body.length===0&&(t==null?void 0:t.type)==="ModuleExpression"?(vn(s,e),!0):!1}function x4({comment:e,enclosingNode:t}){return(t==null?void 0:t.type)==="ForInStatement"||(t==null?void 0:t.type)==="ForOfStatement"?(es(t,e),!0):!1}function K1({comment:e,precedingNode:t,enclosingNode:s,text:n}){if((s==null?void 0:s.type)==="ImportSpecifier"||(s==null?void 0:s.type)==="ExportSpecifier")return es(s,e),!0;let o=(t==null?void 0:t.type)==="ImportSpecifier"&&(s==null?void 0:s.type)==="ImportDeclaration",i=(t==null?void 0:t.type)==="ExportSpecifier"&&(s==null?void 0:s.type)==="ExportNamedDeclaration";return(o||i)&&_s(n,vt(e))?(Qt(t,e),!0):!1}function C4({comment:e,enclosingNode:t}){return(t==null?void 0:t.type)==="AssignmentPattern"?(es(t,e),!0):!1}var O4=new Set(["VariableDeclarator","AssignmentExpression","TypeAlias","TSTypeAliasDeclaration"]),D4=new Set(["ObjectExpression","RecordExpression","ArrayExpression","TupleExpression","TemplateLiteral","TaggedTemplateExpression","ObjectTypeAnnotation","TSTypeLiteral"]);function A4({comment:e,enclosingNode:t,followingNode:s}){return O4.has(t==null?void 0:t.type)&&s&&(D4.has(s.type)||fo(e))?(es(s,e),!0):!1}function $4({comment:e,enclosingNode:t,followingNode:s,text:n}){return!s&&((t==null?void 0:t.type)==="TSMethodSignature"||(t==null?void 0:t.type)==="TSDeclareFunction"||(t==null?void 0:t.type)==="TSAbstractMethodDefinition")&&co(n,vt(e))===";"?(Qt(t,e),!0):!1}function J1({comment:e,enclosingNode:t,followingNode:s}){if(gc(e)&&(t==null?void 0:t.type)==="TSMappedType"&&(s==null?void 0:s.type)==="TSTypeParameter"&&s.constraint)return t.prettierIgnore=!0,e.unignore=!0,!0}function N4({comment:e,precedingNode:t,enclosingNode:s,followingNode:n}){return(s==null?void 0:s.type)!=="TSMappedType"?!1:(n==null?void 0:n.type)==="TSTypeParameter"&&n.name?(es(n.name,e),!0):(t==null?void 0:t.type)==="TSTypeParameter"&&t.constraint?(Qt(t.constraint,e),!0):!1}function _4({comment:e,enclosingNode:t,followingNode:s}){return!t||t.type!=="SwitchCase"||t.test||!s||s!==t.consequent[0]?!1:(s.type==="BlockStatement"&&Lf(e)?Mi(s,e):vn(t,e),!0)}var Z1=kt(["ArrowFunctionExpression","FunctionExpression","FunctionDeclaration","ObjectMethod","ClassMethod","TSDeclareFunction","TSCallSignatureDeclaration","TSConstructSignatureDeclaration","TSMethodSignature","TSConstructorType","TSFunctionType","TSDeclareMethod"]);function P4(e){let t=`*${e.value}*`.split(`
`);return t.length>1&&t.every(s=>s.trimStart()[0]==="*")}var I4=P4;function M4(e,t){let s=e.node;if(Lf(s))return t.originalText.slice(Gt(s),vt(s)).trimEnd();if(fo(s))return I4(s)?L4(s):["/*",vi(s.value),"*/"];throw new Error("Not a comment: "+JSON.stringify(s))}function L4(e){let t=e.value.split(`
`);return["/*",rt(De,t.map((s,n)=>n===0?s.trimEnd():" "+(n<t.length-1?s.trim():s.trimStart()))),"*/"]}var F4=new Set(["EmptyStatement","TemplateElement","Import","TSEmptyBodyFunctionExpression","ChainExpression"]);function B4(e){return!F4.has(e.type)}function R4(e,t){var s;if((t.parser==="typescript"||t.parser==="flow"||t.parser==="acorn"||t.parser==="espree"||t.parser==="meriyah"||t.parser==="__babel_estree")&&e.type==="MethodDefinition"&&((s=e.value)==null?void 0:s.type)==="FunctionExpression"&&Zt(e.value).length===0&&!e.value.returnType&&!pt(e.value.typeParameters)&&e.value.body)return[...e.decorators||[],e.key,e.value.body]}function ek(e){let{node:t,parent:s}=e;return(os(t)||s&&(s.type==="JSXSpreadAttribute"||s.type==="JSXSpreadChild"||s.type==="UnionTypeAnnotation"||s.type==="TSUnionType"||(s.type==="ClassDeclaration"||s.type==="ClassExpression")&&s.superClass===t))&&(!cd(t)||s.type==="UnionTypeAnnotation"||s.type==="TSUnionType")}function V4(e,{parser:t}){if(t==="flow"||t==="babel-flow")return e=$s(!1,e,/[\s(]/g,""),e===""||e==="/*"||e==="/*::"}var Wu=new s4(` 
\r	`),Gp=e=>e===""||e===We||e===De||e===Oe;function U4(e,t,s){var n,o,i;let{node:r}=e;if(r.type==="JSXElement"&&s9(r))return[s("openingElement"),s("closingElement")];let l=r.type==="JSXElement"?s("openingElement"):s("openingFragment"),m=r.type==="JSXElement"?s("closingElement"):s("closingFragment");if(r.children.length===1&&r.children[0].type==="JSXExpressionContainer"&&(r.children[0].expression.type==="TemplateLiteral"||r.children[0].expression.type==="TaggedTemplateExpression"))return[l,...e.map(s,"children"),m];r.children=r.children.map(I=>n9(I)?{type:"JSXText",value:" ",raw:" "}:I);let c=r.children.some(os),h=r.children.filter(I=>I.type==="JSXExpressionContainer").length>1,p=r.type==="JSXElement"&&r.openingElement.attributes.length>1,g=cs(l)||c||p||h,w=e.parent.rootMarker==="mdx",S=t.singleQuote?"{' '}":'{" "}',k=w?" ":dt([S,Oe]," "),O=((o=(n=r.openingElement)==null?void 0:n.name)==null?void 0:o.name)==="fbt",C=W4(e,t,s,k,O),A=r.children.some(I=>Qa(I));for(let I=C.length-2;I>=0;I--){let j=C[I]===""&&C[I+1]==="",q=C[I]===De&&C[I+1]===""&&C[I+2]===De,Q=(C[I]===Oe||C[I]===De)&&C[I+1]===""&&C[I+2]===k,X=C[I]===k&&C[I+1]===""&&(C[I+2]===Oe||C[I+2]===De),U=C[I]===k&&C[I+1]===""&&C[I+2]===k,ne=C[I]===Oe&&C[I+1]===""&&C[I+2]===De||C[I]===De&&C[I+1]===""&&C[I+2]===Oe;q&&A||j||Q||U||ne?C.splice(I,2):X&&C.splice(I+1,2)}for(;C.length>0&&Gp(ft(!1,C,-1));)C.pop();for(;C.length>1&&Gp(C[0])&&Gp(C[1]);)C.shift(),C.shift();let T=[];for(let[I,j]of C.entries()){if(j===k){if(I===1&&C[I-1]===""){if(C.length===2){T.push(S);continue}T.push([S,De]);continue}else if(I===C.length-1){T.push(S);continue}else if(C[I-1]===""&&C[I-2]===De){T.push(S);continue}}T.push(j),cs(j)&&(g=!0)}let F=A?Af(T):ye(T,{shouldBreak:!0});if(((i=t.cursorNode)==null?void 0:i.type)==="JSXText"&&r.children.includes(t.cursorNode)&&(F=[wb,F,wb]),w)return F;let L=ye([l,$e([De,F]),De,m]);return g?L:li([ye([l,...C,m]),L])}function W4(e,t,s,n,o){let i=[];return e.each(({node:r,next:l})=>{if(r.type==="JSXText"){let m=sn(r);if(Qa(r)){let c=Wu.split(m,!0);c[0]===""&&(i.push(""),c.shift(),/\n/.test(c[0])?i.push(Cb(o,c[1],r,l)):i.push(n),c.shift());let h;if(ft(!1,c,-1)===""&&(c.pop(),h=c.pop()),c.length===0)return;for(let[p,g]of c.entries())p%2===1?i.push(We):i.push(g);h!==void 0?/\n/.test(h)?i.push(Cb(o,ft(!1,i,-1),r,l)):i.push(n):i.push(xb(o,ft(!1,i,-1),r,l))}else/\n/.test(m)?m.match(/\n/g).length>1&&i.push("",De):i.push("",n)}else{let m=s();if(i.push(m),l&&Qa(l)){let c=Wu.trim(sn(l)),[h]=Wu.split(c);i.push(xb(o,h,r,l))}else i.push(De)}},"children"),i}function xb(e,t,s,n){return e?"":s.type==="JSXElement"&&!s.closingElement||(n==null?void 0:n.type)==="JSXElement"&&!n.closingElement?t.length===1?Oe:De:Oe}function Cb(e,t,s,n){return e?De:t.length===1?s.type==="JSXElement"&&!s.closingElement||(n==null?void 0:n.type)==="JSXElement"&&!n.closingElement?De:Oe:De}var j4=new Set(["ArrayExpression","TupleExpression","JSXAttribute","JSXElement","JSXExpressionContainer","JSXFragment","ExpressionStatement","CallExpression","OptionalCallExpression","ConditionalExpression","JsExpressionRoot"]);function q4(e,t,s){let{parent:n}=e;if(j4.has(n.type))return t;let o=e.match(void 0,r=>r.type==="ArrowFunctionExpression",ct,r=>r.type==="JSXExpressionContainer"),i=zr(e,s);return ye([i?"":dt("("),$e([Oe,t]),Oe,i?"":dt(")")],{shouldBreak:o})}function z4(e,t,s){let{node:n}=e,o=[];if(o.push(s("name")),n.value){let i;if(Ps(n.value)){let r=sn(n.value),l=$s(!1,$s(!1,r.slice(1,-1),"&apos;","'"),"&quot;",'"'),m=q1(l,t.jsxSingleQuote);l=m==='"'?$s(!1,l,'"',"&quot;"):$s(!1,l,"'","&apos;"),i=e.call(()=>bn(e,vi(m+l+m),t),"value")}else i=s("value");o.push("=",i)}return o}function H4(e,t,s){let{node:n}=e,o=(i,r)=>i.type==="JSXEmptyExpression"||!Fe(i)&&(Jt(i)||Sn(i)||i.type==="ArrowFunctionExpression"||i.type==="AwaitExpression"&&(o(i.argument,i)||i.argument.type==="JSXElement")||ct(i)||i.type==="ChainExpression"&&ct(i.expression)||i.type==="FunctionExpression"||i.type==="TemplateLiteral"||i.type==="TaggedTemplateExpression"||i.type==="DoExpression"||os(r)&&(i.type==="ConditionalExpression"||uo(i)));return o(n.expression,e.parent)?ye(["{",s("expression"),lo,"}"]):ye(["{",$e([Oe,s("expression")]),Oe,lo,"}"])}function Q4(e,t,s){var n,o;let{node:i}=e,r=Fe(i.name)||Fe(i.typeParameters);if(i.selfClosing&&i.attributes.length===0&&!r)return["<",s("name"),s("typeParameters")," />"];if(((n=i.attributes)==null?void 0:n.length)===1&&i.attributes[0].value&&Ps(i.attributes[0].value)&&!i.attributes[0].value.value.includes(`
`)&&!r&&!Fe(i.attributes[0]))return ye(["<",s("name"),s("typeParameters")," ",...e.map(s,"attributes"),i.selfClosing?" />":">"]);let l=(o=i.attributes)==null?void 0:o.some(c=>c.value&&Ps(c.value)&&c.value.value.includes(`
`)),m=t.singleAttributePerLine&&i.attributes.length>1?De:We;return ye(["<",s("name"),s("typeParameters"),$e(e.map(()=>[m,s()],"attributes")),...G4(i,t,r)],{shouldBreak:l})}function G4(e,t,s){return e.selfClosing?[We,"/>"]:Y4(e,t,s)?[">"]:[Oe,">"]}function Y4(e,t,s){let n=e.attributes.length>0&&Fe(ft(!1,e.attributes,-1),ze.Trailing);return e.attributes.length===0&&!s||(t.bracketSameLine||t.jsxBracketSameLine)&&(!s||e.attributes.length>0)&&!n}function X4(e,t,s){let{node:n}=e,o=[];o.push("</");let i=s("name");return Fe(n.name,ze.Leading|ze.Line)?o.push($e([De,i]),De):Fe(n.name,ze.Leading|ze.Block)?o.push(" ",i):o.push(i),o.push(">"),o}function K4(e,t){let{node:s}=e,n=Fe(s),o=Fe(s,ze.Line),i=s.type==="JSXOpeningFragment";return[i?"<":"</",$e([o?De:n&&!i?" ":"",Pt(e,t)]),o?De:"",">"]}function J4(e,t,s){let n=bn(e,U4(e,t,s),t);return q4(e,n,t)}function Z4(e,t){let{node:s}=e,n=Fe(s,ze.Line);return[Pt(e,t,{indent:n}),n?De:""]}function e9(e,t,s){let{node:n}=e;return["{",e.call(({node:o})=>{let i=["...",s()];return!Fe(o)||!ek(e)?i:[$e([Oe,bn(e,i,t)]),Oe]},n.type==="JSXSpreadAttribute"?"argument":"expression"),"}"]}function t9(e,t,s){let{node:n}=e;if(n.type.startsWith("JSX"))switch(n.type){case"JSXAttribute":return z4(e,t,s);case"JSXIdentifier":return n.name;case"JSXNamespacedName":return rt(":",[s("namespace"),s("name")]);case"JSXMemberExpression":return rt(".",[s("object"),s("property")]);case"JSXSpreadAttribute":case"JSXSpreadChild":return e9(e,t,s);case"JSXExpressionContainer":return H4(e,t,s);case"JSXFragment":case"JSXElement":return J4(e,t,s);case"JSXOpeningElement":return Q4(e,t,s);case"JSXClosingElement":return X4(e,t,s);case"JSXOpeningFragment":case"JSXClosingFragment":return K4(e,t);case"JSXEmptyExpression":return Z4(e,t);case"JSXText":throw new Error("JSXText should be handled by JSXElement");default:throw new Hr(n,"JSX")}}function s9(e){if(e.children.length===0)return!0;if(e.children.length>1)return!1;let t=e.children[0];return t.type==="JSXText"&&!Qa(t)}function Qa(e){return e.type==="JSXText"&&(Wu.hasNonWhitespaceCharacter(sn(e))||!/\n/.test(sn(e)))}function n9(e){return e.type==="JSXExpressionContainer"&&Ps(e.expression)&&e.expression.value===" "&&!Fe(e.expression)}function o9(e){let{node:t,parent:s}=e;if(!os(t)||!os(s))return!1;let{index:n,siblings:o}=e,i;for(let r=n;r>0;r--){let l=o[r-1];if(!(l.type==="JSXText"&&!Qa(l))){i=l;break}}return(i==null?void 0:i.type)==="JSXExpressionContainer"&&i.expression.type==="JSXEmptyExpression"&&cd(i.expression)}function i9(e){return cd(e.node)||o9(e)}var tk=i9,r9=0;function sk(e,t,s){var n;let{node:o,parent:i,grandparent:r,key:l}=e,m=l!=="body"&&(i.type==="IfStatement"||i.type==="WhileStatement"||i.type==="SwitchStatement"||i.type==="DoWhileStatement"),c=o.operator==="|>"&&((n=e.root.extra)==null?void 0:n.__isUsingHackPipeline),h=um(e,s,t,!1,m);if(m)return h;if(c)return ye(h);if(ct(i)&&i.callee===o||i.type==="UnaryExpression"||Dt(i)&&!i.computed)return ye([$e([Oe,...h]),Oe]);let p=i.type==="ReturnStatement"||i.type==="ThrowStatement"||i.type==="JSXExpressionContainer"&&r.type==="JSXAttribute"||o.operator!=="|"&&i.type==="JsExpressionRoot"||o.type!=="NGPipeExpression"&&(i.type==="NGRoot"&&t.parser==="__ng_binding"||i.type==="NGMicrosyntaxExpression"&&r.type==="NGMicrosyntax"&&r.body.length===1)||o===i.body&&i.type==="ArrowFunctionExpression"||o!==i.body&&i.type==="ForStatement"||i.type==="ConditionalExpression"&&r.type!=="ReturnStatement"&&r.type!=="ThrowStatement"&&!ct(r)||i.type==="TemplateLiteral",g=i.type==="AssignmentExpression"||i.type==="VariableDeclarator"||i.type==="ClassProperty"||i.type==="PropertyDefinition"||i.type==="TSAbstractPropertyDefinition"||i.type==="ClassPrivateProperty"||go(i),w=uo(o.left)&&Bf(o.operator,o.left.operator);if(p||Ga(o)&&!w||!Ga(o)&&g)return ye(h);if(h.length===0)return"";let S=os(o.right),k=h.findIndex(L=>typeof L!="string"&&!Array.isArray(L)&&L.type===tn),O=h.slice(0,k===-1?1:k+1),C=h.slice(O.length,S?-1:void 0),A=Symbol("logicalChain-"+ ++r9),T=ye([...O,$e(C)],{id:A});if(!S)return T;let F=ft(!1,h,-1);return ye([T,ld(F,{groupId:A})])}function um(e,t,s,n,o){var i;let{node:r}=e;if(!uo(r))return[ye(t())];let l=[];Bf(r.operator,r.left.operator)?l=e.call(O=>um(O,t,s,!0,o),"left"):l.push(ye(t("left")));let m=Ga(r),c=(r.operator==="|>"||r.type==="NGPipeExpression"||a9(e,s))&&!Ti(s.originalText,r.right),h=r.type==="NGPipeExpression"?"|":r.operator,p=r.type==="NGPipeExpression"&&r.arguments.length>0?ye($e([Oe,": ",rt([We,": "],e.map(()=>wn(2,ye(t())),"arguments"))])):"",g;if(m)g=[h," ",t("right"),p];else{let O=h==="|>"&&((i=e.root.extra)!=null&&i.__isUsingHackPipeline)?e.call(C=>um(C,t,s,!0,o),"right"):t("right");g=[c?We:"",h,c?" ":We,O,p]}let{parent:w}=e,S=Fe(r.left,ze.Trailing|ze.Line),k=S||!(o&&r.type==="LogicalExpression")&&w.type!==r.type&&r.left.type!==r.type&&r.right.type!==r.type;if(l.push(c?"":" ",k?ye(g,{shouldBreak:S}):g),n&&Fe(r)){let O=$f(bn(e,l,s));return Array.isArray(O)||O.type===Wn?E1(O):[O]}return l}function Ga(e){return e.type!=="LogicalExpression"?!1:!!(Sn(e.right)&&e.right.properties.length>0||Jt(e.right)&&e.right.elements.length>0||os(e.right))}var Ob=e=>e.type==="BinaryExpression"&&e.operator==="|";function a9(e,t){return(t.parser==="__vue_expression"||t.parser==="__vue_ts_expression")&&Ob(e.node)&&!e.hasAncestor(s=>!Ob(s)&&s.type!=="JsExpressionRoot")}var yc=class extends Error{constructor(){super(...arguments);qe(this,"name","ArgExpansionBailout")}};function l9(e,t,s,n){let{node:o}=e;return Fe(o,ze.Dangling)?ye([s,Pt(e,t,{indent:!0}),Oe,n]):[s,n]}function Hf(e,t,s){let{node:n}=e,o=[],i=n.type==="TupleExpression"?"#[":"[",r="]",l=n.type==="TupleTypeAnnotation"&&n.types?"types":n.type==="TSTupleType"||n.type==="TupleTypeAnnotation"?"elementTypes":"elements",m=n[l];if(m.length===0)o.push(l9(e,t,i,r));else{let c=ft(!1,m,-1),h=(c==null?void 0:c.type)!=="RestElement",p=c===null,g=Symbol("array"),w=!t.__inJestEach&&m.length>1&&m.every((O,C,A)=>{let T=O==null?void 0:O.type;if(!Jt(O)&&!Sn(O))return!1;let F=A[C+1];if(F&&T!==F.type)return!1;let L=Jt(O)?"elements":"properties";return O[L]&&O[L].length>1}),S=nk(n,t),k=h?p?",":Ho(t)?S?dt(",","",{groupId:g}):dt(","):"":"";o.push(ye([i,$e([Oe,S?c9(e,t,s,k):[u9(e,t,l,s),k],Pt(e,t)]),Oe,r],{shouldBreak:w,id:g}))}return o.push(ps(e),Kt(e,s)),o}function nk(e,t){return Jt(e)&&e.elements.length>1&&e.elements.every(s=>s&&(Vo(s)||N1(s)&&!Fe(s.argument))&&!Fe(s,ze.Trailing|ze.Line,n=>!_s(t.originalText,Gt(n),{backwards:!0})))}function ok({node:e},{originalText:t}){let s=o=>_f(t,Pf(t,o)),n=o=>t[o]===","?o:n(s(o+1));return If(t,n(vt(e)))}function u9(e,t,s,n){let o=[];return e.each(({node:i,isLast:r})=>{o.push(i?ye(n()):""),r||o.push([",",We,i&&ok(e,t)?Oe:""])},s),o}function c9(e,t,s,n){let o=[];return e.each(({isLast:i,next:r})=>{o.push([s(),i?n:","]),i||o.push(ok(e,t)?[De,De]:Fe(r,ze.Leading|ze.Line)?De:We)},"elements"),Af(o)}function d9(e,t,s){let{node:n}=e,o=Qo(n);if(o.length===0)return["(",Pt(e,t),")"];if(m9(o))return["(",s(["arguments",0]),", ",s(["arguments",1]),")"];let i=!1,r=o.length-1,l=[];V1(e,({node:p},g)=>{let w=s();g===r||(Go(p,t)?(i=!0,w=[w,",",De,De]):w=[w,",",We]),l.push(w)});let m=!(n.type==="ImportExpression"||n.callee.type==="Import")&&Ho(t,"all")?",":"";function c(){return ye(["(",$e([We,...l]),m,We,")"],{shouldBreak:!0})}if(i||e.parent.type!=="Decorator"&&I5(o))return c();if(h9(o)){let p=l.slice(1);if(p.some(cs))return c();let g;try{g=s(kb(n,0),{expandFirstArg:!0})}catch(w){if(w instanceof yc)return c();throw w}return cs(g)?[Ro,li([["(",ye(g,{shouldBreak:!0}),", ",...p,")"],c()])]:li([["(",g,", ",...p,")"],["(",ye(g,{shouldBreak:!0}),", ",...p,")"],c()])}if(p9(o,l,t)){let p=l.slice(0,-1);if(p.some(cs))return c();let g;try{g=s(kb(n,-1),{expandLastArg:!0})}catch(w){if(w instanceof yc)return c();throw w}return cs(g)?[Ro,li([["(",...p,ye(g,{shouldBreak:!0}),")"],c()])]:li([["(",...p,g,")"],["(",...p,ye(g,{shouldBreak:!0}),")"],c()])}let h=["(",$e([Oe,...l]),dt(m),Oe,")"];return R1(e)?h:ye(h,{shouldBreak:l.some(cs)||i})}function Aa(e,t=!1){return Sn(e)&&(e.properties.length>0||Fe(e))||Jt(e)&&(e.elements.length>0||Fe(e))||e.type==="TSTypeAssertion"&&Aa(e.expression)||Fo(e)&&Aa(e.expression)||e.type==="FunctionExpression"||e.type==="ArrowFunctionExpression"&&(!e.returnType||!e.returnType.typeAnnotation||e.returnType.typeAnnotation.type!=="TSTypeReference"||f9(e.body))&&(e.body.type==="BlockStatement"||e.body.type==="ArrowFunctionExpression"&&Aa(e.body,!0)||Sn(e.body)||Jt(e.body)||!t&&(ct(e.body)||e.body.type==="ConditionalExpression")||os(e.body))||e.type==="DoExpression"||e.type==="ModuleExpression"}function p9(e,t,s){var n,o;let i=ft(!1,e,-1);if(e.length===1){let l=ft(!1,t,-1);if((n=l.label)!=null&&n.embed&&((o=l.label)==null?void 0:o.hug)!==!1)return!0}let r=ft(!1,e,-2);return!Fe(i,ze.Leading)&&!Fe(i,ze.Trailing)&&Aa(i)&&(!r||r.type!==i.type)&&(e.length!==2||r.type!=="ArrowFunctionExpression"||!Jt(i))&&!(e.length>1&&nk(i,s))}function h9(e){if(e.length!==2)return!1;let[t,s]=e;return t.type==="ModuleExpression"&&g9(s)?!0:!Fe(t)&&(t.type==="FunctionExpression"||t.type==="ArrowFunctionExpression"&&t.body.type==="BlockStatement")&&s.type!=="FunctionExpression"&&s.type!=="ArrowFunctionExpression"&&s.type!=="ConditionalExpression"&&ik(s)&&!Aa(s)}function ik(e){var t;if(e.type==="ParenthesizedExpression")return ik(e.expression);if(Fo(e)||e.type==="TypeCastExpression"){let{typeAnnotation:s}=e;return s.type==="TypeAnnotation"&&(s=s.typeAnnotation),s.type==="TSArrayType"&&(s=s.elementType,s.type==="TSArrayType"&&(s=s.elementType)),(s.type==="GenericTypeAnnotation"||s.type==="TSTypeReference")&&((t=s.typeParameters)==null?void 0:t.params.length)===1&&(s=s.typeParameters.params[0]),Ff(s)&&pn(e.expression,1)}return Pr(e)&&Qo(e).length>1?!1:uo(e)?pn(e.left,1)&&pn(e.right,1):_1(e)||pn(e)}function m9(e){return e.length===2&&e[0].type==="ArrowFunctionExpression"&&Zt(e[0]).length===0&&e[0].body.type==="BlockStatement"&&e[1].type==="ArrayExpression"&&!e.some(t=>Fe(t))}function f9(e){return e.type==="BlockStatement"&&(e.body.some(t=>t.type!=="EmptyStatement")||Fe(e,ze.Dangling))}function g9(e){return e.type==="ObjectExpression"&&e.properties.length===1&&go(e.properties[0])&&e.properties[0].key.type==="Identifier"&&e.properties[0].key.name==="type"&&Ps(e.properties[0].value)&&e.properties[0].value.value==="module"}var cm=d9;function y9(e,t,s){var n;let o=s("object"),i=rk(e,t,s),{node:r,parent:l}=e,m=e.findAncestor(h=>!(Dt(h)||h.type==="TSNonNullExpression")),c=m&&(m.type==="NewExpression"||m.type==="BindExpression"||m.type==="AssignmentExpression"&&m.left.type!=="Identifier")||r.computed||r.object.type==="Identifier"&&r.property.type==="Identifier"&&!Dt(l)||(l.type==="AssignmentExpression"||l.type==="VariableDeclarator")&&(ct(r.object)&&r.object.arguments.length>0||r.object.type==="TSNonNullExpression"&&ct(r.object.expression)&&r.object.expression.arguments.length>0||((n=o.label)==null?void 0:n.memberChain));return Sl(o.label,[o,c?i:ye($e([Oe,i]))])}function rk(e,t,s){let n=s("property"),{node:o}=e,i=ps(e);return o.computed?!o.property||Vo(o.property)?[i,"[",n,"]"]:ye([i,"[",$e([Oe,n]),Oe,"]"]):[i,".",n]}function w9(e,t,s){let{parent:n}=e,o=!n||n.type==="ExpressionStatement",i=[];function r(M){let{originalText:z}=t,K=mi(z,vt(M));return z.charAt(K)===")"?K!==!1&&If(z,K+1):Go(M,t)}function l(M){let{node:z}=M;ct(z)&&(ar(z.callee)||ct(z.callee))?(i.unshift({node:z,printed:[bn(M,[ps(M),Si(M,t,s),cm(M,t,s)],t),r(z)?De:""]}),M.call(K=>l(K),"callee")):ar(z)?(i.unshift({node:z,needsParens:zr(M,t),printed:bn(M,Dt(z)?rk(M,t,s):Dk(M,t,s),t)}),M.call(K=>l(K),"object")):z.type==="TSNonNullExpression"?(i.unshift({node:z,printed:bn(M,"!",t)}),M.call(K=>l(K),"expression")):i.unshift({node:z,printed:s()})}let{node:m}=e;i.unshift({node:m,printed:[ps(e),Si(e,t,s),cm(e,t,s)]}),m.callee&&e.call(M=>l(M),"callee");let c=[],h=[i[0]],p=1;for(;p<i.length&&(i[p].node.type==="TSNonNullExpression"||ct(i[p].node)||Dt(i[p].node)&&i[p].node.computed&&Vo(i[p].node.property));++p)h.push(i[p]);if(!ct(i[0].node))for(;p+1<i.length&&ar(i[p].node)&&ar(i[p+1].node);++p)h.push(i[p]);c.push(h),h=[];let g=!1;for(;p<i.length;++p){if(g&&ar(i[p].node)){if(i[p].node.computed&&Vo(i[p].node.property)){h.push(i[p]);continue}c.push(h),h=[],g=!1}(ct(i[p].node)||i[p].node.type==="ImportExpression")&&(g=!0),h.push(i[p]),Fe(i[p].node,ze.Trailing)&&(c.push(h),h=[],g=!1)}h.length>0&&c.push(h);function w(M){return/^[A-Z]|^[$_]+$/.test(M)}function S(M){return M.length<=t.tabWidth}function k(M){var z;let K=(z=M[1][0])==null?void 0:z.node.computed;if(M[0].length===1){let ve=M[0][0].node;return ve.type==="ThisExpression"||ve.type==="Identifier"&&(w(ve.name)||o&&S(ve.name)||K)}let oe=ft(!1,M[0],-1).node;return Dt(oe)&&oe.property.type==="Identifier"&&(w(oe.property.name)||K)}let O=c.length>=2&&!Fe(c[1][0].node)&&k(c);function C(M){let z=M.map(K=>K.printed);return M.length>0&&ft(!1,M,-1).needsParens?["(",...z,")"]:z}function A(M){return M.length===0?"":$e(ye([De,rt(De,M.map(C))]))}let T=c.map(C),F=T,L=O?3:2,I=c.flat(),j=I.slice(1,-1).some(M=>Fe(M.node,ze.Leading))||I.slice(0,-1).some(M=>Fe(M.node,ze.Trailing))||c[L]&&Fe(c[L][0].node,ze.Leading);if(c.length<=L&&!j)return R1(e)?F:ye(F);let q=ft(!1,c[O?1:0],-1).node,Q=!ct(q)&&r(q),X=[C(c[0]),O?c.slice(1,2).map(C):"",Q?De:"",A(c.slice(O?2:1))],U=i.map(({node:M})=>M).filter(ct);function ne(){let M=ft(!1,ft(!1,c,-1),-1).node,z=ft(!1,T,-1);return ct(M)&&cs(z)&&U.slice(0,-1).some(K=>K.arguments.some(Ha))}let ie;return j||U.length>2&&U.some(M=>!M.arguments.every(z=>pn(z)))||T.slice(0,-1).some(cs)||ne()?ie=ye(X):ie=[cs(F)||Q?Ro:"",li([F,X])],Sl({memberChain:!0},ie)}var b9=w9;function ak(e,t,s){var n;let{node:o,parent:i}=e,r=o.type==="NewExpression",l=o.type==="ImportExpression",m=ps(e),c=Qo(o),h=c.length===1&&F1(c[0],t.originalText);if(h||c.length>0&&!r&&!l&&(v9(o,i)||ud(o,i))){let g=[];if(V1(e,()=>{g.push(s())}),!(h&&(n=g[0].label)!=null&&n.embed))return[r?"new ":"",s("callee"),m,Si(e,t,s),"(",rt(", ",g),")"]}if(!l&&!r&&ar(o.callee)&&!e.call(g=>zr(g,t),"callee"))return b9(e,t,s);let p=[r?"new ":"",l?"import":s("callee"),m,Si(e,t,s),cm(e,t,s)];return l||ct(o.callee)?ye(p):p}function v9(e,t){if(e.callee.type!=="Identifier")return!1;if(e.callee.name==="require")return!0;if(e.callee.name==="define"){let s=Qo(e);return t.type==="ExpressionStatement"&&(s.length===1||s.length===2&&s[0].type==="ArrayExpression"||s.length===3&&Ps(s[0])&&s[1].type==="ArrayExpression")}return!1}function T9(e,t,s){let n=t==='"'?"'":'"',o=$s(!1,e,/\\(.)|(["'])/gs,(i,r,l)=>r===n?r:l===t?"\\"+l:l||(s&&/^[^\n\r"'0-7\\bfnrt-vx\u2028\u2029]$/.test(r)?r:"\\"+r));return t+o+t}var S9=T9;function k9(e,t){let s=e.slice(1,-1),n=t.parser==="json"||t.parser==="json5"&&t.quoteProps==="preserve"&&!t.singleQuote?'"':t.__isInHtmlAttribute?"'":q1(s,t.singleQuote);return S9(s,n,!(t.parser==="css"||t.parser==="less"||t.parser==="scss"||t.__embeddedInHtml))}var wc=k9;function E9(e){return e.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(?=\d)/,"$1$2").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e|$)/,"")}var Po=E9;function x9(e,t){let{node:s}=e;switch(s.type){case"RegExpLiteral":return Db(s);case"BigIntLiteral":return dm(s.extra.raw);case"NumericLiteral":return Po(s.extra.raw);case"StringLiteral":return vi(wc(s.extra.raw,t));case"NullLiteral":return"null";case"BooleanLiteral":return String(s.value);case"DecimalLiteral":return Po(s.value)+"m";case"DirectiveLiteral":return Ab(s.extra.raw,t);case"Literal":{if(s.regex)return Db(s.regex);if(s.bigint)return dm(s.raw);if(s.decimal)return Po(s.decimal)+"m";let{value:n}=s;return typeof n=="number"?Po(s.raw):typeof n=="string"?C9(e)?Ab(s.raw,t):vi(wc(s.raw,t)):String(n)}}}function C9(e){if(e.key!=="expression")return;let{parent:t}=e;return t.type==="ExpressionStatement"&&t.directive}function dm(e){return e.toLowerCase()}function Db({pattern:e,flags:t}){return t=[...t].sort().join(""),`/${e}/${t}`}function Ab(e,t){let s=e.slice(1,-1);if(s.includes('"')||s.includes("'"))return e;let n=t.singleQuote?"'":'"';return n+s+n}var lk=kt(["Literal","BigIntLiteral","BooleanLiteral","DecimalLiteral","DirectiveLiteral","NullLiteral","NumericLiteral","RegExpLiteral","StringLiteral"]);function El(e,t,s,n,o,i){let r=A9(e,t,s,n,i),l=i?s(i,{assignmentLayout:r}):"";switch(r){case"break-after-operator":return ye([ye(n),o,ye($e([We,l]))]);case"never-break-after-operator":return ye([ye(n),o," ",l]);case"fluid":{let m=Symbol("assignment");return ye([ye(n),o,ye($e(We),{id:m}),lo,ld(l,{groupId:m})])}case"break-lhs":return ye([n,o," ",ye(l)]);case"chain":return[ye(n),o,We,l];case"chain-tail":return[ye(n),o,$e([We,l])];case"chain-tail-arrow-chain":return[ye(n),o,l];case"only-left":return n}}function O9(e,t,s){let{node:n}=e;return El(e,t,s,s("left"),[" ",n.operator],"right")}function D9(e,t,s){return El(e,t,s,s("id")," =","init")}function A9(e,t,s,n,o){let{node:i}=e,r=i[o];if(!r)return"only-left";let l=!ju(r);if(e.match(ju,uk,c=>!l||c.type!=="ExpressionStatement"&&c.type!=="VariableDeclaration"))return l?r.type==="ArrowFunctionExpression"&&r.body.type==="ArrowFunctionExpression"?"chain-tail-arrow-chain":"chain-tail":"chain";if(!l&&ju(r.right)||Ti(t.originalText,r))return"break-after-operator";if(r.type==="CallExpression"&&r.callee.name==="require"||t.parser==="json5"||t.parser==="json")return"never-break-after-operator";if(N9(i)||_9(i)||M9(i)||ck(i)&&qW(n))return"break-lhs";let m=R9(i,n,t);return e.call(()=>$9(e,t,s,m),o)?"break-after-operator":m||r.type==="TemplateLiteral"||r.type==="TaggedTemplateExpression"||r.type==="BooleanLiteral"||Vo(r)||r.type==="ClassExpression"?"never-break-after-operator":"fluid"}function $9(e,t,s,n){let o=e.node;if(uo(o)&&!Ga(o))return!0;switch(o.type){case"StringLiteralTypeAnnotation":case"SequenceExpression":return!0;case"ConditionalExpression":{let{test:l}=o;return uo(l)&&!Ga(l)}case"ClassExpression":return pt(o.decorators)}if(n)return!1;let i=o,r=[];for(;;)if(i.type==="UnaryExpression")i=i.argument,r.push("argument");else if(i.type==="TSNonNullExpression")i=i.expression,r.push("expression");else break;return!!(Ps(i)||e.call(()=>dk(e,t,s),...r))}function N9(e){if(uk(e)){let t=e.left||e.id;return t.type==="ObjectPattern"&&t.properties.length>2&&t.properties.some(s=>{var n;return go(s)&&(!s.shorthand||((n=s.value)==null?void 0:n.type)==="AssignmentPattern")})}return!1}function ju(e){return e.type==="AssignmentExpression"}function uk(e){return ju(e)||e.type==="VariableDeclarator"}function _9(e){let t=I9(e);if(pt(t)){let s=e.type==="TSTypeAliasDeclaration"?"constraint":"bound";if(t.length>1&&t.some(n=>n[s]||n.default))return!0}return!1}var P9=kt(["TSTypeAliasDeclaration","TypeAlias"]);function I9(e){var t;if(P9(e))return(t=e.typeParameters)==null?void 0:t.params}function M9(e){if(e.type!=="VariableDeclarator")return!1;let{typeAnnotation:t}=e.id;if(!t||!t.typeAnnotation)return!1;let s=$b(t.typeAnnotation);return pt(s)&&s.length>1&&s.some(n=>pt($b(n))||n.type==="TSConditionalType")}function ck(e){var t;return e.type==="VariableDeclarator"&&((t=e.init)==null?void 0:t.type)==="ArrowFunctionExpression"}var L9=kt(["TSTypeReference","GenericTypeAnnotation"]);function $b(e){var t;if(L9(e))return(t=e.typeParameters)==null?void 0:t.params}function dk(e,t,s,n=!1){var o;let{node:i}=e,r=()=>dk(e,t,s,!0);if(i.type==="ChainExpression"||i.type==="TSNonNullExpression")return e.call(r,"expression");if(ct(i)){if((o=ak(e,t,s).label)!=null&&o.memberChain)return!1;let l=Qo(i);return!(l.length===0||l.length===1&&B9(l[0],t))||V9(i,s)?!1:e.call(r,"callee")}return Dt(i)?e.call(r,"object"):n&&(i.type==="Identifier"||i.type==="ThisExpression")}var F9=.25;function B9(e,{printWidth:t}){if(Fe(e))return!1;let s=t*F9;if(e.type==="ThisExpression"||e.type==="Identifier"&&e.name.length<=s||N1(e)&&!Fe(e.argument))return!0;let n=e.type==="Literal"&&"regex"in e&&e.regex.pattern||e.type==="RegExpLiteral"&&e.pattern;return n?n.length<=s:Ps(e)?sn(e).length<=s:e.type==="TemplateLiteral"?e.expressions.length===0&&e.quasis[0].value.raw.length<=s&&!e.quasis[0].value.raw.includes(`
`):lk(e)}function R9(e,t,s){if(!go(e))return!1;t=$f(t);let n=3;return typeof t=="string"&&_r(t)<s.tabWidth+n}function V9(e,t){let s=U9(e);if(pt(s)){if(s.length>1)return!0;if(s.length===1){let o=s[0];if(o.type==="TSUnionType"||o.type==="UnionTypeAnnotation"||o.type==="TSIntersectionType"||o.type==="IntersectionTypeAnnotation"||o.type==="TSTypeLiteral"||o.type==="ObjectTypeAnnotation")return!0}let n=e.typeParameters?"typeParameters":"typeArguments";if(cs(t(n)))return!0}return!1}function U9(e){var t;return(t=e.typeParameters??e.typeArguments)==null?void 0:t.params}function xl(e,t,s,n,o){let i=e.node,r=Zt(i),l=o?Si(e,s,t):"";if(r.length===0)return[l,"(",Pt(e,s,{filter:w=>co(s.originalText,vt(w))===")"}),")"];let{parent:m}=e,c=ud(m),h=pk(i),p=[];if(V5(e,(w,S)=>{let k=S===r.length-1;k&&i.rest&&p.push("..."),p.push(t()),!k&&(p.push(","),c||h?p.push(" "):Go(r[S],s)?p.push(De,De):p.push(We))}),n&&!j9(e)){if(cs(l)||cs(p))throw new yc;return ye([sm(l),"(",sm(p),")"])}let g=r.every(w=>!w.decorators);return h&&g?[l,"(",...p,")"]:c?[l,"(",...p,")"]:(M1(m)||D5(m)||m.type==="TypeAlias"||m.type==="UnionTypeAnnotation"||m.type==="TSUnionType"||m.type==="IntersectionTypeAnnotation"||m.type==="FunctionTypeAnnotation"&&m.returnType===i)&&r.length===1&&r[0].name===null&&i.this!==r[0]&&r[0].typeAnnotation&&i.typeParameters===null&&Ff(r[0].typeAnnotation)&&!i.rest?s.arrowParens==="always"?["(",...p,")"]:p:[l,"(",$e([Oe,...p]),dt(!R5(i)&&Ho(s,"all")?",":""),Oe,")"]}function pk(e){if(!e)return!1;let t=Zt(e);if(t.length!==1)return!1;let[s]=t;return!Fe(s)&&(s.type==="ObjectPattern"||s.type==="ArrayPattern"||s.type==="Identifier"&&s.typeAnnotation&&(s.typeAnnotation.type==="TypeAnnotation"||s.typeAnnotation.type==="TSTypeAnnotation")&&Uo(s.typeAnnotation.typeAnnotation)||s.type==="FunctionTypeParam"&&Uo(s.typeAnnotation)&&s!==e.rest||s.type==="AssignmentPattern"&&(s.left.type==="ObjectPattern"||s.left.type==="ArrayPattern")&&(s.right.type==="Identifier"||Sn(s.right)&&s.right.properties.length===0||Jt(s.right)&&s.right.elements.length===0))}function W9(e){let t;return e.returnType?(t=e.returnType,t.typeAnnotation&&(t=t.typeAnnotation)):e.typeAnnotation&&(t=e.typeAnnotation),t}function pd(e,t){var s;let n=W9(e);if(!n)return!1;let o=(s=e.typeParameters)==null?void 0:s.params;if(o){if(o.length>1)return!1;if(o.length===1){let i=o[0];if(i.constraint||i.default)return!1}}return Zt(e).length===1&&(Uo(n)||cs(t))}function j9(e){return e.match(t=>t.type==="ArrowFunctionExpression"&&t.body.type==="BlockStatement",(t,s)=>{if(t.type==="CallExpression"&&s==="arguments"&&t.arguments.length===1&&t.callee.type==="CallExpression"){let n=t.callee.callee;return n.type==="Identifier"||n.type==="MemberExpression"&&!n.computed&&n.object.type==="Identifier"&&n.property.type==="Identifier"}return!1},(t,s)=>t.type==="VariableDeclarator"&&s==="init"||t.type==="ExportDefaultDeclaration"&&s==="declaration"||t.type==="TSExportAssignment"&&s==="expression"||t.type==="AssignmentExpression"&&s==="right"&&t.left.type==="MemberExpression"&&t.left.object.type==="Identifier"&&t.left.object.name==="module"&&t.left.property.type==="Identifier"&&t.left.property.name==="exports",t=>t.type!=="VariableDeclaration"||t.kind==="const"&&t.declarations.length===1)}function q9(e){let t=Zt(e);return t.length>1&&t.some(s=>s.type==="TSParameterProperty")}function hk(e){if(Ff(e)||Uo(e))return!0;if(e.type==="UnionTypeAnnotation"||e.type==="TSUnionType"){let t=e.types.filter(o=>o.type==="VoidTypeAnnotation"||o.type==="TSVoidKeyword"||o.type==="NullLiteralTypeAnnotation"||o.type==="TSNullKeyword").length,s=e.types.some(o=>o.type==="ObjectTypeAnnotation"||o.type==="TSTypeLiteral"||o.type==="GenericTypeAnnotation"||o.type==="TSTypeReference"),n=e.types.some(o=>Fe(o));if(e.types.length-1===t&&s&&!n)return!0}return!1}function z9(e,t,s){let n=t.semi?";":"",{node:o}=e,i=[nn(e),"opaque type ",s("id"),s("typeParameters")];return o.supertype&&i.push(": ",s("supertype")),o.impltype&&i.push(" = ",s("impltype")),i.push(n),i}function mk(e,t,s){let n=t.semi?";":"",{node:o}=e,i=[nn(e)];i.push("type ",s("id"),s("typeParameters"));let r=o.type==="TSTypeAliasDeclaration"?"typeAnnotation":"right";return[El(e,t,s,i," =",r),n]}function fk(e,t,s){let n=!1;return ye(e.map(({isFirst:o,previous:i,node:r,index:l})=>{let m=s();if(o)return m;let c=Uo(r),h=Uo(i);return h&&c?[" & ",n?$e(m):m]:!h&&!c?$e([" &",We,m]):(l>1&&(n=!0),[" & ",l>1?$e(m):m])},"types"))}function gk(e,t,s){let{node:n}=e,{parent:o}=e,i=o.type!=="TypeParameterInstantiation"&&o.type!=="TSTypeParameterInstantiation"&&o.type!=="GenericTypeAnnotation"&&o.type!=="TSTypeReference"&&o.type!=="TSTypeAssertion"&&o.type!=="TupleTypeAnnotation"&&o.type!=="TSTupleType"&&!(o.type==="FunctionTypeParam"&&!o.name&&e.grandparent.this!==o)&&!((o.type==="TypeAlias"||o.type==="VariableDeclarator"||o.type==="TSTypeAliasDeclaration")&&Ti(t.originalText,n)),r=hk(n),l=e.map(h=>{let p=s();return r||(p=wn(2,p)),bn(h,p,t)},"types");if(r)return rt(" | ",l);let m=i&&!Ti(t.originalText,n),c=[dt([m?We:"","| "]),rt([We,"| "],l)];return zr(e,t)?ye([$e(c),Oe]):(o.type==="TupleTypeAnnotation"||o.type==="TSTupleType")&&o[o.type==="TupleTypeAnnotation"&&o.types?"types":"elementTypes"].length>1?ye([$e([dt(["(",Oe]),c]),Oe,dt(")")]):ye(i?$e(c):c)}function H9(e){var t;let{node:s,parent:n}=e;return s.type==="FunctionTypeAnnotation"&&(M1(n)||!((n.type==="ObjectTypeProperty"||n.type==="ObjectTypeInternalSlot")&&!n.variance&&!n.optional&&kl(n,s)||n.type==="ObjectTypeCallProperty"||((t=e.getParentNode(2))==null?void 0:t.type)==="DeclareFunction"))}function yk(e,t,s){let{node:n}=e,o=[hd(e)];(n.type==="TSConstructorType"||n.type==="TSConstructSignatureDeclaration")&&o.push("new ");let i=xl(e,s,t,!1,!0),r=[];return n.type==="FunctionTypeAnnotation"?r.push(H9(e)?" => ":": ",s("returnType")):r.push(Kt(e,s,n.returnType?"returnType":"typeAnnotation")),pd(n,r)&&(i=ye(i)),o.push(i,r),ye(o)}function wk(e,t,s){return[s("objectType"),ps(e),"[",s("indexType"),"]"]}function bk(e,t,s){return["infer ",s("typeParameter")]}function Nb(e,t,s){let{node:n}=e;return[n.postfix?"":s,Kt(e,t),n.postfix?s:""]}function vk(e,t,s){let{node:n}=e;return["...",...n.type==="TupleTypeSpreadElement"&&n.label?[s("label"),": "]:[],s("typeAnnotation")]}function Tk(e,t,s){let{node:n}=e;return[n.variance?s("variance"):"",s("label"),n.optional?"?":"",": ",s("elementType")]}var Q9=new WeakSet;function Kt(e,t,s="typeAnnotation"){let{node:{[s]:n}}=e;if(!n)return"";let o=!1;if(n.type==="TSTypeAnnotation"||n.type==="TypeAnnotation"){let i=e.call(Sk,s);(i==="=>"||i===":"&&Fe(n,ze.Leading))&&(o=!0),Q9.add(n)}return o?[" ",t(s)]:t(s)}var Sk=e=>e.match(t=>t.type==="TSTypeAnnotation",(t,s)=>(s==="returnType"||s==="typeAnnotation")&&(t.type==="TSFunctionType"||t.type==="TSConstructorType"))?"=>":e.match(t=>t.type==="TSTypeAnnotation",(t,s)=>s==="typeAnnotation"&&(t.type==="TSJSDocNullableType"||t.type==="TSJSDocNonNullableType"||t.type==="TSTypePredicate"))||e.match(t=>t.type==="TypeAnnotation",(t,s)=>s==="typeAnnotation"&&t.type==="Identifier",(t,s)=>s==="id"&&t.type==="DeclareFunction")||e.match(t=>t.type==="TypeAnnotation",(t,s)=>s==="bound"&&t.type==="TypeParameter"&&t.usesExtendsBound)?"":":";function kk(e,t,s){let n=Sk(e);return n?[n," ",s("typeAnnotation")]:s("typeAnnotation")}function Ek(e){return[e("elementType"),"[]"]}function xk({node:e},t){return["typeof ",...e.type==="TSTypeQuery"?[t("exprName"),t("typeParameters")]:[t("argument")]]}function Ck(e,t){let{node:s}=e;return[s.asserts?"asserts ":"",t("parameterName"),s.typeAnnotation?[" is ",Kt(e,t)]:""]}function ps(e){let{node:t}=e;return!t.optional||t.type==="Identifier"&&t===e.parent.key?"":ct(t)||Dt(t)&&t.computed||t.type==="OptionalIndexedAccessType"?"?.":"?"}function Ok(e){return e.node.definite||e.match(void 0,(t,s)=>s==="id"&&t.type==="VariableDeclarator"&&t.definite)?"!":""}var G9=new Set(["DeclareClass","DeclareFunction","DeclareVariable","DeclareExportDeclaration","DeclareExportAllDeclaration","DeclareOpaqueType","DeclareTypeAlias","DeclareEnum","DeclareInterface"]);function nn(e){let{node:t}=e;return t.declare||G9.has(t.type)&&e.parent.type!=="DeclareExportDeclaration"?"declare ":""}var Y9=new Set(["TSAbstractMethodDefinition","TSAbstractPropertyDefinition","TSAbstractAccessorProperty"]);function hd({node:e}){return e.abstract||Y9.has(e.type)?"abstract ":""}function Si(e,t,s){let n=e.node;return n.typeArguments?s("typeArguments"):n.typeParameters?s("typeParameters"):""}function Dk(e,t,s){return["::",s("callee")]}function ko(e,t,s){return e.type==="EmptyStatement"?";":e.type==="BlockStatement"||s?[" ",t]:$e([We,t])}function Ak(e,t){return["...",t("argument"),Kt(e,t)]}function bc(e){return e.accessibility?e.accessibility+" ":""}function $k(e,t,s){let{node:n}=e;return ye([rt(We,e.map(s,"decorators")),Nk(n,t)?De:We])}function X9(e,t,s){return _k(e.node)?[rt(De,e.map(s,"declaration","decorators")),De]:""}function K9(e,t,s){let{node:n,parent:o}=e,{decorators:i}=n;if(!pt(i)||_k(o)||tk(e))return"";let r=n.type==="ClassExpression"||n.type==="ClassDeclaration"||Nk(n,t);return[e.key==="declaration"&&C5(o)?De:r?Ro:"",rt(We,e.map(s,"decorators")),We]}function Nk(e,t){return e.decorators.some(s=>_s(t.originalText,vt(s)))}function _k(e){var t;if(e.type!=="ExportDefaultDeclaration"&&e.type!=="ExportNamedDeclaration"&&e.type!=="DeclareExportDeclaration")return!1;let s=(t=e.declaration)==null?void 0:t.decorators;return pt(s)&&kl(e,s[0])}function J9(e,t,s){let{node:n}=e;return["import",n.module?" module":"",Mk(n),Fk(e,t,s),Lk(e,t,s),Rk(e,t,s),t.semi?";":""]}var Pk=e=>e.type==="ExportDefaultDeclaration"||e.type==="DeclareExportDeclaration"&&e.default;function Ik(e,t,s){let{node:n}=e,o=[X9(e,t,s),nn(e),"export",Pk(n)?" default":""],{declaration:i,exported:r}=n;return Fe(n,ze.Dangling)&&(o.push(" ",Pt(e,t)),B1(n)&&o.push(De)),i?o.push(" ",s("declaration")):(o.push(t6(n)),n.type==="ExportAllDeclaration"||n.type==="DeclareExportAllDeclaration"?(o.push(" *"),r&&o.push(" as ",s("exported"))):o.push(Fk(e,t,s)),o.push(Lk(e,t,s),Rk(e,t,s))),o.push(e6(n,t)),o}var Z9=kt(["ClassDeclaration","FunctionDeclaration","TSInterfaceDeclaration","DeclareClass","DeclareFunction","TSDeclareFunction","EnumDeclaration"]);function e6(e,t){return t.semi&&(!e.declaration||Pk(e)&&!Z9(e.declaration))?";":""}function Qf(e,t=!0){return e&&e!=="value"?`${t?" ":""}${e}${t?"":" "}`:""}function Mk(e,t){return Qf(e.importKind,t)}function t6(e){return Qf(e.exportKind)}function Lk(e,t,s){let{node:n}=e;if(!n.source)return"";let o=[];return Bk(n,t)||o.push(" from"),o.push(" ",s("source")),o}function Fk(e,t,s){let{node:n}=e;if(Bk(n,t))return"";let o=[" "];if(pt(n.specifiers)){let i=[],r=[];e.each(()=>{let l=e.node.type;if(l==="ExportNamespaceSpecifier"||l==="ExportDefaultSpecifier"||l==="ImportNamespaceSpecifier"||l==="ImportDefaultSpecifier")i.push(s());else if(l==="ExportSpecifier"||l==="ImportSpecifier")r.push(s());else throw new Hr(n,"specifier")},"specifiers"),o.push(rt(", ",i)),r.length>0&&(i.length>0&&o.push(", "),r.length>1||i.length>0||n.specifiers.some(l=>Fe(l))?o.push(ye(["{",$e([t.bracketSpacing?We:Oe,rt([",",We],r)]),dt(Ho(t)?",":""),t.bracketSpacing?We:Oe,"}"])):o.push(["{",t.bracketSpacing?" ":"",...r,t.bracketSpacing?" ":"","}"]))}else o.push("{}");return o}function Bk(e,t){let{type:s,importKind:n,source:o,specifiers:i}=e;return s!=="ImportDeclaration"||pt(i)||n==="type"?!1:!/{\s*}/.test(t.originalText.slice(Gt(e),Gt(o)))}function Rk(e,t,s){var n;let{node:o}=e,i=pt(o.attributes)?"attributes":pt(o.assertions)?"assertions":void 0;return i?[` ${i==="assertions"||(n=o.extra)!=null&&n.deprecatedAssertSyntax?"assert":"with"} {`,t.bracketSpacing?" ":"",rt(", ",e.map(s,i)),t.bracketSpacing?" ":"","}"]:""}function s6(e,t,s){let{node:n}=e,{type:o}=n,i=o.startsWith("Import"),r=i?"imported":"local",l=i?"local":"exported",m=n[r],c=n[l],h="",p="";return o==="ExportNamespaceSpecifier"||o==="ImportNamespaceSpecifier"?h="*":m&&(h=s(r)),c&&!n6(n)&&(p=s(l)),[Qf(o==="ImportSpecifier"?n.importKind:n.exportKind,!1),h,h&&p?" as ":"",p]}function n6(e){if(e.type!=="ImportSpecifier"&&e.type!=="ExportSpecifier")return!1;let{local:t,[e.type==="ImportSpecifier"?"imported":"exported"]:s}=e;if(t.type!==s.type||!p5(t,s))return!1;if(Ps(t))return t.value===s.value&&sn(t)===sn(s);switch(t.type){case"Identifier":return t.name===s.name;default:return!1}}function o6(e){let t=[e];for(let s=0;s<t.length;s++){let n=t[s];for(let o of["test","consequent","alternate"]){let i=n[o];if(os(i))return!0;i.type==="ConditionalExpression"&&t.push(i)}}return!1}function i6(e,t,s){let{node:n}=e,o=n.type==="ConditionalExpression",i=o?"alternate":"falseType",{parent:r}=e,l=o?s("test"):[s("checkType")," ","extends"," ",s("extendsType")];return r.type===n.type&&r[i]===n?wn(2,l):l}var r6=new Map([["AssignmentExpression","right"],["VariableDeclarator","init"],["ReturnStatement","argument"],["ThrowStatement","argument"],["UnaryExpression","argument"],["YieldExpression","argument"]]);function a6(e){let{node:t}=e;if(t.type!=="ConditionalExpression")return!1;let s,n=t;for(let o=0;!s;o++){let i=e.getParentNode(o);if(i.type==="ChainExpression"&&i.expression===n||ct(i)&&i.callee===n||Dt(i)&&i.object===n||i.type==="TSNonNullExpression"&&i.expression===n){n=i;continue}i.type==="NewExpression"&&i.callee===n||Fo(i)&&i.expression===n?(s=e.getParentNode(o+1),n=i):s=i}return n===t?!1:s[r6.get(s.type)]===n}function Gf(e,t,s){let{node:n}=e,o=n.type==="ConditionalExpression",i=o?"consequent":"trueType",r=o?"alternate":"falseType",l=o?["test"]:["checkType","extendsType"],m=n[i],c=n[r],h=[],p=!1,{parent:g}=e,w=g.type===n.type&&l.some(Q=>g[Q]===n),S=g.type===n.type&&!w,k,O,C=0;do O=k||n,k=e.getParentNode(C),C++;while(k&&k.type===n.type&&l.every(Q=>k[Q]!==O));let A=k||g,T=O;if(o&&(os(n[l[0]])||os(m)||os(c)||o6(T))){p=!0,S=!0;let Q=U=>[dt("("),$e([Oe,U]),Oe,dt(")")],X=U=>U.type==="NullLiteral"||U.type==="Literal"&&U.value===null||U.type==="Identifier"&&U.name==="undefined";h.push(" ? ",X(m)?s(i):Q(s(i))," : ",c.type===n.type||X(c)?s(r):Q(s(r)))}else{let Q=[We,"? ",m.type===n.type?dt("","("):"",wn(2,s(i)),m.type===n.type?dt("",")"):"",We,": ",c.type===n.type?s(r):wn(2,s(r))];h.push(g.type!==n.type||g[r]===n||w?Q:t.useTabs?MW($e(Q)):wn(Math.max(0,t.tabWidth-2),Q))}let F=[i,r,...l].some(Q=>Fe(n[Q],X=>fo(X)&&dd(t.originalText,Gt(X),vt(X)))),L=Q=>g===A?ye(Q,{shouldBreak:F}):F?[Q,Ro]:Q,I=!p&&(Dt(g)||g.type==="NGPipeExpression"&&g.left===n)&&!g.computed,j=a6(e),q=L([i6(e,t,s),S?h:$e(h),o&&I&&!j?Oe:""]);return w||j?ye([$e([Oe,q]),Oe]):q}function l6(e,t,s=0){let n=0;for(let o=s;o<e.length;++o)e[o]==="	"?n=n+t-n%t:n++;return n}var u6=l6;function c6(e,t){let s=e.lastIndexOf(`
`);return s===-1?0:u6(e.slice(s+1).match(/^[\t ]*/)[0],t)}var d6=c6;function p6(e){switch(e){case"cr":return"\r";case"crlf":return`\r
`;default:return`
`}}var fs=Symbol("MODE_BREAK"),On=Symbol("MODE_FLAT"),$a=Symbol("cursor");function Vk(){return{value:"",length:0,queue:[]}}function h6(e,t){return pm(e,{type:"indent"},t)}function m6(e,t,s){return t===Number.NEGATIVE_INFINITY?e.root||Vk():t<0?pm(e,{type:"dedent"},s):t?t.type==="root"?{...e,root:e}:pm(e,{type:typeof t=="string"?"stringAlign":"numberAlign",n:t},s):e}function pm(e,t,s){let n=t.type==="dedent"?e.queue.slice(0,-1):[...e.queue,t],o="",i=0,r=0,l=0;for(let S of n)switch(S.type){case"indent":h(),s.useTabs?m(1):c(s.tabWidth);break;case"stringAlign":h(),o+=S.n,i+=S.n.length;break;case"numberAlign":r+=1,l+=S.n;break;default:throw new Error(`Unexpected type '${S.type}'`)}return g(),{...e,value:o,length:i,queue:n};function m(S){o+="	".repeat(S),i+=s.tabWidth*S}function c(S){o+=" ".repeat(S),i+=S}function h(){s.useTabs?p():g()}function p(){r>0&&m(r),w()}function g(){l>0&&c(l),w()}function w(){r=0,l=0}}function hm(e){let t=0,s=0,n=e.length;e:for(;n--;){let o=e[n];if(o===$a){s++;continue}for(let i=o.length-1;i>=0;i--){let r=o[i];if(r===" "||r==="	")t++;else{e[n]=o.slice(0,i+1);break e}}}if(t>0||s>0)for(e.length=n+1;s-- >0;)e.push($a);return t}function hu(e,t,s,n,o,i){if(s===Number.POSITIVE_INFINITY)return!0;let r=t.length,l=[e],m=[];for(;s>=0;){if(l.length===0){if(r===0)return!0;l.push(t[--r]);continue}let{mode:c,doc:h}=l.pop();switch(jr(h)){case Vr:m.push(h),s-=_r(h);break;case bi:case Wn:{let p=E1(h);for(let g=p.length-1;g>=0;g--)l.push({mode:c,doc:p[g]});break}case $i:case Ni:case _i:case qo:l.push({mode:c,doc:h.contents});break;case Wr:s+=hm(m);break;case tn:{if(i&&h.break)return!1;let p=h.break?fs:c,g=h.expandedStates&&p===fs?ft(!1,h.expandedStates,-1):h.contents;l.push({mode:p,doc:g});break}case Bn:{let p=(h.groupId?o[h.groupId]||On:c)===fs?h.breakContents:h.flatContents;p&&l.push({mode:c,doc:p});break}case Rs:if(c===fs||h.hard)return!0;h.soft||(m.push(" "),s--);break;case Pi:n=!0;break;case Ii:if(n)return!1;break}}return!1}function Uk(e,t){let s={},n=t.printWidth,o=p6(t.endOfLine),i=0,r=[{ind:Vk(),mode:fs,doc:e}],l=[],m=!1,c=[],h=0;for(VW(e);r.length>0;){let{ind:g,mode:w,doc:S}=r.pop();switch(jr(S)){case Vr:{let k=o!==`
`?$s(!1,S,`
`,o):S;l.push(k),r.length>0&&(i+=_r(k));break}case bi:for(let k=S.length-1;k>=0;k--)r.push({ind:g,mode:w,doc:S[k]});break;case Ur:if(h>=2)throw new Error("There are too many 'cursor' in doc.");l.push($a),h++;break;case $i:r.push({ind:h6(g,t),mode:w,doc:S.contents});break;case Ni:r.push({ind:m6(g,S.n,t),mode:w,doc:S.contents});break;case Wr:i-=hm(l);break;case tn:switch(w){case On:if(!m){r.push({ind:g,mode:S.break?fs:On,doc:S.contents});break}case fs:{m=!1;let k={ind:g,mode:On,doc:S.contents},O=n-i,C=c.length>0;if(!S.break&&hu(k,r,O,C,s))r.push(k);else if(S.expandedStates){let A=ft(!1,S.expandedStates,-1);if(S.break){r.push({ind:g,mode:fs,doc:A});break}else for(let T=1;T<S.expandedStates.length+1;T++)if(T>=S.expandedStates.length){r.push({ind:g,mode:fs,doc:A});break}else{let F=S.expandedStates[T],L={ind:g,mode:On,doc:F};if(hu(L,r,O,C,s)){r.push(L);break}}}else r.push({ind:g,mode:fs,doc:S.contents});break}}S.id&&(s[S.id]=ft(!1,r,-1).mode);break;case Wn:{let k=n-i,{parts:O}=S;if(O.length===0)break;let[C,A]=O,T={ind:g,mode:On,doc:C},F={ind:g,mode:fs,doc:C},L=hu(T,[],k,c.length>0,s,!0);if(O.length===1){L?r.push(T):r.push(F);break}let I={ind:g,mode:On,doc:A},j={ind:g,mode:fs,doc:A};if(O.length===2){L?r.push(I,T):r.push(j,F);break}O.splice(0,2);let q={ind:g,mode:w,doc:Af(O)},Q=O[0];hu({ind:g,mode:On,doc:[C,A,Q]},[],k,c.length>0,s,!0)?r.push(q,I,T):L?r.push(q,j,T):r.push(q,j,F);break}case Bn:case _i:{let k=S.groupId?s[S.groupId]:w;if(k===fs){let O=S.type===Bn?S.breakContents:S.negate?S.contents:$e(S.contents);O&&r.push({ind:g,mode:w,doc:O})}if(k===On){let O=S.type===Bn?S.flatContents:S.negate?$e(S.contents):S.contents;O&&r.push({ind:g,mode:w,doc:O})}break}case Pi:c.push({ind:g,mode:w,doc:S.contents});break;case Ii:c.length>0&&r.push({ind:g,mode:w,doc:S1});break;case Rs:switch(w){case On:if(S.hard)m=!0;else{S.soft||(l.push(" "),i+=1);break}case fs:if(c.length>0){r.push({ind:g,mode:w,doc:S},...c.reverse()),c.length=0;break}S.literal?g.root?(l.push(o,g.root.value),i=g.root.length):(l.push(o),i=0):(i-=hm(l),l.push(o+g.value),i=g.length);break}break;case qo:r.push({ind:g,mode:w,doc:S.contents});break;case zo:break;default:throw new za(S)}r.length===0&&c.length>0&&(r.push(...c.reverse()),c.length=0)}let p=l.indexOf($a);if(p!==-1){let g=l.indexOf($a,p+1),w=l.slice(0,p).join(""),S=l.slice(p+1,g).join(""),k=l.slice(g+1).join("");return{formatted:w+S+k,cursorNodeStart:w.length,cursorNodeText:S}}return{formatted:l.join("")}}function Wk(e,t,s){let{node:n}=e;if(n.type==="TemplateLiteral"&&w6(e)){let c=g6(e,s,t);if(c)return c}let o="expressions";n.type==="TSTemplateLiteralType"&&(o="types");let i=[],r=e.map(t,o),l=P5(n);l&&(r=r.map(c=>Uk(c,{...s,printWidth:Number.POSITIVE_INFINITY}).formatted)),i.push(lo,"`");let m=0;return e.each(({index:c,node:h})=>{if(i.push(t()),h.tail)return;let{tabWidth:p}=s,g=h.value.raw,w=g.includes(`
`)?d6(g,p):m;m=w;let S=r[c];if(!l){let O=n[o][c];(Fe(O)||Dt(O)||O.type==="ConditionalExpression"||O.type==="SequenceExpression"||Fo(O)||uo(O))&&(S=[$e([Oe,S]),Oe])}let k=w===0&&g.endsWith(`
`)?wn(Number.NEGATIVE_INFINITY,S):FW(S,w,p);i.push(ye(["${",k,lo,"}"]))},"quasis"),i.push("`"),i}function f6(e){let t=e("quasi");return Sl(t.label&&{tagged:!0,...t.label},[e("tag"),e("typeParameters"),lo,t])}function g6(e,t,s){let{node:n}=e,o=n.quasis[0].value.raw.trim().split(/\s*\|\s*/);if(o.length>1||o.some(i=>i.length>0)){t.__inJestEach=!0;let i=e.map(s,"expressions");t.__inJestEach=!1;let r=[],l=i.map(g=>"${"+Uk(g,{...t,printWidth:Number.POSITIVE_INFINITY,endOfLine:"lf"}).formatted+"}"),m=[{hasLineBreak:!1,cells:[]}];for(let g=1;g<n.quasis.length;g++){let w=ft(!1,m,-1),S=l[g-1];w.cells.push(S),S.includes(`
`)&&(w.hasLineBreak=!0),n.quasis[g].value.raw.includes(`
`)&&m.push({hasLineBreak:!1,cells:[]})}let c=Math.max(o.length,...m.map(g=>g.cells.length)),h=Array.from({length:c}).fill(0),p=[{cells:o},...m.filter(g=>g.cells.length>0)];for(let{cells:g}of p.filter(w=>!w.hasLineBreak))for(let[w,S]of g.entries())h[w]=Math.max(h[w],_r(S));return r.push(lo,"`",$e([De,rt(De,p.map(g=>rt(" | ",g.cells.map((w,S)=>g.hasLineBreak?w:w+" ".repeat(h[S]-_r(w))))))]),De,"`"),r}}function y6(e,t){let{node:s}=e,n=t();return Fe(s)&&(n=ye([$e([Oe,n]),Oe])),["${",n,lo,"}"]}function Yf(e,t){return e.map(s=>y6(s,t),"expressions")}function jk(e,t){return qr(e,s=>typeof s=="string"?t?$s(!1,s,/(\\*)`/g,"$1$1\\`"):qk(s):s)}function qk(e){return $s(!1,e,/([\\`]|\${)/g,"\\$1")}function w6({node:e,parent:t}){let s=/^[fx]?(?:describe|it|test)$/;return t.type==="TaggedTemplateExpression"&&t.quasi===e&&t.tag.type==="MemberExpression"&&t.tag.property.type==="Identifier"&&t.tag.property.name==="each"&&(t.tag.object.type==="Identifier"&&s.test(t.tag.object.name)||t.tag.object.type==="MemberExpression"&&t.tag.object.property.type==="Identifier"&&(t.tag.object.property.name==="only"||t.tag.object.property.name==="skip")&&t.tag.object.object.type==="Identifier"&&s.test(t.tag.object.object.name))}function b6(e){let t=new WeakMap;return function(s){return t.has(s)||t.set(s,Symbol(e)),t.get(s)}}var zk=b6;function v6(e){switch(e){case null:return"";case"PlusOptional":return"+?";case"MinusOptional":return"-?";case"Optional":return"?"}}function T6(e,t,s){let{node:n}=e;return ye([n.variance?s("variance"):"","[",$e([s("keyTparam")," in ",s("sourceType")]),"]",v6(n.optional),": ",s("propType")])}function Hk(e,t){return e==="+"||e==="-"?e+t:t}function S6(e,t,s){let{node:n}=e,o=dd(t.originalText,Gt(n),Gt(n.typeParameter));return ye(["{",$e([t.bracketSpacing?We:Oe,ye([s("typeParameter"),n.optional?Hk(n.optional,"?"):"",n.typeAnnotation?": ":"",s("typeAnnotation")]),t.semi?dt(";"):""]),Pt(e,t),t.bracketSpacing?We:Oe,"}"],{shouldBreak:o})}var Xf=zk("typeParameters");function k6(e,t,s){let{node:n}=e;return Zt(n).length===1&&n.type.startsWith("TS")&&!n[s][0].constraint&&e.parent.type==="ArrowFunctionExpression"&&!(t.filepath&&/\.ts$/.test(t.filepath))}function Na(e,t,s,n){let{node:o}=e;if(!o[n])return"";if(!Array.isArray(o[n]))return s(n);let i=e.getNode(2),r=i&&ud(i),l=e.match(c=>!(c[n].length===1&&Uo(c[n][0])),void 0,(c,h)=>h==="typeAnnotation",c=>c.type==="Identifier",ck);if(o[n].length===0||!l&&(r||o[n].length===1&&(o[n][0].type==="NullableTypeAnnotation"||hk(o[n][0]))))return["<",rt(", ",e.map(s,n)),E6(e,t),">"];let m=o.type==="TSTypeParameterInstantiation"?"":k6(e,t,n)?",":Ho(t)?dt(","):"";return ye(["<",$e([Oe,rt([",",We],e.map(s,n))]),m,Oe,">"],{id:Xf(o)})}function E6(e,t){let{node:s}=e;if(!Fe(s,ze.Dangling))return"";let n=!Fe(s,ze.Line),o=Pt(e,t,{indent:!n});return n?o:[o,De]}function Qk(e,t,s){let{node:n,parent:o}=e,i=[n.type==="TSTypeParameter"&&n.const?"const ":""],r=n.type==="TSTypeParameter"?s("name"):n.name;if(o.type==="TSMappedType")return o.readonly&&i.push(Hk(o.readonly,"readonly")," "),i.push("[",r),n.constraint&&i.push(" in ",s("constraint")),o.nameType&&i.push(" as ",e.callParent(()=>s("nameType"))),i.push("]"),i;if(n.variance&&i.push(s("variance")),n.in&&i.push("in "),n.out&&i.push("out "),i.push(r),n.bound&&(n.usesExtendsBound&&i.push(" extends "),i.push(Kt(e,s,"bound"))),n.constraint){let l=Symbol("constraint");i.push(" extends",ye($e(We),{id:l}),lo,ld(s("constraint"),{groupId:l}))}return n.default&&i.push(" = ",s("default")),ye(i)}var Ya=()=>{};Ya.ok=Ya;Ya.strictEqual=Ya;var Gk=Ya,mu=new WeakMap;function Cl(e,t,s){let{node:n}=e;if(n.computed)return["[",s("key"),"]"];let{parent:o}=e,{key:i}=n;if(t.quoteProps==="consistent"&&!mu.has(o)){let r=(o.properties||o.body||o.members).some(l=>!l.computed&&l.key&&Ps(l.key)&&!vb(l,t));mu.set(o,r)}if((i.type==="Identifier"||Vo(i)&&L1(Po(sn(i)))&&String(i.value)===Po(sn(i))&&!(t.parser==="typescript"||t.parser==="babel-ts"))&&(t.parser==="json"||t.quoteProps==="consistent"&&mu.get(o))){let r=wc(JSON.stringify(i.type==="Identifier"?i.name:i.value.toString()),t);return e.call(l=>bn(l,r,t),"key")}return vb(n,t)&&(t.quoteProps==="as-needed"||t.quoteProps==="consistent"&&!mu.get(o))?e.call(r=>bn(r,/^\d/.test(i.value)?Po(i.value):i.value,t),"key"):s("key")}function x6(e,t,s){let{node:n}=e;return n.shorthand?s("value"):El(e,t,s,Cl(e,t,s),":","value")}var C6=e=>e.type==="ObjectMethod"||e.type==="ClassMethod"||e.type==="ClassPrivateMethod"||e.type==="MethodDefinition"||e.type==="TSAbstractMethodDefinition"||e.type==="TSDeclareMethod"||(e.type==="Property"||e.type==="ObjectProperty")&&(e.method||e.kind==="get"||e.kind==="set"),O6=e=>e.node.type==="FunctionExpression"&&e.key==="value"&&C6(e.parent);function Yk(e,t,s,n){if(O6(e))return Kf(e,s,t);let{node:o}=e,i=!1;if((o.type==="FunctionDeclaration"||o.type==="FunctionExpression")&&n!=null&&n.expandLastArg){let{parent:h}=e;ct(h)&&(Qo(h).length>1||Zt(o).every(p=>p.type==="Identifier"&&!p.typeAnnotation))&&(i=!0)}let r=[nn(e),o.async?"async ":"",`function${o.generator?"*":""} `,o.id?t("id"):""],l=xl(e,t,s,i),m=Jf(e,t),c=pd(o,m);return r.push(Si(e,s,t),ye([c?ye(l):l,m]),o.body?" ":"",t("body")),s.semi&&(o.declare||!o.body)&&r.push(";"),r}function mm(e,t,s){let{node:n}=e,{kind:o}=n,i=n.value||n,r=[];return!o||o==="init"||o==="method"||o==="constructor"?i.async&&r.push("async "):(Gk.ok(o==="get"||o==="set"),r.push(o," ")),i.generator&&r.push("*"),r.push(Cl(e,t,s),n.optional||n.key.optional?"?":"",n===i?Kf(e,t,s):s("value")),r}function Kf(e,t,s){let{node:n}=e,o=xl(e,s,t),i=Jf(e,s),r=q9(n),l=pd(n,i),m=[Si(e,t,s),ye([r?ye(o,{shouldBreak:!0}):l?ye(o):o,i])];return n.body?m.push(" ",s("body")):m.push(t.semi?";":""),m}function D6(e){let t=Zt(e);return t.length===1&&!e.typeParameters&&!Fe(e,ze.Dangling)&&t[0].type==="Identifier"&&!t[0].typeAnnotation&&!Fe(t[0])&&!t[0].optional&&!e.predicate&&!e.returnType}function Xk(e,t){if(t.arrowParens==="always")return!1;if(t.arrowParens==="avoid"){let{node:s}=e;return D6(s)}return!1}function Jf(e,t){let{node:s}=e,n=[Kt(e,t,"returnType")];return s.predicate&&n.push(t("predicate")),n}function Kk(e,t,s){let{node:n}=e,o=t.semi?";":"",i=[];if(n.argument){let m=s("argument");N6(t,n.argument)?m=["(",$e([De,m]),De,")"]:(uo(n.argument)||n.argument.type==="SequenceExpression")&&(m=ye([dt("("),$e([Oe,m]),Oe,dt(")")])),i.push(" ",m)}let r=Fe(n,ze.Dangling),l=o&&r&&Fe(n,ze.Last|ze.Line);return l&&i.push(o),r&&i.push(" ",Pt(e,t)),l||i.push(o),i}function A6(e,t,s){return["return",Kk(e,t,s)]}function $6(e,t,s){return["throw",Kk(e,t,s)]}function N6(e,t){if(Ti(e.originalText,t))return!0;if(Mf(t)){let s=t,n;for(;n=x5(s);)if(s=n,Ti(e.originalText,s))return!0}return!1}var Jk=kt(["ClassProperty","PropertyDefinition","ClassPrivateProperty","ClassAccessorProperty","AccessorProperty","TSAbstractPropertyDefinition","TSAbstractAccessorProperty"]);function Zk(e,t,s){let{node:n}=e,o=[nn(e),hd(e),"class"],i=Fe(n.id,ze.Trailing)||Fe(n.typeParameters,ze.Trailing)||Fe(n.superClass)||pt(n.extends)||pt(n.mixins)||pt(n.implements),r=[],l=[];if(n.id&&r.push(" ",s("id")),r.push(s("typeParameters")),n.superClass){let m=[P6(e,t,s),s("superTypeParameters")],c=e.call(h=>["extends ",bn(h,m,t)],"superClass");i?l.push(We,ye(c)):l.push(" ",c)}else l.push(Yp(e,t,s,"extends"));if(l.push(Yp(e,t,s,"mixins"),Yp(e,t,s,"implements")),i){let m;sE(n)?m=[...r,$e(l)]:m=$e([...r,l]),o.push(ye(m,{id:eE(n)}))}else o.push(...r,...l);return o.push(" ",s("body")),o}var eE=zk("heritageGroup");function tE(e){return dt(De,"",{groupId:eE(e)})}function _6(e){return["extends","mixins","implements"].reduce((t,s)=>t+(Array.isArray(e[s])?e[s].length:0),e.superClass?1:0)>1}function sE(e){return e.typeParameters&&!Fe(e.typeParameters,ze.Trailing|ze.Line)&&!_6(e)}function Yp(e,t,s,n){let{node:o}=e;if(!pt(o[n]))return"";let i=Pt(e,t,{marker:n});return[sE(o)?dt(" ",We,{groupId:Xf(o.typeParameters)}):We,i,i&&De,n,ye($e([We,rt([",",We],e.map(s,n))]))]}function P6(e,t,s){let n=s("superClass"),{parent:o}=e;return o.type==="AssignmentExpression"?ye(dt(["(",$e([Oe,n]),Oe,")"],n)):n}function nE(e,t,s){let{node:n}=e,o=[];return pt(n.decorators)&&o.push($k(e,t,s)),o.push(bc(n)),n.static&&o.push("static "),o.push(hd(e)),n.override&&o.push("override "),o.push(mm(e,t,s)),o}function oE(e,t,s){let{node:n}=e,o=[],i=t.semi?";":"";pt(n.decorators)&&o.push($k(e,t,s)),o.push(bc(n),nn(e)),n.static&&o.push("static "),o.push(hd(e)),n.override&&o.push("override "),n.readonly&&o.push("readonly "),n.variance&&o.push(s("variance")),(n.type==="ClassAccessorProperty"||n.type==="AccessorProperty"||n.type==="TSAbstractAccessorProperty")&&o.push("accessor "),o.push(Cl(e,t,s),ps(e),Ok(e),Kt(e,s));let r=n.type==="TSAbstractPropertyDefinition"||n.type==="TSAbstractAccessorProperty";return[El(e,t,s,o," =",r?void 0:"value"),i]}function I6(e,t,s){let{node:n}=e,o=[];return e.each(({node:i,next:r,isLast:l})=>{o.push(s()),!t.semi&&Jk(i)&&M6(i,r)&&o.push(";"),l||(o.push(De),Go(i,t)&&o.push(De))},"body"),Fe(n,ze.Dangling)&&o.push(Pt(e,t)),[pt(n.body)?tE(e.parent):"","{",o.length>0?[$e([De,o]),De]:"","}"]}function M6(e,t){var s;let{type:n,name:o}=e.key;if(!e.computed&&n==="Identifier"&&(o==="static"||o==="get"||o==="set")&&!e.value&&!e.typeAnnotation)return!0;if(!t||t.static||t.accessibility)return!1;if(!t.computed){let i=(s=t.key)==null?void 0:s.name;if(i==="in"||i==="instanceof")return!0}if(Jk(t)&&t.variance&&!t.static&&!t.declare)return!0;switch(t.type){case"ClassProperty":case"PropertyDefinition":case"TSAbstractPropertyDefinition":return t.computed;case"MethodDefinition":case"TSAbstractMethodDefinition":case"ClassMethod":case"ClassPrivateMethod":{if((t.value?t.value.async:t.async)||t.kind==="get"||t.kind==="set")return!1;let i=t.value?t.value.generator:t.generator;return!!(t.computed||i)}case"TSIndexSignature":return!0}return!1}function md(e,t,s){var n;let o=t.semi?";":"",{node:i}=e,r=i.type==="ObjectTypeAnnotation",l=i.type==="TSEnumDeclaration"||i.type==="EnumBooleanBody"||i.type==="EnumNumberBody"||i.type==="EnumStringBody"||i.type==="EnumSymbolBody",m=[i.type==="TSTypeLiteral"||l?"members":i.type==="TSInterfaceBody"?"body":"properties"];r&&m.push("indexers","callProperties","internalSlots");let c=m.flatMap(I=>e.map(({node:j})=>({node:j,printed:s(),loc:Gt(j)}),I));m.length>1&&c.sort((I,j)=>I.loc-j.loc);let{parent:h,key:p}=e,g=r&&p==="body"&&(h.type==="InterfaceDeclaration"||h.type==="DeclareInterface"||h.type==="DeclareClass"),w=i.type==="TSInterfaceBody"||l||g||i.type==="ObjectPattern"&&h.type!=="FunctionDeclaration"&&h.type!=="FunctionExpression"&&h.type!=="ArrowFunctionExpression"&&h.type!=="ObjectMethod"&&h.type!=="ClassMethod"&&h.type!=="ClassPrivateMethod"&&h.type!=="AssignmentPattern"&&h.type!=="CatchClause"&&i.properties.some(I=>I.value&&(I.value.type==="ObjectPattern"||I.value.type==="ArrayPattern"))||i.type!=="ObjectPattern"&&c.length>0&&dd(t.originalText,Gt(i),c[0].loc),S=g?";":i.type==="TSInterfaceBody"||i.type==="TSTypeLiteral"?dt(o,";"):",",k=i.type==="RecordExpression"?"#{":i.exact?"{|":"{",O=i.exact?"|}":"}",C=[],A=c.map(I=>{let j=[...C,ye(I.printed)];return C=[S,We],(I.node.type==="TSPropertySignature"||I.node.type==="TSMethodSignature"||I.node.type==="TSConstructSignatureDeclaration"||I.node.type==="TSCallSignatureDeclaration")&&Fe(I.node,ze.PrettierIgnore)&&C.shift(),Go(I.node,t)&&C.push(De),j});if(i.inexact||i.hasUnknownMembers){let I;if(Fe(i,ze.Dangling)){let j=Fe(i,ze.Line);I=[Pt(e,t),j||_s(t.originalText,vt(ft(!1,Rf(i),-1)))?De:We,"..."]}else I=["..."];A.push([...C,...I])}let T=(n=ft(!1,c,-1))==null?void 0:n.node,F=!(i.inexact||i.hasUnknownMembers||T&&(T.type==="RestElement"||(T.type==="TSPropertySignature"||T.type==="TSCallSignatureDeclaration"||T.type==="TSMethodSignature"||T.type==="TSConstructSignatureDeclaration")&&Fe(T,ze.PrettierIgnore))),L;if(A.length===0){if(!Fe(i,ze.Dangling))return[k,O,Kt(e,s)];L=ye([k,Pt(e,t,{indent:!0}),Oe,O,ps(e),Kt(e,s)])}else L=[g&&pt(i.properties)?tE(h):"",k,$e([t.bracketSpacing?We:Oe,...A]),dt(F&&(S!==","||Ho(t))?S:""),t.bracketSpacing?We:Oe,O,ps(e),Kt(e,s)];return e.match(I=>I.type==="ObjectPattern"&&!I.decorators,Xp)||Uo(i)&&(e.match(void 0,(I,j)=>j==="typeAnnotation",(I,j)=>j==="typeAnnotation",Xp)||e.match(void 0,(I,j)=>I.type==="FunctionTypeParam"&&j==="typeAnnotation",Xp))||!w&&e.match(I=>I.type==="ObjectPattern",I=>I.type==="AssignmentExpression"||I.type==="VariableDeclarator")?L:ye(L,{shouldBreak:w})}function Xp(e,t){return(t==="params"||t==="parameters"||t==="this"||t==="rest")&&pk(e)}var Kp=new WeakMap;function iE(e){return Kp.has(e)||Kp.set(e,e.type==="ConditionalExpression"&&!us(e,t=>t.type==="ObjectExpression")),Kp.get(e)}var rE=e=>e.type==="SequenceExpression";function L6(e,t,s,n={}){let o=[],i,r=[],l=!1,m=!n.expandLastArg&&e.node.body.type==="ArrowFunctionExpression",c;(function O(){let{node:C}=e,A=F6(e,t,s,n);if(o.length===0)o.push(A);else{let{leading:T,trailing:F}=j1(e,t);o.push([T,A]),r.unshift(F)}m&&(l||(l=C.returnType&&Zt(C).length>0||C.typeParameters||Zt(C).some(T=>T.type!=="Identifier"))),!m||C.body.type!=="ArrowFunctionExpression"?(i=s("body",n),c=C.body):e.call(O,"body")})();let h=!Ti(t.originalText,c)&&(rE(c)||B6(c,i,t)||!l&&iE(c)),p=e.key==="callee"&&Pr(e.parent),g=Symbol("arrow-chain"),w=R6(e,n,{signatureDocs:o,shouldBreak:l}),S,k=!1;return m&&(p||n.assignmentLayout)&&(k=!0,S=n.assignmentLayout==="chain-tail-arrow-chain"||p&&!h),i=V6(e,t,n,{bodyDoc:i,bodyComments:r,functionBody:c,shouldPutBodyOnSameLine:h}),ye([ye(k?$e([Oe,w]):w,{shouldBreak:S,id:g})," =>",m?ld(i,{groupId:g}):ye(i),m&&p?dt(Oe,"",{groupId:g}):""])}function F6(e,t,s,n){let{node:o}=e,i=[];if(o.async&&i.push("async "),Xk(e,t))i.push(s(["params",0]));else{let l=n.expandLastArg||n.expandFirstArg,m=Jf(e,s);if(l){if(cs(m))throw new yc;m=ye(sm(m))}i.push(ye([xl(e,s,t,l,!0),m]))}let r=Pt(e,t,{filter(l){let m=mi(t.originalText,vt(l));return m!==!1&&t.originalText.slice(m,m+2)==="=>"}});return r&&i.push(" ",r),i}function B6(e,t,s){var n,o;return Jt(e)||Sn(e)||e.type==="ArrowFunctionExpression"||e.type==="DoExpression"||e.type==="BlockStatement"||os(e)||((n=t.label)==null?void 0:n.hug)!==!1&&(((o=t.label)==null?void 0:o.embed)||F1(e,s.originalText))}function R6(e,t,{signatureDocs:s,shouldBreak:n}){if(s.length===1)return s[0];let{parent:o,key:i}=e;return i!=="callee"&&Pr(o)||uo(o)?ye([s[0]," =>",$e([We,rt([" =>",We],s.slice(1))])],{shouldBreak:n}):i==="callee"&&Pr(o)||t.assignmentLayout?ye(rt([" =>",We],s),{shouldBreak:n}):ye($e(rt([" =>",We],s)),{shouldBreak:n})}function V6(e,t,s,{bodyDoc:n,bodyComments:o,functionBody:i,shouldPutBodyOnSameLine:r}){let{node:l,parent:m}=e,c=s.expandLastArg&&Ho(t,"all")?dt(","):"",h=(s.expandLastArg||m.type==="JSXExpressionContainer")&&!Fe(l)?Oe:"";return r&&iE(i)?[" ",ye([dt("","("),$e([Oe,n]),dt("",")"),c,h]),o]:(rE(i)&&(n=ye(["(",$e([Oe,n]),Oe,")"])),r?[" ",n,o]:[$e([We,n,o]),c,h])}function fm(e,t,s,n){let{node:o}=e,i=[],r=U6(o[n]);return e.each(({node:l})=>{l.type!=="EmptyStatement"&&(i.push(s()),l!==r&&(i.push(De),Go(l,t)&&i.push(De)))},n),i}function U6(e){for(let t=e.length-1;t>=0;t--){let s=e[t];if(s.type!=="EmptyStatement")return s}}function aE(e,t,s){let{node:n}=e,o=[];n.type==="StaticBlock"&&o.push("static "),o.push("{");let i=lE(e,t,s);if(i)o.push($e([De,i]),De);else{let{parent:r}=e,l=e.grandparent;r.type==="ArrowFunctionExpression"||r.type==="FunctionExpression"||r.type==="FunctionDeclaration"||r.type==="ObjectMethod"||r.type==="ClassMethod"||r.type==="ClassPrivateMethod"||r.type==="ForStatement"||r.type==="WhileStatement"||r.type==="DoWhileStatement"||r.type==="DoExpression"||r.type==="CatchClause"&&!l.finalizer||r.type==="TSModuleDeclaration"||r.type==="TSDeclareFunction"||n.type==="StaticBlock"||o.push(De)}return o.push("}"),o}function lE(e,t,s){var n;let{node:o}=e,i=pt(o.directives),r=o.body.some(c=>c.type!=="EmptyStatement"),l=Fe(o,ze.Dangling);if(!i&&!r&&!l)return"";let m=[];return i&&(m.push(fm(e,t,s,"directives")),(r||l)&&(m.push(De),Go(ft(!1,o.directives,-1),t)&&m.push(De))),r&&m.push(fm(e,t,s,"body")),l&&m.push(Pt(e,t)),o.type==="Program"&&((n=e.parent)==null?void 0:n.type)!=="ModuleExpression"&&m.push(De),m}function W6(e,t){if(t.semi||cE(e,t)||pE(e,t))return!1;let{node:s,key:n,parent:o}=e;return!!(s.type==="ExpressionStatement"&&(n==="body"&&(o.type==="Program"||o.type==="BlockStatement"||o.type==="StaticBlock"||o.type==="TSModuleBlock")||n==="consequent"&&o.type==="SwitchCase")&&e.call(()=>uE(e,t),"expression"))}function uE(e,t){let{node:s}=e;switch(s.type){case"ParenthesizedExpression":case"TypeCastExpression":case"ArrayExpression":case"ArrayPattern":case"TemplateLiteral":case"TemplateElement":case"RegExpLiteral":return!0;case"ArrowFunctionExpression":if(!Xk(e,t))return!0;break;case"UnaryExpression":{let{prefix:n,operator:o}=s;if(n&&(o==="+"||o==="-"))return!0;break}case"BindExpression":if(!s.object)return!0;break;case"Literal":if(s.regex)return!0;break;default:if(os(s))return!0}return zr(e,t)?!0:Mf(s)?e.call(()=>uE(e,t),...$1(s)):!1}function cE({node:e,parent:t},s){return(s.parentParser==="markdown"||s.parentParser==="mdx")&&e.type==="ExpressionStatement"&&os(e.expression)&&t.type==="Program"&&t.body.length===1}function dE(e){switch(e.type){case"MemberExpression":switch(e.property.type){case"Identifier":case"NumericLiteral":case"StringLiteral":return dE(e.object)}return!1;case"Identifier":return!0;default:return!1}}function pE({node:e,parent:t},s){return(s.parser==="__vue_event_binding"||s.parser==="__vue_ts_event_binding")&&e.type==="ExpressionStatement"&&t.type==="Program"&&t.body.length===1}function j6(e,t,s){let n=[s("expression")];return pE(e,t)?dE(e.node.expression)&&n.push(";"):cE(e,t)||t.semi&&n.push(";"),Fe(e.node,ze.Dangling,({marker:o})=>o===rm)&&n.push(" ",Pt(e,t,{marker:rm})),n}function q6(e,t,s){if(t.__isVueBindings||t.__isVueForBindingLeft){let n=e.map(s,"program","body",0,"params");if(n.length===1)return n[0];let o=rt([",",We],n);return t.__isVueForBindingLeft?["(",$e([Oe,ye(o)]),Oe,")"]:o}}function z6(e,t,s,n){let{node:o}=e;if(lk(o))return x9(e,t);let i=t.semi?";":"",r=[];switch(o.type){case"JsExpressionRoot":return s("node");case"JsonRoot":return[s("node"),De];case"File":return q6(e,t,s)??s("program");case"Program":return lE(e,t,s);case"EmptyStatement":return"";case"ExpressionStatement":return j6(e,t,s);case"ChainExpression":return s("expression");case"ParenthesizedExpression":return!Fe(o.expression)&&(Sn(o.expression)||Jt(o.expression))?["(",s("expression"),")"]:ye(["(",$e([Oe,s("expression")]),Oe,")"]);case"AssignmentExpression":return O9(e,t,s);case"VariableDeclarator":return D9(e,t,s);case"BinaryExpression":case"LogicalExpression":return sk(e,t,s);case"AssignmentPattern":return[s("left")," = ",s("right")];case"OptionalMemberExpression":case"MemberExpression":return y9(e,t,s);case"MetaProperty":return[s("meta"),".",s("property")];case"BindExpression":return o.object&&r.push(s("object")),r.push(ye($e([Oe,Dk(e,t,s)]))),r;case"Identifier":return[o.name,ps(e),Ok(e),Kt(e,s)];case"V8IntrinsicIdentifier":return["%",o.name];case"SpreadElement":case"SpreadElementPattern":case"SpreadPropertyPattern":case"RestElement":return Ak(e,s);case"FunctionDeclaration":case"FunctionExpression":return Yk(e,s,t,n);case"ArrowFunctionExpression":return L6(e,t,s,n);case"YieldExpression":return r.push("yield"),o.delegate&&r.push("*"),o.argument&&r.push(" ",s("argument")),r;case"AwaitExpression":if(r.push("await"),o.argument){r.push(" ",s("argument"));let{parent:l}=e;if(ct(l)&&l.callee===o||Dt(l)&&l.object===o){r=[$e([Oe,...r]),Oe];let m=e.findAncestor(c=>c.type==="AwaitExpression"||c.type==="BlockStatement");if((m==null?void 0:m.type)!=="AwaitExpression"||!us(m.argument,c=>c===o))return ye(r)}}return r;case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ExportAllDeclaration":return Ik(e,t,s);case"ImportDeclaration":return J9(e,t,s);case"ImportSpecifier":case"ExportSpecifier":case"ImportNamespaceSpecifier":case"ExportNamespaceSpecifier":case"ImportDefaultSpecifier":case"ExportDefaultSpecifier":return s6(e,t,s);case"ImportAttribute":return[s("key"),": ",s("value")];case"Import":return"import";case"BlockStatement":case"StaticBlock":return aE(e,t,s);case"ClassBody":return I6(e,t,s);case"ThrowStatement":return $6(e,t,s);case"ReturnStatement":return A6(e,t,s);case"NewExpression":case"ImportExpression":case"OptionalCallExpression":case"CallExpression":return ak(e,t,s);case"ObjectExpression":case"ObjectPattern":case"RecordExpression":return md(e,t,s);case"ObjectProperty":case"Property":return o.method||o.kind==="get"||o.kind==="set"?mm(e,t,s):x6(e,t,s);case"ObjectMethod":return mm(e,t,s);case"Decorator":return["@",s("expression")];case"ArrayExpression":case"ArrayPattern":case"TupleExpression":return Hf(e,t,s);case"SequenceExpression":{let{parent:l}=e;if(l.type==="ExpressionStatement"||l.type==="ForStatement"){let m=[];return e.each(({isFirst:c})=>{c?m.push(s()):m.push(",",$e([We,s()]))},"expressions"),ye(m)}return ye(rt([",",We],e.map(s,"expressions")))}case"ThisExpression":return"this";case"Super":return"super";case"Directive":return[s("value"),i];case"UnaryExpression":return r.push(o.operator),/[a-z]$/.test(o.operator)&&r.push(" "),Fe(o.argument)?r.push(ye(["(",$e([Oe,s("argument")]),Oe,")"])):r.push(s("argument")),r;case"UpdateExpression":return r.push(s("argument"),o.operator),o.prefix&&r.reverse(),r;case"ConditionalExpression":return Gf(e,t,s);case"VariableDeclaration":{let l=e.map(s,"declarations"),m=e.parent,c=m.type==="ForStatement"||m.type==="ForInStatement"||m.type==="ForOfStatement",h=o.declarations.some(g=>g.init),p;return l.length===1&&!Fe(o.declarations[0])?p=l[0]:l.length>0&&(p=$e(l[0])),r=[nn(e),o.kind,p?[" ",p]:"",$e(l.slice(1).map(g=>[",",h&&!c?De:We,g]))],c&&m.body!==o||r.push(i),ye(r)}case"WithStatement":return ye(["with (",s("object"),")",ko(o.body,s("body"))]);case"IfStatement":{let l=ko(o.consequent,s("consequent")),m=ye(["if (",ye([$e([Oe,s("test")]),Oe]),")",l]);if(r.push(m),o.alternate){let c=Fe(o.consequent,ze.Trailing|ze.Line)||B1(o),h=o.consequent.type==="BlockStatement"&&!c;r.push(h?" ":De),Fe(o,ze.Dangling)&&r.push(Pt(e,t),c?De:" "),r.push("else",ye(ko(o.alternate,s("alternate"),o.alternate.type==="IfStatement")))}return r}case"ForStatement":{let l=ko(o.body,s("body")),m=Pt(e,t),c=m?[m,Oe]:"";return!o.init&&!o.test&&!o.update?[c,ye(["for (;;)",l])]:[c,ye(["for (",ye([$e([Oe,s("init"),";",We,s("test"),";",We,s("update")]),Oe]),")",l])]}case"WhileStatement":return ye(["while (",ye([$e([Oe,s("test")]),Oe]),")",ko(o.body,s("body"))]);case"ForInStatement":return ye(["for (",s("left")," in ",s("right"),")",ko(o.body,s("body"))]);case"ForOfStatement":return ye(["for",o.await?" await":""," (",s("left")," of ",s("right"),")",ko(o.body,s("body"))]);case"DoWhileStatement":{let l=ko(o.body,s("body"));return r=[ye(["do",l])],o.body.type==="BlockStatement"?r.push(" "):r.push(De),r.push("while (",ye([$e([Oe,s("test")]),Oe]),")",i),r}case"DoExpression":return[o.async?"async ":"","do ",s("body")];case"BreakStatement":case"ContinueStatement":return r.push(o.type==="BreakStatement"?"break":"continue"),o.label&&r.push(" ",s("label")),r.push(i),r;case"LabeledStatement":return o.body.type==="EmptyStatement"?[s("label"),":;"]:[s("label"),": ",s("body")];case"TryStatement":return["try ",s("block"),o.handler?[" ",s("handler")]:"",o.finalizer?[" finally ",s("finalizer")]:""];case"CatchClause":if(o.param){let l=Fe(o.param,c=>!fo(c)||c.leading&&_s(t.originalText,vt(c))||c.trailing&&_s(t.originalText,Gt(c),{backwards:!0})),m=s("param");return["catch ",l?["(",$e([Oe,m]),Oe,") "]:["(",m,") "],s("body")]}return["catch ",s("body")];case"SwitchStatement":return[ye(["switch (",$e([Oe,s("discriminant")]),Oe,")"])," {",o.cases.length>0?$e([De,rt(De,e.map(({node:l,isLast:m})=>[s(),!m&&Go(l,t)?De:""],"cases"))]):"",De,"}"];case"SwitchCase":{o.test?r.push("case ",s("test"),":"):r.push("default:"),Fe(o,ze.Dangling)&&r.push(" ",Pt(e,t));let l=o.consequent.filter(m=>m.type!=="EmptyStatement");if(l.length>0){let m=fm(e,t,s,"consequent");r.push(l.length===1&&l[0].type==="BlockStatement"?[" ",m]:$e([De,m]))}return r}case"DebuggerStatement":return["debugger",i];case"ClassDeclaration":case"ClassExpression":return Zk(e,t,s);case"ClassMethod":case"ClassPrivateMethod":case"MethodDefinition":return nE(e,t,s);case"ClassProperty":case"PropertyDefinition":case"ClassPrivateProperty":case"ClassAccessorProperty":case"AccessorProperty":return oE(e,t,s);case"TemplateElement":return vi(o.value.raw);case"TemplateLiteral":return Wk(e,s,t);case"TaggedTemplateExpression":return f6(s);case"PrivateIdentifier":return["#",o.name];case"PrivateName":return["#",s("id")];case"TopicReference":return"%";case"ArgumentPlaceholder":return"?";case"ModuleExpression":{r.push("module {");let l=s("body");return l&&r.push($e([De,l]),De),r.push("}"),r}case"InterpreterDirective":default:throw new Hr(o,"ESTree")}}function H6(e,t,s){let{node:n}=e;if(n.type.startsWith("NG"))switch(n.type){case"NGRoot":return[s("node"),Fe(n.node)?" //"+Rf(n.node)[0].value.trimEnd():""];case"NGPipeExpression":return sk(e,t,s);case"NGChainedExpression":return ye(rt([";",We],e.map(()=>G6(e)?s():["(",s(),")"],"expressions")));case"NGEmptyExpression":return"";case"NGMicrosyntax":return e.map(()=>[e.isFirst?"":_b(e)?" ":[";",We],s()],"body");case"NGMicrosyntaxKey":return/^[$_a-z][\w$]*(?:-[$_a-z][\w$])*$/i.test(n.name)?n.name:JSON.stringify(n.name);case"NGMicrosyntaxExpression":return[s("expression"),n.alias===null?"":[" as ",s("alias")]];case"NGMicrosyntaxKeyedExpression":{let{index:o,parent:i}=e,r=_b(e)||(o===1&&(n.key.name==="then"||n.key.name==="else")||o===2&&n.key.name==="else"&&i.body[o-1].type==="NGMicrosyntaxKeyedExpression"&&i.body[o-1].key.name==="then")&&i.body[0].type==="NGMicrosyntaxExpression";return[s("key"),r?" ":": ",s("expression")]}case"NGMicrosyntaxLet":return["let ",s("key"),n.value===null?"":[" = ",s("value")]];case"NGMicrosyntaxAs":return[s("key")," as ",s("alias")];default:throw new Hr(n,"Angular")}}function _b({node:e,index:t,parent:s}){return e.type==="NGMicrosyntaxKeyedExpression"&&e.key.name==="of"&&t===1&&s.body[0].type==="NGMicrosyntaxLet"&&s.body[0].value===null}var Q6=kt(["CallExpression","OptionalCallExpression","AssignmentExpression"]);function G6({node:e}){return om(e,Q6)}function hE(e,t,s){let{node:n}=e,o=[nn(e),"interface"],i=[],r=[];n.type!=="InterfaceTypeAnnotation"&&i.push(" ",s("id"),s("typeParameters"));let l=n.typeParameters&&!Fe(n.typeParameters,ze.Trailing|ze.Line);return pt(n.extends)&&r.push(l?dt(" ",We,{groupId:Xf(n.typeParameters)}):We,"extends ",(n.extends.length===1?L5:$e)(rt([",",We],e.map(s,"extends")))),Fe(n.id,ze.Trailing)||pt(n.extends)?l?o.push(ye([...i,$e(r)])):o.push(ye($e([...i,...r]))):o.push(...i,...r),o.push(" ",s("body")),ye(o)}function mE(e,t,s){return md(e,s,t)}function fE(e,t){let{node:s}=e,n=t("id");s.computed&&(n=["[",n,"]"]);let o="";return s.initializer&&(o=t("initializer")),s.init&&(o=t("init")),o?[n," = ",o]:n}function Y6(e,t,s){let{node:n}=e,o;if(n.type==="EnumSymbolBody"||n.explicitType)switch(n.type){case"EnumBooleanBody":o="boolean";break;case"EnumNumberBody":o="number";break;case"EnumStringBody":o="string";break;case"EnumSymbolBody":o="symbol";break}return[o?`of ${o} `:"",mE(e,t,s)]}function gE(e,t,s){let{node:n}=e;return[nn(e),n.const?"const ":"","enum ",t("id")," ",n.type==="TSEnumDeclaration"?mE(e,t,s):t("body")]}function X6(e,t,s){let{node:n}=e;if(D1(n))return n.type.slice(0,-14).toLowerCase();let o=t.semi?";":"";switch(n.type){case"DeclareClass":return Zk(e,t,s);case"DeclareFunction":return[nn(e),"function ",s("id"),s("predicate"),o];case"DeclareModule":return["declare module ",s("id")," ",s("body")];case"DeclareModuleExports":return["declare module.exports",Kt(e,s),o];case"DeclareVariable":return[nn(e),n.kind??"var"," ",s("id"),o];case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":return Ik(e,t,s);case"DeclareOpaqueType":case"OpaqueType":return z9(e,t,s);case"DeclareTypeAlias":case"TypeAlias":return mk(e,t,s);case"IntersectionTypeAnnotation":return fk(e,t,s);case"UnionTypeAnnotation":return gk(e,t,s);case"ConditionalTypeAnnotation":return Gf(e,t,s);case"InferTypeAnnotation":return bk(e,t,s);case"FunctionTypeAnnotation":return yk(e,t,s);case"TupleTypeAnnotation":return Hf(e,t,s);case"TupleTypeLabeledElement":return Tk(e,t,s);case"TupleTypeSpreadElement":return vk(e,t,s);case"GenericTypeAnnotation":return[s("id"),Na(e,t,s,"typeParameters")];case"IndexedAccessType":case"OptionalIndexedAccessType":return wk(e,t,s);case"TypeAnnotation":return kk(e,t,s);case"TypeParameter":return Qk(e,t,s);case"TypeofTypeAnnotation":return xk(e,s);case"ExistsTypeAnnotation":return"*";case"ArrayTypeAnnotation":return Ek(s);case"DeclareEnum":case"EnumDeclaration":return gE(e,s,t);case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":return Y6(e,s,t);case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":case"EnumDefaultedMember":return fE(e,s);case"FunctionTypeParam":{let i=n.name?s("name"):e.parent.this===n?"this":"";return[i,ps(e),i?": ":"",s("typeAnnotation")]}case"DeclareInterface":case"InterfaceDeclaration":case"InterfaceTypeAnnotation":return hE(e,t,s);case"ClassImplements":case"InterfaceExtends":return[s("id"),s("typeParameters")];case"NullableTypeAnnotation":return["?",s("typeAnnotation")];case"Variance":{let{kind:i}=n;return Gk.ok(i==="plus"||i==="minus"),i==="plus"?"+":"-"}case"KeyofTypeAnnotation":return["keyof ",s("argument")];case"ObjectTypeCallProperty":return[n.static?"static ":"",s("value")];case"ObjectTypeMappedTypeProperty":return T6(e,t,s);case"ObjectTypeIndexer":return[n.static?"static ":"",n.variance?s("variance"):"","[",s("id"),n.id?": ":"",s("key"),"]: ",s("value")];case"ObjectTypeProperty":{let i="";return n.proto?i="proto ":n.static&&(i="static "),[i,P1(n)?n.kind+" ":"",n.variance?s("variance"):"",Cl(e,t,s),ps(e),I1(n)?"":": ",s("value")]}case"ObjectTypeAnnotation":return md(e,t,s);case"ObjectTypeInternalSlot":return[n.static?"static ":"","[[",s("id"),"]]",ps(e),n.method?"":": ",s("value")];case"ObjectTypeSpreadProperty":return Ak(e,s);case"QualifiedTypeofIdentifier":case"QualifiedTypeIdentifier":return[s("qualification"),".",s("id")];case"NullLiteralTypeAnnotation":return"null";case"BooleanLiteralTypeAnnotation":return String(n.value);case"StringLiteralTypeAnnotation":return vi(wc(sn(n),t));case"NumberLiteralTypeAnnotation":return Po(n.raw??n.extra.raw);case"BigIntLiteralTypeAnnotation":return dm(n.raw??n.extra.raw);case"TypeCastExpression":return["(",s("expression"),Kt(e,s),")"];case"TypePredicate":return Ck(e,s);case"TypeParameterDeclaration":case"TypeParameterInstantiation":return Na(e,t,s,"params");case"InferredPredicate":case"DeclaredPredicate":return[e.key==="predicate"&&e.parent.type!=="DeclareFunction"&&!e.parent.returnType?": ":" ","%checks",...n.type==="DeclaredPredicate"?["(",s("value"),")"]:[]]}}function K6(e,t,s){var n;let{node:o}=e;if(!o.type.startsWith("TS"))return;if(A1(o))return o.type.slice(2,-7).toLowerCase();let i=t.semi?";":"",r=[];switch(o.type){case"TSThisType":return"this";case"TSTypeAssertion":{let l=!(Jt(o.expression)||Sn(o.expression)),m=ye(["<",$e([Oe,s("typeAnnotation")]),Oe,">"]),c=[dt("("),$e([Oe,s("expression")]),Oe,dt(")")];return l?li([[m,s("expression")],[m,ye(c,{shouldBreak:!0})],[m,s("expression")]]):ye([m,s("expression")])}case"TSDeclareFunction":return Yk(e,s,t);case"TSExportAssignment":return["export = ",s("expression"),i];case"TSModuleBlock":return aE(e,t,s);case"TSInterfaceBody":case"TSTypeLiteral":return md(e,t,s);case"TSTypeAliasDeclaration":return mk(e,t,s);case"TSQualifiedName":return[s("left"),".",s("right")];case"TSAbstractMethodDefinition":case"TSDeclareMethod":return nE(e,t,s);case"TSAbstractAccessorProperty":case"TSAbstractPropertyDefinition":return oE(e,t,s);case"TSInterfaceHeritage":case"TSClassImplements":case"TSExpressionWithTypeArguments":case"TSInstantiationExpression":return[s("expression"),s("typeParameters")];case"TSTemplateLiteralType":return Wk(e,s,t);case"TSNamedTupleMember":return Tk(e,t,s);case"TSRestType":return vk(e,t,s);case"TSOptionalType":return[s("typeAnnotation"),"?"];case"TSInterfaceDeclaration":return hE(e,t,s);case"TSTypeParameterDeclaration":case"TSTypeParameterInstantiation":return Na(e,t,s,"params");case"TSTypeParameter":return Qk(e,t,s);case"TSAsExpression":case"TSSatisfiesExpression":{let l=o.type==="TSAsExpression"?"as":"satisfies";r.push(s("expression"),` ${l} `,s("typeAnnotation"));let{parent:m}=e;return ct(m)&&m.callee===o||Dt(m)&&m.object===o?ye([$e([Oe,...r]),Oe]):r}case"TSArrayType":return Ek(s);case"TSPropertySignature":return[o.readonly?"readonly ":"",Cl(e,t,s),ps(e),Kt(e,s)];case"TSParameterProperty":return[bc(o),o.static?"static ":"",o.override?"override ":"",o.readonly?"readonly ":"",s("parameter")];case"TSTypeQuery":return xk(e,s);case"TSIndexSignature":{let l=o.parameters.length>1?dt(Ho(t)?",":""):"",m=ye([$e([Oe,rt([", ",Oe],e.map(s,"parameters"))]),l,Oe]),c=e.parent.type==="ClassBody"&&e.key==="body";return[c&&o.static?"static ":"",o.readonly?"readonly ":"","[",o.parameters?m:"","]",Kt(e,s),c?i:""]}case"TSTypePredicate":return Ck(e,s);case"TSNonNullExpression":return[s("expression"),"!"];case"TSImportType":return[o.isTypeOf?"typeof ":"","import(",s(o.parameter?"parameter":"argument"),")",o.qualifier?[".",s("qualifier")]:"",Na(e,t,s,"typeParameters")];case"TSLiteralType":return s("literal");case"TSIndexedAccessType":return wk(e,t,s);case"TSTypeOperator":return[o.operator," ",s("typeAnnotation")];case"TSMappedType":return S6(e,t,s);case"TSMethodSignature":{let l=o.kind&&o.kind!=="method"?`${o.kind} `:"";r.push(bc(o),l,o.computed?"[":"",s("key"),o.computed?"]":"",ps(e));let m=xl(e,s,t,!1,!0),c=o.returnType?"returnType":"typeAnnotation",h=o[c],p=h?Kt(e,s,c):"",g=pd(o,p);return r.push(g?ye(m):m),h&&r.push(ye(p)),ye(r)}case"TSNamespaceExportDeclaration":return["export as namespace ",s("id"),t.semi?";":""];case"TSEnumDeclaration":return gE(e,s,t);case"TSEnumMember":return fE(e,s);case"TSImportEqualsDeclaration":return[o.isExport?"export ":"","import ",Mk(o,!1),s("id")," = ",s("moduleReference"),t.semi?";":""];case"TSExternalModuleReference":return["require(",s("expression"),")"];case"TSModuleDeclaration":{let{parent:l}=e,m=l.type==="TSModuleDeclaration",c=((n=o.body)==null?void 0:n.type)==="TSModuleDeclaration";if(m)r.push(".");else if(r.push(nn(e)),!(o.kind==="global"||o.global)){let h=o.kind??(Ps(o.id)||/(?:^|\s)module(?:\s|$)/.test(t.originalText.slice(Gt(o),Gt(o.id)))?"module":"namespace");r.push(h," ")}return r.push(s("id")),c?r.push(s("body")):o.body?r.push(" ",ye(s("body"))):r.push(i),r}case"TSConditionalType":return Gf(e,t,s);case"TSInferType":return bk(e,t,s);case"TSIntersectionType":return fk(e,t,s);case"TSUnionType":return gk(e,t,s);case"TSFunctionType":case"TSCallSignatureDeclaration":case"TSConstructorType":case"TSConstructSignatureDeclaration":return yk(e,t,s);case"TSTupleType":return Hf(e,t,s);case"TSTypeReference":return[s("typeName"),Na(e,t,s,"typeParameters")];case"TSTypeAnnotation":return kk(e,t,s);case"TSEmptyBodyFunctionExpression":return Kf(e,t,s);case"TSJSDocAllType":return"*";case"TSJSDocUnknownType":return"?";case"TSJSDocNullableType":return Nb(e,s,"?");case"TSJSDocNonNullableType":return Nb(e,s,"!");case"TSParenthesizedType":default:throw new Hr(o,"TypeScript")}}function J6(e,t,s,n){if(tk(e))return CW(e,t);for(let o of[H6,t9,X6,K6,z6]){let i=o(e,t,s,n);if(i!==void 0)return i}}var Z6=kt(["ClassMethod","ClassPrivateMethod","ClassProperty","ClassAccessorProperty","AccessorProperty","TSAbstractAccessorProperty","PropertyDefinition","TSAbstractPropertyDefinition","ClassPrivateProperty","MethodDefinition","TSAbstractMethodDefinition","TSDeclareMethod"]);function e7(e,t,s,n){var o;e.isRoot&&((o=t.__onHtmlBindingRoot)==null||o.call(t,e.node,t));let i=J6(e,t,s,n);if(!i)return"";let{node:r}=e;if(Z6(r))return i;let l=pt(r.decorators),m=K9(e,t,s),c=r.type==="ClassExpression";if(l&&!c)return nm(i,g=>ye([m,g]));let h=zr(e,t),p=W6(e,t);return!m&&!h&&!p?i:nm(i,g=>[p?";":"",h?"(":"",h&&c&&l?[$e([We,m,g]),We]:[m,g],h?")":""])}var t7=e7,yE=[(e,t)=>e.type==="ObjectExpression"&&t==="properties",(e,t)=>e.type==="CallExpression"&&e.callee.type==="Identifier"&&e.callee.name==="Component"&&t==="arguments",(e,t)=>e.type==="Decorator"&&t==="expression"];function s7(e){return e.match(t=>t.type==="TemplateLiteral",(t,s)=>Jt(t)&&s==="elements",(t,s)=>go(t)&&t.key.type==="Identifier"&&t.key.name==="styles"&&s==="value",...yE)}function n7(e){return e.match(t=>t.type==="TemplateLiteral",(t,s)=>go(t)&&t.key.type==="Identifier"&&t.key.name==="template"&&s==="value",...yE)}function wE(e,t){return Fe(e,ze.Block|ze.Leading,({value:s})=>s===` ${t} `)}async function o7(e,t,s){let{node:n}=s,o=n.quasis.map(h=>h.value.raw),i=0,r=o.reduce((h,p,g)=>g===0?p:h+"@prettier-placeholder-"+i+++"-id"+p,""),l=await e(r,{parser:"scss"}),m=Yf(s,t),c=i7(l,m);if(!c)throw new Error("Couldn't insert all the expressions");return["`",$e([De,c]),Oe,"`"]}function i7(e,t){if(!pt(t))return e;let s=0,n=qr($f(e),o=>typeof o!="string"||!o.includes("@prettier-placeholder")?o:o.split(/@prettier-placeholder-(\d+)-id/).map((i,r)=>r%2===0?vi(i):(s++,t[i])));return t.length===s?n:null}function r7({node:e,parent:t,grandparent:s}){return s&&e.quasis&&t.type==="JSXExpressionContainer"&&s.type==="JSXElement"&&s.openingElement.name.name==="style"&&s.openingElement.attributes.some(n=>n.name.name==="jsx")||(t==null?void 0:t.type)==="TaggedTemplateExpression"&&t.tag.type==="Identifier"&&t.tag.name==="css"||(t==null?void 0:t.type)==="TaggedTemplateExpression"&&t.tag.type==="MemberExpression"&&t.tag.object.name==="css"&&(t.tag.property.name==="global"||t.tag.property.name==="resolve")}function fu(e){return e.type==="Identifier"&&e.name==="styled"}function Pb(e){return/^[A-Z]/.test(e.object.name)&&e.property.name==="extend"}function a7({parent:e}){if(!e||e.type!=="TaggedTemplateExpression")return!1;let t=e.tag.type==="ParenthesizedExpression"?e.tag.expression:e.tag;switch(t.type){case"MemberExpression":return fu(t.object)||Pb(t);case"CallExpression":return fu(t.callee)||t.callee.type==="MemberExpression"&&(t.callee.object.type==="MemberExpression"&&(fu(t.callee.object.object)||Pb(t.callee.object))||t.callee.object.type==="CallExpression"&&fu(t.callee.object.callee));case"Identifier":return t.name==="css";default:return!1}}function l7({parent:e,grandparent:t}){return(t==null?void 0:t.type)==="JSXAttribute"&&e.type==="JSXExpressionContainer"&&t.name.type==="JSXIdentifier"&&t.name.name==="css"}function u7(e){if(r7(e)||a7(e)||l7(e)||s7(e))return o7}var c7=u7;async function d7(e,t,s){let{node:n}=s,o=n.quasis.length,i=Yf(s,t),r=[];for(let l=0;l<o;l++){let m=n.quasis[l],c=l===0,h=l===o-1,p=m.value.cooked,g=p.split(`
`),w=g.length,S=i[l],k=w>2&&g[0].trim()===""&&g[1].trim()==="",O=w>2&&g[w-1].trim()===""&&g[w-2].trim()==="",C=g.every(T=>/^\s*(?:#[^\n\r]*)?$/.test(T));if(!h&&/#[^\n\r]*$/.test(g[w-1]))return null;let A=null;C?A=p7(g):A=await e(p,{parser:"graphql"}),A?(A=jk(A,!1),!c&&k&&r.push(""),r.push(A),!h&&O&&r.push("")):!c&&!h&&k&&r.push(""),S&&r.push(S)}return["`",$e([De,rt(De,r)]),De,"`"]}function p7(e){let t=[],s=!1,n=e.map(o=>o.trim());for(let[o,i]of n.entries())i!==""&&(n[o-1]===""&&s?t.push([De,i]):t.push(i),s=!0);return t.length===0?null:rt(De,t)}function h7({node:e,parent:t}){return wE(e,"GraphQL")||t&&(t.type==="TaggedTemplateExpression"&&(t.tag.type==="MemberExpression"&&t.tag.object.name==="graphql"&&t.tag.property.name==="experimental"||t.tag.type==="Identifier"&&(t.tag.name==="gql"||t.tag.name==="graphql"))||t.type==="CallExpression"&&t.callee.type==="Identifier"&&t.callee.name==="graphql")}function m7(e){if(h7(e))return d7}var f7=m7,Jp=0;async function bE(e,t,s,n,o){let{node:i}=n,r=Jp;Jp=Jp+1>>>0;let l=C=>`PRETTIER_HTML_PLACEHOLDER_${C}_${r}_IN_JS`,m=i.quasis.map((C,A,T)=>A===T.length-1?C.value.cooked:C.value.cooked+l(A)).join(""),c=Yf(n,s),h=new RegExp(l("(\\d+)"),"g"),p=0,g=await t(m,{parser:e,__onHtmlRoot(C){p=C.children.length}}),w=qr(g,C=>{if(typeof C!="string")return C;let A=[],T=C.split(h);for(let F=0;F<T.length;F++){let L=T[F];if(F%2===0){L&&(L=qk(L),o.__embeddedInHtml&&(L=$s(!1,L,/<\/(?=script\b)/gi,"<\\/")),A.push(L));continue}let I=Number(L);A.push(c[I])}return A}),S=/^\s/.test(m)?" ":"",k=/\s$/.test(m)?" ":"",O=o.htmlWhitespaceSensitivity==="ignore"?De:S&&k?We:null;return O?ye(["`",$e([O,ye(w)]),O,"`"]):Sl({hug:!1},ye(["`",S,p>1?$e(ye(w)):ye(w),k,"`"]))}function g7(e){return wE(e.node,"HTML")||e.match(t=>t.type==="TemplateLiteral",(t,s)=>t.type==="TaggedTemplateExpression"&&t.tag.type==="Identifier"&&t.tag.name==="html"&&s==="quasi")}var y7=bE.bind(void 0,"html"),w7=bE.bind(void 0,"angular");function b7(e){if(g7(e))return y7;if(n7(e))return w7}var v7=b7;async function T7(e,t,s){let{node:n}=s,o=$s(!1,n.quasis[0].value.raw,/((?:\\\\)*)\\`/g,(m,c)=>"\\".repeat(c.length/2)+"`"),i=S7(o),r=i!=="";r&&(o=$s(!1,o,new RegExp(`^${i}`,"gm"),""));let l=jk(await e(o,{parser:"markdown",__inJsTemplate:!0}),!0);return["`",r?$e([Oe,l]):[k1,IW(l)],Oe,"`"]}function S7(e){let t=e.match(/^([^\S\n]*)\S/m);return t===null?"":t[1]}function k7(e){if(E7(e))return T7}function E7({node:e,parent:t}){return(t==null?void 0:t.type)==="TaggedTemplateExpression"&&e.quasis.length===1&&t.tag.type==="Identifier"&&(t.tag.name==="md"||t.tag.name==="markdown")}var x7=k7;function C7(e){let{node:t}=e;if(t.type!=="TemplateLiteral"||O7(t))return;let s;for(let n of[c7,f7,v7,x7])if(s=n(e),!!s)return t.quasis.length===1&&t.quasis[0].value.raw.trim()===""?"``":async(...o)=>{let i=await s(...o);return i&&Sl({embed:!0,...i.label},i)}}function O7({quasis:e}){return e.some(({value:{cooked:t}})=>t===null)}var D7=C7,A7=new Set(["range","raw","comments","leadingComments","trailingComments","innerComments","extra","start","end","loc","flags","errors","tokens"]),Xi=e=>{for(let t of e.quasis)delete t.value};function vE(e,t,s){var n,o;if(e.type==="Program"&&delete t.sourceType,(e.type==="BigIntLiteral"||e.type==="BigIntLiteralTypeAnnotation")&&t.value&&(t.value=t.value.toLowerCase()),(e.type==="BigIntLiteral"||e.type==="Literal")&&t.bigint&&(t.bigint=t.bigint.toLowerCase()),e.type==="DecimalLiteral"&&(t.value=Number(t.value)),e.type==="Literal"&&t.decimal&&(t.decimal=Number(t.decimal)),e.type==="EmptyStatement"||e.type==="JSXText"||e.type==="JSXExpressionContainer"&&(e.expression.type==="Literal"||e.expression.type==="StringLiteral")&&e.expression.value===" ")return null;if((e.type==="Property"||e.type==="ObjectProperty"||e.type==="MethodDefinition"||e.type==="ClassProperty"||e.type==="ClassMethod"||e.type==="PropertyDefinition"||e.type==="TSDeclareMethod"||e.type==="TSPropertySignature"||e.type==="ObjectTypeProperty")&&typeof e.key=="object"&&e.key&&(e.key.type==="Literal"||e.key.type==="NumericLiteral"||e.key.type==="StringLiteral"||e.key.type==="Identifier")&&delete t.key,e.type==="JSXElement"&&e.openingElement.name.name==="style"&&e.openingElement.attributes.some(r=>r.name.name==="jsx"))for(let{type:r,expression:l}of t.children)r==="JSXExpressionContainer"&&l.type==="TemplateLiteral"&&Xi(l);e.type==="JSXAttribute"&&e.name.name==="css"&&e.value.type==="JSXExpressionContainer"&&e.value.expression.type==="TemplateLiteral"&&Xi(t.value.expression),e.type==="JSXAttribute"&&((n=e.value)==null?void 0:n.type)==="Literal"&&/["']|&quot;|&apos;/.test(e.value.value)&&(t.value.value=$s(!1,t.value.value,/["']|&quot;|&apos;/g,'"'));let i=e.expression||e.callee;if(e.type==="Decorator"&&i.type==="CallExpression"&&i.callee.name==="Component"&&i.arguments.length===1){let r=e.expression.arguments[0].properties;for(let[l,m]of t.expression.arguments[0].properties.entries())switch(r[l].key.name){case"styles":Jt(m.value)&&Xi(m.value.elements[0]);break;case"template":m.value.type==="TemplateLiteral"&&Xi(m.value);break}}if(e.type==="TaggedTemplateExpression"&&(e.tag.type==="MemberExpression"||e.tag.type==="Identifier"&&(e.tag.name==="gql"||e.tag.name==="graphql"||e.tag.name==="css"||e.tag.name==="md"||e.tag.name==="markdown"||e.tag.name==="html")||e.tag.type==="CallExpression")&&Xi(t.quasi),e.type==="TemplateLiteral"&&((o=e.leadingComments)!=null&&o.some(r=>fo(r)&&["GraphQL","HTML"].some(l=>r.value===` ${l} `))||s.type==="CallExpression"&&s.callee.name==="graphql"||!e.leadingComments)&&Xi(t),(e.type==="TSIntersectionType"||e.type==="TSUnionType")&&e.types.length===1)return t.types[0];e.type==="ChainExpression"&&e.expression.type==="TSNonNullExpression"&&([t.type,t.expression.type]=[t.expression.type,t.type])}vE.ignoredProperties=A7;var $7=vE,vc=TW(EW(),1);function N7(e){if(!e.startsWith("#!"))return"";let t=e.indexOf(`
`);return t===-1?e:e.slice(0,t)}var _7=N7;function P7(e){let t=_7(e);t&&(e=e.slice(t.length+1));let s=(0,vc.extract)(e),{pragmas:n,comments:o}=(0,vc.parseWithComments)(s);return{shebang:t,text:e,pragmas:n,comments:o}}function I7(e){let{shebang:t,text:s,pragmas:n,comments:o}=P7(e),i=(0,vc.strip)(s),r=(0,vc.print)({pragmas:{format:"",...n},comments:o.trimStart()});return(t?`${t}
`:"")+r+(i.startsWith(`
`)?`
`:`

`)+i}var M7={avoidAstMutation:!0},L7=[{linguistLanguageId:183,name:"JavaScript",type:"programming",tmScope:"source.js",aceMode:"javascript",codemirrorMode:"javascript",codemirrorMimeType:"text/javascript",color:"#f1e05a",aliases:["js","node"],extensions:[".js","._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib",".wxs"],filenames:["Jakefile"],interpreters:["chakra","d8","gjs","js","node","nodejs","qjs","rhino","v8","v8-shell","zx"],parsers:["babel","acorn","espree","meriyah","babel-flow","babel-ts","flow","typescript"],vscodeLanguageIds:["javascript","mongo"]},{linguistLanguageId:183,name:"Flow",type:"programming",tmScope:"source.js",aceMode:"javascript",codemirrorMode:"javascript",codemirrorMimeType:"text/javascript",color:"#f1e05a",aliases:[],extensions:[".js.flow"],filenames:[],interpreters:["chakra","d8","gjs","js","node","nodejs","qjs","rhino","v8","v8-shell"],parsers:["flow","babel-flow"],vscodeLanguageIds:["javascript"]},{linguistLanguageId:183,name:"JSX",type:"programming",tmScope:"source.js.jsx",aceMode:"javascript",codemirrorMode:"jsx",codemirrorMimeType:"text/jsx",color:void 0,aliases:void 0,extensions:[".jsx"],filenames:void 0,interpreters:void 0,parsers:["babel","babel-flow","babel-ts","flow","typescript","espree","meriyah"],vscodeLanguageIds:["javascriptreact"],group:"JavaScript"},{linguistLanguageId:378,name:"TypeScript",type:"programming",color:"#3178c6",aliases:["ts"],interpreters:["deno","ts-node"],extensions:[".ts",".cts",".mts"],tmScope:"source.ts",aceMode:"typescript",codemirrorMode:"javascript",codemirrorMimeType:"application/typescript",parsers:["typescript","babel-ts"],vscodeLanguageIds:["typescript"]},{linguistLanguageId:94901924,name:"TSX",type:"programming",color:"#3178c6",group:"TypeScript",extensions:[".tsx"],tmScope:"source.tsx",aceMode:"javascript",codemirrorMode:"jsx",codemirrorMimeType:"text/jsx",parsers:["typescript","babel-ts"],vscodeLanguageIds:["typescriptreact"]}],TE={};ad(TE,{getVisitorKeys:()=>V7,massageAstNode:()=>SE,print:()=>U7});var F7={JsonRoot:["node"],ArrayExpression:["elements"],ObjectExpression:["properties"],ObjectProperty:["key","value"],UnaryExpression:["argument"],NullLiteral:[],BooleanLiteral:[],StringLiteral:[],NumericLiteral:[],Identifier:[],TemplateLiteral:["quasis"],TemplateElement:[]},B7=F7,R7=C1(B7),V7=R7;function U7(e,t,s){let{node:n}=e;switch(n.type){case"JsonRoot":return[s("node"),De];case"ArrayExpression":{if(n.elements.length===0)return"[]";let o=e.map(()=>e.node===null?"null":s(),"elements");return["[",$e([De,rt([",",De],o)]),De,"]"]}case"ObjectExpression":return n.properties.length===0?"{}":["{",$e([De,rt([",",De],e.map(s,"properties"))]),De,"}"];case"ObjectProperty":return[s("key"),": ",s("value")];case"UnaryExpression":return[n.operator==="+"?"":n.operator,s("argument")];case"NullLiteral":return"null";case"BooleanLiteral":return n.value?"true":"false";case"StringLiteral":return JSON.stringify(n.value);case"NumericLiteral":return Ib(e)?JSON.stringify(String(n.value)):JSON.stringify(n.value);case"Identifier":return Ib(e)?JSON.stringify(n.name):n.name;case"TemplateLiteral":return s(["quasis",0]);case"TemplateElement":return JSON.stringify(n.value.cooked);default:throw new Hr(n,"JSON")}}function Ib(e){return e.key==="key"&&e.parent.type==="ObjectProperty"}var W7=new Set(["start","end","extra","loc","comments","leadingComments","trailingComments","innerComments","errors","range","tokens"]);function SE(e,t){let{type:s}=e;if(s==="ObjectProperty"){let{key:n}=e;n.type==="Identifier"?t.key={type:"StringLiteral",value:n.name}:n.type==="NumericLiteral"&&(t.key={type:"StringLiteral",value:String(n.value)});return}if(s==="UnaryExpression"&&e.operator==="+")return t.argument;if(s==="ArrayExpression"){for(let[n,o]of e.elements.entries())o===null&&t.elements.splice(n,0,{type:"NullLiteral"});return}if(s==="TemplateLiteral")return{type:"StringLiteral",value:e.quasis[0].value.cooked}}SE.ignoredProperties=W7;var j7=[{linguistLanguageId:174,name:"JSON.stringify",type:"data",color:"#292929",tmScope:"source.json",aceMode:"json",codemirrorMode:"javascript",codemirrorMimeType:"application/json",aliases:["geojson","jsonl","topojson"],extensions:[".importmap"],filenames:["package.json","package-lock.json","composer.json"],parsers:["json-stringify"],vscodeLanguageIds:["json"]},{linguistLanguageId:174,name:"JSON",type:"data",color:"#292929",tmScope:"source.json",aceMode:"json",codemirrorMode:"javascript",codemirrorMimeType:"application/json",aliases:["geojson","jsonl","topojson"],extensions:[".json",".4DForm",".4DProject",".avsc",".geojson",".gltf",".har",".ice",".JSON-tmLanguage",".mcmeta",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","Pipfile.lock","composer.lock","mcmod.info"],parsers:["json"],vscodeLanguageIds:["json"]},{linguistLanguageId:423,name:"JSON with Comments",type:"data",color:"#292929",group:"JSON",tmScope:"source.js",aceMode:"javascript",codemirrorMode:"javascript",codemirrorMimeType:"text/javascript",aliases:["jsonc"],extensions:[".jsonc",".code-snippets",".sublime-build",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc","api-extractor.json","devcontainer.json","jsconfig.json","language-configuration.json","tsconfig.json","tslint.json",".eslintrc",".swcrc"],parsers:["json"],vscodeLanguageIds:["jsonc"]},{linguistLanguageId:175,name:"JSON5",type:"data",color:"#267CB9",extensions:[".json5"],tmScope:"source.js",aceMode:"javascript",codemirrorMode:"javascript",codemirrorMimeType:"application/json",parsers:["json5"],vscodeLanguageIds:["json5"]}],gu={bracketSpacing:{category:"Common",type:"boolean",default:!0,description:"Print spaces between brackets.",oppositeDescription:"Do not print spaces between brackets."},singleQuote:{category:"Common",type:"boolean",default:!1,description:"Use single quotes instead of double quotes."},proseWrap:{category:"Common",type:"choice",default:"preserve",description:"How to wrap prose.",choices:[{value:"always",description:"Wrap prose if it exceeds the print width."},{value:"never",description:"Do not wrap prose."},{value:"preserve",description:"Wrap prose as-is."}]},bracketSameLine:{category:"Common",type:"boolean",default:!1,description:"Put > of opening tags on the last line instead of on a new line."},singleAttributePerLine:{category:"Common",type:"boolean",default:!1,description:"Enforce single attribute per line in HTML, Vue and JSX."}},Ki="JavaScript",q7={arrowParens:{category:Ki,type:"choice",default:"always",description:"Include parentheses around a sole arrow function parameter.",choices:[{value:"always",description:"Always include parens. Example: `(x) => x`"},{value:"avoid",description:"Omit parens when possible. Example: `x => x`"}]},bracketSameLine:gu.bracketSameLine,bracketSpacing:gu.bracketSpacing,jsxBracketSameLine:{category:Ki,type:"boolean",description:"Put > on the last line instead of at a new line.",deprecated:"2.4.0"},semi:{category:Ki,type:"boolean",default:!0,description:"Print semicolons.",oppositeDescription:"Do not print semicolons, except at the beginning of lines which may need them."},singleQuote:gu.singleQuote,jsxSingleQuote:{category:Ki,type:"boolean",default:!1,description:"Use single quotes in JSX."},quoteProps:{category:Ki,type:"choice",default:"as-needed",description:"Change when properties in objects are quoted.",choices:[{value:"as-needed",description:"Only add quotes around object properties where required."},{value:"consistent",description:"If at least one property in an object requires quotes, quote all properties."},{value:"preserve",description:"Respect the input use of quotes in object properties."}]},trailingComma:{category:Ki,type:"choice",default:"all",description:"Print trailing commas wherever possible when multi-line.",choices:[{value:"all",description:"Trailing commas wherever possible (including function arguments)."},{value:"es5",description:"Trailing commas where valid in ES5 (objects, arrays, etc.)"},{value:"none",description:"No trailing commas."}]},singleAttributePerLine:gu.singleAttributePerLine},kE=q7,EE={estree:b1,"estree-json":TE},xE=[...L7,...j7],z7=w1;const CE=Object.freeze(Object.defineProperty({__proto__:null,default:z7,languages:xE,options:kE,printers:EE},Symbol.toStringTag,{value:"Module"})),H7=sT({String:Se.string,Number:Se.number,"True False":Se.bool,PropertyName:Se.propertyName,Null:Se.null,",":Se.separator,"[ ]":Se.squareBracket,"{ }":Se.brace}),Q7=nT.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[H7],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),G7=()=>e=>{try{JSON.parse(e.state.doc.toString())}catch(t){if(!(t instanceof SyntaxError))throw t;const s=Y7(t,e.state.doc);return[{from:s,message:t.message,severity:"error",to:s}]}return[]};function Y7(e,t){let s;return(s=e.message.match(/at position (\d+)/))?Math.min(+s[1],t.length):(s=e.message.match(/at line (\d+) column (\d+)/))?Math.min(t.line(+s[1]).from+ +s[2]-1,t.length):0}const X7=_m.define({name:"json",parser:Q7.configure({props:[oT.add({Object:Qy({except:/^\s*\}/}),Array:Qy({except:/^\s*\]/})}),iT.add({"Object Array":rT})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function K7(){return new rl(X7)}const J7=1,OE=196,DE=197,Z7=198,Mb=199,ej=200,tj=201,sj=202,nj=2,oj=203,ij=204,rj=3,aj=205,lj=206,uj=4,cj=207,dj=208,pj=5,hj=209,mj=26,fj=27,gj=51,yj=52,wj=57,bj=58,vj=59,Tj=61,Sj=62,kj=63,Ej=64,xj=65,Cj=67,Oj=246,Dj=74,Aj=265,$j=129,Nj=150,_j=151,Pj=154,Xa=10,Ka=13,Zf=32,fd=9,eg=35,Ij=40,Mj=46,Lb=123,AE=39,$E=34,Lj=new Set([fj,gj,yj,Aj,Cj,$j,bj,vj,Oj,Ej,xj,Dj,Sj,kj,Nj,_j,Pj]);function Zp(e){return e==Xa||e==Ka}const Fj=new Rc((e,t)=>{if(e.next<0)e.acceptToken(tj);else if(t.context.depth<0)Zp(e.next)&&e.acceptToken(ej,1);else if(Zp(e.peek(-1))&&t.canShift(Mb)){let s=0;for(;e.next==Zf||e.next==fd;)e.advance(),s++;(e.next==Xa||e.next==Ka||e.next==eg)&&e.acceptToken(Mb,-s)}else Zp(e.next)&&e.acceptToken(Z7,1)},{contextual:!0}),Bj=new Rc((e,t)=>{let s=t.context.depth;if(s<0)return;let n=e.peek(-1);if(n==Xa||n==Ka){let o=0,i=0;for(;;){if(e.next==Zf)o++;else if(e.next==fd)o+=8-o%8;else break;e.advance(),i++}o!=s&&e.next!=Xa&&e.next!=Ka&&e.next!=eg&&(o<s?e.acceptToken(DE,-i):e.acceptToken(OE))}});function gm(e,t){this.parent=e,this.depth=t,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)}const Rj=new gm(null,0);function Vj(e){let t=0;for(let s=0;s<e.length;s++)t+=e.charCodeAt(s)==fd?8-t%8:1;return t}const Uj=new JD({start:Rj,reduce(e,t){return e.depth<0&&Lj.has(t)?e.parent:e},shift(e,t,s,n){return t==OE?new gm(e,Vj(n.read(n.pos,s.pos))):t==DE?e.parent:t==mj||t==wj||t==Tj?new gm(e,-1):e},hash(e){return e.hash}}),Wj=new Rc(e=>{for(let t=0;t<5;t++){if(e.next!="print".charCodeAt(t))return;e.advance()}if(!/\w/.test(String.fromCharCode(e.next)))for(let t=0;;t++){let s=e.peek(t);if(!(s==Zf||s==fd)){s!=Ij&&s!=Mj&&s!=Xa&&s!=Ka&&s!=eg&&e.acceptToken(J7);return}}});function gd(e,t,s,n,o){return new Rc(i=>{let r=i.pos;for(;!(i.next<0);)if(i.next==Lb)if(i.peek(1)==Lb)i.advance(2);else{if(i.pos==r){i.acceptToken(n,1);return}break}else if(i.next=="\\")i.advance(),i.next>=0&&i.advance();else if(i.next==e&&(t==1||i.peek(1)==e&&i.peek(2)==e)){if(i.pos==r){i.acceptToken(o,t);return}break}else i.advance();i.pos>r&&i.acceptToken(s)})}const jj=gd(AE,1,sj,nj,oj),qj=gd($E,1,ij,rj,aj),zj=gd(AE,3,lj,uj,cj),Hj=gd($E,3,dj,pj,hj),Qj=sT({'async "*" "**" FormatConversion FormatSpec':Se.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":Se.controlKeyword,"in not and or is del":Se.operatorKeyword,"from def class global nonlocal lambda":Se.definitionKeyword,import:Se.moduleKeyword,"with as print":Se.keyword,Boolean:Se.bool,None:Se.null,VariableName:Se.variableName,"CallExpression/VariableName":Se.function(Se.variableName),"FunctionDefinition/VariableName":Se.function(Se.definition(Se.variableName)),"ClassDefinition/VariableName":Se.definition(Se.className),PropertyName:Se.propertyName,"CallExpression/MemberExpression/PropertyName":Se.function(Se.propertyName),Comment:Se.lineComment,Number:Se.number,String:Se.string,FormatString:Se.special(Se.string),UpdateOp:Se.updateOperator,"ArithOp!":Se.arithmeticOperator,BitOp:Se.bitwiseOperator,CompareOp:Se.compareOperator,AssignOp:Se.definitionOperator,Ellipsis:Se.punctuation,At:Se.meta,"( )":Se.paren,"[ ]":Se.squareBracket,"{ }":Se.brace,".":Se.derefOperator,", ;":Se.separator}),Gj={__proto__:null,await:48,or:58,and:60,in:64,not:66,is:68,if:74,else:76,lambda:80,yield:98,from:100,async:106,for:108,None:168,True:170,False:170,del:184,pass:188,break:192,continue:196,return:200,raise:208,import:212,as:214,global:218,nonlocal:220,assert:224,elif:234,while:238,try:244,except:246,finally:248,with:252,def:256,class:266,match:277,case:283},Yj=nT.deserialize({version:14,states:"#!OO`Q#yOOP$_OSOOO%hQ&nO'#H^OOQS'#Cq'#CqOOQS'#Cr'#CrO'WQ#xO'#CpO(yQ&nO'#H]OOQS'#H^'#H^OOQS'#DW'#DWOOQS'#H]'#H]O)gQ#xO'#DaO)zQ#xO'#DhO*[Q#xO'#DlOOQS'#Dw'#DwO*oO,UO'#DwO*wO7[O'#DwO+POWO'#DxO+[O`O'#DxO+gOpO'#DxO+rO!bO'#DxO-tQ&nO'#G}OOQS'#G}'#G}O'WQ#xO'#G|O/WQ&nO'#G|OOQS'#Ee'#EeO/oQ#xO'#EfOOQS'#G{'#G{O/yQ#xO'#GzOOQV'#Gz'#GzO0UQ#xO'#FXOOQS'#G`'#G`O0ZQ#xO'#FWOOQV'#IS'#ISOOQV'#Gy'#GyOOQV'#Fp'#FpQ`Q#yOOO'WQ#xO'#CsO0iQ#xO'#DPO0pQ#xO'#DTO1OQ#xO'#HbO1`Q&nO'#EYO'WQ#xO'#EZOOQS'#E]'#E]OOQS'#E_'#E_OOQS'#Ea'#EaO1tQ#xO'#EcO2[Q#xO'#EgO0UQ#xO'#EiO2oQ&nO'#EiO0UQ#xO'#ElO/oQ#xO'#EoO/oQ#xO'#EsO/oQ#xO'#EvO2zQ#xO'#ExO3RQ#xO'#E}O3^Q#xO'#EyO/oQ#xO'#E}O0UQ#xO'#FPO0UQ#xO'#FUO3cQ#xO'#FZP3jO#xO'#GxPOOO)CBl)CBlOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Ck'#CkOOQS'#Cl'#ClOOQS'#Cn'#CnO'WQ#xO,59QO'WQ#xO,59QO'WQ#xO,59QO'WQ#xO,59QO'WQ#xO,59QO'WQ#xO,59QO3uQ#xO'#DqOOQS,5:[,5:[O4YQ#xO'#HlOOQS,5:_,5:_O4gQMlO,5:_O4lQ&nO,59[O0iQ#xO,59dO0iQ#xO,59dO0iQ#xO,59dO7[Q#xO,59dO7aQ#xO,59dO7hQ#xO,59lO7oQ#xO'#H]O8uQ#xO'#H[OOQS'#H['#H[OOQS'#D^'#D^O9^Q#xO,59cO'WQ#xO,59cO9lQ#xO,59cOOQS,59{,59{O9qQ#xO,5:TO'WQ#xO,5:TOOQS,5:S,5:SO:PQ#xO,5:SO:UQ#xO,5:ZO'WQ#xO,5:ZO'WQ#xO,5:XOOQS,5:W,5:WO:gQ#xO,5:WO:lQ#xO,5:YOOOO'#Fx'#FxO:qO,UO,5:cOOQS,5:c,5:cOOOO'#Fy'#FyO:yO7[O,5:cO;RQ#xO'#DyOOOW'#Fz'#FzO;cOWO,5:dOOQS,5:d,5:dO;RQ#xO'#D}OOO`'#F}'#F}O;nO`O,5:dO;RQ#xO'#EOOOOp'#GO'#GOO;yOpO,5:dO;RQ#xO'#EPOOO!b'#GP'#GPO<UO!bO,5:dOOQS'#GQ'#GQO<aQ&nO,5:lO?RQ&nO,5=hO?lQ!LUO,5=hO@]Q&nO,5=hOOQS,5;Q,5;QO@tQ#yO'#GYOBTQ#xO,5;]OOQV,5=f,5=fOB`Q&nO'#IOOBwQ#xO,5;sOOQS-E:^-E:^OOQV,5;r,5;rO3XQ#xO'#FPOOQV-E9n-E9nOCPQ&nO,59_OEWQ&nO,59kOEqQ#xO'#H_OE|Q#xO'#H_O0UQ#xO'#H_OFXQ#xO'#DVOFaQ#xO,59oOFfQ#xO'#HcO'WQ#xO'#HcO/oQ#xO,5=|OOQS,5=|,5=|O/oQ#xO'#EUOOQS'#EV'#EVOGTQ#xO'#GSOGeQ#xO,59OOGeQ#xO,59OO)mQ#xO,5:rOGsQ&nO'#HeOOQS,5:u,5:uOOQS,5:},5:}OHWQ#xO,5;ROHiQ#xO,5;TOOQS'#GV'#GVOHwQ&nO,5;TOIVQ#xO,5;TOI[Q#xO'#IROOQS,5;W,5;WOIjQ#xO'#H}OOQS,5;Z,5;ZO3^Q#xO,5;_O3^Q#xO,5;bOI{Q&nO'#ITO'WQ#xO'#ITOJVQ#xO,5;dO2zQ#xO,5;dO/oQ#xO,5;iO0UQ#xO,5;kOJ[Q#yO'#EtOKeQ#{O,5;eONvQ#xO'#IUO3^Q#xO,5;iO! RQ#xO,5;kO! WQ#xO,5;pO! `Q&nO,5;uO'WQ#xO,5;uPOOO,5=d,5=dP! gOSO,5=dP! lO#xO,5=dO!$aQ&nO1G.lO!$hQ&nO1G.lO!'XQ&nO1G.lO!'cQ&nO1G.lO!)|Q&nO1G.lO!*aQ&nO1G.lO!*tQ#xO'#HkO!+SQ&nO'#G}O/oQ#xO'#HkO!+^Q#xO'#HjOOQS,5:],5:]O!+fQ#xO,5:]O!+kQ#xO'#HmO!+vQ#xO'#HmO!,ZQ#xO,5>WOOQS'#Du'#DuOOQS1G/y1G/yOOQS1G/O1G/OO!-ZQ&nO1G/OO!-bQ&nO1G/OO0iQ#xO1G/OO!-}Q#xO1G/WOOQS'#D]'#D]O/oQ#xO,59vOOQS1G.}1G.}O!.UQ#xO1G/gO!.fQ#xO1G/gO!.nQ#xO1G/hO'WQ#xO'#HdO!.sQ#xO'#HdO!.xQ&nO1G.}O!/YQ#xO,59kO!0`Q#xO,5>SO!0pQ#xO,5>SO!0xQ#xO1G/oO!0}Q&nO1G/oOOQS1G/n1G/nO!1_Q#xO,5=}O!2UQ#xO,5=}O/oQ#xO1G/sO!2sQ#xO1G/uO!2xQ&nO1G/uO!3YQ&nO1G/sOOQS1G/r1G/rOOQS1G/t1G/tOOOO-E9v-E9vOOQS1G/}1G/}OOOO-E9w-E9wO!3jQ#xO'#HwO/oQ#xO'#HwO!3xQ#xO,5:eOOOW-E9x-E9xOOQS1G0O1G0OO!4TQ#xO,5:iOOO`-E9{-E9{O!4`Q#xO,5:jOOOp-E9|-E9|O!4kQ#xO,5:kOOO!b-E9}-E9}OOQS-E:O-E:OO!4vQ!LUO1G3SO!5gQ&nO1G3SO'WQ#xO,5<mOOQS,5<m,5<mOOQS-E:P-E:POOQS,5<t,5<tOOQS-E:W-E:WOOQV1G0w1G0wO0UQ#xO'#GUO!6OQ&nO,5>jOOQS1G1_1G1_O!6gQ#xO1G1_OOQS'#DX'#DXO/oQ#xO,5=yOOQS,5=y,5=yO!6lQ#xO'#FqO!6wQ#xO,59qO!7PQ#xO1G/ZO!7ZQ&nO,5=}OOQS1G3h1G3hOOQS,5:p,5:pO!7zQ#xO'#G|OOQS,5<n,5<nOOQS-E:Q-E:QO!8]Q#xO1G.jOOQS1G0^1G0^O!8kQ#xO,5>PO!8{Q#xO,5>PO/oQ#xO1G0mO/oQ#xO1G0mO0UQ#xO1G0oOOQS-E:T-E:TO!9^Q#xO1G0oO!9iQ#xO1G0oO!9nQ#xO,5>mO!9|Q#xO,5>mO!:[Q#xO,5>iO!:rQ#xO,5>iO!;TQ#{O1G0yO!>cQ#{O1G0|O!AnQ#xO,5>oO!AxQ#xO,5>oO!BQQ&nO,5>oO/oQ#xO1G1OO!B[Q#xO1G1OO3^Q#xO1G1TO! RQ#xO1G1VOOQV,5;`,5;`O!BaQ#zO,5;`O!BfQ#{O1G1PO!EwQ#xO'#G]O3^Q#xO1G1PO3^Q#xO1G1PO!FUQ#xO,5>pO!FcQ#xO,5>pO0UQ#xO,5>pOOQV1G1T1G1TO!FkQ#xO'#FRO!F|QMlO1G1VOOQV1G1[1G1[O3^Q#xO1G1[O!GUQ#xO'#F]OOQV1G1a1G1aO! `Q&nO1G1aPOOO1G3O1G3OP!GZOSO1G3OOOQS,5>V,5>VOOQS'#Dr'#DrO/oQ#xO,5>VO!G`Q#xO,5>UO!GsQ#xO,5>UOOQS1G/w1G/wO!G{Q#xO,5>XO!H]Q#xO,5>XO!HeQ#xO,5>XO!HxQ#xO,5>XO!IYQ#xO,5>XOOQS1G3r1G3rOOQS7+$j7+$jO!7PQ#xO7+$rO!J{Q#xO1G/OO!KSQ#xO1G/OOOQS1G/b1G/bOOQS,5<_,5<_O'WQ#xO,5<_OOQS7+%R7+%RO!KZQ#xO7+%ROOQS-E9q-E9qOOQS7+%S7+%SO!KkQ#xO,5>OO'WQ#xO,5>OOOQS7+$i7+$iO!KpQ#xO7+%RO!KxQ#xO7+%SO!K}Q#xO1G3nOOQS7+%Z7+%ZO!L_Q#xO1G3nO!LgQ#xO7+%ZOOQS,5<^,5<^O'WQ#xO,5<^O!LlQ#xO1G3iOOQS-E9p-E9pO!McQ#xO7+%_OOQS7+%a7+%aO!MqQ#xO1G3iO!N`Q#xO7+%aO!NeQ#xO1G3oO!NuQ#xO1G3oO!N}Q#xO7+%_O# SQ#xO,5>cO# jQ#xO,5>cO# jQ#xO,5>cO# xO$ISO'#D{O#!TO#tO'#HxOOOW1G0P1G0PO#!YQ#xO1G0POOO`1G0T1G0TO#!bQ#xO1G0TOOOp1G0U1G0UO#!jQ#xO1G0UOOO!b1G0V1G0VO#!rQ#xO1G0VO#!zQ!LUO7+(nO##kQ&nO1G2XP#$UQ#xO'#GROOQS,5<p,5<pOOQS-E:S-E:SOOQS7+&y7+&yOOQS1G3e1G3eOOQS,5<],5<]OOQS-E9o-E9oOOQS7+$u7+$uO#$cQ#xO,5=hO#$|Q#xO,5=hO#%_Q&nO,5<`O#%rQ#xO1G3kOOQS-E9r-E9rOOQS7+&X7+&XO#&SQ#xO7+&XOOQS7+&Z7+&ZO#&bQ#xO'#IQO0UQ#xO'#IPO#&vQ#xO7+&ZOOQS,5<s,5<sO#'RQ#xO1G4XOOQS-E:V-E:VOOQS,5<o,5<oO#'aQ#xO1G4TOOQS-E:R-E:RO#'wQ#{O7+&eO!EwQ#xO'#GZO3^Q#xO7+&eO3^Q#xO7+&hO#+VQ&nO,5<vO'WQ#xO,5<vO#+aQ#xO1G4ZOOQS-E:Y-E:YO#+kQ#xO1G4ZO3^Q#xO7+&jO/oQ#xO7+&jOOQV7+&o7+&oO!F|QMlO7+&qO`Q#yO1G0zOOQV-E:Z-E:ZO3^Q#xO7+&kO3^Q#xO7+&kOOQV,5<w,5<wO#+sQ#xO,5<wOOQV7+&k7+&kO#,OQ#{O7+&kO#/ZQ#xO,5<xO#/fQ#xO1G4[OOQS-E:[-E:[O#/sQ#xO1G4[O#/{Q#xO'#IWO#0ZQ#xO'#IWO0UQ#xO'#IWOOQS'#IW'#IWO#0fQ#xO'#IVOOQS,5;m,5;mO#0nQ#xO,5;mO/oQ#xO'#FTOOQV7+&q7+&qO3^Q#xO7+&qOOQV7+&v7+&vO#0sQ#zO,5;wOOQV7+&{7+&{POOO7+(j7+(jOOQS1G3q1G3qOOQS,5<b,5<bO#0xQ#xO1G3pOOQS-E9t-E9tO#1]Q#xO,5<cO#1hQ#xO,5<cO#1{Q#xO1G3sOOQS-E9u-E9uO#2]Q#xO1G3sO#2eQ#xO1G3sO#2uQ#xO1G3sO#2]Q#xO1G3sOOQS<<H^<<H^O#3QQ&nO1G1yOOQS<<Hm<<HmP#3_Q#xO'#FsO7hQ#xO1G3jO#3lQ#xO1G3jO#3qQ#xO<<HmOOQS<<Hn<<HnO#4RQ#xO7+)YOOQS<<Hu<<HuO#4cQ&nO1G1xP#5SQ#xO'#FrO#5aQ#xO7+)ZO#5qQ#xO7+)ZO#5yQ#xO<<HyO#6OQ#xO7+)TOOQS<<H{<<H{O#6uQ#xO,5<aO'WQ#xO,5<aOOQS-E9s-E9sOOQS<<Hy<<HyOOQS,5<g,5<gO/oQ#xO,5<gO#6zQ#xO1G3}OOQS-E9y-E9yO#7bQ#xO1G3}O;RQ#xO'#D|OOOO'#F|'#F|O#7pO$ISO,5:gOOO#l,5>d,5>dOOOW7+%k7+%kOOO`7+%o7+%oOOOp7+%p7+%pOOO!b7+%q7+%qO#7{Q#xO1G3SO#8fQ#xO1G3SP'WQ#xO'#FtO/oQ#xO<<IsO#8wQ#xO,5>lO#9YQ#xO,5>lO0UQ#xO,5>lO#9kQ#xO,5>kOOQS<<Iu<<IuP0UQ#xO'#GXP/oQ#xO'#GTOOQV-E:X-E:XO3^Q#xO<<JPOOQV,5<u,5<uO3^Q#xO,5<uOOQV<<JP<<JPOOQV<<JS<<JSO#9pQ&nO1G2bP#9zQ#xO'#G[O#:RQ#xO7+)uO#:]Q#{O<<JUO3^Q#xO<<JUOOQV<<J]<<J]O3^Q#xO<<J]O#=hQ#{O7+&fOOQV<<JV<<JVO#=rQ#{O<<JVOOQV1G2c1G2cO0UQ#xO1G2cO3^Q#xO<<JVO0UQ#xO1G2dP/oQ#xO'#G^O#@}Q#xO7+)vO#A[Q#xO7+)vOOQS'#FS'#FSO/oQ#xO,5>rO#AdQ#xO,5>rOOQS,5>r,5>rO#AoQ#xO,5>qO#BQQ#xO,5>qOOQS1G1X1G1XOOQS,5;o,5;oO#BYQ#xO1G1cP#B_Q#xO'#FvO#BoQ#xO1G1}O#CSQ#xO1G1}O#CdQ#xO1G1}P#CoQ#xO'#FwO#C|Q#xO7+)_O#D^Q#xO7+)_O#D^Q#xO7+)_O#DfQ#xO7+)_O#DvQ#xO7+)UO7hQ#xO7+)UOOQSAN>XAN>XO#EaQ#xO<<LuOOQSAN>eAN>eO/oQ#xO1G1{O#EqQ&nO1G1{P#E{Q#xO'#FuOOQS1G2R1G2RP#FYQ#xO'#F{O#FgQ#xO7+)iO#F}Q#xO,5:hOOOO-E9z-E9zO#GYQ#xO7+(nOOQSAN?_AN?_O#GsQ#xO,5<rO#HXQ#xO1G4WOOQS-E:U-E:UO#HjQ#xO1G4WOOQS1G4V1G4VOOQVAN?kAN?kOOQV1G2a1G2aO3^Q#xOAN?pO#H{Q#{OAN?pOOQVAN?wAN?wOOQV<<JQ<<JQO3^Q#xOAN?qO3^Q#xO7+'}OOQVAN?qAN?qOOQS7+(O7+(OO#LWQ#xO<<MbOOQS1G4^1G4^O/oQ#xO1G4^OOQS,5<y,5<yO#LeQ#xO1G4]OOQS-E:]-E:]OOQU'#Ga'#GaO#LvQ#zO7+&}O#MRQ#xO'#F^O#MyQ#xO7+'iO#NZQ#xO7+'iOOQS7+'i7+'iO#NfQ#xO<<LyO#NvQ#xO<<LyO#NvQ#xO<<LyO$ OQ#xO'#HfOOQS<<Lp<<LpO$ YQ#xO<<LpOOQS7+'g7+'gOOOO1G0S1G0SO$ sQ#xO1G0SO0UQ#xO1G2^P0UQ#xO'#GWO$ {Q#xO7+)rO$!^Q#xO7+)rOOQVG25[G25[O3^Q#xOG25[OOQVG25]G25]OOQV<<Ki<<KiOOQS7+)x7+)xP$!oQ#xO'#G_OOQU-E:_-E:_OOQV<<Ji<<JiO$#cQ&nO'#F`OOQS'#Fb'#FbO$#sQ#xO'#FaO$$eQ#xO'#FaOOQS'#Fa'#FaO$$jQ#xO'#IYO#MRQ#xO'#FhO#MRQ#xO'#FhO$%RQ#xO'#FiO#MRQ#xO'#FjO$%YQ#xO'#IZOOQS'#IZ'#IZO$%wQ#xO,5;xOOQS<<KT<<KTO$&PQ#xO<<KTO$&aQ#xOANBeO$&qQ#xOANBeO$&yQ#xO'#HgOOQS'#Hg'#HgO0pQ#xO'#DeO$'dQ#xO,5>QOOQSANB[ANB[OOOO7+%n7+%nOOQS7+'x7+'xO$'{Q#xO<<M^OOQVLD*vLD*vO4gQMlO'#GcO$(^Q&nO,5<RO#MRQ#xO'#FlOOQS,5<V,5<VOOQS'#Fc'#FcO$)OQ#xO,5;{O$)TQ#xO,5;{OOQS'#Ff'#FfO#MRQ#xO'#GbO$)uQ#xO,5<PO$*aQ#xO,5>tO$*qQ#xO,5>tO0UQ#xO,5<OO$+SQ#xO,5<SO$+XQ#xO,5<SO#MRQ#xO'#I[O$+^Q#xO'#I[O$+cQ#xO,5<TOOQS,5<U,5<UO'WQ#xO'#FoOOQU1G1d1G1dO3^Q#xO1G1dOOQSAN@oAN@oO$+hQ#xOG28PO$+xQ#xO,5:POOQS1G3l1G3lOOQS,5<},5<}OOQS-E:a-E:aO$+}Q&nO'#F`O$,UQ#xO'#I]O$,dQ#xO'#I]O$,lQ#xO,5<WOOQS1G1g1G1gO$,qQ#xO1G1gO$,vQ#xO,5<|OOQS-E:`-E:`O$-bQ#xO,5=QO$-yQ#xO1G4`OOQS-E:d-E:dOOQS1G1j1G1jOOQS1G1n1G1nO$.ZQ#xO,5>vO#MRQ#xO,5>vOOQS1G1o1G1oO$.iQ&nO,5<ZOOQU7+'O7+'OO$ OQ#xO1G/kO#MRQ#xO,5<XO$.pQ#xO,5>wO$.wQ#xO,5>wOOQS1G1r1G1rOOQS7+'R7+'RP#MRQ#xO'#GfO$/PQ#xO1G4bO$/ZQ#xO1G4bO$/cQ#xO1G4bOOQS7+%V7+%VO$/qQ#xO1G1sO$0PQ&nO'#F`O$0WQ#xO,5=POOQS,5=P,5=PO$0fQ#xO1G4cOOQS-E:c-E:cO#MRQ#xO,5=OO$0mQ#xO,5=OO$0rQ#xO7+)|OOQS-E:b-E:bO$0|Q#xO7+)|O#MRQ#xO,5<YP#MRQ#xO'#GeO$1UQ#xO1G2jO#MRQ#xO1G2jP$1dQ#xO'#GdO$1kQ#xO<<MhO$1uQ#xO1G1tO$2TQ#xO7+(UO7hQ#xO'#DPO7hQ#xO,59dO7hQ#xO,59dO7hQ#xO,59dO$2cQ&nO,5=hO7hQ#xO1G/OO/oQ#xO1G/ZO/oQ#xO7+$rP$2vQ#xO'#GRO'WQ#xO'#G|O$3TQ#xO,59dO$3YQ#xO,59dO$3aQ#xO,59oO$3fQ#xO1G/WO0pQ#xO'#DTO7hQ#xO,59l",stateData:"$3w~O%kOS%`OSUOS%_PQ~OPiOXfOhtOjYOquOu!TOxvO!RwO!S!QO!V!WO!W!VO!ZZO!_[O!jeO!ueO!veO!weO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#k!UO#n!XO#r!YO#t!ZO#y![O#|mO$O!]O%wRO%xRO%|SO%}WO&c]O&d^O&g_O&j`O&naO&obO&pcO~O%_!^O~OX!eOa!eOc!fOj!mO!Z!oO!h!qO%r!`O%s!aO%t!bO%u!cO%v!cO%w!dO%x!dO%y!eO%z!eO%{!eO~Om&QXn&QXo&QXp&QXq&QXr&QXu&QX|&QX}&QX!{&QX#f&QX%^&QX%a&QX&S&QXi&QX!V&QX!W&QX&T&QX!Y&QX!^&QX!S&QX#_&QXv&QX!n&QX~P$dOhtOjYO!ZZO!_[O!jeO!ueO!veO!weO%wRO%xRO%|SO%}WO&c]O&d^O&g_O&j`O&naO&obO&pcO~O|&PX}&PX#f&PX%^&PX%a&PX&S&PX~Om!tOn!uOo!sOp!sOq!vOr!wOu!xO!{&PX~P(eOX#OOi#QOq0VOx0eO!RwO~P'WOX#SOq0VOx0eO!Y#TO~P'WOX#WOc#XOq0VOx0eO!^#YO~P'WO&e#]O&f#_O~O&h#`O&i#_O~OQ#bO%b#cO%c#eO~OR#fO%d#gO%e#eO~OS#iO%f#jO%g#eO~OT#lO%h#mO%i#eO~OX%qXa%qXc%qXj%qXm%qXn%qXo%qXp%qXq%qXr%qXu%qX|%qX!Z%qX!h%qX%r%qX%s%qX%t%qX%u%qX%v%qX%w%qX%x%qX%y%qX%z%qX%{%qXi%qX!V%qX!W%qX~O&c]O&d^O&g_O&j`O&naO&obO&pcO}%qX!{%qX#f%qX%^%qX%a%qX&S%qX&T%qX!Y%qX!^%qX!S%qX#_%qXv%qX!n%qX~P+}O|#rO}%pX!{%pX#f%pX%^%pX%a%pX&S%pX~Oq0VOx0eO~P'WO#f#uO%^#wO%a#wO~O%}WO~O!V#|O#t!ZO#y![O#|mO~OquO~P'WOX$ROc$SO%}WO}yP~OX$WOq0VOx0eO!S$XO~P'WO}$ZO!{$`O&S$[O#f!|X%^!|X%a!|X~OX$WOq0VOx0eO#f#VX%^#VX%a#VX~P'WOq0VOx0eO#f#ZX%^#ZX%a#ZX~P'WO!h$fO!u$fO%}WO~OX$pO~P'WO!W$rO#r$sO#t$tO~O}$uO~OX$|O~P'WOU%OO%^$}O%k%PO~OX%YOc%YOi%[Oq0VOx0eO~P'WOq0VOx0eO}%_O~P'WO&b%aO~Oc!fOj!mO!Z!oO!h!qOXdaadamdandaodapdaqdardauda|da}da!{da#fda%^da%ada%rda%sda%tda%uda%vda%wda%xda%yda%zda%{da&Sdaida!Vda!Wda&Tda!Yda!^da!Sda#_davda!nda~Op%fO~Oq%fO~P'WOq0VO~P'WOm0XOn0YOo0WOp0WOq0aOr0bOu0fOi&PX!V&PX!W&PX&T&PX!Y&PX!^&PX!S&PX#_&PX!n&PX~P(eO&T%hOi&OX|&OX!V&OX!W&OX!Y&OX}&OX~Oi%jO|%kO!V%oO!W%nO~Oi%jO~O|%rO!V%oO!W%nO!Y&[X~O!Y%vO~O|%wO}%yO!V%oO!W%nO!^&VX~O!^%}O~O!^&OO~O&e#]O&f&QO~O&h#`O&i&QO~OX&TOq0VOx0eO!RwO~P'WOQ#bO%b#cO%c&WO~OR#fO%d#gO%e&WO~OS#iO%f#jO%g&WO~OT#lO%h#mO%i&WO~OX!taa!tac!taj!tam!tan!tao!tap!taq!tar!tau!ta|!ta}!ta!Z!ta!h!ta!{!ta#f!ta%^!ta%a!ta%r!ta%s!ta%t!ta%u!ta%v!ta%w!ta%x!ta%y!ta%z!ta%{!ta&S!tai!ta!V!ta!W!ta&T!ta!Y!ta!^!ta!S!ta#_!tav!ta!n!ta~P#vO|&`O}%pa!{%pa#f%pa%^%pa%a%pa&S%pa~P$dOX&bOquOxvO}%pa!{%pa#f%pa%^%pa%a%pa&S%pa~P'WO|&`O}%pa!{%pa#f%pa%^%pa%a%pa&S%pa~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f$|X%^$|X%a$|X~P'WO#f#uO%^&gO%a&gO~O!h&hOj&rX%^&rX#_&rX#f&rX%a&rX#^&rX~Oj!mO%^&jO~Omgangaogapgaqgargauga|ga}ga!{ga#fga%^ga%aga&Sgaiga!Vga!Wga&Tga!Yga!^ga!Sga#_gavga!nga~P$dOusa|sa}sa#fsa%^sa%asa&Ssa~Om!tOn!uOo!sOp!sOq!vOr!wO!{sa~PDoO&S&lO|&RX}&RX~O%}WO|&RX}&RX~O|&oO}yX~O}&qO~O|%wO#f&VX%^&VX%a&VXi&VX}&VX!^&VX!n&VX&S&VX~OX0`Oq0VOx0eO!RwO~P'WO&S$[O#fWa%^Wa%aWa~O|&zO#f&XX%^&XX%a&XXp&XX~P$dO|&}O!S&|O#f#Za%^#Za%a#Za~O#_'OO#f#]a%^#]a%a#]a~O!h$fO!u$fO#^'QO%}WO~O#^'QO~O|'SO#f&uX%^&uX%a&uX~O|'UO#f&qX%^&qX%a&qX}&qX~O|'YOp&wX~P$dOp']O~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO%^'bO~P'WOv'fO#o'dO#p'eOP#maX#mah#maj#maq#mau#max#ma!R#ma!S#ma!V#ma!W#ma!Z#ma!_#ma!j#ma!u#ma!v#ma!w#ma#O#ma#Q#ma#S#ma#U#ma#W#ma#[#ma#^#ma#a#ma#b#ma#d#ma#k#ma#n#ma#r#ma#t#ma#y#ma#|#ma$O#ma%Z#ma%w#ma%x#ma%|#ma%}#ma&c#ma&d#ma&g#ma&j#ma&n#ma&o#ma&p#ma%]#ma%a#ma~O|'gO#_'iO}&xX~Oj'kO~Oj!mO}$uO~O}'oO~P$dO%^'rO~OU'sO%^'rO~OX!eOa!eOc!fOj!mO!Z!oO!h!qO%t!bO%u!cO%v!cO%w!dO%x!dO%y!eO%z!eO%{!eOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#fYi%^Yi%aYi%rYi&SYiiYi!VYi!WYi&TYi!YYi!^Yi!SYi#_YivYi!nYi~O%s!aO~P! tO%sYi~P! tOX!eOa!eOc!fOj!mO!Z!oO!h!qO%w!dO%x!dO%y!eO%z!eO%{!eOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#fYi%^Yi%aYi%rYi%sYi%tYi&SYiiYi!VYi!WYi&TYi!YYi!^Yi!SYi#_YivYi!nYi~O%u!cO%v!cO~P!$oO%uYi%vYi~P!$oOc!fOj!mO!Z!oO!h!qOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#fYi%^Yi%aYi%rYi%sYi%tYi%uYi%vYi%wYi%xYi&SYiiYi!VYi!WYi&TYi!YYi!^Yi!SYi#_YivYi!nYi~OX!eOa!eO%y!eO%z!eO%{!eO~P!'mOXYiaYi%yYi%zYi%{Yi~P!'mO!V%oO!W%nOi&_X|&_X~O&S'uO&T'uO~P+}O|'wOi&^X~Oi'yO~O|'zO}'|O!Y&aX~Oq0VOx0eO|'zO}'}O!Y&aX~P'WO!Y(PO~Oo!sOp!sOq!vOr!wOmliuli|li}li!{li#fli%^li%ali&Sli~On!uO~P!,`Onli~P!,`Om0XOn0YOo0WOp0WOq0aOr0bO~Ov(RO~P!-iOX(WOi(XOq0VOx0eO~P'WOi(XO|(YO~Oi([O~O!W(^O~Oi(_O|(YO!V%oO!W%nO~P$dOm0XOn0YOo0WOp0WOq0aOr0bOisa!Vsa!Wsa&Tsa!Ysa!^sa!Ssa#_savsa!nsa~PDoOX(WOq0VOx0eO!Y&[a~P'WO|(bO!Y&[a~O!Y(cO~O|(bO!V%oO!W%nO!Y&[a~P$dOX(gOq0VOx0eO!^&Va#f&Va%^&Va%a&Vai&Va}&Va!n&Va&S&Va~P'WO|(hO!^&Va#f&Va%^&Va%a&Vai&Va}&Va!n&Va&S&Va~O!^(kO~O|(hO!V%oO!W%nO!^&Va~P$dO|(nO!V%oO!W%nO!^&]a~P$dO|(qO}&kX!^&kX!n&kX~O}(tO!^(vO!n(wO~O}(tO!^(xO!n(yO~O}(tO!^(zO!n({O~O}(tO!^(|O!n(}O~OX&bOquOxvO}%pi!{%pi#f%pi%^%pi%a%pi&S%pi~P'WO|)OO}%pi!{%pi#f%pi%^%pi%a%pi&S%pi~O!h&hOj&ra%^&ra#_&ra#f&ra%a&ra#^&ra~O%^)TO~OX$ROc$SO%}WO~O|&oO}ya~OquOxvO~P'WO|(hO#f&Va%^&Va%a&Vai&Va}&Va!^&Va!n&Va&S&Va~P$dO|)YO#f%pX%^%pX%a%pX&S%pX~O&S$[O#fWi%^Wi%aWi~O#f&Xa%^&Xa%a&Xap&Xa~P'WO|)]O#f&Xa%^&Xa%a&Xap&Xa~OX)aOj)cO%}WO~O#^)dO~O%}WO#f&ua%^&ua%a&ua~O|)fO#f&ua%^&ua%a&ua~Oq0VOx0eO#f&qa%^&qa%a&qa}&qa~P'WO|)iO#f&qa%^&qa%a&qa}&qa~Ov)mO#i)lOP#giX#gih#gij#giq#giu#gix#gi!R#gi!S#gi!V#gi!W#gi!Z#gi!_#gi!j#gi!u#gi!v#gi!w#gi#O#gi#Q#gi#S#gi#U#gi#W#gi#[#gi#^#gi#a#gi#b#gi#d#gi#k#gi#n#gi#r#gi#t#gi#y#gi#|#gi$O#gi%Z#gi%w#gi%x#gi%|#gi%}#gi&c#gi&d#gi&g#gi&j#gi&n#gi&o#gi&p#gi%]#gi%a#gi~Ov)nOP#jiX#jih#jij#jiq#jiu#jix#ji!R#ji!S#ji!V#ji!W#ji!Z#ji!_#ji!j#ji!u#ji!v#ji!w#ji#O#ji#Q#ji#S#ji#U#ji#W#ji#[#ji#^#ji#a#ji#b#ji#d#ji#k#ji#n#ji#r#ji#t#ji#y#ji#|#ji$O#ji%Z#ji%w#ji%x#ji%|#ji%}#ji&c#ji&d#ji&g#ji&j#ji&n#ji&o#ji&p#ji%]#ji%a#ji~OX)pOp&wa~P'WO|)qOp&wa~O|)qOp&wa~P$dOp)uO~O%[)xO~Ov){O#o'dO#p)zOP#miX#mih#mij#miq#miu#mix#mi!R#mi!S#mi!V#mi!W#mi!Z#mi!_#mi!j#mi!u#mi!v#mi!w#mi#O#mi#Q#mi#S#mi#U#mi#W#mi#[#mi#^#mi#a#mi#b#mi#d#mi#k#mi#n#mi#r#mi#t#mi#y#mi#|#mi$O#mi%Z#mi%w#mi%x#mi%|#mi%}#mi&c#mi&d#mi&g#mi&j#mi&n#mi&o#mi&p#mi%]#mi%a#mi~Oq0VOx0eO}$uO~P'WOq0VOx0eO}&xa~P'WO|*RO}&xa~OX*VOc*WOi*ZO%y*XO%}WO~O}$uO&{*]O~O%^*aO~O%^*cO~OX%YOc%YOq0VOx0eOi&^a~P'WO|*fOi&^a~Oq0VOx0eO}*iO!Y&aa~P'WO|*jO!Y&aa~Oq0VOx0eO|*jO}*mO!Y&aa~P'WOq0VOx0eO|*jO!Y&aa~P'WO|*jO}*mO!Y&aa~Oo0WOp0WOq0aOr0bOilimliuli|li!Vli!Wli&Tli!Yli}li!^li#fli%^li%ali!Sli#_livli!nli&Sli~On0YO~P!IeOnli~P!IeOX(WOi*rOq0VOx0eO~P'WOp*tO~Oi*rO|*vO~Oi*wO~OX(WOq0VOx0eO!Y&[i~P'WO|*xO!Y&[i~O!Y*yO~OX(gOq0VOx0eO!^&Vi#f&Vi%^&Vi%a&Vii&Vi}&Vi!n&Vi&S&Vi~P'WO|*|O!V%oO!W%nO!^&]i~O|+PO!^&Vi#f&Vi%^&Vi%a&Vii&Vi}&Vi!n&Vi&S&Vi~O!^+QO~Oc+SOq0VOx0eO!^&]i~P'WO|*|O!^&]i~O!^+UO~OX+WOq0VOx0eO}&ka!^&ka!n&ka~P'WO|+XO}&ka!^&ka!n&ka~O!_+[O&m+]O!^!oX~O!^+_O~O}(tO!^+`O~O}(tO!^+aO~O}(tO!^+bO~O}(tO!^+cO~OX&bOquOxvO}%pq!{%pq#f%pq%^%pq%a%pq&S%pq~P'WO|$ui}$ui!{$ui#f$ui%^$ui%a$ui&S$ui~P$dOX&bOquOxvO~P'WOX&bOq0VOx0eO#f%pa%^%pa%a%pa&S%pa~P'WO|+dO#f%pa%^%pa%a%pa&S%pa~O|$ha#f$ha%^$ha%a$hap$ha~P$dO#f&Xi%^&Xi%a&Xip&Xi~P'WO|+gO#f#Zq%^#Zq%a#Zq~O|+hO#_+jO#f&tX%^&tX%a&tXi&tX~OX+lOj)cO%}WO~O%}WO#f&ui%^&ui%a&ui~Oq0VOx0eO#f&qi%^&qi%a&qi}&qi~P'WOv+pO#i)lOP#gqX#gqh#gqj#gqq#gqu#gqx#gq!R#gq!S#gq!V#gq!W#gq!Z#gq!_#gq!j#gq!u#gq!v#gq!w#gq#O#gq#Q#gq#S#gq#U#gq#W#gq#[#gq#^#gq#a#gq#b#gq#d#gq#k#gq#n#gq#r#gq#t#gq#y#gq#|#gq$O#gq%Z#gq%w#gq%x#gq%|#gq%}#gq&c#gq&d#gq&g#gq&j#gq&n#gq&o#gq&p#gq%]#gq%a#gq~Op%Oa|%Oa~P$dOX)pOp&wi~P'WO|+wOp&wi~O|,QO}$uO#_,QO~O#p,ROP#mqX#mqh#mqj#mqq#mqu#mqx#mq!R#mq!S#mq!V#mq!W#mq!Z#mq!_#mq!j#mq!u#mq!v#mq!w#mq#O#mq#Q#mq#S#mq#U#mq#W#mq#[#mq#^#mq#a#mq#b#mq#d#mq#k#mq#n#mq#r#mq#t#mq#y#mq#|#mq$O#mq%Z#mq%w#mq%x#mq%|#mq%}#mq&c#mq&d#mq&g#mq&j#mq&n#mq&o#mq&p#mq%]#mq%a#mq~O#_,SO|%Qa}%Qa~Oq0VOx0eO}&xi~P'WO|,UO}&xi~O}$ZO&S,WOi&zX|&zX~O%}WOi&zX|&zX~O|,[Oi&yX~Oi,^O~O%[,`O~OX%YOc%YOq0VOx0eOi&^i~P'WO},bO|$ka!Y$ka~Oq0VOx0eO},cO|$ka!Y$ka~P'WOq0VOx0eO}*iO!Y&ai~P'WO|,fO!Y&ai~Oq0VOx0eO|,fO!Y&ai~P'WO|,fO},iO!Y&ai~Oi$gi|$gi!Y$gi~P$dOX(WOq0VOx0eO~P'WOp,kO~OX(WOi,lOq0VOx0eO~P'WOX(WOq0VOx0eO!Y&[q~P'WO|$fi!^$fi#f$fi%^$fi%a$fii$fi}$fi!n$fi&S$fi~P$dOX(gOq0VOx0eO~P'WOc+SOq0VOx0eO!^&]q~P'WO|,mO!^&]q~O!^,nO~OX(gOq0VOx0eO!^&Vq#f&Vq%^&Vq%a&Vqi&Vq}&Vq!n&Vq&S&Vq~P'WO},oO~OX+WOq0VOx0eO}&ki!^&ki!n&ki~P'WO|,tO}&ki!^&ki!n&ki~O!_+[O&m+]O!^!oa~OX&bOq0VOx0eO#f%pi%^%pi%a%pi&S%pi~P'WO|,wO#f%pi%^%pi%a%pi&S%pi~O%}WO#f&ta%^&ta%a&tai&ta~O|,zO#f&ta%^&ta%a&tai&ta~Oi,}O~Op%Oi|%Oi~P$dOX)pO~P'WOX)pOp&wq~P'WOv-QOP#lyX#lyh#lyj#lyq#lyu#lyx#ly!R#ly!S#ly!V#ly!W#ly!Z#ly!_#ly!j#ly!u#ly!v#ly!w#ly#O#ly#Q#ly#S#ly#U#ly#W#ly#[#ly#^#ly#a#ly#b#ly#d#ly#k#ly#n#ly#r#ly#t#ly#y#ly#|#ly$O#ly%Z#ly%w#ly%x#ly%|#ly%}#ly&c#ly&d#ly&g#ly&j#ly&n#ly&o#ly&p#ly%]#ly%a#ly~O%]-TO%a-TO~P`O#p-UOP#myX#myh#myj#myq#myu#myx#my!R#my!S#my!V#my!W#my!Z#my!_#my!j#my!u#my!v#my!w#my#O#my#Q#my#S#my#U#my#W#my#[#my#^#my#a#my#b#my#d#my#k#my#n#my#r#my#t#my#y#my#|#my$O#my%Z#my%w#my%x#my%|#my%}#my&c#my&d#my&g#my&j#my&n#my&o#my&p#my%]#my%a#my~Oq0VOx0eO}&xq~P'WO|-YO}&xq~O&S,WOi&za|&za~OX*VOc*WO%y*XO%}WOi&ya~O|-^Oi&ya~O$R-bO~OX%YOc%YOq0VOx0eO~P'WOq0VOx0eO}-cO|$ki!Y$ki~P'WOq0VOx0eO|$ki!Y$ki~P'WO}-cO|$ki!Y$ki~Oq0VOx0eO}*iO~P'WOq0VOx0eO}*iO!Y&aq~P'WO|-fO!Y&aq~Oq0VOx0eO|-fO!Y&aq~P'WOu-iO!V%oO!W%nOi&Wq!Y&Wq!^&Wq|&Wq~P!-iOc+SOq0VOx0eO!^&]y~P'WO|$ii!^$ii~P$dOc+SOq0VOx0eO~P'WOX+WOq0VOx0eO~P'WOX+WOq0VOx0eO}&kq!^&kq!n&kq~P'WO}(tO!^-mO!n-nO~OX&bOq0VOx0eO#f%pq%^%pq%a%pq&S%pq~P'WO#_-oO|$za#f$za%^$za%a$zai$za~O%}WO#f&ti%^&ti%a&tii&ti~O|-qO#f&ti%^&ti%a&tii&ti~Ov-tOP#l!RX#l!Rh#l!Rj#l!Rq#l!Ru#l!Rx#l!R!R#l!R!S#l!R!V#l!R!W#l!R!Z#l!R!_#l!R!j#l!R!u#l!R!v#l!R!w#l!R#O#l!R#Q#l!R#S#l!R#U#l!R#W#l!R#[#l!R#^#l!R#a#l!R#b#l!R#d#l!R#k#l!R#n#l!R#r#l!R#t#l!R#y#l!R#|#l!R$O#l!R%Z#l!R%w#l!R%x#l!R%|#l!R%}#l!R&c#l!R&d#l!R&g#l!R&j#l!R&n#l!R&o#l!R&p#l!R%]#l!R%a#l!R~Oq0VOx0eO}&xy~P'WOX*VOc*WO%y*XO%}WOi&yi~O$R-bO%]-zO%a-zO~OX.UOj.SO!Z.RO!_.TO!j-}O!v.PO!w.PO%x-|O%}WO&c]O&d^O&g_O~Oq0VOx0eO|$kq!Y$kq~P'WO}.ZO|$kq!Y$kq~Oq0VOx0eO}*iO!Y&ay~P'WO|.[O!Y&ay~Oq0VOx.`O~P'WOu-iO!V%oO!W%nOi&Wy!Y&Wy!^&Wy|&Wy~P!-iO}(tO!^.cO~O%}WO#f&tq%^&tq%a&tqi&tq~O|.eO#f&tq%^&tq%a&tqi&tq~OX*VOc*WO%y*XO%}WO~Oj.iO!h.gO|$SX#_$SX%r$SXi$SX~Ou$SX}$SX!Y$SX!^$SX~P$!}O%w.kO%x.kOu$TX|$TX}$TX#_$TX%r$TX!Y$TXi$TX!^$TX~O!j.mO~O|.qO#_.sO%r.nOu&|X}&|X!Y&|Xi&|X~Oc.vO~P#M_Oj.iOu&}X|&}X}&}X#_&}X%r&}X!Y&}Xi&}X!^&}X~Ou.zO}$uO~Oq0VOx0eO|$ky!Y$ky~P'WOq0VOx0eO}*iO!Y&a!R~P'WO|/OO!Y&a!R~Oi&ZXu&ZX!V&ZX!W&ZX!Y&ZX!^&ZX|&ZX~P!-iOu-iO!V%oO!W%nOi&Ya!Y&Ya!^&Ya|&Ya~O%}WO#f&ty%^&ty%a&tyi&ty~O!h.gOj$Zau$Za|$Za}$Za#_$Za%r$Za!Y$Zai$Za!^$Za~O!j/XO~O%w.kO%x.kOu$Ta|$Ta}$Ta#_$Ta%r$Ta!Y$Tai$Ta!^$Ta~O%r.nOu$Xa|$Xa}$Xa#_$Xa!Y$Xai$Xa!^$Xa~Ou&|a}&|a!Y&|ai&|a~P#MRO|/^Ou&|a}&|a!Y&|ai&|a~O!Y/aO~Oi/aO~O}/cO~O!^/dO~Oq0VOx0eO}*iO!Y&a!Z~P'WO}/gO~O&S/hO~P$!}O|/iO#_.sO%r.nOi'PX~O|/iOi'PX~Oi/kO~O!j/lO~O#_.sOu%Ua|%Ua}%Ua%r%Ua!Y%Uai%Ua!^%Ua~O#_.sO%r.nOu%Ya|%Ya}%Ya!Y%Yai%Ya~Ou&|i}&|i!Y&|ii&|i~P#MRO|/nO#_.sO%r.nO!^'Oa~O}$ca~P$dOi'Pa~P#MRO|/vOi'Pa~Oc/xO!^'Oi~P#M_O|/zO!^'Oi~O|/zO#_.sO%r.nO!^'Oi~O#_.sO%r.nOi$ai|$ai~O&S/}O~P$!}O#_.sO%r.nOi%Xa|%Xa~Oi'Pi~P#MRO}0QO~Oc/xO!^'Oq~P#M_O|0SO!^'Oq~O#_.sO%r.nO|%Wi!^%Wi~Oc/xO~P#M_Oc/xO!^'Oy~P#M_O#_.sO%r.nOi$bi|$bi~O#_.sO%r.nO|%Wq!^%Wq~O|+dO#f%pa%^%pa%a%pa&S%pa~P$dOX&bOq0VOx0eO~P'WOp0[O~Oq0[O~P'WO}0]O~Ov0^O~P!-iO&d&g&o&p&c&j&n%}&c~",goto:"!<w'QPPPPPPPP'RP'Z*s+]+v,b,}-kP.YP'Z.y.y'ZPPP'Z2cPPPPPP2c5VPP5VP7g7p=pPP=s>e>hPP'Z'ZPP?QPP'Z'ZPP'Z'Z'Z'Z'Z?U?{'ZP@OP@UD]GyPG}HZH_HcHg'ZPPPHkHq'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RPHwPIOIUPIOPIOIOPPPIOPKTPK^KdKjKTPIOKpPIOPKwK}PLRLgMUMoLRLRMuNSLRLRLRLRNhNnNqNvNy! T! Z! g! y!!P!!Z!!a!!}!#T!#Z!#a!#k!#q!#w!#}!$T!$Z!$m!$w!$}!%T!%Z!%e!%k!%q!%w!&R!&X!&c!&i!&r!&x!'X!'a!'k!'rPPPPPPPPPPPPPPPPP!'x!'{!(R!([!(f!(qPPPPPPPPPPPP!-e!.y!2s!6TPP!6]!6o!6x!7n!7e!7w!7}!8Q!8T!8W!8`!9PPPPPPPPPP!9S!9cPPPP!:R!:_!:k!:q!:z!:}!;T!;Z!;a!;dP!;l!;u!<q!<t]jOs#u$u)x+|'}eOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!m!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'w'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0f}!gQ#q$O$a$o${%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!P!hQ#q$O$a$o${%Q%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!R!iQ#q$O$a$o${%Q%R%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!T!jQ#q$O$a$o${%Q%R%S%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!V!kQ#q$O$a$o${%Q%R%S%T%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!X!lQ#q$O$a$o${%Q%R%S%T%U%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!]!lQ!r#q$O$a$o${%Q%R%S%T%U%V%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z'}TOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!m!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'w'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0f&cVOYZ[isuw}!O!S!T!U!Y!m!o!s!t!u!w!x#b#f#i#l#r#u$X$Z$]$`$s$u%Y%_%f%i%k%r%w%y&T&`&m&q&|&}'U']'d'g'v'w'z'|'}(R(Y(b(h(n(q)O)Q)Y)i)l)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+W+X+[+d+g+n+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[/O/g0V0W0X0Y0[0]0^0_0b0f%mXOYZ[isw}!O!S!T!U!Y!m!o#b#f#i#l#r#u$X$Z$]$`$s$u%Y%_%i%k%r%w%y&T&`&m&q&|&}'U']'d'g'v'w'z'|'}(R(Y(b(h(n(q)O)Q)Y)i)l)u)x*R*]*f*i*j*m*s*v*x*{*|+P+W+X+[+d+g+n+|,T,U,X,a,b,c,e,f,i,m,o,q,s,t,w-Y-[-c-f.Z.[/O0]0^0_Q$UvQ/P.`R0c0e'teOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0fW#xm!P!Q$gW$Qv&o.`0eQ$i!RQ$y!ZQ$z![W%X!m'w*f,aS&n$R$SQ'`$tQ)R&hQ)a'OU)b'Q)c)dU)e'S)f+mQ*T'iW*U'k,[-^-xS,Z*V*WY,y+h,z-p-q.eQ,|+jQ-V,QQ-X,Sl-{-b.R.S.U.o.q.v/^/c/h/m/x/}0QQ.d-oQ.w.TQ/T.iQ/`.sU/s/i/v0OX/y/n/z0R0SR&m$Q!_!{YZ!T!U!o%_%k%r'z'|'}(Y(b)l*i*j*m*s*v*x,b,c,e,f,i-c-f.Z.[/OR%i!zQ#PYQ&U#bQ&X#fQ&Z#iQ&]#lQ&v$]Q&y$`R,u+[T._-i/g![!nQ!r#q$O$a$o${%Q%R%S%T%U%V%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0ZQ&k#yR'n$zR'v%XQ%b!qR/R.g'|dOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!m!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'w'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0fS#od#p!P.P-b.R.S.T.U.i.o.q.v/^/c/h/i/m/n/v/x/z/}0O0Q0R0S'|dOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!m!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'w'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0fT#od#pT#c`#de(u&U&X&Z&](w(y({(},u-nT+](t+^T#ga#hT#jb#kT#mc#nQ$_xR,Y*UX$]x$^$_&xZlOs$u)x+|XpOs)x+|Q$v!XQ'W$mQ'X$nQ'j$xQ'm$zQ)v'_Q)|'dQ*O'eQ*P'fQ*^'lQ*`'nQ+q)lQ+s)mQ+t)nQ+x)tS+z)w*_Q+})zQ,O){Q,P)}Q-O+pQ-P+rQ-R+yQ-S+{Q-W,RQ-s-QQ-u-UQ-v-VQ.f-tQ.{.XR/f.|WpOs)x+|R#{oQ'l$yR)w'`Q,X*UR-[,YQ*_'lR+{)wZnOos)x+|Q'p${R*b'qT-`,`-au.W-b.R.S.U.i.o.q.v/^/c/h/i/m/v/x/}0O0Qt.W-b.R.S.U.i.o.q.v/^/c/h/i/m/v/x/}0O0QQ.w.TX/y/n/z0R0S!P.O-b.R.S.T.U.i.o.q.v/^/c/h/i/m/n/v/x/z/}0O0Q0R0SQ.l-}R/Y.mg.o.Q.p/U/]/b/p/r/t0P0T0Uu.V-b.R.S.U.i.o.q.v/^/c/h/i/m/v/x/}0O0QX.j-{.V/T/sR/V.iV/u/i/v0OR.|.XQsOS#}s+|R+|)xQ&p$TR)W&pS%x#V$VS(i%x(lT(l%{&rQ%l!}Q%s#RW(Z%l%s(`(dQ(`%pR(d%uQ&{$aR)^&{Q(o%|Q*}(jT+T(o*}Q'x%ZR*g'xS'{%^%_Y*k'{*l,g-g.]U*l'|'}(OU,g*m*n*oS-g,h,iR.]-hQ#^^R&P#^Q#a_R&R#aQ#d`R&V#dQ(r&SS+Y(r+ZR+Z(sQ+^(tR,v+^Q#haR&Y#hQ#kbR&[#kQ#ncR&^#nQ#pdR&_#pQ#sgQ&a#qW&d#s&a)Z+eQ)Z&uR+e0ZQ$^xS&w$^&xR&x$_Q'V$kR)j'VQ&i#xR)S&iQ$g!QR'P$gQ+i)bS,{+i-rR-r,|Q'T$iR)g'TQ#vkR&f#vQ)k'WR+o)kQ'Z$oS)r'Z)sR)s'[Q'c$vR)y'cQ'h$wS*S'h,VR,V*TQ,]*YR-_,]WoOs)x+|R#zoQ-a,`R-y-ad.p.Q/U/]/b/p/r/t0P0T0UR/[.pU.h-{/T/sR/S.hQ/o/bS/{/o/|R/|/pS/j/U/VR/w/jQ.r.QR/_.rR!_PXrOs)x+|WqOs)x+|R'a$uYkOs$u)x+|R&e#u[xOs#u$u)x+|R&v$]&bQOYZ[isuw}!O!S!T!U!Y!m!o!s!t!u!w!x#b#f#i#l#r#u$X$Z$]$`$s$u%Y%_%f%i%k%r%w%y&T&`&m&q&|&}'U']'d'g'v'w'z'|'}(R(Y(b(h(n(q)O)Q)Y)i)l)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+W+X+[+d+g+n+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[/O/g0V0W0X0Y0[0]0^0_0b0fQ!rTQ#qfQ$OtU$ay%n(^S$o!V$rQ${!]Q%Q!gQ%R!hQ%S!iQ%T!jQ%U!kQ%V!lQ%p#OQ%u#SQ%{#WQ%|#XQ&r$WQ'[$pQ'q$|Q)P&bU)[&z)]+fW)o'Y)q+v+wQ*q(WQ*z(gQ+u)pQ,p+SQ/e.zR0Z0`Q!}YQ#RZQ$m!TQ$n!UQ%^!oQ(O%_^(V%k%r(Y(b*s*v*x^*h'z*j,e,f-f.[/OQ*n'|Q*o'}Q+r)lQ,d*iQ,h*mQ-d,bQ-e,cQ-h,iQ.Y-cR.}.Z[gOs#u$u)x+|!^!zYZ!T!U!o%_%k%r'z'|'}(Y(b)l*i*j*m*s*v*x,b,c,e,f,i-c-f.Z.[/OQ#V[Q#tiS$Vw}Q$d!OW$k!S$`'])uS$w!Y$sW%W!m'w*f,aY&S#b#f#i#l+[`&c#r&`)O)Q)Y+d,w0_Q&s$XQ&t$ZQ&u$]Q't%YQ(U%iW(f%w(h*{+PQ(j%yQ(s&TQ)U&mS)X&q0]Q)_&|Q)`&}U)h'U)i+nQ)}'dY*Q'g*R,T,U-YQ*d'vS*p(R0^W+R(n*|,m,qW+V(q+X,s,tQ,_*]Q,r+WQ,x+gQ-Z,XQ-l,oR-w-[hUOs#r#u$u&`&q(R)O)Q)x+|%S!yYZ[iw}!O!S!T!U!Y!m!o#b#f#i#l$X$Z$]$`$s%Y%_%i%k%r%w%y&T&m&|&}'U']'d'g'v'w'z'|'}(Y(b(h(n(q)Y)i)l)u*R*]*f*i*j*m*s*v*x*{*|+P+W+X+[+d+g+n,T,U,X,a,b,c,e,f,i,m,o,q,s,t,w-Y-[-c-f.Z.[/O0]0^0_Q$PuW%c!s!w0W0bQ%d!tQ%e!uQ%g!xQ%q0VS(Q%f0[Q(S0XQ(T0YQ,j*tQ-k,kS.^-i/gR0d0fU$Tv.`0eR)V&o[hOs#u$u)x+|a!|Y#b#f#i#l$]$`+[Q#[[Q$YwR$c}Q%m!}Q%t#RQ%z#VQ't%WQ(a%pQ(e%uQ(m%{Q(p%|Q+O(jQ-j,jQ.b-kR/Q.aQ$byQ(]%nR*u(^Q.a-iR/q/gR#UZR#Z[R%]!mQ%Z!mV*e'w*f,a!]!pQ!r#q$O$a$o${%Q%R%S%T%U%V%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0ZR%`!oQ&U#bQ&X#fQ&Z#iQ&]#lR,u+[Q(v&UQ(x&XQ(z&ZQ(|&]Q+`(wQ+a(yQ+b({Q+c(}Q-m,uR.c-nQ$l!SQ&y$`Q)t']R+y)uQ#ymQ$e!PQ$h!QR'R$gQ)a'QR+l)dQ)a'QQ+k)cR+l)dR$j!RXqOs)x+|Q$q!VR'^$rQ$x!YR'_$sR*['kQ*Y'kV-],[-^-xQ.X-bQ.t.RR.u.SU.Q-b.R.SQ.y.UQ/U.iQ/Z.oU/].q/^/mQ/b.vQ/p/cQ/r/hU/t/i/v0OQ0P/xQ0T/}R0U0QR.x.TR/W.i",nodeNames:"⚠ print { { { { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatConversion FormatSpec FormatReplacement FormatReplacement FormatReplacement FormatReplacement ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:Uj,nodeProps:[["group",-14,8,88,90,91,93,95,97,99,101,102,103,105,108,111,"Statement Statement",-22,10,20,23,27,42,51,52,58,59,62,63,64,65,66,69,72,73,74,82,83,84,85,"Expression",-10,113,115,118,120,121,125,127,132,134,137,"Statement",-9,142,143,146,147,149,150,151,152,153,"Pattern"],["openedBy",25,"(",56,"[",60,"{"],["closedBy",26,")",57,"]",61,"}"]],propSources:[Qj],skippedNodes:[0,6],repeatNodeCount:37,tokenData:"%-W#sR!`OX%TXY=|Y[%T[]=|]p%Tpq=|qr@_rsDOst!+|tu%Tuv!Nnvw#!|wx#$Wxy#:Uyz#;Yz{#<^{|#>x|}#@S}!O#AW!O!P#Ci!P!Q#N_!Q!R$!y!R![$&w![!]$1e!]!^$3s!^!_$4w!_!`$7c!`!a$8m!a!b%T!b!c$;U!c!d$<b!d!e$>W!e!h$<b!h!i$H[!i!t$<b!t!u%#r!u!w$<b!w!x$Fl!x!}$<b!}#O%%z#O#P?d#P#Q%'O#Q#R%(S#R#S$<b#S#T%T#T#U$<b#U#V$>W#V#Y$<b#Y#Z$H[#Z#f$<b#f#g%#r#g#i$<b#i#j$Fl#j#o$<b#o#p%)^#p#q%*S#q#r%+^#r#s%,S#s$g%T$g;'S$<b;'S;=`$>Q<%lO$<b!n%^]&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n&^]&m!b&eSOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n'^]&m!b&eSOr%Trs(Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!f(^Z&m!b&eSOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)UZ&m!bOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)|Z&m!bOw(Vwx*ox#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!b*tT&m!bO#o*o#p#q*o#r;'S*o;'S;=`+T<%lO*o!b+WP;=`<%l*o!f+`W&m!bO#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`.d;=`<%l+x<%lO(VS+}V&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS,gVOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-PUOw+xx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-fRO;'S+x;'S;=`-o;=`O+xS-tW&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l+x<%lO+xS.aP;=`<%l+x!f.iW&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l(V<%lO+x!f/UP;=`<%l(V!n/`]&m!b&hWOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n0`]&m!b&hWOr%Trs&Vsw%Twx1Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!j1`Z&m!b&hWOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j2WZ&m!bOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3OZ&m!bOr1Xrs*os#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3vW&m!bO#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`6z;=`<%l4`<%lO1XW4eV&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W4}VOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5gUOr4`s#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5|RO;'S4`;'S;=`6V;=`O4`W6[W&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l4`<%lO4`W6wP;=`<%l4`!j7PW&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l1X<%lO4`!j7lP;=`<%l1X!n7tW&m!bO#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T[8eX&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9VX&eSOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9wX&eSOr8^rs+xsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[:iX&hWOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;ZX&hWOr8^rs9Qsw8^wx4`x#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;yRO;'S8^;'S;=`<S;=`O8^[<ZY&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l8^<%lO8^[<|P;=`<%l8^!n=WY&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l%T<%lO8^!n=yP;=`<%l%T#s>Xc&m!b&eS&hW%k!TOX%TXY=|Y[%T[]=|]p%Tpq=|qr%Trs&Vsw%Twx/Xx#O%T#O#P?d#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s?i[&m!bOY%TYZ=|Z]%T]^=|^#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T!q@hd&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#T%T#T#UBz#U#f%T#f#gBz#g#hBz#h#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qBR]oR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qCV]!nR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cDXa&m!b&eS&csOYE^YZ%TZ]E^]^%T^rE^rs!)|swE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cEia&m!b&eS&hW&csOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cFw]&m!b&eS&csOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cGya&m!b&hW&csOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxIOx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cIXa&m!b&hW&csOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxJ^x#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#_Jg_&m!b&hW&csOYJ^YZ1XZ]J^]^1X^rJ^rsKfs#OJ^#O#PL`#P#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`!!o<%lOJ^#_KmZ&m!b&csOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#_LeW&m!bO#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`! r;=`<%lL}<%lOJ^{MUZ&hW&csOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l<%lOL}{M|V&csOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`{NfRO;'SL};'S;=`No;=`OL}{Nv[&hW&csOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lL}<%lOL}{! oP;=`<%lL}#_! y[&hW&csOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lJ^<%lOL}#_!!rP;=`<%lJ^#c!!zW&m!bO#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!(q;=`<%l!#d<%lOE^!P!#m]&eS&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!$mX&eS&csOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P!%a]&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!&Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!&a]&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwxL}x#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!']RO;'S!#d;'S;=`!'f;=`O!#d!P!'o^&eS&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%l!#d<%lO!#d!P!(nP;=`<%l!#d#c!(z^&eS&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%lE^<%lO!#d#c!)yP;=`<%lE^#c!*V]&m!b&eS&csOr%Trs!+Osw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c!+ZZ&iW&m!b&eS&gsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#s!,XaU!T&m!b&eS&hWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!-gaU!T&m!b&eSOY!+|YZ%TZ]!+|]^%T^r!+|rs!.lsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!.uaU!T&m!b&eSOY!+|YZ%TZ]!+|]^%T^r!+|rs!/zsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#k!0T_U!T&m!b&eSOY!/zYZ(VZ]!/z]^(V^w!/zwx!1Sx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!1Z_U!T&m!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!2Yx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!2a_U!T&m!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!3`x#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#g!3gZU!T&m!bOY!3`YZ*oZ]!3`]^*o^#o!3`#o#p!4Y#p#q!3`#q#r!4Y#r;'S!3`;'S;=`!4t<%lO!3`!T!4_TU!TOY!4YZ]!4Y^;'S!4Y;'S;=`!4n<%lO!4Y!T!4qP;=`<%l!4Y#g!4wP;=`<%l!3`#k!5R[U!T&m!bOY!/zYZ(VZ]!/z]^(V^#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!9s;=`<%l+x<%lO!/z!X!6OZU!T&eSOY!5wYZ+xZ]!5w]^+x^w!5wwx!6qx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!6vZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!7ix#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!7nZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!4Yx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!8fWU!TOY!5wYZ+xZ]!5w]^+x^;'S!5w;'S;=`!9O;=`<%l+x<%lO!5w!X!9TW&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!5w<%lO+x!X!9pP;=`<%l!5w#k!9xW&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!/z<%lO+x#k!:eP;=`<%l!/z#s!:qaU!T&m!b&hWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!;vx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!<PaU!T&m!b&hWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!=Ux#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#o!=__U!T&m!b&hWOY!=UYZ1XZ]!=U]^1X^r!=Urs!>^s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!>e_U!T&m!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!?ds#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!?k_U!T&m!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!3`s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!@q[U!T&m!bOY!=UYZ1XZ]!=U]^1X^#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!Ec;=`<%l4`<%lO!=U!]!AnZU!T&hWOY!AgYZ4`Z]!Ag]^4`^r!Agrs!Bas#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!BfZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!CXs#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!C^ZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!4Ys#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!DUWU!TOY!AgYZ4`Z]!Ag]^4`^;'S!Ag;'S;=`!Dn;=`<%l4`<%lO!Ag!]!DsW&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!Ag<%lO4`!]!E`P;=`<%l!Ag#o!EhW&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!=U<%lO4`#o!FTP;=`<%l!=U#s!F_[U!T&m!bOY!+|YZ%TZ]!+|]^%T^#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Mq;=`<%l8^<%lO!+|!a!G^]U!T&eS&hWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!H^]U!T&eSOY!GTYZ8^Z]!GT]^8^^r!GTrs!IVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!I^]U!T&eSOY!GTYZ8^Z]!GT]^8^^r!GTrs!5wsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!J^]U!T&hWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!KVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!K^]U!T&hWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!Agx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!L[WU!TOY!GTYZ8^Z]!GT]^8^^;'S!GT;'S;=`!Lt;=`<%l8^<%lO!GT!a!L{Y&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!GT<%lO8^!a!MnP;=`<%l!GT#s!MxY&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!+|<%lO8^#s!NkP;=`<%l!+|#b!Ny_%zQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b#!T]!{r&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b##X_%tQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#$aa&m!b&hW&csOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#8Ux#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#%qa&m!b&eS&hW&csOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#'Pa&m!b&eS&csOY#%fYZ%TZ]#%f]^%T^r#%frs#(Usw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#(_a&m!b&eS&csOY#%fYZ%TZ]#%f]^%T^r#%frs#)dsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#Z#)m_&m!b&eS&csOY#)dYZ(VZ]#)d]^(V^w#)dwx#*lx#O#)d#O#P#+f#P#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#/u<%lO#)d#Z#*sZ&m!b&csOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#Z#+kW&m!bO#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#.x;=`<%l#,T<%lO#)dw#,[Z&eS&csOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r<%lO#,Tw#-SV&csOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xw#-lRO;'S#,T;'S;=`#-u;=`O#,Tw#-|[&eS&csOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#,T<%lO#,Tw#.uP;=`<%l#,T#Z#/P[&eS&csOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#)d<%lO#,T#Z#/xP;=`<%l#)d#c#0U]&m!b&hW&csOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#1SW&m!bO#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#6y;=`<%l#1l<%lO#%f!P#1u]&eS&hW&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#2u]&eS&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#3nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#3u]&eS&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#,Tsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#4uX&hW&csOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P#5eRO;'S#1l;'S;=`#5n;=`O#1l!P#5w^&eS&hW&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#1l<%lO#1l!P#6vP;=`<%l#1l#c#7S^&eS&hW&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#%f<%lO#1l#c#8RP;=`<%l#%f#c#8_]&m!b&hW&csOr%Trs&Vsw%Twx#9Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#9cZ&fS&m!b&hW&dsOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#c#:a]js&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#;e]iR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#<iaXs&m!b&eS&hWOr%Trs&Vsw%Twx/Xxz%Tz{#=n{!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#=y_cR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#?T_%ws&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#@_]|R&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s#Ac`%xs&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`!a#Be!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#O#Bp]&{`&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Cta!hQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!O%T!O!P#Dy!P!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#ES_&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!O%T!O!P#FR!P#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#F^]!us&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Gbi!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#GV#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#IYc&m!b&eS&hWOr%Trs&Vsw%Twx/Xx{%T{|#Je|}%T}!O#Je!O!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Jn_&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Kxe!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#Km#S#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Mf]!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Nja%yR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!P%T!P!Q$ o!Q!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$ z_%{Q&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$#Uw!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!d%T!d!e$(w!e!g%T!g!h#IP!h!l%T!l!m#MZ!m!q%T!q!r$+m!r!z%T!z!{$.]!{#O%T#O#P7o#P#R%T#R#S$&w#S#U%T#U#V$(w#V#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#c%T#c#d$+m#d#l%T#l#m$.]#m#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$%x_&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$'Sk!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S$&w#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$)Qb&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$*eb!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$+va&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$-Wa!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$.fe&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$0Se!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$1p_}!T&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`$2o!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q$2z]&TR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$4O]#fs&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$5SaoR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!^%T!^!_$6X!_!`Av!`!aAv!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$6d_%uQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$7n_&Ss&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$8x`oR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`!a$9z!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$:V_%vQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$;c_aQ#|P&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$<oe&m!b&eS&hW&b`%}sOr%Trs&Vsw%Twx/Xx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$>TP;=`<%l$<b#s$>ei&m!b&eS&hW&b`%}sOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g$Fl#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$@]a&m!b&eS&csOYE^YZ%TZ]E^]^%T^rE^rs$AbswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#c$Ak]&m!b&eS&csOr%Trs$Bdsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$BmZ&m!b&eS&gsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$Cia&m!b&hW&csOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx$Dnx#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c$Dw]&m!b&hW&csOr%Trs&Vsw%Twx$Epx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_$EyZ&m!b&hW&dsOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s$Fye&m!b&eS&hW&b`%}sOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$Hii&m!b&eS&hW&b`%}sOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!t$<b!t!u%!S!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g%!S#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$Ja]&m!b&eS&nsOr%Trs$KYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$Ka]&m!b&eSOr%Trs$LYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$LcZ&m!b&eS&psOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$M_]&m!b&hW&jsOr%Trs&Vsw%Twx$NWx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$N_]&m!b&hWOr%Trs&Vsw%Twx% Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_% aZ&m!b&hW&osOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s%!ae&m!b&eS&hW&b`%}sOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s%$Pm&m!b&eS&hW&b`%}sOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!h$<b!h!i%!S!i!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#U$<b#U#V$Fl#V#Y$<b#Y#Z%!S#Z#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c%&V]!Zs&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%'Z]!YR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b%(__%sQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a%)gX!_#T&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#c%*__%rR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%+gX!^!e&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#a%,_]%|q&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T",tokenizers:[Wj,Bj,Fj,jj,qj,zj,Hj,0,1,2,3,4,5,6],topRules:{Script:[0,7]},specialized:[{term:229,get:e=>Gj[e]||-1}],tokenPrec:7205}),Fb=new eA,NE=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function yu(e){return(t,s,n)=>{if(n)return!1;let o=t.node.getChild("VariableName");return o&&s(o,e),!0}}const Xj={FunctionDefinition:yu("function"),ClassDefinition:yu("class"),ForStatement(e,t,s){if(s){for(let n=e.node.firstChild;n;n=n.nextSibling)if(n.name=="VariableName")t(n,"variable");else if(n.name=="in")break}},ImportStatement(e,t){var s,n;let{node:o}=e,i=((s=o.firstChild)===null||s===void 0?void 0:s.name)=="from";for(let r=o.getChild("import");r;r=r.nextSibling)r.name=="VariableName"&&((n=r.nextSibling)===null||n===void 0?void 0:n.name)!="as"&&t(r,i?"variable":"namespace")},AssignStatement(e,t){for(let s=e.node.firstChild;s;s=s.nextSibling)if(s.name=="VariableName")t(s,"variable");else if(s.name==":"||s.name=="AssignOp")break},ParamList(e,t){for(let s=null,n=e.node.firstChild;n;n=n.nextSibling)n.name=="VariableName"&&(!s||!/\*|AssignOp/.test(s.name))&&t(n,"variable"),s=n},CapturePattern:yu("variable"),AsPattern:yu("variable"),__proto__:null};function _E(e,t){let s=Fb.get(t);if(s)return s;let n=[],o=!0;function i(r,l){let m=e.sliceString(r.from,r.to);n.push({label:m,type:l})}return t.cursor(ZD.IncludeAnonymous).iterate(r=>{if(r.name){let l=Xj[r.name];if(l&&l(r,i,o)||!o&&NE.has(r.name))return!1;o=!1}else if(r.to-r.from>8192){for(let l of _E(e,r.node))n.push(l);return!1}}),Fb.set(t,n),n}const Bb=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,PE=["String","FormatString","Comment","PropertyName"];function Kj(e){let t=Qv(e.state).resolveInner(e.pos,-1);if(PE.indexOf(t.name)>-1)return null;let s=t.name=="VariableName"||t.to-t.from<20&&Bb.test(e.state.sliceDoc(t.from,t.to));if(!s&&!e.explicit)return null;let n=[];for(let o=t;o;o=o.parent)NE.has(o.name)&&(n=n.concat(_E(e.state.doc,o)));return{options:n,from:s?t.from:e.pos,validFor:Bb}}const Jj=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(e=>({label:e,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(e=>({label:e,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(e=>({label:e,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(e=>({label:e,type:"function"}))),Zj=[Cs("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),Cs("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),Cs("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),Cs("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),Cs(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),Cs("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),Cs("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),Cs("import ${module}",{label:"import",detail:"statement",type:"keyword"}),Cs("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],eq=aT(PE,lT(Jj.concat(Zj)));function Rb(e,t){let s=e.lineIndent(t.from),n=e.lineAt(e.pos,-1),o=n.from+n.text.length;return/^\s*($|#)/.test(n.text)&&e.node.to<o+100&&!/\S/.test(e.state.sliceDoc(o,e.node.to))&&e.lineIndent(e.pos,-1)<=s||/^\s*(else:|elif |except |finally:)/.test(e.textAfter)&&e.lineIndent(e.pos,-1)>s?null:s+e.unit}const eh=_m.define({name:"python",parser:Yj.configure({props:[oT.add({Body:e=>{var t;return(t=Rb(e,e.node))!==null&&t!==void 0?t:e.continue()},IfStatement:e=>/^\s*(else:|elif )/.test(e.textAfter)?e.baseIndent:e.continue(),TryStatement:e=>/^\s*(except |finally:|else:)/.test(e.textAfter)?e.baseIndent:e.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":yp({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":yp({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":yp({closing:"]"}),"String FormatString":()=>null,Script:e=>{if(e.pos+/\s*/.exec(e.textAfter)[0].length>=e.node.to){let t=null;for(let s=e.node,n=s.to;s=s.lastChild,!(!s||s.to!=n);)s.type.name=="Body"&&(t=s);if(t){let s=Rb(e,t);if(s!=null)return s}}return e.continue()}}),iT.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":rT,Body:(e,t)=>({from:e.from+1,to:e.to-(e.to==t.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/}});function tq(){return new rl(eh,[eh.data.of({autocomplete:Kj}),eh.data.of({autocomplete:eq})])}function Dn(){var e=arguments[0];typeof e=="string"&&(e=document.createElement(e));var t=1,s=arguments[1];if(s&&typeof s=="object"&&s.nodeType==null&&!Array.isArray(s)){for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){var o=s[n];typeof o=="string"?e.setAttribute(n,o):o!=null&&(e[n]=o)}t++}for(;t<arguments.length;t++)IE(e,arguments[t]);return e}function IE(e,t){if(typeof t=="string")e.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)e.appendChild(t);else if(Array.isArray(t))for(var s=0;s<t.length;s++)IE(e,t[s]);else throw new RangeError("Unsupported child node: "+t)}class sq{constructor(t,s,n){this.from=t,this.to=s,this.diagnostic=n}}class ri{constructor(t,s,n){this.diagnostics=t,this.panel=s,this.selected=n}static init(t,s,n){let o=t,i=n.facet(ui).markerFilter;i&&(o=i(o));let r=_n.set(o.map(l=>l.from==l.to||l.from==l.to-1&&n.doc.lineAt(l.from).to==l.from?_n.widget({widget:new lq(l),diagnostic:l}).range(l.from):_n.mark({attributes:{class:"cm-lintRange cm-lintRange-"+l.severity},diagnostic:l}).range(l.from,l.to)),!0);return new ri(r,s,Ir(r))}}function Ir(e,t=null,s=0){let n=null;return e.between(s,1e9,(o,i,{spec:r})=>{if(!(t&&r.diagnostic!=t))return n=new sq(o,i,r.diagnostic),!1}),n}function ME(e,t){return!!(e.effects.some(s=>s.is(yd))||e.changes.touchesRange(t.pos))}function nq(e,t){return e.field(gn,!1)?t:t.concat(Rn.appendConfig.of([gn,tt.decorations.compute([gn],s=>{let{selected:n,panel:o}=s.field(gn);return!n||!o||n.from==n.to?_n.none:_n.set([iq.range(n.from,n.to)])}),rA(rq,{hideOn:ME}),uq]))}function oq(e,t){return{effects:nq(e,[yd.of(t)])}}const yd=Rn.define(),LE=Rn.define(),FE=Rn.define(),gn=il.define({create(){return new ri(_n.none,null,null)},update(e,t){if(t.docChanged){let s=e.diagnostics.map(t.changes),n=null;if(e.selected){let o=t.changes.mapPos(e.selected.from,1);n=Ir(s,e.selected.diagnostic,o)||Ir(s,null,o)}e=new ri(s,e.panel,n)}for(let s of t.effects)s.is(yd)?e=ri.init(s.value,e.panel,t.state):s.is(LE)?e=new ri(e.diagnostics,s.value?tg.open:null,e.selected):s.is(FE)&&(e=new ri(e.diagnostics,e.panel,s.value));return e},provide:e=>[aA.from(e,t=>t.panel),tt.decorations.from(e,t=>t.diagnostics)]}),iq=_n.mark({class:"cm-lintRange cm-lintRange-active"});function rq(e,t,s){let{diagnostics:n}=e.state.field(gn),o=[],i=2e8,r=0;n.between(t-(s<0?1:0),t+(s>0?1:0),(m,c,{spec:h})=>{t>=m&&t<=c&&(m==c||(t>m||s>0)&&(t<c||s<0))&&(o.push(h.diagnostic),i=Math.min(m,i),r=Math.max(c,r))});let l=e.state.facet(ui).tooltipFilter;return l&&(o=l(o)),o.length?{pos:i,end:r,above:e.state.doc.lineAt(i).to<r,create(){return{dom:BE(e,o)}}}:null}function BE(e,t){return Dn("ul",{class:"cm-tooltip-lint"},t.map(s=>VE(e,s,!1)))}const Vb=e=>{let t=e.state.field(gn,!1);return!t||!t.panel?!1:(e.dispatch({effects:LE.of(!1)}),!0)},aq=nA.fromClass(class{constructor(e){this.view=e,this.timeout=-1,this.set=!0;let{delay:t}=e.state.facet(ui);this.lintTime=Date.now()+t,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,t)}run(){let e=Date.now();if(e<this.lintTime-10)setTimeout(this.run,this.lintTime-e);else{this.set=!1;let{state:t}=this.view,{sources:s}=t.facet(ui);Promise.all(s.map(n=>Promise.resolve(n(this.view)))).then(n=>{let o=n.reduce((i,r)=>i.concat(r));this.view.state.doc==t.doc&&this.view.dispatch(oq(this.view.state,o))},n=>{oA(this.view.state,n)})}}update(e){let t=e.state.facet(ui);(e.docChanged||t!=e.startState.facet(ui))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),ui=Bc.define({combine(e){return Object.assign({sources:e.map(t=>t.source)},$m(e.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:aq});function Ub(e,t={}){return ui.of({source:e,config:t})}function RE(e){let t=[];if(e)e:for(let{name:s}of e){for(let n=0;n<s.length;n++){let o=s[n];if(/[a-zA-Z]/.test(o)&&!t.some(i=>i.toLowerCase()==o.toLowerCase())){t.push(o);continue e}}t.push("")}return t}function VE(e,t,s){var n;let o=s?RE(t.actions):[];return Dn("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},Dn("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),(n=t.actions)===null||n===void 0?void 0:n.map((i,r)=>{let l=p=>{p.preventDefault();let g=Ir(e.state.field(gn).diagnostics,t);g&&i.apply(e,g.from,g.to)},{name:m}=i,c=o[r]?m.indexOf(o[r]):-1,h=c<0?m:[m.slice(0,c),Dn("u",m.slice(c,c+1)),m.slice(c+1)];return Dn("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${m}${c<0?"":` (access key "${o[r]})"`}.`},h)}),t.source&&Dn("div",{class:"cm-diagnosticSource"},t.source))}class lq extends lA{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return Dn("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Wb{constructor(t,s){this.diagnostic=s,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=VE(t,s,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class tg{constructor(t){this.view=t,this.items=[];let s=o=>{if(o.keyCode==27)Vb(this.view),this.view.focus();else if(o.keyCode==38||o.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(o.keyCode==40||o.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(o.keyCode==36)this.moveSelection(0);else if(o.keyCode==35)this.moveSelection(this.items.length-1);else if(o.keyCode==13)this.view.focus();else if(o.keyCode>=65&&o.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:i}=this.items[this.selectedIndex],r=RE(i.actions);for(let l=0;l<r.length;l++)if(r[l].toUpperCase().charCodeAt(0)==o.keyCode){let m=Ir(this.view.state.field(gn).diagnostics,i);m&&i.actions[l].apply(t,m.from,m.to)}}else return;o.preventDefault()},n=o=>{for(let i=0;i<this.items.length;i++)this.items[i].dom.contains(o.target)&&this.moveSelection(i)};this.list=Dn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:s,onclick:n}),this.dom=Dn("div",{class:"cm-panel-lint"},this.list,Dn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Vb(this.view)},"×")),this.update()}get selectedIndex(){let t=this.view.state.field(gn).selected;if(!t)return-1;for(let s=0;s<this.items.length;s++)if(this.items[s].diagnostic==t.diagnostic)return s;return-1}update(){let{diagnostics:t,selected:s}=this.view.state.field(gn),n=0,o=!1,i=null;for(t.between(0,this.view.state.doc.length,(r,l,{spec:m})=>{let c=-1,h;for(let p=n;p<this.items.length;p++)if(this.items[p].diagnostic==m.diagnostic){c=p;break}c<0?(h=new Wb(this.view,m.diagnostic),this.items.splice(n,0,h),o=!0):(h=this.items[c],c>n&&(this.items.splice(n,c-n),o=!0)),s&&h.diagnostic==s.diagnostic?h.dom.hasAttribute("aria-selected")||(h.dom.setAttribute("aria-selected","true"),i=h):h.dom.hasAttribute("aria-selected")&&h.dom.removeAttribute("aria-selected"),n++});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();this.items.length==0&&(this.items.push(new Wb(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:r,panel:l})=>{r.top<l.top?this.list.scrollTop-=l.top-r.top:r.bottom>l.bottom&&(this.list.scrollTop+=r.bottom-l.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}sync(){let t=this.list.firstChild;function s(){let n=t;t=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;t!=n.dom;)s();t=n.dom.nextSibling}else this.list.insertBefore(n.dom,t);for(;t;)s()}moveSelection(t){if(this.selectedIndex<0)return;let s=this.view.state.field(gn),n=Ir(s.diagnostics,this.items[t].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:FE.of(n)})}static open(t){return new tg(t)}}function qu(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function th(e){return qu(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const uq=tt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:th("#d11")},".cm-lintRange-warning":{backgroundImage:th("orange")},".cm-lintRange-info":{backgroundImage:th("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});class cq extends iA{constructor(t){super(),this.diagnostics=t,this.severity=t.reduce((s,n)=>{let o=n.severity;return o=="error"||o=="warning"&&s=="info"?o:s},"info")}toDOM(t){let s=document.createElement("div");s.className="cm-lint-marker cm-lint-marker-"+this.severity;let n=this.diagnostics,o=t.state.facet(wd).tooltipFilter;return o&&(n=o(n)),n.length&&(s.onmouseover=()=>pq(t,s,n)),s}}function dq(e,t){let s=n=>{let o=t.getBoundingClientRect();if(!(n.clientX>o.left-10&&n.clientX<o.right+10&&n.clientY>o.top-10&&n.clientY<o.bottom+10)){for(let i=n.target;i;i=i.parentNode)if(i.nodeType==1&&i.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",s),e.state.field(WE)&&e.dispatch({effects:sg.of(null)})}};window.addEventListener("mousemove",s)}function pq(e,t,s){function n(){let r=e.elementAtHeight(t.getBoundingClientRect().top+5-e.documentTop);e.coordsAtPos(r.from)&&e.dispatch({effects:sg.of({pos:r.from,above:!1,create(){return{dom:BE(e,s),getCoords:()=>t.getBoundingClientRect()}}})}),t.onmouseout=t.onmousemove=null,dq(e,t)}let{hoverTime:o}=e.state.facet(wd),i=setTimeout(n,o);t.onmouseout=()=>{clearTimeout(i),t.onmouseout=t.onmousemove=null},t.onmousemove=()=>{clearTimeout(i),i=setTimeout(n,o)}}function hq(e,t){let s=Object.create(null);for(let o of t){let i=e.lineAt(o.from);(s[i.from]||(s[i.from]=[])).push(o)}let n=[];for(let o in s)n.push(new cq(s[o]).range(+o));return uT.of(n,!0)}const mq=tA({class:"cm-gutter-lint",markers:e=>e.state.field(UE)}),UE=il.define({create(){return uT.empty},update(e,t){e=e.map(t.changes);let s=t.state.facet(wd).markerFilter;for(let n of t.effects)if(n.is(yd)){let o=n.value;s&&(o=s(o||[])),e=hq(t.state.doc,o.slice(0))}return e}}),sg=Rn.define(),WE=il.define({create(){return null},update(e,t){return e&&t.docChanged&&(e=ME(t,e)?null:Object.assign(Object.assign({},e),{pos:t.changes.mapPos(e.pos)})),t.effects.reduce((s,n)=>n.is(sg)?n.value:s,e)},provide:e=>sA.from(e)}),fq=tt.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:qu('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:qu('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error:before":{content:qu('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),wd=Bc.define({combine(e){return $m(e,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function gq(e={}){return[wd.of(e),UE,mq,fq,WE]}const yq=tt.inputHandler.of((e,t,s,n)=>{if(e.composing||e.state.readOnly||Nm(e.state)!==null)return!1;const o=e.state.selection.main;if(n==="["&&e.state.doc.toString().slice(o.from-5,o.to)===".json"||n.length>2||n.length===2&&Kv(Jv(n,0))===1||t!==o.from||s!==o.to)return!1;const i=Zv(e.state,n);return i?(e.dispatch(i),!0):!1}),[xCe,wq]=eT(),bq=()=>[yq,wq],vq=[Mm(),tt.lineWrapping,uA()],Tq=[vl(),gq(),Lm(),bq(),Fm(),tc(),Bm(),Rm(),Vm(),ll.of([{key:"Enter",run:US},{key:"Tab",run:Ia},{key:"Enter",run:Ia},{key:"Mod-/",run:IS},{key:"Mod-Shift-z",run:Br},{key:"Backspace",run:eb,shift:eb},Tf])];function ns(e,t,s=[]){t(e)&&s.push(e);for(const n in e){if(!(n in e))continue;const o=e[n];o===null||typeof o!="object"||(Array.isArray(o)?o.forEach(i=>ns(i,t,s)):ns(o,t,s))}return s}const ro=e=>e.replace("$","\\$").replace("(","\\(").replace(")","\\)").replace("[","\\[").replace("]","\\]"),Sq=e=>({label:e,type:"variable"}),ao=e=>({...e,type:"variable"}),kq=J({methods:{createLinter(e){switch(e){case"javaScript":return Ub(this.lintSource,{delay:yR});case"json":return Ub(G7())}},lintSource(e){const s=`module.exports = async function() {${e.state.doc.toString()}
}()`;let n=null;try{n=OA(s,{range:!0})}catch(m){let c;try{const h=e.state.doc.line(m.lineNumber-1).text;if(["?.","]?"].some(p=>h.includes(p)))return[]}catch{return[]}try{return c=e.state.doc.line(m.lineNumber),[{from:c.from,to:c.to,severity:xs,message:this.$locale.baseText("codeNodeEditor.linter.bothModes.syntaxError")}]}catch{return[]}}if(n===null)return[];const o=[];this.mode==="runOnceForEachItem"&&ns(n,c=>c.type==="CallExpression"&&c.callee.type==="MemberExpression"&&c.callee.property.type==="Identifier"&&c.callee.property.name==="item").forEach(c=>{const[h,p]=this.getRange(c);o.push({from:h,to:p,severity:xs,message:this.$locale.baseText("codeNodeEditor.linter.allItems.itemCall"),actions:[{name:"Fix",apply(g,w,S){g.dispatch({changes:{from:p-2,to:S}})}}]})}),this.mode==="runOnceForAllItems"&&ns(n,c=>c.type==="Identifier"&&["$json","$binary","$itemIndex"].includes(c.name)).forEach(c=>{const[h,p]=this.getRange(c),g=this.getText(c);if(!g)return;const w=[`\`${g}\``,this.$locale.baseText("codeNodeEditor.linter.allItems.unavailableVar")].join(" ");o.push({from:h,to:p,severity:xs,message:w,actions:[{name:"Remove",apply(S,k,O){S.dispatch({changes:{from:k,to:O}})}}]})}),this.mode==="runOnceForAllItems"&&ns(n,c=>c.type==="MemberExpression"&&!c.computed&&c.object.type==="Identifier"&&c.object.name==="$input"&&c.property.type==="Identifier"&&c.property.name==="item").forEach(c=>{const[h,p]=this.getRange(c.property);o.push({from:h,to:p,severity:xs,message:this.$locale.baseText("codeNodeEditor.linter.allItems.unavailableProperty"),actions:[{name:"Remove",apply(g){g.dispatch({changes:{from:h-1,to:p}})}}]})}),this.mode==="runOnceForEachItem"&&!/(let|const|var) items =/.test(s)&&ns(n,c=>c.type==="Identifier"&&c.name==="items").forEach(c=>{const[h,p]=this.getRange(c);o.push({from:h,to:p,severity:xs,message:this.$locale.baseText("codeNodeEditor.linter.eachItem.unavailableItems"),actions:[{name:"Fix",apply(g,w,S){g.state.doc.toString().slice(w,S).includes("$input.item")||(g.dispatch({changes:{from:h,to:p}}),g.dispatch({changes:{from:w,insert:"$input.item"}}))}}]})}),this.mode==="runOnceForEachItem"&&ns(n,c=>c.type==="MemberExpression"&&!c.computed&&c.object.type==="Identifier"&&c.object.name==="$input"&&c.property.type==="Identifier"&&["first","last","all","itemMatching"].includes(c.property.name)).forEach(c=>{const[h,p]=this.getRange(c.property),g=this.getText(c.property);g&&o.push({from:h,to:p,severity:xs,message:this.$locale.baseText("codeNodeEditor.linter.eachItem.unavailableMethod",{interpolate:{method:g}})})}),this.mode==="runOnceForAllItems"&&ns(n,c=>c.type==="CallExpression"&&c.callee.type==="MemberExpression"&&c.callee.property.type==="Identifier"&&c.callee.property.name==="itemMatching"&&c.arguments.length===0).forEach(c=>{const[h,p]=this.getRange(c.callee.property);o.push({from:h,to:p+2,severity:xs,message:this.$locale.baseText("codeNodeEditor.linter.allItems.itemMatchingNoArg")})}),this.mode==="runOnceForAllItems"&&ns(n,c=>c.type==="CallExpression"&&c.callee.type==="MemberExpression"&&!c.callee.computed&&c.callee.object.type==="Identifier"&&c.callee.object.name==="$input"&&c.callee.property.type==="Identifier"&&["first","last"].includes(c.callee.property.name)&&c.arguments.length!==0).forEach(c=>{const[h,p]=this.getRange(c.callee.property),g=[`\`$input.${c.callee.property.name}()\``,this.$locale.baseText("codeNodeEditor.linter.allItems.firstOrLastCalledWithArg")].join(" ");o.push({from:h,to:p,severity:xs,message:g})});const i=m=>m.type==="ReturnStatement"&&m.argument===null,r=this.mode==="runOnceForAllItems"?this.$locale.baseText("codeNodeEditor.linter.allItems.emptyReturn"):this.$locale.baseText("codeNodeEditor.linter.eachItem.emptyReturn");if(ns(n,i).forEach(m=>{const[c,h]=m.range.map(p=>p-tb);o.push({from:c,to:h,severity:xs,message:r})}),this.mode==="runOnceForEachItem"&&ns(n,c=>c.type==="ReturnStatement"&&c.argument!==null&&c.argument!==void 0&&c.argument.type==="ArrayExpression").forEach(c=>{const[h,p]=this.getRange(c);o.push({from:h,to:p,severity:xs,message:this.$locale.baseText("codeNodeEditor.linter.eachItem.returnArray")})}),this.mode==="runOnceForAllItems"){const c=ns(n,h=>h.type==="ForOfStatement"&&h.left.type==="VariableDeclaration"&&h.left.declarations.length===1&&h.left.declarations[0].type==="VariableDeclarator"&&h.left.declarations[0].id.type==="Identifier"&&h.right.type==="CallExpression"&&h.right.callee.type==="MemberExpression"&&!h.right.callee.computed&&h.right.callee.object.type==="Identifier"&&h.right.callee.object.name.startsWith("$"));if(c.length===1){const h=c[0].left.declarations[0].id.name,g=ns(n,k=>k.type==="VariableDeclarator"&&k.id.type==="Identifier"&&k.id.name==="item"&&k.init!==null);let w;if(g.length>0){const[k]=g,[O]=this.getRange(k);w=O}ns(n,k=>k.type==="MemberExpression"&&k.object.type==="Identifier"&&k.object.name===h&&k.property.type==="Identifier"&&!["json","binary"].includes(k.property.name)).forEach(k=>{const[O,C]=this.getRange(k);w&&O>w||!this.getText(k)||o.push({from:O,to:C,severity:xs,message:this.$locale.baseText("codeNodeEditor.linter.bothModes.directAccess.itemProperty"),actions:[{name:"Fix",apply(T,F,L){T.state.doc.toString().slice(F,L).includes(".json")||T.dispatch({changes:{from:F+h.length,insert:".json"}})}}]})})}}return this.mode==="runOnceForEachItem"&&ns(n,c=>c.type==="MemberExpression"&&c.object.type==="MemberExpression"&&c.object.property.type==="Identifier"&&c.object.property.name==="item"&&c.property.type==="Identifier"&&!["json","binary"].includes(c.property.name)).forEach(c=>{if(!this.getText(c))return;const[p,g]=this.getRange(c),[w,S]=this.getRange(c.object.property);o.push({from:p,to:g,severity:xs,message:this.$locale.baseText("codeNodeEditor.linter.bothModes.directAccess.itemProperty"),actions:[{name:"Fix",apply(k,O,C){k.state.doc.toString().slice(O,C).includes(".json")||k.dispatch({changes:{from:S,insert:".json"}})}}]})}),ns(n,m=>m.type==="MemberExpression"&&m.property.type==="Identifier"&&!["json","binary"].includes(m.property.name)&&m.object.type==="CallExpression"&&m.object.arguments.length===0&&m.object.callee.type==="MemberExpression"&&m.object.callee.property.type==="Identifier"&&["first","last"].includes(m.object.callee.property.name)).forEach(m=>{const[c,h]=this.getRange(m),[p,g]=this.getRange(m.object);o.push({from:c,to:h,severity:xs,message:this.$locale.baseText("codeNodeEditor.linter.bothModes.directAccess.firstOrLastCall"),actions:[{name:"Fix",apply(w,S,k){w.state.doc.toString().slice(S,k).includes(".json")||w.dispatch({changes:{from:g,insert:".json"}})}}]})}),o},getText(e){if(!this.editor)return null;const[t,s]=this.getRange(e);return this.editor.state.doc.toString().slice(t,s)},getRange(e){return e.range.map(t=>t-tb)}}});function jb(e){return e.filter(t=>!qS.includes(t.type)).map(t=>t.name)}const Eq=J({computed:{...be(_e)},methods:{itemCompletions(e){const t=e.matchBefore(/i\w*/);if(!t||t.from===t.to&&!e.explicit)return null;const s=[];return this.mode==="runOnceForEachItem"?s.push({label:"item",info:this.$locale.baseText("codeNodeEditor.completer.$input.item")}):this.mode==="runOnceForAllItems"&&s.push({label:"items",info:this.$locale.baseText("codeNodeEditor.completer.$input.all")}),{from:t.from,options:s}},baseCompletions(e){const t=this.language==="python"?"_":"$",s=e.matchBefore(new RegExp(`\\${t}\\w*`));if(!s||s.from===s.to&&!e.explicit)return null;const o=[{label:`${t}execution`,info:this.$locale.baseText("codeNodeEditor.completer.$execution")},{label:`${t}input`,info:this.$locale.baseText("codeNodeEditor.completer.$input")},{label:`${t}prevNode`,info:this.$locale.baseText("codeNodeEditor.completer.$prevNode")},{label:`${t}workflow`,info:this.$locale.baseText("codeNodeEditor.completer.$workflow")},{label:`${t}vars`,info:this.$locale.baseText("codeNodeEditor.completer.$vars")},{label:`${t}now`,info:this.$locale.baseText("codeNodeEditor.completer.$now")},{label:`${t}today`,info:this.$locale.baseText("codeNodeEditor.completer.$today")},{label:`${t}jmespath()`,info:this.$locale.baseText("codeNodeEditor.completer.$jmespath")},{label:`${t}runIndex`,info:this.$locale.baseText("codeNodeEditor.completer.$runIndex")}].map(ao);if(o.push(...jb(this.workflowsStore.allNodes).map(i=>({label:`${t}('${i}')`,type:"variable",info:this.$locale.baseText("codeNodeEditor.completer.$()",{interpolate:{nodeName:i}})}))),this.mode==="runOnceForEachItem"){const i=[{label:`${t}json`},{label:`${t}binary`},{label:`${t}itemIndex`,info:this.$locale.baseText("codeNodeEditor.completer.$itemIndex")}];o.push(...i.map(ao))}return{from:s.from,options:o}},nodeSelectorCompletions(e){const t=this.language==="python"?"_":"$",s=e.matchBefore(new RegExp(`\\${t}\\(.*`));if(!s||s.from===s.to&&!e.explicit)return null;const n=jb(this.workflowsStore.allNodes).map(o=>({label:`${t}('${o}')`,type:"variable",info:this.$locale.baseText("codeNodeEditor.completer.$()",{interpolate:{nodeName:o}})}));return{from:s.from,options:n}}}}),xq=lT([...TA.filter(e=>e.label!=="class"),Cs("console.log(${arg})",{label:"console.log()"}),Cs("DateTime",{label:"DateTime"}),Cs("Interval",{label:"Interval"}),Cs("Duration",{label:"Duration"})]),Cq=J({methods:{requireCompletions(e){var r,l;const t=e.matchBefore(/req.*/);if(!t||t.from===t.to&&!e.explicit)return null;const s=[],o=Le().allowedModules,i=m=>({label:`require('${m}');`,type:"variable"});return o.builtIn&&(o.builtIn.includes("*")?s.push(...gR.map(i)):((r=o==null?void 0:o.builtIn)==null?void 0:r.length)>0&&s.push(...o.builtIn.map(i))),o.external&&((l=o==null?void 0:o.external)==null?void 0:l.length)>0&&s.push(...o.external.map(i)),{from:t.from,options:s}}}}),Oq=J({methods:{executionCompletions(e,t="$execution"){const s=new RegExp(`${ro(t)}..*`),n=e.matchBefore(s);if(!n||n.from===n.to&&!e.explicit)return null;const o=r=>{const l=document.createElement("span");return l.innerHTML=r,()=>l},i=[{label:`${t}.id`,info:this.$locale.baseText("codeNodeEditor.completer.$execution.id")},{label:`${t}.mode`,info:this.$locale.baseText("codeNodeEditor.completer.$execution.mode")},{label:`${t}.resumeUrl`,info:this.$locale.baseText("codeNodeEditor.completer.$execution.resumeUrl")},{label:`${t}.customData.set("key", "value")`,info:o(this.$locale.baseText("codeNodeEditor.completer.$execution.customData.set()"))},{label:`${t}.customData.get("key")`,info:o(this.$locale.baseText("codeNodeEditor.completer.$execution.customData.get()"))},{label:`${t}.customData.setAll({})`,info:o(this.$locale.baseText("codeNodeEditor.completer.$execution.customData.setAll()"))},{label:`${t}.customData.getAll()`,info:o(this.$locale.baseText("codeNodeEditor.completer.$execution.customData.getAll()"))}];return{from:n.from,options:i.map(ao)}}}}),Dq=e=>e.replace("$","\\$"),Aq=J({methods:{workflowCompletions(e,t="$workflow"){const s=new RegExp(`${Dq(t)}..*`),n=e.matchBefore(s);if(!n||n.from===n.to&&!e.explicit)return null;const o=[{label:`${t}.id`,info:this.$locale.baseText("codeNodeEditor.completer.$workflow.id")},{label:`${t}.name`,info:this.$locale.baseText("codeNodeEditor.completer.$workflow.name")},{label:`${t}.active`,info:this.$locale.baseText("codeNodeEditor.completer.$workflow.active")}];return{from:n.from,options:o.map(ao)}}}}),$q="$prevNode",Nq=e=>e.replace("$","\\$"),_q=J({methods:{prevNodeCompletions(e,t=$q){const s=new RegExp(`${Nq(t)}..*`),n=e.matchBefore(s);if(!n||n.from===n.to&&!e.explicit)return null;const o=[{label:`${t}.name`,info:this.$locale.baseText("codeNodeEditor.completer.$prevNode.name")},{label:`${t}.outputIndex`,info:this.$locale.baseText("codeNodeEditor.completer.$prevNode.outputIndex")},{label:`${t}.runIndex`,info:this.$locale.baseText("codeNodeEditor.completer.$prevNode.runIndex")}];return{from:n.from,options:o.map(ao)}}}}),Pq=J({methods:{todayCompletions(e,t="$today"){const s=new RegExp(`${ro(t)}..*`),n=e.matchBefore(s);if(!n||n.from===n.to&&!e.explicit)return null;const o=this.luxonInstanceGetters().map(([i,r])=>({label:`${t}.${i}`,type:"function",info:r}));return o.push(...this.luxonInstanceMethods().map(([i,r])=>({label:`${t}.${i}()`,type:"function",info:r}))),{from:n.from,options:o}},nowCompletions(e,t="$now"){const s=new RegExp(`${ro(t)}..*`),n=e.matchBefore(s);if(!n||n.from===n.to&&!e.explicit)return null;const o=this.luxonInstanceGetters().map(([i,r])=>({label:`${t}.${i}`,type:"function",info:r}));return o.push(...this.luxonInstanceMethods().map(([i,r])=>({label:`${t}.${i}()`,type:"function",info:r}))),{from:n.from,options:o}},dateTimeCompletions(e,t="DateTime"){const s=new RegExp(`${ro(t)}..*`),n=e.matchBefore(s);if(!n||n.from===n.to&&!e.explicit)return null;const o=this.luxonDateTimeStaticMethods().map(([i,r])=>({label:`DateTime.${i}()`,type:"function",info:r}));return{from:n.from,options:o}},luxonDateTimeStaticMethods(){return Object.entries({now:this.$locale.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.now"),local:this.$locale.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.local"),utc:this.$locale.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.utc"),fromJSDate:this.$locale.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromJSDate"),fromMillis:this.$locale.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromMillis"),fromSeconds:this.$locale.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromSeconds"),fromObject:this.$locale.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromObject"),fromISO:this.$locale.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromISO"),fromRFC2822:this.$locale.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromRFC2822"),fromHTTP:this.$locale.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromHTTP"),fromFormat:this.$locale.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromFormat"),fromSQL:this.$locale.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.fromSQL"),invalid:this.$locale.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.invalid"),isDateTime:this.$locale.baseText("codeNodeEditor.completer.luxon.dateTimeStaticMethods.isDateTime")})},luxonInstanceGetters(){return Object.entries({isValid:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.isValid"),invalidReason:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.invalidReason"),invalidExplanation:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.invalidExplanation"),locale:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.locale"),numberingSystem:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.numberingSystem"),outputCalendar:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.outputCalendar"),zone:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.zone"),zoneName:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.zoneName"),year:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.year"),quarter:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.quarter"),month:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.month"),day:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.day"),hour:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.hour"),minute:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.minute"),second:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.second"),millisecond:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.millisecond"),weekYear:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.weekYear"),weekNumber:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.weekNumber"),weekday:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.weekday"),ordinal:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.ordinal"),monthShort:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.monthShort"),monthLong:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.monthLong"),weekdayShort:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.weekdayShort"),weekdayLong:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.weekdayLong"),offset:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.offset"),offsetNumber:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.offsetNumber"),offsetNameShort:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.offsetNameShort"),offsetNameLong:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.offsetNameLong"),isOffsetFixed:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.isOffsetFixed"),isInDST:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.isInDST"),isInLeapYear:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.isInLeapYear"),daysInMonth:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.daysInMonth"),daysInYear:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.daysInYear"),weeksInWeekYear:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.weeksInWeekYear")})},luxonInstanceMethods(){return Object.entries({toUTC:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toUTC"),toLocal:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toLocal"),setZone:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.setZone"),setLocale:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.setLocale"),set:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.set"),plus:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.plus"),minus:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.minus"),startOf:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.startOf"),endOf:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.endOf"),toFormat:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toFormat"),toLocaleString:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toLocaleString"),toLocaleParts:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toLocaleParts"),toISO:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toISO"),toISODate:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toISODate"),toISOWeekDate:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toISOWeekDate"),toISOTime:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toISOTime"),toRFC2822:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toRFC2822"),toHTTP:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toHTTP"),toSQLDate:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toSQLDate"),toSQLTime:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toSQLTime"),toSQL:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toSQL"),toString:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toString"),valueOf:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.valueOf"),toMillis:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toMillis"),toSeconds:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toSeconds"),toUnixInteger:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toUnixInteger"),toJSON:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toJSON"),toBSON:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toBSON"),toObject:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toObject"),toJsDate:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toJsDate"),diff:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.diff"),diffNow:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.diffNow"),until:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.until"),hasSame:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.hasSame"),equals:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.equals"),toRelative:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toRelative"),toRelativeCalendar:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.toRelativeCalendar"),min:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.min"),max:this.$locale.baseText("codeNodeEditor.completer.luxon.instanceMethods.max")})}}}),Iq=J({methods:{inputCompletions(e,t="$input"){const s=new RegExp(`${ro(t)}..*`),n=e.matchBefore(s);if(!n||n.from===n.to&&!e.explicit)return null;const o=[];return this.mode==="runOnceForAllItems"&&o.push({label:`${t}.first()`,type:"function",info:this.$locale.baseText("codeNodeEditor.completer.$input.first")},{label:`${t}.last()`,type:"function",info:this.$locale.baseText("codeNodeEditor.completer.$input.last")},{label:`${t}.all()`,type:"function",info:this.$locale.baseText("codeNodeEditor.completer.$input.all")},{label:`${t}.itemMatching()`,type:"function",info:this.$locale.baseText("codeNodeEditor.completer.$input.itemMatching")}),this.mode==="runOnceForEachItem"&&o.push({label:`${t}.item`,type:"variable",info:this.$locale.baseText("codeNodeEditor.completer.$input.item")}),{from:n.from,options:o}},selectorCompletions(e,t=null){var l;const s=t===null?/\$\((?<quotedNodeName>['"][\S\s]+['"])\)\..*/:new RegExp(`${t}..*`),n=e.matchBefore(s);if(!n||n.from===n.to&&!e.explicit)return null;const o=n.text.match(s);let i="";t===null&&((l=o==null?void 0:o.groups)!=null&&l.quotedNodeName)?i=`$(${o.groups.quotedNodeName})`:t&&(i=t);const r=[{label:`${i}.params`,type:"variable",info:this.$locale.baseText("codeNodeEditor.completer.selector.params")},{label:`${i}.context`,type:"variable",info:this.$locale.baseText("codeNodeEditor.completer.selector.context")}];return this.mode==="runOnceForAllItems"&&r.push({label:`${i}.first()`,type:"function",info:this.$locale.baseText("codeNodeEditor.completer.$input.first")},{label:`${i}.last()`,type:"function",info:this.$locale.baseText("codeNodeEditor.completer.$input.last")},{label:`${i}.all()`,type:"function",info:this.$locale.baseText("codeNodeEditor.completer.$input.all")},{label:`${i}.itemMatching()`,type:"function",info:this.$locale.baseText("codeNodeEditor.completer.selector.itemMatching")}),this.mode==="runOnceForEachItem"&&r.push({label:`${i}.item`,type:"variable",info:this.$locale.baseText("codeNodeEditor.completer.selector.item")}),{from:n.from,options:r}}}}),Mq=J({methods:{matcherItemFieldCompletions(e,t,s){const n=e.matchBefore(new RegExp(`${ro(t)}..*`));if(!n)return null;const[o]=n.text.split(".");if(!s[o])return null;const r=[{label:`${t}.json`,info:this.$locale.baseText("codeNodeEditor.completer.json")},{label:`${t}.binary`,info:this.$locale.baseText("codeNodeEditor.completer.binary")}];return{from:n.from,options:r.map(ao)}},inputMethodCompletions(e){var n;const t=this.language==="python"?"_":"$",s={first:new RegExp(`\\${t}input\\.first\\(\\)\\..*`),last:new RegExp(`\\${t}input\\.last\\(\\)\\..*`),item:new RegExp(`\\${t}item\\.first\\(\\)\\..*`),all:/\$input\.all\(\)\[(?<index>\w+)\]\..*/};for(const[o,i]of Object.entries(s)){const r=e.matchBefore(i);if(!r||r.from===r.to&&!e.explicit)continue;let l="";if(o==="item"&&(l=`${t}input.item`),o==="first"&&(l=`${t}input.first()`),o==="last"&&(l=`${t}input.last()`),o==="all"){const c=r.text.match(i);if(!((n=c==null?void 0:c.groups)!=null&&n.index))continue;const{index:h}=c.groups;l=`${t}input.all()[${h}]`}const m=[{label:`${l}.json`,info:this.$locale.baseText("codeNodeEditor.completer.json")},{label:`${l}.binary`,info:this.$locale.baseText("codeNodeEditor.completer.binary")}];return{from:r.from,options:m.map(ao)}}return null},selectorMethodCompletions(e,t=null){var n,o;const s={first:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.first\(\)\..*/,last:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.last\(\)\..*/,item:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.item\..*/,all:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.all\(\)\[(?<index>\w+)\]\..*/};for(const[i,r]of Object.entries(s)){const l=e.matchBefore(r);if(!l||l.from===l.to&&!e.explicit)continue;const m=l.text.match(r);let c="";!t&&((n=m==null?void 0:m.groups)!=null&&n.quotedNodeName)&&(c=`$(${m.groups.quotedNodeName})`);let h="";if(i==="item"&&(h=`${c}.item`),i==="first"&&(h=`${c}.first()`),i==="last"&&(h=`${c}.last()`),i==="all"){const g=l.text.match(r);if(!((o=g==null?void 0:g.groups)!=null&&o.index))continue;h=`${c}.all()[${g.groups.index}]`}const p=[{label:`${h}.json`,info:this.$locale.baseText("codeNodeEditor.completer.json")},{label:`${h}.binary`,info:this.$locale.baseText("codeNodeEditor.completer.binary")}];return{from:l.from,options:p.map(ao)}}return null}}}),Lq=J({computed:{...be(Xe,_e)},methods:{matcherJsonFieldCompletions(e,t,s){var m;const n=new RegExp(`(${ro(t)})..*`),o=e.matchBefore(n);if(!o||o.from===o.to&&!e.explicit)return null;const i=this.getInputNodeName();if(!i)return null;const[r]=o.text.split("."),l=s[r];if(!l)return null;for(const c of["first","last","item"])if(l.includes(c)||o.text.includes(c)){const h=this.getJsonOutput(i,{accessor:c});return h?this.toJsonFieldCompletions(o,h,t):null}if(l.includes("all")){const c=l.match(/\$(input|\(.*\))\.all\(\)\[(?<index>.+)\]$/);if(!((m=c==null?void 0:c.groups)!=null&&m.index))return null;const{index:h}=c.groups,p=this.getJsonOutput(i,{index:Number(h)});return p?this.toJsonFieldCompletions(o,p,t):null}return null},inputJsonFieldCompletions(e){var s;const t={first:/\$input\.first\(\)\.json(\[|\.).*/,last:/\$input\.last\(\)\.json(\[|\.).*/,item:/\$input\.item\.json(\[|\.).*/,all:/\$input\.all\(\)\[(?<index>\w+)\]\.json(\[|\.).*/};for(const[n,o]of Object.entries(t)){const i=e.matchBefore(o);if(!i||i.from===i.to&&!e.explicit)continue;const r=this.getInputNodeName();if(r){if(n==="first"||n==="last"){const l=this.getJsonOutput(r,{accessor:n});if(!l)continue;return this.toJsonFieldCompletions(i,l,`$input.${n}().json`)}if(n==="item"){const l=this.getJsonOutput(r,{accessor:"item"});if(!l)continue;return this.toJsonFieldCompletions(i,l,"$input.item.json")}if(n==="all"){const l=i.text.match(o);if(!((s=l==null?void 0:l.groups)!=null&&s.index))continue;const{index:m}=l.groups,c=this.getJsonOutput(r,{index:Number(m)});if(!c)continue;return this.toJsonFieldCompletions(i,c,`$input.all()[${m}].json`)}}}return null},selectorJsonFieldCompletions(e){var s,n;const t={first:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.first\(\)\.json(\[|\.).*/,last:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.last\(\)\.json(\[|\.).*/,item:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.item\.json(\[|\.).*/,all:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.all\(\)\[(?<index>\w+)\]\.json(\[|\.).*/};for(const[o,i]of Object.entries(t)){const r=e.matchBefore(i);if(!r||r.from===r.to&&!e.explicit)continue;const l=r.text.match(i);if(!((s=l==null?void 0:l.groups)!=null&&s.quotedNodeName))continue;const{quotedNodeName:m}=l.groups,c=`$(${l.groups.quotedNodeName})`;if(o==="first"||o==="last"){const h=this.getJsonOutput(m,{accessor:o});if(!h)continue;return this.toJsonFieldCompletions(r,h,`${c}.${o}().json`)}if(o==="item"){const h=this.getJsonOutput(m,{accessor:"item"});if(!h)continue;return this.toJsonFieldCompletions(r,h,`${c}.item.json`)}if(o==="all"){const h=r.text.match(i);if(!((n=h==null?void 0:h.groups)!=null&&n.index))continue;const{index:p}=h.groups,g=this.getJsonOutput(m,{index:Number(p)});if(!g)continue;return this.toJsonFieldCompletions(r,g,`${c}.all()[${p}].json`)}}return null},getInputNodeName(){try{const e=this.ndvStore.activeNode;if(e)return this.getCurrentWorkflow().connectionsByDestinationNode[e.name].main[0][0].node}catch{return null}},toJsonFieldCompletions(e,t,s){if(/\.json\[/.test(e.text)||new RegExp(`(${ro(s)})\\[`).test(e.text)){const n=Object.keys(t).map(o=>`${s}['${o}']`).map(o=>({label:o,info:this.$locale.baseText("codeNodeEditor.completer.json")}));return{from:e.from,options:n}}if(/\.json\./.test(e.text)||new RegExp(`(${ro(s)}).`).test(e.text)){const n=Object.keys(t).filter(QS).map(o=>`${s}.${o}`).map(Sq);return{from:e.from,options:n}}return null},getJsonOutput(e,t){const s=e.replace(/['"]/g,""),n=this.workflowsStore.getPinData,o=n&&n[s];if(o)try{let l=(t==null?void 0:t.index)??0;return(t==null?void 0:t.accessor)==="last"&&(l=o.length-1),o[l].json}catch{}const i=this.workflowsStore.getWorkflowRunData,r=i&&i[s];if(!r)return null;try{let l=(t==null?void 0:t.index)??0;return(t==null?void 0:t.accessor)==="last"&&(l=r[0].data.main[0].length-1),r[0].data.main[0][l].json}catch{return null}}}}),Fq=e=>e.replace("$","\\$"),Bq=J({methods:{variablesCompletions(e,t="$vars"){const s=new RegExp(`${Fq(t)}..*`),n=e.matchBefore(s);if(!n||n.from===n.to&&!e.explicit)return null;const i=gl().variables.map(r=>({label:`${t}.${r.key}`,info:r.value}));return{from:n.from,options:i.map(ao)}}}}),Rq=J({mixins:[Eq,Cq,Oq,Aq,Bq,_q,Pq,Iq,Mq,Lq],methods:{autocompletionExtension(e){const t=[];return e==="javaScript"&&t.push(xq,SA),al({compareCompletions:(s,n)=>/\.json$|id$|id['"]\]$/.test(s.label)?0:s.label.localeCompare(n.label),override:[...t,this.itemCompletions,this.baseCompletions,this.requireCompletions,this.nodeSelectorCompletions,this.prevNodeCompletions,this.workflowCompletions,this.variablesCompletions,this.executionCompletions,this.todayCompletions,this.nowCompletions,this.dateTimeCompletions,this.inputCompletions,this.selectorCompletions,this.inputMethodCompletions,this.selectorMethodCompletions,this.inputJsonFieldCompletions,this.selectorJsonFieldCompletions,this.multilineCompletions]})},multilineCompletions(e){if(!this.editor)return null;let t={};try{t=this.variablesToValues()}catch{return null}if(Object.keys(t).length===0)return null;const s=this.editor.state.doc.toString().split(`
`),n=Object.keys(t),o=this.extendedUses(s,n);for(const h of o.itemField){const p=h.replace(/\.$/,""),g=this.matcherItemFieldCompletions(e,p,t);if(g)return g}for(const h of o.jsonField){const p=h.replace(/(\.|\[)$/,""),g=this.matcherJsonFieldCompletions(e,p,t);if(g)return g}const i=/^\$\((?<quotedNodeName>['"][\w\s]+['"])\)$/,r=Object.values({first:/\$input\.first\(\)$/,last:/\$input\.last\(\)$/,item:/\$input\.item$/,all:/\$input\.all\(\)\[(?<index>\w+)\]$/}),l=Object.values({first:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.first\(\)$/,last:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.last\(\)$/,item:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.item$/,all:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.all\(\)\[(?<index>\w+)\]$/}),m=Object.values({first:/\$input\.first\(\)\.json$/,last:/\$input\.last\(\)\.json$/,item:/\$input\.item\.json$/,all:/\$input\.all\(\)\[(?<index>\w+)\]\.json$/}),c=Object.values({first:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.first\(\)\.json$/,last:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.last\(\)\.json$/,item:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.item\.json$/,all:/\$\((?<quotedNodeName>['"][\w\s]+['"])\)\.all\(\)\[(?<index>\w+)\]\.json$/});for(const[h,p]of Object.entries(t)){if(p==="$execution")return this.executionCompletions(e,h);if(p==="$vars")return this.variablesCompletions(e,h);if(p==="$workflow")return this.workflowCompletions(e,h);if(p==="$prevNode")return this.prevNodeCompletions(e,h);if(p==="$now")return this.nowCompletions(e,h);if(p==="$today")return this.todayCompletions(e,h);if(p==="DateTime")return this.dateTimeCompletions(e,h);if(p==="$input")return this.inputCompletions(e,h);if(i.test(p))return this.selectorCompletions(e,h);const g=m.some(O=>O.test(p)),w=c.some(O=>O.test(p));if(g||w)return this.matcherJsonFieldCompletions(e,h,t);const S=r.some(O=>O.test(p)),k=l.some(O=>O.test(p));if(S||k)return this.matcherItemFieldCompletions(e,h,t)}return null},variablesToValues(){return this.variableDeclarationLines().reduce((e,t)=>{const[s,n]=t.split("="),o=s.replace(/(var|let|const)/,"").trim(),i=n.replace(/;/,"").trim();return e[o]=i,e},{})},variableDeclarationLines(){if(!this.editor)return[];const e=this.editor.state.doc.toString().split(`
`),t=s=>["var","const","let"].some(n=>s.startsWith(n));return e.filter(t)},extendedUses(e,t){return e.reduce((s,n)=>(t.forEach(o=>{const i=`(${o}.first\\(\\)|${o}.last\\(\\)|${o}.item|${o}.all\\(\\)\\[\\w+\\]).*`,r=n.match(new RegExp(i));r&&(/json(\.|\[)$/.test(r[0])?s.jsonField.push(r[0]):s.itemField.push(r[0]));const l=`^${o}\\.json(\\.|\\[)$`,m=n.match(new RegExp(l));m&&s.jsonField.push(m[0])}),s),{itemField:[],jsonField:[]})}}}),eo={fontSize:"0.8em",fontFamily:"Menlo, Consolas, 'DejaVu Sans Mono', monospace !important",maxHeight:"400px",tooltip:{maxWidth:"300px",lineHeight:"1.3em"},diagnosticButton:{backgroundColor:"inherit",lineHeight:"1em",textDecoration:"underline",marginLeft:"0.2em",cursor:"pointer"}},sh=getComputedStyle(document.documentElement),jE=({isReadOnly:e,customMaxHeight:t})=>[tt.theme({"&":{"font-size":eo.fontSize,border:sh.getPropertyValue("--border-base"),borderRadius:sh.getPropertyValue("--border-radius-base"),backgroundColor:"var(--color-code-background)",color:"var(--color-code-foreground)",height:"100%"},".cm-content":{fontFamily:eo.fontFamily,caretColor:"var(--color-code-caret)"},".cm-cursor, .cm-dropCursor":{borderLeftColor:"var(--color-code-caret)"},"&.cm-focused .cm-selectionBackgroundm .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"var(--color-code-selection)"},"&.cm-editor":{...e?{backgroundColor:"var(--color-code-background-readonly)"}:{}},"&.cm-editor.cm-focused":{outline:"none",borderColor:"var(--color-secondary)"},".cm-activeLine":{backgroundColor:"var(--color-code-lineHighlight)"},".cm-activeLineGutter":{backgroundColor:"var(--color-code-lineHighlight)"},".cm-gutters":{backgroundColor:e?"var(--color-code-background-readonly)":"var(--color-code-gutterBackground)",color:"var(--color-code-gutterForeground)",borderRadius:"var(--border-radius-base)"},".cm-tooltip":{maxWidth:eo.tooltip.maxWidth,lineHeight:eo.tooltip.lineHeight},".cm-scroller":{overflow:"auto",maxHeight:t??"100%",...e?{}:{minHeight:"10em"}},".cm-diagnosticAction":{backgroundColor:eo.diagnosticButton.backgroundColor,color:sh.getPropertyValue("--color-primary"),lineHeight:eo.diagnosticButton.lineHeight,textDecoration:eo.diagnosticButton.textDecoration,marginLeft:eo.diagnosticButton.marginLeft,cursor:eo.diagnosticButton.cursor}}),Pm(Im.define([{tag:Se.comment,color:"var(--color-code-tags-comment)"},{tag:[Se.string,Se.special(Se.brace)],color:"var(--color-code-tags-string)"},{tag:[Se.number,Se.self,Se.bool,Se.null],color:"var(--color-code-tags-primitive)"},{tag:Se.keyword,color:"var(--color-code-tags-keyword)"},{tag:Se.operator,color:"var(--color-code-tags-operator)"},{tag:[Se.variableName,Se.propertyName,Se.attributeName,Se.regexp,Se.className,Se.typeName],color:"var(--color-code-tags-variable)"},{tag:[Se.definition(Se.typeName),Se.definition(Se.propertyName),Se.function(Se.variableName)],color:"var(--color-code-tags-definition)"}]))];async function Vq(e,{question:t,context:s,model:n,n8nVersion:o}){return xe(e,"POST","/ask-ai",{question:t,context:s,model:n,n8nVersion:o})}const Uq=["textContent"],Wq=["textContent"],jq=["textContent"],qq=["textContent"],zq=["textContent"],Hq=["textContent"],Qq=["textContent"],Gq=J({__name:"AskAI",props:{hasChanges:{type:Boolean}},emits:["submit","replaceCode","startedLoading","finishedLoading"],setup(e,{emit:t}){const s=e,{getSchemaForExecutionData:n,getInputDataWithPinned:o}=KL(),i=Lt(),r=Be(0),l=Be(0),m=Be(!1),c=Be(""),h=Be([]),p=we(()=>!S.value&&c.value.length>=Np&&g.value),g=we(()=>(Xe().ndvInputData||[]).length>0),w=we(()=>i.baseText(`codeNodeEditor.askAi.loadingPhrase${r.value}`)),S=we(()=>{var Q;return((Q=Xe().activeNode)==null?void 0:Q.parameters.mode)==="runOnceForEachItem"});function k(q){return{400:i.baseText("codeNodeEditor.askAi.generationFailedUnknown"),413:i.baseText("codeNodeEditor.askAi.generationFailedTooLarge"),429:i.baseText("codeNodeEditor.askAi.generationFailedRate"),500:i.baseText("codeNodeEditor.askAi.generationFailedUnknown")}[q]||i.baseText("codeNodeEditor.askAi.generationFailedUnknown")}function O(){const q=Xe().activeNode,{getCurrentWorkflow:Q,getNodeByName:X}=_e(),U=Q();return!q||!U?[]:U.getParentNodesByDepth(q==null?void 0:q.name).filter(({name:ne},ie,M)=>ne!==q.name&&M.findIndex(z=>z.name===ne)===ie).map(ne=>X(ne.name)).filter(ne=>ne!==null)}function C(){const q=h.value.map(U=>U==null?void 0:U.name),Q=h.value.map(U=>{const ne=o(U);return{nodeName:(U==null?void 0:U.name)||"",schema:n(Qh(ne),!0)}}).filter(U=>{var ne;return((ne=U.schema)==null?void 0:ne.value.length)>0}),X=Q.shift();return{parentNodesNames:q,inputSchema:X,parentNodesSchemas:Q}}function A(){t("startedLoading"),l.value=0,m.value=!0,L()}function T(){l.value=100,t("finishedLoading"),setTimeout(()=>{m.value=!1},200)}async function F(){const{getRestApiContext:q}=fe(),{activeNode:Q}=Xe(),{showMessage:X}=je(),{alert:U}=St();if(!Q)return;const ne=C();if(bl().trackAskAI("ask.generationClicked",{prompt:c.value}),!(s.hasChanges&&await U(i.baseText("codeNodeEditor.askAi.areYouSureToReplace"),{title:i.baseText("codeNodeEditor.askAi.replaceCurrentCode"),confirmButtonText:i.baseText("codeNodeEditor.askAi.generateCodeAndReplace"),showClose:!0,showCancelButton:!0})==="cancel")){A();try{const ie=fe().versionCli,M=js().getVariant(wr.name)===wr.gpt4?"gpt-4":"gpt-3.5-turbo-16k",{code:z,usage:K}=await Vq(q,{question:c.value,context:{schema:ne.parentNodesSchemas,inputSchema:ne.inputSchema},model:M,n8nVersion:ie});T(),t("replaceCode",z),X({type:"success",title:i.baseText("codeNodeEditor.askAi.generationCompleted")})}catch(ie){X({type:"error",title:i.baseText("codeNodeEditor.askAi.generationFailed"),message:k(ie.httpStatusCode||(ie==null?void 0:ie.response.status))}),T()}}}function L(){let X=null,U=0;const ne=ie=>{X||(X=ie),(!U||ie-U>=2e3)&&(r.value=Math.floor(Math.random()*8),U=ie);const M=ie-X;l.value=Math.min(M/C2*100,100),m.value&&(l.value<100||U+2e3>ie)&&window.requestAnimationFrame(ne)};window.requestAnimationFrame(ne)}function I(){var X;const q=((X=Xe().activeNode)==null?void 0:X.name)??"",Q=$D(q);return DA(`ask_ai_prompt__${Q}`,"")}function j(q){I().value=q}return Is(()=>{c.value=I().value,h.value=O()}),(q,Q)=>{const X=E("n8n-icon"),U=E("n8n-circle-loader");return y(),P("div",null,[D("p",{class:$(q.$style.intro),textContent:N(Z(i).baseText("codeNodeEditor.askAi.intro"))},null,10,Uq),D("div",{class:$(q.$style.inputContainer)},[D("div",{class:$(q.$style.meta)},[He(D("span",{class:$(q.$style.counter),textContent:N(`${c.value.length} / ${Z(Sw)}`),"data-test-id":"ask-ai-prompt-counter"},null,10,Wq),[[nt,c.value.length>1]]),D("a",{href:"https://docs.n8n.io/code-examples/ai-code",target:"_blank",class:$(q.$style.help)},[b(X,{icon:"question-circle",color:"text-light",size:"large"}),V(N(Z(i).baseText("codeNodeEditor.askAi.help")),1)],2)],2),b(Z(rD),{modelValue:c.value,"onUpdate:modelValue":Q[0]||(Q[0]=ne=>c.value=ne),onInput:j,class:$(q.$style.input),type:"textarea",rows:6,maxlength:Z(Sw),placeholder:Z(i).baseText("codeNodeEditor.askAi.placeholder"),"data-test-id":"ask-ai-prompt-input"},null,8,["modelValue","class","maxlength","placeholder"])],2),D("div",{class:$(q.$style.controls)},[m.value?(y(),P("div",{key:0,class:$(q.$style.loader)},[b(Sa,{name:"text-fade-in-out",mode:"out-in"},{default:v(()=>[(y(),P("div",{textContent:N(w.value),key:r.value},null,8,jq))]),_:1}),b(U,{radius:8,progress:l.value,"stroke-width":3},null,8,["progress"])],2)):(y(),R(Z(aD),{key:1,disabled:p.value},{content:v(()=>[g.value?c.value.length===0?(y(),P("span",{key:1,textContent:N(Z(i).baseText("codeNodeEditor.askAi.noPrompt")),"data-test-id":"ask-ai-cta-tooltip-no-prompt"},null,8,zq)):S.value?(y(),P("span",{key:2,textContent:N(Z(i).baseText("codeNodeEditor.askAi.onlyAllItemsMode")),"data-test-id":"ask-ai-cta-tooltip-only-all-items-mode"},null,8,Hq)):c.value.length<Z(Np)?(y(),P("span",{key:3,"data-test-id":"ask-ai-cta-tooltip-prompt-too-short",textContent:N(Z(i).baseText("codeNodeEditor.askAi.promptTooShort",{interpolate:{minLength:Z(Np).toString()}}))},null,8,Qq)):W("",!0):(y(),P("span",{key:0,textContent:N(Z(i).baseText("codeNodeEditor.askAi.noInputData")),"data-test-id":"ask-ai-cta-tooltip-no-input-data"},null,8,qq))]),default:v(()=>[D("div",null,[b(Z(lD),{disabled:!p.value,onClick:F,size:"small","data-test-id":"ask-ai-cta"},{default:v(()=>[V(N(Z(i).baseText("codeNodeEditor.askAi.generateCode")),1)]),_:1},8,["disabled"])])]),_:1},8,["disabled"]))],2)])}}});const Yq="_input_1bnnj_5",Xq="_intro_1bnnj_16",Kq="_loader_1bnnj_23",Jq="_inputContainer_1bnnj_31",Zq="_help_1bnnj_35",ez="_meta_1bnnj_41",tz="_counter_1bnnj_55",sz="_controls_1bnnj_59",nz={input:Yq,intro:Xq,loader:Kq,inputContainer:Jq,help:Zq,meta:ez,counter:tz,controls:sz},oz={$style:nz},iz=te(Gq,[["__cssModules",oz],["__scopeId","data-v-d99a384d"]]),rz=J({name:"code-node-editor",mixins:[kq,Rq,ut],components:{AskAI:iz},props:{aiButtonEnabled:{type:Boolean,default:!1},mode:{type:String,validator:e=>uD.includes(e)},language:{type:String,default:"javaScript",validator:e=>cD.includes(e)},isReadOnly:{type:Boolean,default:!1},modelValue:{type:String}},setup(){return{...St()}},data(){return{editor:null,languageCompartment:new xh,linterCompartment:new xh,isEditorHovered:!1,isEditorFocused:!1,tabs:["code","ask-ai"],activeTab:"code",hasChanges:!1,isLoadingAIResponse:!1}},watch:{mode(e,t){var s;this.reloadLinter(),this.getCurrentEditorContent().trim()===((s=Up[this.language])==null?void 0:s[t])&&this.refreshPlaceholder()},language(e,t){var n,o;this.getCurrentEditorContent().trim()===((n=Up[t])==null?void 0:n[this.mode])&&this.refreshPlaceholder();const[s]=this.languageExtensions;(o=this.editor)==null||o.dispatch({effects:this.languageCompartment.reconfigure(s)})},aiEnabled:{immediate:!0,async handler(e){e&&!this.modelValue&&this.$emit("update:modelValue",this.placeholder),await this.$nextTick(),this.hasChanges=this.modelValue!==this.placeholder}}},computed:{...be(fe,js),aiEnabled(){return[wr.gpt3,wr.gpt4].includes(this.posthogStore.getVariant(wr.name)??"")&&this.settingsStore.settings.ai.enabled&&this.language==="javaScript"},placeholder(){var e;return((e=Up[this.language])==null?void 0:e[this.mode])??""},languageExtensions(){switch(this.language){case"json":return[K7()];case"javaScript":return[kA(),this.autocompletionExtension("javaScript")];case"python":return[tq(),this.autocompletionExtension("python")]}}},methods:{getCurrentEditorContent(){var e;return((e=this.editor)==null?void 0:e.state.doc.toString())??""},async onBeforeTabLeave(e,t){return t==="ask-ai"&&this.isLoadingAIResponse?await this.alert(this.$locale.baseText("codeNodeEditor.askAi.sureLeaveTab"),{title:this.$locale.baseText("codeNodeEditor.askAi.areYouSure"),confirmButtonText:this.$locale.baseText("codeNodeEditor.askAi.switchTab"),showClose:!0,showCancelButton:!0})==="confirm":!0},async onReplaceCode(e){var s;const t=await ma.format(e,{parser:"babel",plugins:[g1,CE]});(s=this.editor)==null||s.dispatch({changes:{from:0,to:this.getCurrentEditorContent().length,insert:t}}),this.activeTab="code",this.hasChanges=!1},onMouseOver(e){const t=e.relatedTarget,s=this.$refs.codeNodeEditorContainer;s!=null&&s.contains(t)||(this.isEditorHovered=!0)},onMouseOut(e){const t=e.relatedTarget,s=this.$refs.codeNodeEditorContainer;s!=null&&s.contains(t)||(this.isEditorHovered=!1)},reloadLinter(){if(!this.editor)return;const e=this.createLinter(this.language);e&&this.editor.dispatch({effects:this.linterCompartment.reconfigure(e)})},refreshPlaceholder(){this.editor&&this.editor.dispatch({changes:{from:0,to:this.getCurrentEditorContent().length,insert:this.placeholder}})},line(e){var t;try{return((t=this.editor)==null?void 0:t.state.doc.line(e))??null}catch{return null}},highlightLine(e){if(!this.editor)return;if(e==="final"){this.editor.dispatch({selection:{anchor:(this.modelValue??this.getCurrentEditorContent()).length}});return}const t=this.line(e);t&&this.editor.dispatch({selection:{anchor:t.from}})},trackCompletion(e){if(e.transactions.find(s=>s.isUserEvent("input.complete")))try{const{fromA:s,toB:n}=e==null?void 0:e.changedRanges[0],o=this.getCurrentEditorContent().slice(s,n),i=o.lastIndexOf(".");let r=null,l=null;i===-1?(r="",l=o):(r=o.slice(0,i),l=o.slice(i+1)),this.$telemetry.track("User autocompleted code",{instance_id:this.rootStore.instanceId,node_type:hl,field_name:this.mode==="runOnceForAllItems"?"jsCodeAllItems":"jsCodeEachItem",field_type:"code",context:r,inserted_text:l})}catch{}}},beforeUnmount(){this.isReadOnly||oc.off("error-line-number",this.highlightLine)},mounted(){this.isReadOnly||oc.on("error-line-number",this.highlightLine);const{isReadOnly:e,language:t}=this,s=[...vq,bs.readOnly.of(e),tt.editable.of(!e),jE({isReadOnly:e})];if(!e){const r=this.createLinter(t);r&&s.push(this.linterCompartment.of(r)),s.push(...Tq,tt.domEventHandlers({focus:()=>{this.isEditorFocused=!0},blur:()=>{this.isEditorFocused=!1}}),tt.updateListener.of(l=>{var m;l.docChanged&&(this.trackCompletion(l),this.$emit("update:modelValue",(m=this.editor)==null?void 0:m.state.doc.toString()),this.hasChanges=!0)}))}const[n,...o]=this.languageExtensions;s.push(this.languageCompartment.of(n),...o);const i=bs.create({doc:this.modelValue??this.placeholder,extensions:s});this.editor=new tt({parent:this.$refs.codeNodeEditor,state:i}),this.modelValue||(this.refreshPlaceholder(),this.$emit("update:modelValue",this.placeholder))}});const az={"code-node-editor-container":"_code-node-editor-container_13m1n_5","ask-ai-button":"_ask-ai-button_13m1n_12"},lz={ref:"codeNodeEditor",class:"code-node-editor-input ph-no-capture code-editor-tabs"},uz={key:1,ref:"codeNodeEditor",class:"code-node-editor-input ph-no-capture"};function cz(e,t,s,n,o,i){const r=E("el-tab-pane"),l=E("AskAI"),m=E("el-tabs");return y(),P("div",{class:$(["code-node-editor",e.$style["code-node-editor-container"],e.language]),onMouseover:t[3]||(t[3]=(...c)=>e.onMouseOver&&e.onMouseOver(...c)),onMouseout:t[4]||(t[4]=(...c)=>e.onMouseOut&&e.onMouseOut(...c)),ref:"codeNodeEditorContainer"},[e.aiEnabled?(y(),R(m,{key:0,type:"card",ref:"tabs",modelValue:e.activeTab,"onUpdate:modelValue":t[2]||(t[2]=c=>e.activeTab=c),"before-leave":e.onBeforeTabLeave},{default:v(()=>[b(r,{label:e.$locale.baseText("codeNodeEditor.tabs.code"),name:"code","data-test-id":"code-node-tab-code"},{default:v(()=>[D("div",lz,null,512)]),_:1},8,["label"]),b(r,{label:e.$locale.baseText("codeNodeEditor.tabs.askAi"),name:"ask-ai","data-test-id":"code-node-tab-ai"},{default:v(()=>[(y(),R(l,{onReplaceCode:e.onReplaceCode,"has-changes":e.hasChanges,key:e.activeTab,onStartedLoading:t[0]||(t[0]=c=>e.isLoadingAIResponse=!0),onFinishedLoading:t[1]||(t[1]=c=>e.isLoadingAIResponse=!1)},null,8,["onReplaceCode","has-changes"]))]),_:1},8,["label"])]),_:1},8,["modelValue","before-leave"])):(y(),P("div",uz,null,512))],34)}const dz={$style:az},qE=te(rz,[["render",cz],["__cssModules",dz],["__scopeId","data-v-42ebf43e"]]);var pz=Object.defineProperty,zE=(e,t)=>{for(var s in t)pz(e,s,{get:t[s],enumerable:!0})},HE=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)},Eo=(e,t,s)=>(HE(e,t,"read from private field"),s?s.call(e):t.get(e)),hz=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},mz=(e,t,s,n)=>(HE(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),QE={};zE(QE,{languages:()=>GG,options:()=>XG,parsers:()=>Ex,printers:()=>KG});var fz=(e,t,s,n)=>{if(!(e&&t==null))return t.replaceAll?t.replaceAll(s,n):s.global?t.replace(s,n):t.split(s).join(n)},Js=fz,ng="string",og="array",ig="cursor",bd="indent",vd="align",rg="trim",Ja="group",Td="fill",Sd="if-break",kd="indent-if-break",ag="line-suffix",lg="line-suffix-boundary",Li="line",ug="label",Ed="break-parent",GE=new Set([ig,bd,vd,rg,Ja,Td,Sd,kd,ag,lg,Li,ug,Ed]);function gz(e){if(typeof e=="string")return ng;if(Array.isArray(e))return og;if(!e)return;let{type:t}=e;if(GE.has(t))return t}var cg=gz,yz=e=>new Intl.ListFormat("en-US",{type:"disjunction"}).format(e);function wz(e){let t=e===null?"null":typeof e;if(t!=="string"&&t!=="object")return`Unexpected doc '${t}', 
Expected it to be 'string' or 'object'.`;if(cg(e))throw new Error("doc is valid.");let s=Object.prototype.toString.call(e);if(s!=="[object Object]")return`Unexpected doc '${s}'.`;let n=yz([...GE].map(o=>`'${o}'`));return`Unexpected doc.type '${e.type}'.
Expected it to be ${n}.`}var bz=class extends Error{constructor(t){super(wz(t));qe(this,"name","InvalidDocError");this.doc=t}},YE=bz,vz=()=>{},Tz=vz;function Ol(e){return{type:bd,contents:e}}function XE(e,t){return{type:vd,contents:t,n:e}}function Zs(e,t={}){return Tz(t.expandedStates),{type:Ja,id:t.id,contents:e,break:!!t.shouldBreak,expandedStates:t.expandedStates}}function Sz(e){return XE(Number.NEGATIVE_INFINITY,e)}function kz(e){return XE({type:"root"},e)}function KE(e){return{type:Td,parts:e}}function Tc(e,t="",s={}){return{type:Sd,breakContents:e,flatContents:t,groupId:s.groupId}}function Ez(e,t){return{type:kd,contents:e,groupId:t.groupId,negate:t.negate}}var Dl={type:Ed},xz={type:Li,hard:!0},Cz={type:Li,hard:!0,literal:!0},vs={type:Li},mn={type:Li,soft:!0},Ct=[xz,Dl],Oz=[Cz,Dl];function xd(e,t){let s=[];for(let n=0;n<t.length;n++)n!==0&&s.push(e),s.push(t[n]);return s}var Dz=(e,t,s)=>{if(!(e&&t==null))return Array.isArray(t)||typeof t=="string"?t[s<0?t.length+s:s]:t.at(s)},dg=Dz;function pg(e,t){if(typeof e=="string")return t(e);let s=new Map;return n(e);function n(i){if(s.has(i))return s.get(i);let r=o(i);return s.set(i,r),r}function o(i){switch(cg(i)){case og:return t(i.map(n));case Td:return t({...i,parts:i.parts.map(n)});case Sd:return t({...i,breakContents:n(i.breakContents),flatContents:n(i.flatContents)});case Ja:{let{expandedStates:r,contents:l}=i;return r?(r=r.map(n),l=r[0]):l=n(l),t({...i,contents:l,expandedStates:r})}case vd:case bd:case kd:case ug:case ag:return t({...i,contents:n(i.contents)});case ng:case ig:case rg:case lg:case Li:case Ed:return t(i);default:throw new YE(i)}}}function Az(e){switch(cg(e)){case Td:if(e.parts.every(t=>t===""))return"";break;case Ja:if(!e.contents&&!e.id&&!e.break&&!e.expandedStates)return"";if(e.contents.type===Ja&&e.contents.id===e.id&&e.contents.break===e.break&&e.contents.expandedStates===e.expandedStates)return e.contents;break;case vd:case bd:case kd:case ag:if(!e.contents)return"";break;case Sd:if(!e.flatContents&&!e.breakContents)return"";break;case og:{let t=[];for(let s of e){if(!s)continue;let[n,...o]=Array.isArray(s)?s:[s];typeof n=="string"&&typeof dg(!1,t,-1)=="string"?t[t.length-1]+=n:t.push(n),t.push(...o)}return t.length===0?"":t.length===1?t[0]:t}case ng:case ig:case rg:case lg:case Li:case ug:case Ed:break;default:throw new YE(e)}return e}function $z(e){return pg(e,t=>Az(t))}function yn(e,t=Oz){return pg(e,s=>typeof s=="string"?xd(t,s.split(`
`)):s)}var Nz=class extends Error{constructor(t,s,n="type"){super(`Unexpected ${s} node ${n}: ${JSON.stringify(t[n])}.`);qe(this,"name","UnexpectedNodeError");this.node=t}},_z=Nz,wu="'",qb='"';function Pz(e,t){let s=t===!0||t===wu?wu:qb,n=s===wu?qb:wu,o=0,i=0;for(let r of e)r===s?o++:r===n&&i++;return o>i?n:s}var Iz=Pz;function Mz(e){return(e==null?void 0:e.type)==="front-matter"}var Cd=Mz,Lz=new Set(["sourceSpan","startSourceSpan","endSourceSpan","nameSpan","valueSpan","keySpan","tagDefinition","tokens","valueTokens"]);function JE(e,t){if(e.type==="text"||e.type==="comment"||Cd(e)||e.type==="yaml"||e.type==="toml")return null;e.type==="attribute"&&delete t.value,e.type==="docType"&&delete t.value}JE.ignoredProperties=Lz;var Fz=JE,Bz=e=>e.split(/[/\\]/).pop();function zb(e,t){if(!t)return;let s=Bz(t).toLowerCase();return e.find(n=>{var o,i;return((o=n.extensions)==null?void 0:o.some(r=>s.endsWith(r)))||((i=n.filenames)==null?void 0:i.some(r=>r.toLowerCase()===s))})}function Rz(e,t){if(t)return e.find(({name:s})=>s.toLowerCase()===t)??e.find(({aliases:s})=>s==null?void 0:s.includes(t))??e.find(({extensions:s})=>s==null?void 0:s.includes(`.${t}`))}function Vz(e,t){let s=e.plugins.flatMap(o=>o.languages??[]),n=Rz(s,t.language)??zb(s,t.physicalFile)??zb(s,t.file)??(t.physicalFile,void 0);return n==null?void 0:n.parsers[0]}var Od=Vz,Uz="inline",Wz={area:"none",base:"none",basefont:"none",datalist:"none",head:"none",link:"none",meta:"none",noembed:"none",noframes:"none",param:"block",rp:"none",script:"block",source:"block",style:"none",template:"inline",track:"block",title:"none",html:"block",body:"block",address:"block",blockquote:"block",center:"block",div:"block",figure:"block",figcaption:"block",footer:"block",form:"block",header:"block",hr:"block",legend:"block",listing:"block",main:"block",p:"block",plaintext:"block",pre:"block",xmp:"block",slot:"contents",ruby:"ruby",rt:"ruby-text",article:"block",aside:"block",h1:"block",h2:"block",h3:"block",h4:"block",h5:"block",h6:"block",hgroup:"block",nav:"block",section:"block",dir:"block",dd:"block",dl:"block",dt:"block",ol:"block",ul:"block",li:"list-item",table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell",fieldset:"block",button:"inline-block",details:"block",summary:"block",dialog:"block",meter:"inline-block",progress:"inline-block",object:"inline-block",video:"inline-block",audio:"inline-block",select:"inline-block",option:"block",optgroup:"block",search:"block"},jz="normal",qz={listing:"pre",plaintext:"pre",pre:"pre",xmp:"pre",nobr:"nowrap",table:"initial",textarea:"pre-wrap"};function zz(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var ln,Hz=class{constructor(t){hz(this,ln,void 0),mz(this,ln,new Set(t))}getLeadingWhitespaceCount(t){let s=Eo(this,ln),n=0;for(let o=0;o<t.length&&s.has(t.charAt(o));o++)n++;return n}getTrailingWhitespaceCount(t){let s=Eo(this,ln),n=0;for(let o=t.length-1;o>=0&&s.has(t.charAt(o));o--)n++;return n}getLeadingWhitespace(t){let s=this.getLeadingWhitespaceCount(t);return t.slice(0,s)}getTrailingWhitespace(t){let s=this.getTrailingWhitespaceCount(t);return t.slice(t.length-s)}hasLeadingWhitespace(t){return Eo(this,ln).has(t.charAt(0))}hasTrailingWhitespace(t){return Eo(this,ln).has(dg(!1,t,-1))}trimStart(t){let s=this.getLeadingWhitespaceCount(t);return t.slice(s)}trimEnd(t){let s=this.getTrailingWhitespaceCount(t);return t.slice(0,t.length-s)}trim(t){return this.trimEnd(this.trimStart(t))}split(t,s=!1){let n=`[${zz([...Eo(this,ln)].join(""))}]+`,o=new RegExp(s?`(${n})`:n);return t.split(o)}hasWhitespaceCharacter(t){let s=Eo(this,ln);return Array.prototype.some.call(t,n=>s.has(n))}hasNonWhitespaceCharacter(t){let s=Eo(this,ln);return Array.prototype.some.call(t,n=>!s.has(n))}isWhitespaceOnly(t){let s=Eo(this,ln);return Array.prototype.every.call(t,n=>s.has(n))}};ln=new WeakMap;var Qz=Hz,Gz=["	",`
`,"\f","\r"," "],Yz=new Qz(Gz),ki=Yz;function Xz(e){return e.type==="element"&&!e.hasExplicitNamespace&&!["html","svg"].includes(e.namespace)}var Za=Xz,Kz=e=>Js(!1,e,/^[\t\f\r ]*\n/g,""),ZE=e=>Kz(ki.trimEnd(e)),Jz=e=>{let t=e,s=ki.getLeadingWhitespace(t);s&&(t=t.slice(s.length));let n=ki.getTrailingWhitespace(t);return n&&(t=t.slice(0,-n.length)),{leadingWhitespace:s,trailingWhitespace:n,text:t}};function ex(e,t){return!!(e.type==="ieConditionalComment"&&e.lastChild&&!e.lastChild.isSelfClosing&&!e.lastChild.endSourceSpan||e.type==="ieConditionalComment"&&!e.complete||Mr(e)&&e.children.some(s=>s.type!=="text"&&s.type!=="interpolation")||fg(e,t)&&!po(e)&&e.type!=="interpolation")}function hg(e){return e.type==="attribute"||!e.parent||!e.prev?!1:Zz(e.prev)}function Zz(e){return e.type==="comment"&&e.value.trim()==="prettier-ignore"}function qs(e){return e.type==="text"||e.type==="comment"}function po(e){return e.type==="element"&&(e.fullName==="script"||e.fullName==="style"||e.fullName==="svg:style"||e.fullName==="svg:script"||Za(e)&&(e.name==="script"||e.name==="style"))}function eH(e){return e.children&&!po(e)}function tH(e){return po(e)||e.type==="interpolation"||tx(e)}function tx(e){return lx(e).startsWith("pre")}function sH(e,t){var s,n;let o=i();if(o&&!e.prev&&(n=(s=e.parent)==null?void 0:s.tagDefinition)!=null&&n.ignoreFirstLf)return e.type==="interpolation";return o;function i(){return Cd(e)?!1:(e.type==="text"||e.type==="interpolation")&&e.prev&&(e.prev.type==="text"||e.prev.type==="interpolation")?!0:!e.parent||e.parent.cssDisplay==="none"?!1:Mr(e.parent)?!0:!(!e.prev&&(e.parent.type==="root"||Mr(e)&&e.parent||po(e.parent)||Dd(e.parent,t)||!dH(e.parent.cssDisplay))||e.prev&&!mH(e.prev.cssDisplay))}}function nH(e,t){return Cd(e)?!1:(e.type==="text"||e.type==="interpolation")&&e.next&&(e.next.type==="text"||e.next.type==="interpolation")?!0:!e.parent||e.parent.cssDisplay==="none"?!1:Mr(e.parent)?!0:!(!e.next&&(e.parent.type==="root"||Mr(e)&&e.parent||po(e.parent)||Dd(e.parent,t)||!pH(e.parent.cssDisplay))||e.next&&!hH(e.next.cssDisplay))}function oH(e){return fH(e.cssDisplay)&&!po(e)}function bu(e){return Cd(e)||e.next&&e.sourceSpan.end&&e.sourceSpan.end.line+1<e.next.sourceSpan.start.line}function iH(e){return sx(e)||e.type==="element"&&e.children.length>0&&(["body","script","style"].includes(e.name)||e.children.some(t=>aH(t)))||e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.type!=="text"&&ox(e.firstChild)&&(!e.lastChild.isTrailingSpaceSensitive||ix(e.lastChild))}function sx(e){return e.type==="element"&&e.children.length>0&&(["html","head","ul","ol","select"].includes(e.name)||e.cssDisplay.startsWith("table")&&e.cssDisplay!=="table-cell")}function nh(e){return rx(e)||e.prev&&rH(e.prev)||nx(e)}function rH(e){return rx(e)||e.type==="element"&&e.fullName==="br"||nx(e)}function nx(e){return ox(e)&&ix(e)}function ox(e){return e.hasLeadingSpaces&&(e.prev?e.prev.sourceSpan.end.line<e.sourceSpan.start.line:e.parent.type==="root"||e.parent.startSourceSpan.end.line<e.sourceSpan.start.line)}function ix(e){return e.hasTrailingSpaces&&(e.next?e.next.sourceSpan.start.line>e.sourceSpan.end.line:e.parent.type==="root"||e.parent.endSourceSpan&&e.parent.endSourceSpan.start.line>e.sourceSpan.end.line)}function rx(e){switch(e.type){case"ieConditionalComment":case"comment":case"directive":return!0;case"element":return["script","select"].includes(e.name)}return!1}function mg(e){return e.lastChild?mg(e.lastChild):e}function aH(e){var t;return(t=e.children)==null?void 0:t.some(s=>s.type!=="text")}function ax(e){if(e)switch(e){case"module":case"text/javascript":case"text/babel":case"application/javascript":return"babel";case"application/x-typescript":return"typescript";case"text/markdown":return"markdown";case"text/html":return"html";case"text/x-handlebars-template":return"glimmer";default:if(e.endsWith("json")||e.endsWith("importmap")||e==="speculationrules")return"json"}}function lH(e,t){let{name:s,attrMap:n}=e;if(s!=="script"||Object.prototype.hasOwnProperty.call(n,"src"))return;let{type:o,lang:i}=e.attrMap;return!i&&!o?"babel":Od(t,{language:i})??ax(o)}function uH(e,t){if(!fg(e,t))return;let{attrMap:s}=e;if(Object.prototype.hasOwnProperty.call(s,"src"))return;let{type:n,lang:o}=s;return Od(t,{language:o})??ax(n)}function cH(e,t){if(e.name!=="style")return;let{lang:s}=e.attrMap;return s?Od(t,{language:s}):"css"}function Hb(e,t){return lH(e,t)??cH(e,t)??uH(e,t)}function Al(e){return e==="block"||e==="list-item"||e.startsWith("table")}function dH(e){return!Al(e)&&e!=="inline-block"}function pH(e){return!Al(e)&&e!=="inline-block"}function hH(e){return!Al(e)}function mH(e){return!Al(e)}function fH(e){return!Al(e)&&e!=="inline-block"}function Mr(e){return lx(e).startsWith("pre")}function gH(e,t){let s=e;for(;s;){if(t(s))return!0;s=s.parent}return!1}function yH(e,t){var s;if(Qr(e,t))return"block";if(((s=e.prev)==null?void 0:s.type)==="comment"){let o=e.prev.value.match(/^\s*display:\s*([a-z]+)\s*$/);if(o)return o[1]}let n=!1;if(e.type==="element"&&e.namespace==="svg")if(gH(e,o=>o.fullName==="svg:foreignObject"))n=!0;else return e.name==="svg"?"inline-block":"block";switch(t.htmlWhitespaceSensitivity){case"strict":return"inline";case"ignore":return"block";default:return e.type==="element"&&(!e.namespace||n||Za(e))&&Wz[e.name]||Uz}}function lx(e){return e.type==="element"&&(!e.namespace||Za(e))&&qz[e.name]||jz}function wH(e){let t=Number.POSITIVE_INFINITY;for(let s of e.split(`
`)){if(s.length===0)continue;let n=ki.getLeadingWhitespaceCount(s);if(n===0)return 0;s.length!==n&&n<t&&(t=n)}return t===Number.POSITIVE_INFINITY?0:t}function ux(e,t=wH(e)){return t===0?e:e.split(`
`).map(s=>s.slice(t)).join(`
`)}function cx(e){return Js(!1,Js(!1,e,"&apos;","'"),"&quot;",'"')}function Fi(e){return cx(e.value)}var bH=new Set(["template","style","script"]);function Dd(e,t){return Qr(e,t)&&!bH.has(e.fullName)}function Qr(e,t){return t.parser==="vue"&&e.type==="element"&&e.parent.type==="root"&&e.fullName.toLowerCase()!=="html"}function fg(e,t){return Qr(e,t)&&(Dd(e,t)||e.attrMap.lang&&e.attrMap.lang!=="html")}function vH(e){let t=e.fullName;return t.charAt(0)==="#"||t==="slot-scope"||t==="v-slot"||t.startsWith("v-slot:")}function TH(e,t){let s=e.parent;if(!Qr(s,t))return!1;let n=s.fullName,o=e.fullName;return n==="script"&&o==="setup"||n==="style"&&o==="vars"}function dx(e,t=e.value){return e.parent.isWhitespaceSensitive?e.parent.isIndentationSensitive?yn(t):yn(ux(ZE(t)),Ct):xd(vs,ki.split(t))}function SH(e,t){return Qr(e,t)&&e.name==="script"}function px(e){return e>=9&&e<=32||e==160}function kH(e){return 48<=e&&e<=57}function hx(e){return e>=97&&e<=122||e>=65&&e<=90}function EH(e){return e>=97&&e<=102||e>=65&&e<=70||kH(e)}function mx(e){return e===10||e===13}function Qb(e){return 48<=e&&e<=55}function xH(e){return e===39||e===34||e===96}var CH=/-+([a-z0-9])/g;function OH(e){return e.replace(CH,(...t)=>t[1].toUpperCase())}var ym=class fx{constructor(t,s,n,o){this.file=t,this.offset=s,this.line=n,this.col=o}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(t){let s=this.file.content,n=s.length,o=this.offset,i=this.line,r=this.col;for(;o>0&&t<0;)if(o--,t++,s.charCodeAt(o)==10){i--;let l=s.substring(0,o-1).lastIndexOf(String.fromCharCode(10));r=l>0?o-l:o}else r--;for(;o<n&&t>0;){let l=s.charCodeAt(o);o++,t--,l==10?(i++,r=0):r++}return new fx(this.file,o,i,r)}getContext(t,s){let n=this.file.content,o=this.offset;if(o!=null){o>n.length-1&&(o=n.length-1);let i=o,r=0,l=0;for(;r<t&&o>0&&(o--,r++,!(n[o]==`
`&&++l==s)););for(r=0,l=0;r<t&&i<n.length-1&&(i++,r++,!(n[i]==`
`&&++l==s)););return{before:n.substring(o,this.offset),after:n.substring(this.offset,i+1)}}return null}},gx=class{constructor(t,s){this.content=t,this.url=s}},yt=class{constructor(e,t,s=e,n=null){this.start=e,this.end=t,this.fullStart=s,this.details=n}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},Sc;(function(e){e[e.WARNING=0]="WARNING",e[e.ERROR=1]="ERROR"})(Sc||(Sc={}));var yx=class{constructor(t,s,n=Sc.ERROR){this.span=t,this.msg=s,this.level=n}contextualMessage(){let t=this.span.start.getContext(100,3);return t?`${this.msg} ("${t.before}[${Sc[this.level]} ->]${t.after}")`:this.msg}toString(){let t=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${t}`}},DH=[$H,NH,PH,MH,LH,RH,FH,BH,VH,IH];function AH(e,t){for(let s of DH)s(e,t);return e}function $H(e){e.walk(t=>{if(t.type==="element"&&t.tagDefinition.ignoreFirstLf&&t.children.length>0&&t.children[0].type==="text"&&t.children[0].value[0]===`
`){let s=t.children[0];s.value.length===1?t.removeChild(s):s.value=s.value.slice(1)}})}function NH(e){let t=s=>{var n,o;return s.type==="element"&&((n=s.prev)==null?void 0:n.type)==="ieConditionalStartComment"&&s.prev.sourceSpan.end.offset===s.startSourceSpan.start.offset&&((o=s.firstChild)==null?void 0:o.type)==="ieConditionalEndComment"&&s.firstChild.sourceSpan.start.offset===s.startSourceSpan.end.offset};e.walk(s=>{if(s.children)for(let n=0;n<s.children.length;n++){let o=s.children[n];if(!t(o))continue;let i=o.prev,r=o.firstChild;s.removeChild(i),n--;let l=new yt(i.sourceSpan.start,r.sourceSpan.end),m=new yt(l.start,o.sourceSpan.end);o.condition=i.condition,o.sourceSpan=m,o.startSourceSpan=l,o.removeChild(r)}})}function _H(e,t,s){e.walk(n=>{if(n.children)for(let o=0;o<n.children.length;o++){let i=n.children[o];if(i.type!=="text"&&!t(i))continue;i.type!=="text"&&(i.type="text",i.value=s(i));let r=i.prev;!r||r.type!=="text"||(r.value+=i.value,r.sourceSpan=new yt(r.sourceSpan.start,i.sourceSpan.end),n.removeChild(i),o--)}})}function PH(e){return _H(e,t=>t.type==="cdata",t=>`<![CDATA[${t.value}]]>`)}function IH(e){let t=s=>{var n,o;return s.type==="element"&&s.attrs.length===0&&s.children.length===1&&s.firstChild.type==="text"&&!ki.hasWhitespaceCharacter(s.children[0].value)&&!s.firstChild.hasLeadingSpaces&&!s.firstChild.hasTrailingSpaces&&s.isLeadingSpaceSensitive&&!s.hasLeadingSpaces&&s.isTrailingSpaceSensitive&&!s.hasTrailingSpaces&&((n=s.prev)==null?void 0:n.type)==="text"&&((o=s.next)==null?void 0:o.type)==="text"};e.walk(s=>{if(s.children)for(let n=0;n<s.children.length;n++){let o=s.children[n];if(!t(o))continue;let i=o.prev,r=o.next;i.value+=`<${o.rawName}>`+o.firstChild.value+`</${o.rawName}>`+r.value,i.sourceSpan=new yt(i.sourceSpan.start,r.sourceSpan.end),i.isTrailingSpaceSensitive=r.isTrailingSpaceSensitive,i.hasTrailingSpaces=r.hasTrailingSpaces,s.removeChild(o),n--,s.removeChild(r)}})}function MH(e,t){if(t.parser==="html")return;let s=/{{(.+?)}}/s;e.walk(n=>{if(eH(n))for(let o of n.children){if(o.type!=="text")continue;let i=o.sourceSpan.start,r=null,l=o.value.split(s);for(let m=0;m<l.length;m++,i=r){let c=l[m];if(m%2===0){r=i.moveBy(c.length),c.length>0&&n.insertChildBefore(o,{type:"text",value:c,sourceSpan:new yt(i,r)});continue}r=i.moveBy(c.length+4),n.insertChildBefore(o,{type:"interpolation",sourceSpan:new yt(i,r),children:c.length===0?[]:[{type:"text",value:c,sourceSpan:new yt(i.moveBy(2),r.moveBy(-2))}]})}n.removeChild(o)}})}function LH(e){e.walk(t=>{if(!t.children)return;if(t.children.length===0||t.children.length===1&&t.children[0].type==="text"&&ki.trim(t.children[0].value).length===0){t.hasDanglingSpaces=t.children.length>0,t.children=[];return}let s=tH(t),n=tx(t);if(!s)for(let o=0;o<t.children.length;o++){let i=t.children[o];if(i.type!=="text")continue;let{leadingWhitespace:r,text:l,trailingWhitespace:m}=Jz(i.value),c=i.prev,h=i.next;l?(i.value=l,i.sourceSpan=new yt(i.sourceSpan.start.moveBy(r.length),i.sourceSpan.end.moveBy(-m.length)),r&&(c&&(c.hasTrailingSpaces=!0),i.hasLeadingSpaces=!0),m&&(i.hasTrailingSpaces=!0,h&&(h.hasLeadingSpaces=!0))):(t.removeChild(i),o--,(r||m)&&(c&&(c.hasTrailingSpaces=!0),h&&(h.hasLeadingSpaces=!0)))}t.isWhitespaceSensitive=s,t.isIndentationSensitive=n})}function FH(e){e.walk(t=>{t.isSelfClosing=!t.children||t.type==="element"&&(t.tagDefinition.isVoid||t.endSourceSpan&&t.startSourceSpan.start===t.endSourceSpan.start&&t.startSourceSpan.end===t.endSourceSpan.end)})}function BH(e,t){e.walk(s=>{s.type==="element"&&(s.hasHtmComponentClosingTag=s.endSourceSpan&&/^<\s*\/\s*\/\s*>$/.test(t.originalText.slice(s.endSourceSpan.start.offset,s.endSourceSpan.end.offset)))})}function RH(e,t){e.walk(s=>{s.cssDisplay=yH(s,t)})}function VH(e,t){e.walk(s=>{let{children:n}=s;if(n){if(n.length===0){s.isDanglingSpaceSensitive=oH(s);return}for(let o of n)o.isLeadingSpaceSensitive=sH(o,t),o.isTrailingSpaceSensitive=nH(o,t);for(let o=0;o<n.length;o++){let i=n[o];i.isLeadingSpaceSensitive=(o===0||i.prev.isTrailingSpaceSensitive)&&i.isLeadingSpaceSensitive,i.isTrailingSpaceSensitive=(o===n.length-1||i.next.isLeadingSpaceSensitive)&&i.isTrailingSpaceSensitive}}})}var UH=AH;function WH(e){return/^\s*<!--\s*@(?:format|prettier)\s*-->/.test(e)}function jH(e){return`<!-- @format -->

`+e}function Ad(e){return e.sourceSpan.start.offset}function $d(e){return e.sourceSpan.end.offset}async function qH(e,t){if(e.lang==="yaml"){let s=e.value.trim(),n=s?await t(s,{parser:"yaml"}):"";return kz([e.startDelimiter,Ct,n,n?Ct:"",e.endDelimiter])}}var zH=qH,el=()=>{};el.ok=el;el.strictEqual=el;var wx=el;function HH(e){return Array.isArray(e)&&e.length>0}var QH=HH;function wm(e,t){return[e.isSelfClosing?"":GH(e,t),zu(e,t)]}function GH(e,t){return e.lastChild&&tl(e.lastChild)?"":[YH(e,t),gg(e,t)]}function zu(e,t){return(e.next?xi(e.next):Nl(e.parent))?"":[$l(e,t),Ei(e,t)]}function YH(e,t){return Nl(e)?$l(e.lastChild,t):""}function Ei(e,t){return tl(e)?gg(e.parent,t):Nd(e)?yg(e.next):""}function gg(e,t){if(wx(!e.isSelfClosing),bx(e,t))return"";switch(e.type){case"ieConditionalComment":return"<!";case"element":if(e.hasHtmComponentClosingTag)return"<//";default:return`</${e.rawName}`}}function $l(e,t){if(bx(e,t))return"";switch(e.type){case"ieConditionalComment":case"ieConditionalEndComment":return"[endif]-->";case"ieConditionalStartComment":return"]><!-->";case"interpolation":return"}}";case"element":if(e.isSelfClosing)return"/>";default:return">"}}function bx(e,t){return!e.isSelfClosing&&!e.endSourceSpan&&(hg(e)||ex(e.parent,t))}function xi(e){return e.prev&&e.prev.type!=="docType"&&!qs(e.prev)&&e.isLeadingSpaceSensitive&&!e.hasLeadingSpaces}function Nl(e){var t;return((t=e.lastChild)==null?void 0:t.isTrailingSpaceSensitive)&&!e.lastChild.hasTrailingSpaces&&!qs(mg(e.lastChild))&&!Mr(e)}function tl(e){return!e.next&&!e.hasTrailingSpaces&&e.isTrailingSpaceSensitive&&qs(mg(e))}function Nd(e){return e.next&&!qs(e.next)&&qs(e)&&e.isTrailingSpaceSensitive&&!e.hasTrailingSpaces}function XH(e){let t=e.trim().match(/^prettier-ignore-attribute(?:\s+(.+))?$/s);return t?t[1]?t[1].split(/\s+/):!0:!1}function _d(e){return!e.prev&&e.isLeadingSpaceSensitive&&!e.hasLeadingSpaces}function KH(e,t,s){var n;let{node:o}=e;if(!QH(o.attrs))return o.isSelfClosing?" ":"";let i=((n=o.prev)==null?void 0:n.type)==="comment"&&XH(o.prev.value),r=typeof i=="boolean"?()=>i:Array.isArray(i)?p=>i.includes(p.rawName):()=>!1,l=e.map(({node:p})=>r(p)?yn(t.originalText.slice(Ad(p),$d(p))):s(),"attrs"),m=o.type==="element"&&o.fullName==="script"&&o.attrs.length===1&&o.attrs[0].fullName==="src"&&o.children.length===0,c=t.singleAttributePerLine&&o.attrs.length>1&&!Qr(o,t)?Ct:vs,h=[Ol([m?" ":vs,xd(c,l)])];return o.firstChild&&_d(o.firstChild)||o.isSelfClosing&&Nl(o.parent)||m?h.push(o.isSelfClosing?" ":""):h.push(t.bracketSameLine?o.isSelfClosing?" ":"":o.isSelfClosing?vs:mn),h}function JH(e){return e.firstChild&&_d(e.firstChild)?"":wg(e)}function bm(e,t,s){let{node:n}=e;return[Hu(n,t),KH(e,t,s),n.isSelfClosing?"":JH(n)]}function Hu(e,t){return e.prev&&Nd(e.prev)?"":[Ci(e,t),yg(e)]}function Ci(e,t){return _d(e)?wg(e.parent):xi(e)?$l(e.prev,t):""}function yg(e){switch(e.type){case"ieConditionalComment":case"ieConditionalStartComment":return`<!--[if ${e.condition}`;case"ieConditionalEndComment":return"<!--<!";case"interpolation":return"{{";case"docType":return e.value==="html"?"<!doctype":"<!DOCTYPE";case"element":if(e.condition)return`<!--[if ${e.condition}]><!--><${e.rawName}`;default:return`<${e.rawName}`}}function wg(e){switch(wx(!e.isSelfClosing),e.type){case"ieConditionalComment":return"]>";case"element":if(e.condition)return"><!--<![endif]-->";default:return">"}}var oh=new WeakMap;function ZH(e,t){let{root:s}=e;return oh.has(s)||oh.set(s,s.children.some(n=>SH(n,t)&&["ts","typescript"].includes(n.attrMap.lang))),oh.get(s)}var bg=ZH;function eQ(e,t){if(!e.endSourceSpan)return"";let s=e.startSourceSpan.end.offset;e.firstChild&&_d(e.firstChild)&&(s-=wg(e).length);let n=e.endSourceSpan.start.offset;return e.lastChild&&tl(e.lastChild)?n+=gg(e,t).length:Nl(e)&&(n-=$l(e.lastChild,t).length),t.originalText.slice(s,n)}var vx=eQ;function Gb(e){return e==="	"||e===`
`||e==="\f"||e==="\r"||e===" "}var tQ=/^[ \t\n\r\u000c]+/,sQ=/^[, \t\n\r\u000c]+/,nQ=/^[^ \t\n\r\u000c]+/,oQ=/[,]+$/,Yb=/^\d+$/,iQ=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/;function rQ(e){let t=e.length,s,n,o,i,r,l=0,m;function c(w){let S,k=w.exec(e.substring(l));if(k)return[S]=k,l+=S.length,S}let h=[];for(;;){if(c(sQ),l>=t){if(h.length===0)throw new Error("Must contain one or more image candidate strings.");return h}m=l,s=c(nQ),n=[],s.slice(-1)===","?(s=s.replace(oQ,""),g()):p()}function p(){for(c(tQ),o="",i="in descriptor";;){if(r=e.charAt(l),i==="in descriptor")if(Gb(r))o&&(n.push(o),o="",i="after descriptor");else if(r===","){l+=1,o&&n.push(o),g();return}else if(r==="(")o+=r,i="in parens";else if(r===""){o&&n.push(o),g();return}else o+=r;else if(i==="in parens")if(r===")")o+=r,i="in descriptor";else if(r===""){n.push(o),g();return}else o+=r;else if(i==="after descriptor"&&!Gb(r))if(r===""){g();return}else i="in descriptor",l-=1;l+=1}}function g(){let w=!1,S,k,O,C,A={},T,F,L,I,j;for(C=0;C<n.length;C++)T=n[C],F=T[T.length-1],L=T.substring(0,T.length-1),I=parseInt(L,10),j=parseFloat(L),Yb.test(L)&&F==="w"?((S||k)&&(w=!0),I===0?w=!0:S=I):iQ.test(L)&&F==="x"?((S||k||O)&&(w=!0),j<0?w=!0:k=j):Yb.test(L)&&F==="h"?((O||k)&&(w=!0),I===0?w=!0:O=I):w=!0;if(!w)A.source={value:s,startOffset:m},S&&(A.width={value:S}),k&&(A.density={value:k}),O&&(A.height={value:O}),h.push(A);else throw new Error(`Invalid srcset descriptor found in "${e}" at "${T}".`)}}var aQ=rQ;function Pd(e,t=!0){return[Ol([mn,e]),t?mn:""]}function Id(e,t){let s=e.type==="NGRoot"?e.node.type==="NGMicrosyntax"&&e.node.body.length===1&&e.node.body[0].type==="NGMicrosyntaxExpression"?e.node.body[0].expression:e.node:e.type==="JsExpressionRoot"?e.node:e;return s&&(s.type==="ObjectExpression"||s.type==="ArrayExpression"||(t.parser==="__vue_expression"||t.parser==="__vue_ts_expression")&&(s.type==="TemplateLiteral"||s.type==="StringLiteral"))}async function Wo(e,t,s,n){s={__isInHtmlAttribute:!0,__embeddedInHtml:!0,...s};let o=!0;n&&(s.__onHtmlBindingRoot=(r,l)=>{o=n(r,l)});let i=await t(e,s,t);return o?Zs(i):Pd(i)}function lQ(e){if(e.node.fullName==="srcset"&&(e.parent.fullName==="img"||e.parent.fullName==="source"))return()=>uQ(Fi(e.node))}function uQ(e){let t=aQ(e),s=t.some(({width:g})=>g),n=t.some(({height:g})=>g),o=t.some(({density:g})=>g);if(s+n+o>1)throw new Error("Mixed descriptor in srcset is not supported");let i=s?"width":n?"height":"density",r=s?"w":n?"h":"x",l=t.map(g=>g.source.value),m=Math.max(...l.map(g=>g.length)),c=t.map(g=>g[i]?String(g[i].value):""),h=c.map(g=>{let w=g.indexOf(".");return w===-1?g.length:w}),p=Math.max(...h);return Pd(xd([",",vs],l.map((g,w)=>{let S=[g],k=c[w];if(k){let O=m-g.length+1,C=p-h[w],A=" ".repeat(O+C);S.push(Tc(A," "),k+r)}return S})))}var cQ=lQ;function dQ(e,t){let{node:s}=e,n=Fi(s);if(s.fullName==="class"&&!t.parentParser&&!n.includes("{{"))return()=>n.trim().split(/\s+/).join(" ")}var pQ=dQ;function hQ(e,t){let{node:s}=e,n=Fi(e.node).trim();if(s.fullName==="style"&&!t.parentParser&&!n.includes("{{"))return async o=>Pd(await o(n,{parser:"css",__isHTMLStyleAttribute:!0}))}async function mQ(e,t,s,n){let o=Fi(s.node),{left:i,operator:r,right:l}=fQ(o),m=bg(s,n);return[Zs(await Wo(`function _(${i}) {}`,e,{parser:m?"babel-ts":"babel",__isVueForBindingLeft:!0}))," ",r," ",await Wo(l,e,{parser:m?"__ts_expression":"__js_expression"})]}function fQ(e){let t=/(.*?)\s+(in|of)\s+(.*)/s,s=/,([^,\]}]*)(?:,([^,\]}]*))?$/,n=/^\(|\)$/g,o=e.match(t);if(!o)return;let i={};if(i.for=o[3].trim(),!i.for)return;let r=Js(!1,o[1].trim(),n,""),l=r.match(s);l?(i.alias=r.replace(s,""),i.iterator1=l[1].trim(),l[2]&&(i.iterator2=l[2].trim())):i.alias=r;let m=[i.alias,i.iterator1,i.iterator2];if(!m.some((c,h)=>!c&&(h===0||m.slice(h+1).some(Boolean))))return{left:m.filter(Boolean).join(","),operator:o[2],right:i.for}}function gQ(e,t,{parseWithTs:s}){return Wo(`function _(${e}) {}`,t,{parser:s?"babel-ts":"babel",__isVueBindings:!0})}function yQ(e){let t=/^(?:[\w$]+|\([^)]*\))\s*=>|^function\s*\(/,s=/^[$A-Z_a-z][\w$]*(?:\.[$A-Z_a-z][\w$]*|\['[^']*']|\["[^"]*"]|\[\d+]|\[[$A-Z_a-z][\w$]*])*$/,n=e.trim();return t.test(n)||s.test(n)}function wQ(e,t){if(t.parser!=="vue")return;let{node:s}=e,n=s.fullName;if(n==="v-for")return mQ;let o=Fi(s),i=bg(e,t);if(vH(s)||TH(s,t))return r=>gQ(o,r,{parseWithTs:i});if(n.startsWith("@")||n.startsWith("v-on:"))return r=>bQ(o,r,{parseWithTs:i});if(n.startsWith(":")||n.startsWith("v-bind:"))return r=>vQ(o,r,{parseWithTs:i});if(n.startsWith("v-"))return r=>Tx(o,r,{parseWithTs:i})}function bQ(e,t,{parseWithTs:s}){return yQ(e)?Tx(e,t,{parseWithTs:s}):Wo(e,t,{parser:s?"__vue_ts_event_binding":"__vue_event_binding"},Id)}function vQ(e,t,{parseWithTs:s}){return Wo(e,t,{parser:s?"__vue_ts_expression":"__vue_expression"},Id)}function Tx(e,t,{parseWithTs:s}){return Wo(e,t,{parser:s?"__ts_expression":"__js_expression"},Id)}var TQ=wQ,Sx=/{{(.+?)}}/s;async function SQ(e,t){let s=[];for(let[n,o]of e.split(Sx).entries())if(n%2===0)s.push(yn(o));else try{s.push(Zs(["{{",Ol([vs,await Wo(o,t,{parser:"__ng_interpolation",__isInHtmlInterpolation:!0,trailingComma:"none"})]),vs,"}}"]))}catch{s.push("{{",yn(o),"}}")}return s}function vg({parser:e}){return(t,s,n)=>Wo(Fi(n.node),t,{parser:e,trailingComma:"none"},Id)}var kQ=vg({parser:"__ng_action"}),EQ=vg({parser:"__ng_binding"}),xQ=vg({parser:"__ng_directive"});function CQ(e,t){if(t.parser!=="angular")return;let{node:s}=e,n=s.fullName;if(n.startsWith("(")&&n.endsWith(")")||n.startsWith("on-"))return kQ;if(n.startsWith("[")&&n.endsWith("]")||/^bind(?:on)?-/.test(n)||/^ng-(?:if|show|hide|class|style)$/.test(n))return EQ;if(n.startsWith("*"))return xQ;let o=Fi(s);if(/^i18n(?:-.+)?$/.test(n))return()=>Pd(KE(dx(s,o.trim())),!o.includes("@@"));if(Sx.test(o))return i=>SQ(o,i)}var OQ=CQ;function DQ(e,t){let{node:s}=e;if(s.value){if(/^PRETTIER_HTML_PLACEHOLDER_\d+_\d+_IN_JS$/.test(t.originalText.slice(s.valueSpan.start.offset,s.valueSpan.end.offset))||t.parser==="lwc"&&s.value.startsWith("{")&&s.value.endsWith("}"))return[s.rawName,"=",s.value];for(let n of[cQ,hQ,pQ,TQ,OQ]){let o=n(e,t);if(o)return AQ(o)}}}function AQ(e){return async(t,s,n,o)=>{let i=await e(t,s,n,o);if(i)return i=pg(i,r=>typeof r=="string"?Js(!1,r,'"',"&quot;"):r),[n.node.rawName,'="',Zs(i),'"']}}var $Q=DQ;function NQ(e,t){let{node:s}=e;switch(s.type){case"element":if(po(s)||s.type==="interpolation")return;if(!s.isSelfClosing&&fg(s,t)){let n=Hb(s,t);return n?async(o,i)=>{let r=vx(s,t),l=/^\s*$/.test(r),m="";return l||(m=await o(ZE(r),{parser:n,__embeddedInHtml:!0}),l=m===""),[Ci(s,t),Zs(bm(e,t,i)),l?"":Ct,m,l?"":Ct,wm(s,t),Ei(s,t)]}:void 0}break;case"text":if(po(s.parent)){let n=Hb(s.parent,t);if(n)return async o=>{let i=n==="markdown"?ux(s.value.replace(/^[^\S\n]*\n/,"")):s.value,r={parser:n,__embeddedInHtml:!0};if(t.parser==="html"&&n==="babel"){let l="script",{attrMap:m}=s.parent;m&&(m.type==="module"||m.type==="text/babel"&&m["data-type"]==="module")&&(l="module"),r.__babelSourceType=l}return[Dl,Ci(s,t),await o(i,r,{stripTrailingHardline:!0}),Ei(s,t)]}}else if(s.parent.type==="interpolation")return async n=>{let o={__isInHtmlInterpolation:!0,__embeddedInHtml:!0};return t.parser==="angular"?(o.parser="__ng_interpolation",o.trailingComma="none"):t.parser==="vue"?o.parser=bg(e,t)?"__vue_ts_expression":"__vue_expression":o.parser="__js_expression",[Ol([vs,await n(s.value,o)]),s.parent.next&&xi(s.parent.next)?" ":vs]};break;case"attribute":return $Q(e,t);case"front-matter":return n=>zH(s,n)}}var _Q=NQ;function aa(e,t,s){let n=e.node;return hg(n)?[Ci(n,t),yn(t.originalText.slice(Ad(n)+(n.prev&&Nd(n.prev)?yg(n).length:0),$d(n)-(n.next&&xi(n.next)?$l(n,t).length:0))),Ei(n,t)]:s()}function vu(e,t){return qs(e)&&qs(t)?e.isTrailingSpaceSensitive?e.hasTrailingSpaces?nh(t)?Ct:vs:"":nh(t)?Ct:mn:Nd(e)&&(hg(t)||t.firstChild||t.isSelfClosing||t.type==="element"&&t.attrs.length>0)||e.type==="element"&&e.isSelfClosing&&xi(t)?"":!t.isLeadingSpaceSensitive||nh(t)||xi(t)&&e.lastChild&&tl(e.lastChild)&&e.lastChild.lastChild&&tl(e.lastChild.lastChild)?Ct:t.hasLeadingSpaces?vs:mn}function kx(e,t,s){let{node:n}=e;if(sx(n))return[Dl,...e.map(i=>{let r=i.node,l=r.prev?vu(r.prev,r):"";return[l?[l,bu(r.prev)?Ct:""]:"",aa(i,t,s)]},"children")];let o=n.children.map(()=>Symbol(""));return e.map((i,r)=>{let l=i.node;if(qs(l)){if(l.prev&&qs(l.prev)){let S=vu(l.prev,l);if(S)return bu(l.prev)?[Ct,Ct,aa(i,t,s)]:[S,aa(i,t,s)]}return aa(i,t,s)}let m=[],c=[],h=[],p=[],g=l.prev?vu(l.prev,l):"",w=l.next?vu(l,l.next):"";return g&&(bu(l.prev)?m.push(Ct,Ct):g===Ct?m.push(Ct):qs(l.prev)?c.push(g):c.push(Tc("",mn,{groupId:o[r-1]}))),w&&(bu(l)?qs(l.next)&&p.push(Ct,Ct):w===Ct?qs(l.next)&&p.push(Ct):h.push(w)),[...m,Zs([...c,Zs([aa(i,t,s),...h],{id:o[r]})]),...p]},"children")}function PQ(e,t,s){let{node:n}=e;if(ex(n,t))return[Ci(n,t),Zs(bm(e,t,s)),yn(vx(n,t)),...wm(n,t),Ei(n,t)];let o=n.children.length===1&&n.firstChild.type==="interpolation"&&n.firstChild.isLeadingSpaceSensitive&&!n.firstChild.hasLeadingSpaces&&n.lastChild.isTrailingSpaceSensitive&&!n.lastChild.hasTrailingSpaces,i=Symbol("element-attr-group-id"),r=h=>Zs([Zs(bm(e,t,s),{id:i}),h,wm(n,t)]),l=h=>o?Ez(h,{groupId:i}):(po(n)||Dd(n,t))&&n.parent.type==="root"&&t.parser==="vue"&&!t.vueIndentScriptAndStyle?h:Ol(h),m=()=>o?Tc(mn,"",{groupId:i}):n.firstChild.hasLeadingSpaces&&n.firstChild.isLeadingSpaceSensitive?vs:n.firstChild.type==="text"&&n.isWhitespaceSensitive&&n.isIndentationSensitive?Sz(mn):mn,c=()=>(n.next?xi(n.next):Nl(n.parent))?n.lastChild.hasTrailingSpaces&&n.lastChild.isTrailingSpaceSensitive?" ":"":o?Tc(mn,"",{groupId:i}):n.lastChild.hasTrailingSpaces&&n.lastChild.isTrailingSpaceSensitive?vs:(n.lastChild.type==="comment"||n.lastChild.type==="text"&&n.isWhitespaceSensitive&&n.isIndentationSensitive)&&new RegExp(`\\n[\\t ]{${t.tabWidth*(e.ancestors.length-1)}}$`).test(n.lastChild.value)?"":mn;return n.children.length===0?r(n.hasDanglingSpaces&&n.isDanglingSpaceSensitive?vs:""):r([iH(n)?Dl:"",l([m(),kx(e,t,s)]),c()])}var la=null;function _a(e){if(la!==null&&typeof la.property){let t=la;return la=_a.prototype=null,t}return la=_a.prototype=e??Object.create(null),new _a}var IQ=10;for(let e=0;e<=IQ;e++)_a();function MQ(e){return _a(e)}function LQ(e,t="type"){MQ(e);function s(n){let o=n[t],i=e[o];if(!Array.isArray(i))throw Object.assign(new Error(`Missing visitor keys for '${o}'.`),{node:n});return i}return s}var FQ=LQ,BQ={"front-matter":[],root:["children"],element:["attrs","children"],ieConditionalComment:["children"],ieConditionalStartComment:[],ieConditionalEndComment:[],interpolation:["children"],text:["children"],docType:[],comment:[],attribute:[],cdata:[]},RQ=BQ,VQ=FQ(RQ),UQ=VQ;function WQ(e,t,s){let{node:n}=e;switch(n.type){case"front-matter":return yn(n.raw);case"root":return t.__onHtmlRoot&&t.__onHtmlRoot(n),[Zs(kx(e,t,s)),Ct];case"element":case"ieConditionalComment":return PQ(e,t,s);case"ieConditionalStartComment":case"ieConditionalEndComment":return[Hu(n),zu(n)];case"interpolation":return[Hu(n,t),...e.map(s,"children"),zu(n,t)];case"text":{if(n.parent.type==="interpolation"){let i=/\n[^\S\n]*$/,r=i.test(n.value),l=r?n.value.replace(i,""):n.value;return[yn(l),r?Ct:""]}let o=$z([Ci(n,t),...dx(n),Ei(n,t)]);return Array.isArray(o)?KE(o):o}case"docType":return[Zs([Hu(n,t)," ",Js(!1,n.value.replace(/^html\b/i,"html"),/\s+/g," ")]),zu(n,t)];case"comment":return[Ci(n,t),yn(t.originalText.slice(Ad(n),$d(n))),Ei(n,t)];case"attribute":{if(n.value===null)return n.rawName;let o=cx(n.value),i=Iz(o,'"');return[n.rawName,"=",i,yn(i==='"'?Js(!1,o,'"',"&quot;"):Js(!1,o,"'","&apos;")),i]}case"cdata":default:throw new _z(n,"HTML")}}var jQ={preprocess:UH,print:WQ,insertPragma:jH,massageAstNode:Fz,embed:_Q,getVisitorKeys:UQ},qQ=jQ,Ex={};zE(Ex,{angular:()=>zG,html:()=>qG,lwc:()=>QG,vue:()=>HG});var Xb;(function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"})(Xb||(Xb={}));var Kb;(function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"})(Kb||(Kb={}));var Jb={name:"custom-elements"},Zb={name:"no-errors-schema"},ci;(function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"})(ci||(ci={}));var ev;(function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"})(ev||(ev={}));var fn;(function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"})(fn||(fn={}));function Md(e){if(e[0]!=":")return[null,e];let t=e.indexOf(":",1);if(t===-1)throw new Error(`Unsupported format "${e}" expecting ":namespace:name"`);return[e.slice(1,t),e.slice(t+1)]}function tv(e){return Md(e)[1]==="ng-container"}function sv(e){return Md(e)[1]==="ng-content"}function Qu(e){return e===null?null:Md(e)[0]}function kc(e,t){return e?`:${e}:${t}`:t}var Gu;function nv(){return Gu||(Gu={},Tu(ci.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Tu(ci.STYLE,["*|style"]),Tu(ci.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),Tu(ci.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),Gu}function Tu(e,t){for(let s of t)Gu[s.toLowerCase()]=e}var zQ=class{},HQ="boolean",QQ="number",GQ="string",YQ="object",XQ=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],xx=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"})),KQ=Array.from(xx).reduce((e,[t,s])=>(e.set(t,s),e),new Map),JQ=class extends zQ{constructor(){super(),this._schema=new Map,this._eventSchema=new Map,XQ.forEach(t=>{let s=new Map,n=new Set,[o,i]=t.split("|"),r=i.split(","),[l,m]=o.split("^");l.split(",").forEach(h=>{this._schema.set(h.toLowerCase(),s),this._eventSchema.set(h.toLowerCase(),n)});let c=m&&this._schema.get(m.toLowerCase());if(c){for(let[h,p]of c)s.set(h,p);for(let h of this._eventSchema.get(m.toLowerCase()))n.add(h)}r.forEach(h=>{if(h.length>0)switch(h[0]){case"*":n.add(h.substring(1));break;case"!":s.set(h.substring(1),HQ);break;case"#":s.set(h.substring(1),QQ);break;case"%":s.set(h.substring(1),YQ);break;default:s.set(h,GQ)}})})}hasProperty(t,s,n){if(n.some(o=>o.name===Zb.name))return!0;if(t.indexOf("-")>-1){if(tv(t)||sv(t))return!1;if(n.some(o=>o.name===Jb.name))return!0}return(this._schema.get(t.toLowerCase())||this._schema.get("unknown")).has(s)}hasElement(t,s){return s.some(n=>n.name===Zb.name)||t.indexOf("-")>-1&&(tv(t)||sv(t)||s.some(n=>n.name===Jb.name))?!0:this._schema.has(t.toLowerCase())}securityContext(t,s,n){n&&(s=this.getMappedPropName(s)),t=t.toLowerCase(),s=s.toLowerCase();let o=nv()[t+"|"+s];return o||(o=nv()["*|"+s],o||ci.NONE)}getMappedPropName(t){return xx.get(t)??t}getDefaultComponentElementName(){return"ng-component"}validateProperty(t){return t.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${t}' is disallowed for security reasons, please use (${t.slice(2)})=...
If '${t}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(t){return t.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${t}' is disallowed for security reasons, please use (${t.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(t){let s=this._schema.get(t.toLowerCase())||this._schema.get("unknown");return Array.from(s.keys()).map(n=>KQ.get(n)??n)}allKnownEventsOfElement(t){return Array.from(this._eventSchema.get(t.toLowerCase())??[])}normalizeAnimationStyleProperty(t){return OH(t)}normalizeAnimationStyleValue(t,s,n){let o="",i=n.toString().trim(),r=null;if(ZQ(t)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let l=n.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&(r=`Please provide a CSS unit value for ${s}:${n}`)}return{error:r,value:i+o}}};function ZQ(e){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var st=class{constructor({closedByChildren:e,implicitNamespacePrefix:t,contentType:s=fn.PARSABLE_DATA,closedByParent:n=!1,isVoid:o=!1,ignoreFirstLf:i=!1,preventNamespaceInheritance:r=!1,canSelfClose:l=!1}={}){this.closedByChildren={},this.closedByParent=!1,e&&e.length>0&&e.forEach(m=>this.closedByChildren[m]=!0),this.isVoid=o,this.closedByParent=n||o,this.implicitNamespacePrefix=t||null,this.contentType=s,this.ignoreFirstLf=i,this.preventNamespaceInheritance=r,this.canSelfClose=l??o}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},ov,ua;function vm(e){return ua||(ov=new st({canSelfClose:!0}),ua={base:new st({isVoid:!0}),meta:new st({isVoid:!0}),area:new st({isVoid:!0}),embed:new st({isVoid:!0}),link:new st({isVoid:!0}),img:new st({isVoid:!0}),input:new st({isVoid:!0}),param:new st({isVoid:!0}),hr:new st({isVoid:!0}),br:new st({isVoid:!0}),source:new st({isVoid:!0}),track:new st({isVoid:!0}),wbr:new st({isVoid:!0}),p:new st({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new st({closedByChildren:["tbody","tfoot"]}),tbody:new st({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new st({closedByChildren:["tbody"],closedByParent:!0}),tr:new st({closedByChildren:["tr"],closedByParent:!0}),td:new st({closedByChildren:["td","th"],closedByParent:!0}),th:new st({closedByChildren:["td","th"],closedByParent:!0}),col:new st({isVoid:!0}),svg:new st({implicitNamespacePrefix:"svg"}),foreignObject:new st({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new st({implicitNamespacePrefix:"math"}),li:new st({closedByChildren:["li"],closedByParent:!0}),dt:new st({closedByChildren:["dt","dd"]}),dd:new st({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new st({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new st({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new st({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new st({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new st({closedByChildren:["optgroup"],closedByParent:!0}),option:new st({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new st({ignoreFirstLf:!0}),listing:new st({ignoreFirstLf:!0}),style:new st({contentType:fn.RAW_TEXT}),script:new st({contentType:fn.RAW_TEXT}),title:new st({contentType:{default:fn.ESCAPABLE_RAW_TEXT,svg:fn.PARSABLE_DATA}}),textarea:new st({contentType:fn.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},new JQ().allKnownElementNames().forEach(t=>{!ua.hasOwnProperty(t)&&Qu(t)===null&&(ua[t]=new st({canSelfClose:!1}))})),ua[e]??ov}var _l=class{constructor(t,s){this.sourceSpan=t,this.i18n=s}},eG=class extends _l{constructor(t,s,n,o){super(s,o),this.value=t,this.tokens=n,this.type="text"}visit(t,s){return t.visitText(this,s)}},tG=class extends _l{constructor(t,s,n,o){super(s,o),this.value=t,this.tokens=n,this.type="cdata"}visit(t,s){return t.visitCdata(this,s)}},sG=class extends _l{constructor(t,s,n,o,i,r){super(o,r),this.switchValue=t,this.type=s,this.cases=n,this.switchValueSourceSpan=i}visit(t,s){return t.visitExpansion(this,s)}},nG=class{constructor(t,s,n,o,i){this.value=t,this.expression=s,this.sourceSpan=n,this.valueSourceSpan=o,this.expSourceSpan=i}visit(t,s){return t.visitExpansionCase(this,s)}},oG=class extends _l{constructor(t,s,n,o,i,r,l){super(n,l),this.name=t,this.value=s,this.keySpan=o,this.valueSpan=i,this.valueTokens=r,this.type="attribute"}visit(t,s){return t.visitAttribute(this,s)}get nameSpan(){return this.keySpan}},iG=class extends _l{constructor(t,s,n,o,i,r=null,l=null,m){super(o,m),this.name=t,this.attrs=s,this.children=n,this.startSourceSpan=i,this.endSourceSpan=r,this.nameSpan=l,this.type="element"}visit(t,s){return t.visitElement(this,s)}},rG=class{constructor(t,s){this.value=t,this.sourceSpan=s,this.type="comment"}visit(t,s){return t.visitComment(this,s)}},aG=class{constructor(t,s){this.value=t,this.sourceSpan=s,this.type="docType"}visit(t,s){return t.visitDocType(this,s)}};function Cx(e,t,s=null){let n=[],o=e.visit?i=>e.visit(i,s)||i.visit(e,s):i=>i.visit(e,s);return t.forEach(i=>{let r=o(i);r&&n.push(r)}),n}var lG=class{constructor(){}visitElement(t,s){this.visitChildren(s,n=>{n(t.attrs),n(t.children)})}visitAttribute(t,s){}visitText(t,s){}visitCdata(t,s){}visitComment(t,s){}visitDocType(t,s){}visitExpansion(t,s){return this.visitChildren(s,n=>{n(t.cases)})}visitExpansionCase(t,s){}visitChildren(t,s){let n=[],o=this;function i(r){r&&n.push(Cx(o,r,t))}return s(i),Array.prototype.concat.apply([],n)}},Ec={AElig:"Æ",AMP:"&",amp:"&",Aacute:"Á",Abreve:"Ă",Acirc:"Â",Acy:"А",Afr:"𝔄",Agrave:"À",Alpha:"Α",Amacr:"Ā",And:"⩓",Aogon:"Ą",Aopf:"𝔸",ApplyFunction:"⁡",af:"⁡",Aring:"Å",angst:"Å",Ascr:"𝒜",Assign:"≔",colone:"≔",coloneq:"≔",Atilde:"Ã",Auml:"Ä",Backslash:"∖",setminus:"∖",setmn:"∖",smallsetminus:"∖",ssetmn:"∖",Barv:"⫧",Barwed:"⌆",doublebarwedge:"⌆",Bcy:"Б",Because:"∵",becaus:"∵",because:"∵",Bernoullis:"ℬ",Bscr:"ℬ",bernou:"ℬ",Beta:"Β",Bfr:"𝔅",Bopf:"𝔹",Breve:"˘",breve:"˘",Bumpeq:"≎",HumpDownHump:"≎",bump:"≎",CHcy:"Ч",COPY:"©",copy:"©",Cacute:"Ć",Cap:"⋒",CapitalDifferentialD:"ⅅ",DD:"ⅅ",Cayleys:"ℭ",Cfr:"ℭ",Ccaron:"Č",Ccedil:"Ç",Ccirc:"Ĉ",Cconint:"∰",Cdot:"Ċ",Cedilla:"¸",cedil:"¸",CenterDot:"·",centerdot:"·",middot:"·",Chi:"Χ",CircleDot:"⊙",odot:"⊙",CircleMinus:"⊖",ominus:"⊖",CirclePlus:"⊕",oplus:"⊕",CircleTimes:"⊗",otimes:"⊗",ClockwiseContourIntegral:"∲",cwconint:"∲",CloseCurlyDoubleQuote:"”",rdquo:"”",rdquor:"”",CloseCurlyQuote:"’",rsquo:"’",rsquor:"’",Colon:"∷",Proportion:"∷",Colone:"⩴",Congruent:"≡",equiv:"≡",Conint:"∯",DoubleContourIntegral:"∯",ContourIntegral:"∮",conint:"∮",oint:"∮",Copf:"ℂ",complexes:"ℂ",Coproduct:"∐",coprod:"∐",CounterClockwiseContourIntegral:"∳",awconint:"∳",Cross:"⨯",Cscr:"𝒞",Cup:"⋓",CupCap:"≍",asympeq:"≍",DDotrahd:"⤑",DJcy:"Ђ",DScy:"Ѕ",DZcy:"Џ",Dagger:"‡",ddagger:"‡",Darr:"↡",Dashv:"⫤",DoubleLeftTee:"⫤",Dcaron:"Ď",Dcy:"Д",Del:"∇",nabla:"∇",Delta:"Δ",Dfr:"𝔇",DiacriticalAcute:"´",acute:"´",DiacriticalDot:"˙",dot:"˙",DiacriticalDoubleAcute:"˝",dblac:"˝",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"˜",tilde:"˜",Diamond:"⋄",diam:"⋄",diamond:"⋄",DifferentialD:"ⅆ",dd:"ⅆ",Dopf:"𝔻",Dot:"¨",DoubleDot:"¨",die:"¨",uml:"¨",DotDot:"⃜",DotEqual:"≐",doteq:"≐",esdot:"≐",DoubleDownArrow:"⇓",Downarrow:"⇓",dArr:"⇓",DoubleLeftArrow:"⇐",Leftarrow:"⇐",lArr:"⇐",DoubleLeftRightArrow:"⇔",Leftrightarrow:"⇔",hArr:"⇔",iff:"⇔",DoubleLongLeftArrow:"⟸",Longleftarrow:"⟸",xlArr:"⟸",DoubleLongLeftRightArrow:"⟺",Longleftrightarrow:"⟺",xhArr:"⟺",DoubleLongRightArrow:"⟹",Longrightarrow:"⟹",xrArr:"⟹",DoubleRightArrow:"⇒",Implies:"⇒",Rightarrow:"⇒",rArr:"⇒",DoubleRightTee:"⊨",vDash:"⊨",DoubleUpArrow:"⇑",Uparrow:"⇑",uArr:"⇑",DoubleUpDownArrow:"⇕",Updownarrow:"⇕",vArr:"⇕",DoubleVerticalBar:"∥",par:"∥",parallel:"∥",shortparallel:"∥",spar:"∥",DownArrow:"↓",ShortDownArrow:"↓",darr:"↓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",duarr:"⇵",DownBreve:"̑",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",leftharpoondown:"↽",lhard:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",rhard:"⇁",rightharpoondown:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",top:"⊤",DownTeeArrow:"↧",mapstodown:"↧",Dscr:"𝒟",Dstrok:"Đ",ENG:"Ŋ",ETH:"Ð",Eacute:"É",Ecaron:"Ě",Ecirc:"Ê",Ecy:"Э",Edot:"Ė",Efr:"𝔈",Egrave:"È",Element:"∈",in:"∈",isin:"∈",isinv:"∈",Emacr:"Ē",EmptySmallSquare:"◻",EmptyVerySmallSquare:"▫",Eogon:"Ę",Eopf:"𝔼",Epsilon:"Ε",Equal:"⩵",EqualTilde:"≂",eqsim:"≂",esim:"≂",Equilibrium:"⇌",rightleftharpoons:"⇌",rlhar:"⇌",Escr:"ℰ",expectation:"ℰ",Esim:"⩳",Eta:"Η",Euml:"Ë",Exists:"∃",exist:"∃",ExponentialE:"ⅇ",ee:"ⅇ",exponentiale:"ⅇ",Fcy:"Ф",Ffr:"𝔉",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",blacksquare:"▪",squarf:"▪",squf:"▪",Fopf:"𝔽",ForAll:"∀",forall:"∀",Fouriertrf:"ℱ",Fscr:"ℱ",GJcy:"Ѓ",GT:">",gt:">",Gamma:"Γ",Gammad:"Ϝ",Gbreve:"Ğ",Gcedil:"Ģ",Gcirc:"Ĝ",Gcy:"Г",Gdot:"Ġ",Gfr:"𝔊",Gg:"⋙",ggg:"⋙",Gopf:"𝔾",GreaterEqual:"≥",ge:"≥",geq:"≥",GreaterEqualLess:"⋛",gel:"⋛",gtreqless:"⋛",GreaterFullEqual:"≧",gE:"≧",geqq:"≧",GreaterGreater:"⪢",GreaterLess:"≷",gl:"≷",gtrless:"≷",GreaterSlantEqual:"⩾",geqslant:"⩾",ges:"⩾",GreaterTilde:"≳",gsim:"≳",gtrsim:"≳",Gscr:"𝒢",Gt:"≫",NestedGreaterGreater:"≫",gg:"≫",HARDcy:"Ъ",Hacek:"ˇ",caron:"ˇ",Hat:"^",Hcirc:"Ĥ",Hfr:"ℌ",Poincareplane:"ℌ",HilbertSpace:"ℋ",Hscr:"ℋ",hamilt:"ℋ",Hopf:"ℍ",quaternions:"ℍ",HorizontalLine:"─",boxh:"─",Hstrok:"Ħ",HumpEqual:"≏",bumpe:"≏",bumpeq:"≏",IEcy:"Е",IJlig:"Ĳ",IOcy:"Ё",Iacute:"Í",Icirc:"Î",Icy:"И",Idot:"İ",Ifr:"ℑ",Im:"ℑ",image:"ℑ",imagpart:"ℑ",Igrave:"Ì",Imacr:"Ī",ImaginaryI:"ⅈ",ii:"ⅈ",Int:"∬",Integral:"∫",int:"∫",Intersection:"⋂",bigcap:"⋂",xcap:"⋂",InvisibleComma:"⁣",ic:"⁣",InvisibleTimes:"⁢",it:"⁢",Iogon:"Į",Iopf:"𝕀",Iota:"Ι",Iscr:"ℐ",imagline:"ℐ",Itilde:"Ĩ",Iukcy:"І",Iuml:"Ï",Jcirc:"Ĵ",Jcy:"Й",Jfr:"𝔍",Jopf:"𝕁",Jscr:"𝒥",Jsercy:"Ј",Jukcy:"Є",KHcy:"Х",KJcy:"Ќ",Kappa:"Κ",Kcedil:"Ķ",Kcy:"К",Kfr:"𝔎",Kopf:"𝕂",Kscr:"𝒦",LJcy:"Љ",LT:"<",lt:"<",Lacute:"Ĺ",Lambda:"Λ",Lang:"⟪",Laplacetrf:"ℒ",Lscr:"ℒ",lagran:"ℒ",Larr:"↞",twoheadleftarrow:"↞",Lcaron:"Ľ",Lcedil:"Ļ",Lcy:"Л",LeftAngleBracket:"⟨",lang:"⟨",langle:"⟨",LeftArrow:"←",ShortLeftArrow:"←",larr:"←",leftarrow:"←",slarr:"←",LeftArrowBar:"⇤",larrb:"⇤",LeftArrowRightArrow:"⇆",leftrightarrows:"⇆",lrarr:"⇆",LeftCeiling:"⌈",lceil:"⌈",LeftDoubleBracket:"⟦",lobrk:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",dharl:"⇃",downharpoonleft:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",lfloor:"⌊",LeftRightArrow:"↔",harr:"↔",leftrightarrow:"↔",LeftRightVector:"⥎",LeftTee:"⊣",dashv:"⊣",LeftTeeArrow:"↤",mapstoleft:"↤",LeftTeeVector:"⥚",LeftTriangle:"⊲",vartriangleleft:"⊲",vltri:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",ltrie:"⊴",trianglelefteq:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",uharl:"↿",upharpoonleft:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",leftharpoonup:"↼",lharu:"↼",LeftVectorBar:"⥒",LessEqualGreater:"⋚",leg:"⋚",lesseqgtr:"⋚",LessFullEqual:"≦",lE:"≦",leqq:"≦",LessGreater:"≶",lessgtr:"≶",lg:"≶",LessLess:"⪡",LessSlantEqual:"⩽",leqslant:"⩽",les:"⩽",LessTilde:"≲",lesssim:"≲",lsim:"≲",Lfr:"𝔏",Ll:"⋘",Lleftarrow:"⇚",lAarr:"⇚",Lmidot:"Ŀ",LongLeftArrow:"⟵",longleftarrow:"⟵",xlarr:"⟵",LongLeftRightArrow:"⟷",longleftrightarrow:"⟷",xharr:"⟷",LongRightArrow:"⟶",longrightarrow:"⟶",xrarr:"⟶",Lopf:"𝕃",LowerLeftArrow:"↙",swarr:"↙",swarrow:"↙",LowerRightArrow:"↘",searr:"↘",searrow:"↘",Lsh:"↰",lsh:"↰",Lstrok:"Ł",Lt:"≪",NestedLessLess:"≪",ll:"≪",Map:"⤅",Mcy:"М",MediumSpace:" ",Mellintrf:"ℳ",Mscr:"ℳ",phmmat:"ℳ",Mfr:"𝔐",MinusPlus:"∓",mnplus:"∓",mp:"∓",Mopf:"𝕄",Mu:"Μ",NJcy:"Њ",Nacute:"Ń",Ncaron:"Ň",Ncedil:"Ņ",Ncy:"Н",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",ZeroWidthSpace:"​",NewLine:`
`,Nfr:"𝔑",NoBreak:"⁠",NonBreakingSpace:" ",nbsp:" ",Nopf:"ℕ",naturals:"ℕ",Not:"⫬",NotCongruent:"≢",nequiv:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",npar:"∦",nparallel:"∦",nshortparallel:"∦",nspar:"∦",NotElement:"∉",notin:"∉",notinva:"∉",NotEqual:"≠",ne:"≠",NotEqualTilde:"≂̸",nesim:"≂̸",NotExists:"∄",nexist:"∄",nexists:"∄",NotGreater:"≯",ngt:"≯",ngtr:"≯",NotGreaterEqual:"≱",nge:"≱",ngeq:"≱",NotGreaterFullEqual:"≧̸",ngE:"≧̸",ngeqq:"≧̸",NotGreaterGreater:"≫̸",nGtv:"≫̸",NotGreaterLess:"≹",ntgl:"≹",NotGreaterSlantEqual:"⩾̸",ngeqslant:"⩾̸",nges:"⩾̸",NotGreaterTilde:"≵",ngsim:"≵",NotHumpDownHump:"≎̸",nbump:"≎̸",NotHumpEqual:"≏̸",nbumpe:"≏̸",NotLeftTriangle:"⋪",nltri:"⋪",ntriangleleft:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",nltrie:"⋬",ntrianglelefteq:"⋬",NotLess:"≮",nless:"≮",nlt:"≮",NotLessEqual:"≰",nle:"≰",nleq:"≰",NotLessGreater:"≸",ntlg:"≸",NotLessLess:"≪̸",nLtv:"≪̸",NotLessSlantEqual:"⩽̸",nleqslant:"⩽̸",nles:"⩽̸",NotLessTilde:"≴",nlsim:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",NotPrecedes:"⊀",npr:"⊀",nprec:"⊀",NotPrecedesEqual:"⪯̸",npre:"⪯̸",npreceq:"⪯̸",NotPrecedesSlantEqual:"⋠",nprcue:"⋠",NotReverseElement:"∌",notni:"∌",notniva:"∌",NotRightTriangle:"⋫",nrtri:"⋫",ntriangleright:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",nrtrie:"⋭",ntrianglerighteq:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",nsqsube:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",nsqsupe:"⋣",NotSubset:"⊂⃒",nsubset:"⊂⃒",vnsub:"⊂⃒",NotSubsetEqual:"⊈",nsube:"⊈",nsubseteq:"⊈",NotSucceeds:"⊁",nsc:"⊁",nsucc:"⊁",NotSucceedsEqual:"⪰̸",nsce:"⪰̸",nsucceq:"⪰̸",NotSucceedsSlantEqual:"⋡",nsccue:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",nsupset:"⊃⃒",vnsup:"⊃⃒",NotSupersetEqual:"⊉",nsupe:"⊉",nsupseteq:"⊉",NotTilde:"≁",nsim:"≁",NotTildeEqual:"≄",nsime:"≄",nsimeq:"≄",NotTildeFullEqual:"≇",ncong:"≇",NotTildeTilde:"≉",nap:"≉",napprox:"≉",NotVerticalBar:"∤",nmid:"∤",nshortmid:"∤",nsmid:"∤",Nscr:"𝒩",Ntilde:"Ñ",Nu:"Ν",OElig:"Œ",Oacute:"Ó",Ocirc:"Ô",Ocy:"О",Odblac:"Ő",Ofr:"𝔒",Ograve:"Ò",Omacr:"Ō",Omega:"Ω",ohm:"Ω",Omicron:"Ο",Oopf:"𝕆",OpenCurlyDoubleQuote:"“",ldquo:"“",OpenCurlyQuote:"‘",lsquo:"‘",Or:"⩔",Oscr:"𝒪",Oslash:"Ø",Otilde:"Õ",Otimes:"⨷",Ouml:"Ö",OverBar:"‾",oline:"‾",OverBrace:"⏞",OverBracket:"⎴",tbrk:"⎴",OverParenthesis:"⏜",PartialD:"∂",part:"∂",Pcy:"П",Pfr:"𝔓",Phi:"Φ",Pi:"Π",PlusMinus:"±",plusmn:"±",pm:"±",Popf:"ℙ",primes:"ℙ",Pr:"⪻",Precedes:"≺",pr:"≺",prec:"≺",PrecedesEqual:"⪯",pre:"⪯",preceq:"⪯",PrecedesSlantEqual:"≼",prcue:"≼",preccurlyeq:"≼",PrecedesTilde:"≾",precsim:"≾",prsim:"≾",Prime:"″",Product:"∏",prod:"∏",Proportional:"∝",prop:"∝",propto:"∝",varpropto:"∝",vprop:"∝",Pscr:"𝒫",Psi:"Ψ",QUOT:'"',quot:'"',Qfr:"𝔔",Qopf:"ℚ",rationals:"ℚ",Qscr:"𝒬",RBarr:"⤐",drbkarow:"⤐",REG:"®",circledR:"®",reg:"®",Racute:"Ŕ",Rang:"⟫",Rarr:"↠",twoheadrightarrow:"↠",Rarrtl:"⤖",Rcaron:"Ř",Rcedil:"Ŗ",Rcy:"Р",Re:"ℜ",Rfr:"ℜ",real:"ℜ",realpart:"ℜ",ReverseElement:"∋",SuchThat:"∋",ni:"∋",niv:"∋",ReverseEquilibrium:"⇋",leftrightharpoons:"⇋",lrhar:"⇋",ReverseUpEquilibrium:"⥯",duhar:"⥯",Rho:"Ρ",RightAngleBracket:"⟩",rang:"⟩",rangle:"⟩",RightArrow:"→",ShortRightArrow:"→",rarr:"→",rightarrow:"→",srarr:"→",RightArrowBar:"⇥",rarrb:"⇥",RightArrowLeftArrow:"⇄",rightleftarrows:"⇄",rlarr:"⇄",RightCeiling:"⌉",rceil:"⌉",RightDoubleBracket:"⟧",robrk:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",dharr:"⇂",downharpoonright:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rfloor:"⌋",RightTee:"⊢",vdash:"⊢",RightTeeArrow:"↦",map:"↦",mapsto:"↦",RightTeeVector:"⥛",RightTriangle:"⊳",vartriangleright:"⊳",vrtri:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",rtrie:"⊵",trianglerighteq:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",uharr:"↾",upharpoonright:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",rharu:"⇀",rightharpoonup:"⇀",RightVectorBar:"⥓",Ropf:"ℝ",reals:"ℝ",RoundImplies:"⥰",Rrightarrow:"⇛",rAarr:"⇛",Rscr:"ℛ",realine:"ℛ",Rsh:"↱",rsh:"↱",RuleDelayed:"⧴",SHCHcy:"Щ",SHcy:"Ш",SOFTcy:"Ь",Sacute:"Ś",Sc:"⪼",Scaron:"Š",Scedil:"Ş",Scirc:"Ŝ",Scy:"С",Sfr:"𝔖",ShortUpArrow:"↑",UpArrow:"↑",uarr:"↑",uparrow:"↑",Sigma:"Σ",SmallCircle:"∘",compfn:"∘",Sopf:"𝕊",Sqrt:"√",radic:"√",Square:"□",squ:"□",square:"□",SquareIntersection:"⊓",sqcap:"⊓",SquareSubset:"⊏",sqsub:"⊏",sqsubset:"⊏",SquareSubsetEqual:"⊑",sqsube:"⊑",sqsubseteq:"⊑",SquareSuperset:"⊐",sqsup:"⊐",sqsupset:"⊐",SquareSupersetEqual:"⊒",sqsupe:"⊒",sqsupseteq:"⊒",SquareUnion:"⊔",sqcup:"⊔",Sscr:"𝒮",Star:"⋆",sstarf:"⋆",Sub:"⋐",Subset:"⋐",SubsetEqual:"⊆",sube:"⊆",subseteq:"⊆",Succeeds:"≻",sc:"≻",succ:"≻",SucceedsEqual:"⪰",sce:"⪰",succeq:"⪰",SucceedsSlantEqual:"≽",sccue:"≽",succcurlyeq:"≽",SucceedsTilde:"≿",scsim:"≿",succsim:"≿",Sum:"∑",sum:"∑",Sup:"⋑",Supset:"⋑",Superset:"⊃",sup:"⊃",supset:"⊃",SupersetEqual:"⊇",supe:"⊇",supseteq:"⊇",THORN:"Þ",TRADE:"™",trade:"™",TSHcy:"Ћ",TScy:"Ц",Tab:"	",Tau:"Τ",Tcaron:"Ť",Tcedil:"Ţ",Tcy:"Т",Tfr:"𝔗",Therefore:"∴",there4:"∴",therefore:"∴",Theta:"Θ",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",Tilde:"∼",sim:"∼",thicksim:"∼",thksim:"∼",TildeEqual:"≃",sime:"≃",simeq:"≃",TildeFullEqual:"≅",cong:"≅",TildeTilde:"≈",ap:"≈",approx:"≈",asymp:"≈",thickapprox:"≈",thkap:"≈",Topf:"𝕋",TripleDot:"⃛",tdot:"⃛",Tscr:"𝒯",Tstrok:"Ŧ",Uacute:"Ú",Uarr:"↟",Uarrocir:"⥉",Ubrcy:"Ў",Ubreve:"Ŭ",Ucirc:"Û",Ucy:"У",Udblac:"Ű",Ufr:"𝔘",Ugrave:"Ù",Umacr:"Ū",UnderBar:"_",lowbar:"_",UnderBrace:"⏟",UnderBracket:"⎵",bbrk:"⎵",UnderParenthesis:"⏝",Union:"⋃",bigcup:"⋃",xcup:"⋃",UnionPlus:"⊎",uplus:"⊎",Uogon:"Ų",Uopf:"𝕌",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",udarr:"⇅",UpDownArrow:"↕",updownarrow:"↕",varr:"↕",UpEquilibrium:"⥮",udhar:"⥮",UpTee:"⊥",bot:"⊥",bottom:"⊥",perp:"⊥",UpTeeArrow:"↥",mapstoup:"↥",UpperLeftArrow:"↖",nwarr:"↖",nwarrow:"↖",UpperRightArrow:"↗",nearr:"↗",nearrow:"↗",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",Uring:"Ů",Uscr:"𝒰",Utilde:"Ũ",Uuml:"Ü",VDash:"⊫",Vbar:"⫫",Vcy:"В",Vdash:"⊩",Vdashl:"⫦",Vee:"⋁",bigvee:"⋁",xvee:"⋁",Verbar:"‖",Vert:"‖",VerticalBar:"∣",mid:"∣",shortmid:"∣",smid:"∣",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"❘",VerticalTilde:"≀",wr:"≀",wreath:"≀",VeryThinSpace:" ",hairsp:" ",Vfr:"𝔙",Vopf:"𝕍",Vscr:"𝒱",Vvdash:"⊪",Wcirc:"Ŵ",Wedge:"⋀",bigwedge:"⋀",xwedge:"⋀",Wfr:"𝔚",Wopf:"𝕎",Wscr:"𝒲",Xfr:"𝔛",Xi:"Ξ",Xopf:"𝕏",Xscr:"𝒳",YAcy:"Я",YIcy:"Ї",YUcy:"Ю",Yacute:"Ý",Ycirc:"Ŷ",Ycy:"Ы",Yfr:"𝔜",Yopf:"𝕐",Yscr:"𝒴",Yuml:"Ÿ",ZHcy:"Ж",Zacute:"Ź",Zcaron:"Ž",Zcy:"З",Zdot:"Ż",Zeta:"Ζ",Zfr:"ℨ",zeetrf:"ℨ",Zopf:"ℤ",integers:"ℤ",Zscr:"𝒵",aacute:"á",abreve:"ă",ac:"∾",mstpos:"∾",acE:"∾̳",acd:"∿",acirc:"â",acy:"а",aelig:"æ",afr:"𝔞",agrave:"à",alefsym:"ℵ",aleph:"ℵ",alpha:"α",amacr:"ā",amalg:"⨿",and:"∧",wedge:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",angle:"∠",ange:"⦤",angmsd:"∡",measuredangle:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angzarr:"⍼",aogon:"ą",aopf:"𝕒",apE:"⩰",apacir:"⩯",ape:"≊",approxeq:"≊",apid:"≋",apos:"'",aring:"å",ascr:"𝒶",ast:"*",midast:"*",atilde:"ã",auml:"ä",awint:"⨑",bNot:"⫭",backcong:"≌",bcong:"≌",backepsilon:"϶",bepsi:"϶",backprime:"‵",bprime:"‵",backsim:"∽",bsim:"∽",backsimeq:"⋍",bsime:"⋍",barvee:"⊽",barwed:"⌅",barwedge:"⌅",bbrktbrk:"⎶",bcy:"б",bdquo:"„",ldquor:"„",bemptyv:"⦰",beta:"β",beth:"ℶ",between:"≬",twixt:"≬",bfr:"𝔟",bigcirc:"◯",xcirc:"◯",bigodot:"⨀",xodot:"⨀",bigoplus:"⨁",xoplus:"⨁",bigotimes:"⨂",xotime:"⨂",bigsqcup:"⨆",xsqcup:"⨆",bigstar:"★",starf:"★",bigtriangledown:"▽",xdtri:"▽",bigtriangleup:"△",xutri:"△",biguplus:"⨄",xuplus:"⨄",bkarow:"⤍",rbarr:"⤍",blacklozenge:"⧫",lozf:"⧫",blacktriangle:"▴",utrif:"▴",blacktriangledown:"▾",dtrif:"▾",blacktriangleleft:"◂",ltrif:"◂",blacktriangleright:"▸",rtrif:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bopf:"𝕓",bowtie:"⋈",boxDL:"╗",boxDR:"╔",boxDl:"╖",boxDr:"╓",boxH:"═",boxHD:"╦",boxHU:"╩",boxHd:"╤",boxHu:"╧",boxUL:"╝",boxUR:"╚",boxUl:"╜",boxUr:"╙",boxV:"║",boxVH:"╬",boxVL:"╣",boxVR:"╠",boxVh:"╫",boxVl:"╢",boxVr:"╟",boxbox:"⧉",boxdL:"╕",boxdR:"╒",boxdl:"┐",boxdr:"┌",boxhD:"╥",boxhU:"╨",boxhd:"┬",boxhu:"┴",boxminus:"⊟",minusb:"⊟",boxplus:"⊞",plusb:"⊞",boxtimes:"⊠",timesb:"⊠",boxuL:"╛",boxuR:"╘",boxul:"┘",boxur:"└",boxv:"│",boxvH:"╪",boxvL:"╡",boxvR:"╞",boxvh:"┼",boxvl:"┤",boxvr:"├",brvbar:"¦",bscr:"𝒷",bsemi:"⁏",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bumpE:"⪮",cacute:"ć",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",caps:"∩︀",caret:"⁁",ccaps:"⩍",ccaron:"č",ccedil:"ç",ccirc:"ĉ",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",cemptyv:"⦲",cent:"¢",cfr:"𝔠",chcy:"ч",check:"✓",checkmark:"✓",chi:"χ",cir:"○",cirE:"⧃",circ:"ˆ",circeq:"≗",cire:"≗",circlearrowleft:"↺",olarr:"↺",circlearrowright:"↻",orarr:"↻",circledS:"Ⓢ",oS:"Ⓢ",circledast:"⊛",oast:"⊛",circledcirc:"⊚",ocir:"⊚",circleddash:"⊝",odash:"⊝",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",clubs:"♣",clubsuit:"♣",colon:":",comma:",",commat:"@",comp:"∁",complement:"∁",congdot:"⩭",copf:"𝕔",copysr:"℗",crarr:"↵",cross:"✗",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",curlyeqprec:"⋞",cuesc:"⋟",curlyeqsucc:"⋟",cularr:"↶",curvearrowleft:"↶",cularrp:"⤽",cup:"∪",cupbrcap:"⩈",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curvearrowright:"↷",curarrm:"⤼",curlyvee:"⋎",cuvee:"⋎",curlywedge:"⋏",cuwed:"⋏",curren:"¤",cwint:"∱",cylcty:"⌭",dHar:"⥥",dagger:"†",daleth:"ℸ",dash:"‐",hyphen:"‐",dbkarow:"⤏",rBarr:"⤏",dcaron:"ď",dcy:"д",ddarr:"⇊",downdownarrows:"⇊",ddotseq:"⩷",eDDot:"⩷",deg:"°",delta:"δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",diamondsuit:"♦",diams:"♦",digamma:"ϝ",gammad:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",dlcorn:"⌞",llcorner:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",doteqdot:"≑",eDot:"≑",dotminus:"∸",minusd:"∸",dotplus:"∔",plusdo:"∔",dotsquare:"⊡",sdotb:"⊡",drcorn:"⌟",lrcorner:"⌟",drcrop:"⌌",dscr:"𝒹",dscy:"ѕ",dsol:"⧶",dstrok:"đ",dtdot:"⋱",dtri:"▿",triangledown:"▿",dwangle:"⦦",dzcy:"џ",dzigrarr:"⟿",eacute:"é",easter:"⩮",ecaron:"ě",ecir:"≖",eqcirc:"≖",ecirc:"ê",ecolon:"≕",eqcolon:"≕",ecy:"э",edot:"ė",efDot:"≒",fallingdotseq:"≒",efr:"𝔢",eg:"⪚",egrave:"è",egs:"⪖",eqslantgtr:"⪖",egsdot:"⪘",el:"⪙",elinters:"⏧",ell:"ℓ",els:"⪕",eqslantless:"⪕",elsdot:"⪗",emacr:"ē",empty:"∅",emptyset:"∅",emptyv:"∅",varnothing:"∅",emsp13:" ",emsp14:" ",emsp:" ",eng:"ŋ",ensp:" ",eogon:"ę",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",epsiv:"ϵ",straightepsilon:"ϵ",varepsilon:"ϵ",equals:"=",equest:"≟",questeq:"≟",equivDD:"⩸",eqvparsl:"⧥",erDot:"≓",risingdotseq:"≓",erarr:"⥱",escr:"ℯ",eta:"η",eth:"ð",euml:"ë",euro:"€",excl:"!",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",filig:"ﬁ",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",fork:"⋔",pitchfork:"⋔",forkv:"⫙",fpartint:"⨍",frac12:"½",half:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",sfrown:"⌢",fscr:"𝒻",gEl:"⪌",gtreqqless:"⪌",gacute:"ǵ",gamma:"γ",gap:"⪆",gtrapprox:"⪆",gbreve:"ğ",gcirc:"ĝ",gcy:"г",gdot:"ġ",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",gimel:"ℷ",gjcy:"ѓ",glE:"⪒",gla:"⪥",glj:"⪤",gnE:"≩",gneqq:"≩",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gneq:"⪈",gnsim:"⋧",gopf:"𝕘",gscr:"ℊ",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtrdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrarr:"⥸",gvertneqq:"≩︀",gvnE:"≩︀",hardcy:"ъ",harrcir:"⥈",harrw:"↭",leftrightsquigarrow:"↭",hbar:"ℏ",hslash:"ℏ",planck:"ℏ",plankv:"ℏ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",mldr:"…",hercon:"⊹",hfr:"𝔥",hksearow:"⤥",searhk:"⤥",hkswarow:"⤦",swarhk:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",larrhk:"↩",hookrightarrow:"↪",rarrhk:"↪",hopf:"𝕙",horbar:"―",hscr:"𝒽",hstrok:"ħ",hybull:"⁃",iacute:"í",icirc:"î",icy:"и",iecy:"е",iexcl:"¡",ifr:"𝔦",igrave:"ì",iiiint:"⨌",qint:"⨌",iiint:"∭",tint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",imacr:"ī",imath:"ı",inodot:"ı",imof:"⊷",imped:"Ƶ",incare:"℅",infin:"∞",infintie:"⧝",intcal:"⊺",intercal:"⊺",intlarhk:"⨗",intprod:"⨼",iprod:"⨼",iocy:"ё",iogon:"į",iopf:"𝕚",iota:"ι",iquest:"¿",iscr:"𝒾",isinE:"⋹",isindot:"⋵",isins:"⋴",isinsv:"⋳",itilde:"ĩ",iukcy:"і",iuml:"ï",jcirc:"ĵ",jcy:"й",jfr:"𝔧",jmath:"ȷ",jopf:"𝕛",jscr:"𝒿",jsercy:"ј",jukcy:"є",kappa:"κ",kappav:"ϰ",varkappa:"ϰ",kcedil:"ķ",kcy:"к",kfr:"𝔨",kgreen:"ĸ",khcy:"х",kjcy:"ќ",kopf:"𝕜",kscr:"𝓀",lAtail:"⤛",lBarr:"⤎",lEg:"⪋",lesseqqgtr:"⪋",lHar:"⥢",lacute:"ĺ",laemptyv:"⦴",lambda:"λ",langd:"⦑",lap:"⪅",lessapprox:"⪅",laquo:"«",larrbfs:"⤟",larrfs:"⤝",larrlp:"↫",looparrowleft:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",leftarrowtail:"↢",lat:"⪫",latail:"⤙",late:"⪭",lates:"⪭︀",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",lcedil:"ļ",lcy:"л",ldca:"⤶",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",leq:"≤",leftleftarrows:"⇇",llarr:"⇇",leftthreetimes:"⋋",lthree:"⋋",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessdot:"⋖",ltdot:"⋖",lfisht:"⥼",lfr:"𝔩",lgE:"⪑",lharul:"⥪",lhblk:"▄",ljcy:"љ",llhard:"⥫",lltri:"◺",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnE:"≨",lneqq:"≨",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lneq:"⪇",lnsim:"⋦",loang:"⟬",loarr:"⇽",longmapsto:"⟼",xmap:"⟼",looparrowright:"↬",rarrlp:"↬",lopar:"⦅",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",loz:"◊",lozenge:"◊",lpar:"(",lparlt:"⦓",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",lsime:"⪍",lsimg:"⪏",lsquor:"‚",sbquo:"‚",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltrPar:"⦖",ltri:"◃",triangleleft:"◃",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",mDDot:"∺",macr:"¯",strns:"¯",male:"♂",malt:"✠",maltese:"✠",marker:"▮",mcomma:"⨩",mcy:"м",mdash:"—",mfr:"𝔪",mho:"℧",micro:"µ",midcir:"⫰",minus:"−",minusdu:"⨪",mlcp:"⫛",models:"⊧",mopf:"𝕞",mscr:"𝓂",mu:"μ",multimap:"⊸",mumap:"⊸",nGg:"⋙̸",nGt:"≫⃒",nLeftarrow:"⇍",nlArr:"⇍",nLeftrightarrow:"⇎",nhArr:"⇎",nLl:"⋘̸",nLt:"≪⃒",nRightarrow:"⇏",nrArr:"⇏",nVDash:"⊯",nVdash:"⊮",nacute:"ń",nang:"∠⃒",napE:"⩰̸",napid:"≋̸",napos:"ŉ",natur:"♮",natural:"♮",ncap:"⩃",ncaron:"ň",ncedil:"ņ",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",ndash:"–",neArr:"⇗",nearhk:"⤤",nedot:"≐̸",nesear:"⤨",toea:"⤨",nfr:"𝔫",nharr:"↮",nleftrightarrow:"↮",nhpar:"⫲",nis:"⋼",nisd:"⋺",njcy:"њ",nlE:"≦̸",nleqq:"≦̸",nlarr:"↚",nleftarrow:"↚",nldr:"‥",nopf:"𝕟",not:"¬",notinE:"⋹̸",notindot:"⋵̸",notinvb:"⋷",notinvc:"⋶",notnivb:"⋾",notnivc:"⋽",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",nrarr:"↛",nrightarrow:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nscr:"𝓃",nsub:"⊄",nsubE:"⫅̸",nsubseteqq:"⫅̸",nsup:"⊅",nsupE:"⫆̸",nsupseteqq:"⫆̸",ntilde:"ñ",nu:"ν",num:"#",numero:"№",numsp:" ",nvDash:"⊭",nvHarr:"⤄",nvap:"≍⃒",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwArr:"⇖",nwarhk:"⤣",nwnear:"⤧",oacute:"ó",ocirc:"ô",ocy:"о",odblac:"ő",odiv:"⨸",odsold:"⦼",oelig:"œ",ofcir:"⦿",ofr:"𝔬",ogon:"˛",ograve:"ò",ogt:"⧁",ohbar:"⦵",olcir:"⦾",olcross:"⦻",olt:"⧀",omacr:"ō",omega:"ω",omicron:"ο",omid:"⦶",oopf:"𝕠",opar:"⦷",operp:"⦹",or:"∨",vee:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",oscr:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oslash:"ø",osol:"⊘",otilde:"õ",otimesas:"⨶",ouml:"ö",ovbar:"⌽",para:"¶",parsim:"⫳",parsl:"⫽",pcy:"п",percnt:"%",period:".",permil:"‰",pertenk:"‱",pfr:"𝔭",phi:"φ",phiv:"ϕ",straightphi:"ϕ",varphi:"ϕ",phone:"☎",pi:"π",piv:"ϖ",varpi:"ϖ",planckh:"ℎ",plus:"+",plusacir:"⨣",pluscir:"⨢",plusdu:"⨥",pluse:"⩲",plussim:"⨦",plustwo:"⨧",pointint:"⨕",popf:"𝕡",pound:"£",prE:"⪳",prap:"⪷",precapprox:"⪷",precnapprox:"⪹",prnap:"⪹",precneqq:"⪵",prnE:"⪵",precnsim:"⋨",prnsim:"⋨",prime:"′",profalar:"⌮",profline:"⌒",profsurf:"⌓",prurel:"⊰",pscr:"𝓅",psi:"ψ",puncsp:" ",qfr:"𝔮",qopf:"𝕢",qprime:"⁗",qscr:"𝓆",quatint:"⨖",quest:"?",rAtail:"⤜",rHar:"⥤",race:"∽̱",racute:"ŕ",raemptyv:"⦳",rangd:"⦒",range:"⦥",raquo:"»",rarrap:"⥵",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",rightarrowtail:"↣",rarrw:"↝",rightsquigarrow:"↝",ratail:"⤚",ratio:"∶",rbbrk:"❳",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",rcedil:"ŗ",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdsh:"↳",rect:"▭",rfisht:"⥽",rfr:"𝔯",rharul:"⥬",rho:"ρ",rhov:"ϱ",varrho:"ϱ",rightrightarrows:"⇉",rrarr:"⇉",rightthreetimes:"⋌",rthree:"⋌",ring:"˚",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",ropar:"⦆",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",rpar:")",rpargt:"⦔",rppolint:"⨒",rsaquo:"›",rscr:"𝓇",rtimes:"⋊",rtri:"▹",triangleright:"▹",rtriltri:"⧎",ruluhar:"⥨",rx:"℞",sacute:"ś",scE:"⪴",scap:"⪸",succapprox:"⪸",scaron:"š",scedil:"ş",scirc:"ŝ",scnE:"⪶",succneqq:"⪶",scnap:"⪺",succnapprox:"⪺",scnsim:"⋩",succnsim:"⋩",scpolint:"⨓",scy:"с",sdot:"⋅",sdote:"⩦",seArr:"⇘",sect:"§",semi:";",seswar:"⤩",tosa:"⤩",sext:"✶",sfr:"𝔰",sharp:"♯",shchcy:"щ",shcy:"ш",shy:"­",sigma:"σ",sigmaf:"ς",sigmav:"ς",varsigma:"ς",simdot:"⩪",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",smashp:"⨳",smeparsl:"⧤",smile:"⌣",ssmile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",spades:"♠",spadesuit:"♠",sqcaps:"⊓︀",sqcups:"⊔︀",sscr:"𝓈",star:"☆",sub:"⊂",subset:"⊂",subE:"⫅",subseteqq:"⫅",subdot:"⪽",subedot:"⫃",submult:"⫁",subnE:"⫋",subsetneqq:"⫋",subne:"⊊",subsetneq:"⊊",subplus:"⪿",subrarr:"⥹",subsim:"⫇",subsub:"⫕",subsup:"⫓",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",supE:"⫆",supseteqq:"⫆",supdot:"⪾",supdsub:"⫘",supedot:"⫄",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supsetneqq:"⫌",supne:"⊋",supsetneq:"⊋",supplus:"⫀",supsim:"⫈",supsub:"⫔",supsup:"⫖",swArr:"⇙",swnwar:"⤪",szlig:"ß",target:"⌖",tau:"τ",tcaron:"ť",tcedil:"ţ",tcy:"т",telrec:"⌕",tfr:"𝔱",theta:"θ",thetasym:"ϑ",thetav:"ϑ",vartheta:"ϑ",thorn:"þ",times:"×",timesbar:"⨱",timesd:"⨰",topbot:"⌶",topcir:"⫱",topf:"𝕥",topfork:"⫚",tprime:"‴",triangle:"▵",utri:"▵",triangleq:"≜",trie:"≜",tridot:"◬",triminus:"⨺",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",tscy:"ц",tshcy:"ћ",tstrok:"ŧ",uHar:"⥣",uacute:"ú",ubrcy:"ў",ubreve:"ŭ",ucirc:"û",ucy:"у",udblac:"ű",ufisht:"⥾",ufr:"𝔲",ugrave:"ù",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",uogon:"ų",uopf:"𝕦",upsi:"υ",upsilon:"υ",upuparrows:"⇈",uuarr:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",urtri:"◹",uscr:"𝓊",utdot:"⋰",utilde:"ũ",uuml:"ü",uwangle:"⦧",vBar:"⫨",vBarv:"⫩",vangrt:"⦜",varsubsetneq:"⊊︀",vsubne:"⊊︀",varsubsetneqq:"⫋︀",vsubnE:"⫋︀",varsupsetneq:"⊋︀",vsupne:"⊋︀",varsupsetneqq:"⫌︀",vsupnE:"⫌︀",vcy:"в",veebar:"⊻",veeeq:"≚",vellip:"⋮",vfr:"𝔳",vopf:"𝕧",vscr:"𝓋",vzigzag:"⦚",wcirc:"ŵ",wedbar:"⩟",wedgeq:"≙",weierp:"℘",wp:"℘",wfr:"𝔴",wopf:"𝕨",wscr:"𝓌",xfr:"𝔵",xi:"ξ",xnis:"⋻",xopf:"𝕩",xscr:"𝓍",yacute:"ý",yacy:"я",ycirc:"ŷ",ycy:"ы",yen:"¥",yfr:"𝔶",yicy:"ї",yopf:"𝕪",yscr:"𝓎",yucy:"ю",yuml:"ÿ",zacute:"ź",zcaron:"ž",zcy:"з",zdot:"ż",zeta:"ζ",zfr:"𝔷",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",zscr:"𝓏",zwj:"‍",zwnj:"‌"},uG="";Ec.ngsp=uG;var cG=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function dG(e,t){if(t!=null&&!(Array.isArray(t)&&t.length==2))throw new Error(`Expected '${e}' to be an array, [start, end].`);if(t!=null){let s=t[0],n=t[1];cG.forEach(o=>{if(o.test(s)||o.test(n))throw new Error(`['${s}', '${n}'] contains unusable interpolation symbol.`)})}}var pG=class Ox{static fromArray(t){return t?(dG("interpolation",t),new Ox(t[0],t[1])):Dx}constructor(t,s){this.start=t,this.end=s}},Dx=new pG("{{","}}"),ih=class extends yx{constructor(e,t,s){super(s,e),this.tokenType=t}},hG=class{constructor(e,t,s){this.tokens=e,this.errors=t,this.nonNormalizedIcuExpressions=s}};function mG(e,t,s,n={}){let o=new yG(new gx(e,t),s,n);return o.tokenize(),new hG(kG(o.tokens),o.errors,o.nonNormalizedIcuExpressions)}var fG=/\r\n?/g;function Ji(e){return`Unexpected character "${e===0?"EOF":String.fromCharCode(e)}"`}function iv(e){return`Unknown entity "${e}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function gG(e,t){return`Unable to parse entity "${t}" - ${e} character reference entities must end with ";"`}var xc;(function(e){e.HEX="hexadecimal",e.DEC="decimal"})(xc||(xc={}));var rh=class{constructor(t){this.error=t}},yG=class{constructor(e,t,s){this._getTagContentType=t,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this._fullNameStack=[],this.tokens=[],this.errors=[],this.nonNormalizedIcuExpressions=[],this._tokenizeIcu=s.tokenizeExpansionForms||!1,this._interpolationConfig=s.interpolationConfig||Dx,this._leadingTriviaCodePoints=s.leadingTriviaChars&&s.leadingTriviaChars.map(o=>o.codePointAt(0)||0),this._canSelfClose=s.canSelfClose||!1,this._allowHtmComponentClosingTags=s.allowHtmComponentClosingTags||!1;let n=s.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=s.escapedString?new EG(e,n):new Ax(e,n),this._preserveLineEndings=s.preserveLineEndings||!1,this._escapedString=s.escapedString||!1,this._i18nNormalizeLineEndingsInICUs=s.i18nNormalizeLineEndingsInICUs||!1;try{this._cursor.init()}catch(o){this.handleError(o)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(fG,`
`)}tokenize(){for(;this._cursor.peek()!==0;){let e=this._cursor.clone();try{if(this._attemptCharCode(60))if(this._attemptCharCode(33))this._attemptStr("[CDATA[")?this._consumeCdata(e):this._attemptStr("--")?this._consumeComment(e):this._attemptStrCaseInsensitive("doctype")?this._consumeDocType(e):this._consumeBogusComment(e);else if(this._attemptCharCode(47))this._consumeTagClose(e);else{let t=this._cursor.clone();this._attemptCharCode(63)?(this._cursor=t,this._consumeBogusComment(e)):this._consumeTagOpen(e)}else this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(t){this.handleError(t)}}this._beginToken(25),this._endToken([])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(TG(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===125){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,t=this._cursor.clone()){this._currentTokenStart=t,this._currentTokenType=e}_endToken(e,t){if(this._currentTokenStart===null)throw new ih("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(t));if(this._currentTokenType===null)throw new ih("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));let s={type:this._currentTokenType,parts:e,sourceSpan:(t??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(s),this._currentTokenStart=null,this._currentTokenType=null,s}_createError(e,t){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let s=new ih(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new rh(s)}handleError(e){if(e instanceof Tg&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof rh)this.errors.push(e.error);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return SG(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(Ji(this._cursor.peek()),this._cursor.getSpan(t))}_attemptStr(e){let t=e.length;if(this._cursor.charsLeft()<t)return!1;let s=this._cursor.clone();for(let n=0;n<t;n++)if(!this._attemptCharCode(e.charCodeAt(n)))return this._cursor=s,!1;return!0}_attemptStrCaseInsensitive(e){for(let t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}_requireStr(e){let t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(Ji(this._cursor.peek()),this._cursor.getSpan(t))}_requireStrCaseInsensitive(e){let t=this._cursor.clone();if(!this._attemptStrCaseInsensitive(e))throw this._createError(Ji(this._cursor.peek()),this._cursor.getSpan(t))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,t){let s=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(s)<t)throw this._createError(Ji(this._cursor.peek()),this._cursor.getSpan(s))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_consumeEntity(e){this._beginToken(9);let t=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(35)){let s=this._attemptCharCode(120)||this._attemptCharCode(88),n=this._cursor.clone();if(this._attemptCharCodeUntilFn(bG),this._cursor.peek()!=59){this._cursor.advance();let i=s?xc.HEX:xc.DEC;throw this._createError(gG(i,this._cursor.getChars(t)),this._cursor.getSpan())}let o=this._cursor.getChars(n);this._cursor.advance();try{let i=parseInt(o,s?16:10);this._endToken([String.fromCharCode(i),this._cursor.getChars(t)])}catch{throw this._createError(iv(this._cursor.getChars(t)),this._cursor.getSpan())}}else{let s=this._cursor.clone();if(this._attemptCharCodeUntilFn(vG),this._cursor.peek()!=59)this._beginToken(e,t),this._cursor=s,this._endToken(["&"]);else{let n=this._cursor.getChars(s);this._cursor.advance();let o=Ec[n];if(!o)throw this._createError(iv(n),this._cursor.getSpan(t));this._endToken([o,`&${n};`])}}}_consumeRawText(e,t){this._beginToken(e?6:7);let s=[];for(;;){let n=this._cursor.clone(),o=t();if(this._cursor=n,o)break;e&&this._cursor.peek()===38?(this._endToken([this._processCarriageReturns(s.join(""))]),s.length=0,this._consumeEntity(6),this._beginToken(6)):s.push(this._readChar())}this._endToken([this._processCarriageReturns(s.join(""))])}_consumeComment(e){this._beginToken(10,e),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeBogusComment(e){this._beginToken(10,e),this._endToken([]),this._consumeRawText(!1,()=>this._cursor.peek()===62),this._beginToken(11),this._cursor.advance(),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e),this._endToken([]),this._consumeRawText(!1,()=>this._cursor.peek()===62),this._beginToken(19),this._cursor.advance(),this._endToken([])}_consumePrefixAndName(){let e=this._cursor.clone(),t="";for(;this._cursor.peek()!==58&&!wG(this._cursor.peek());)this._cursor.advance();let s;this._cursor.peek()===58?(t=this._cursor.getChars(e),this._cursor.advance(),s=this._cursor.clone()):s=e,this._requireCharCodeUntilFn(rv,t===""?0:1);let n=this._cursor.getChars(s);return[t,n]}_consumeTagOpen(e){let t,s,n,o=[];try{if(!hx(this._cursor.peek()))throw this._createError(Ji(this._cursor.peek()),this._cursor.getSpan(e));for(n=this._consumeTagOpenStart(e),s=n.parts[0],t=n.parts[1],this._attemptCharCodeUntilFn(ms);this._cursor.peek()!==47&&this._cursor.peek()!==62&&this._cursor.peek()!==60&&this._cursor.peek()!==0;){let[r,l]=this._consumeAttributeName();if(this._attemptCharCodeUntilFn(ms),this._attemptCharCode(61)){this._attemptCharCodeUntilFn(ms);let m=this._consumeAttributeValue();o.push({prefix:r,name:l,value:m})}else o.push({prefix:r,name:l});this._attemptCharCodeUntilFn(ms)}this._consumeTagOpenEnd()}catch(r){if(r instanceof rh){n?n.type=4:(this._beginToken(5,e),this._endToken(["<"]));return}throw r}if(this._canSelfClose&&this.tokens[this.tokens.length-1].type===2)return;let i=this._getTagContentType(t,s,this._fullNameStack.length>0,o);this._handleFullNameStackForTagOpen(s,t),i===fn.RAW_TEXT?this._consumeRawTextWithTagClose(s,t,!1):i===fn.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(s,t,!0)}_consumeRawTextWithTagClose(e,t,s){this._consumeRawText(s,()=>!this._attemptCharCode(60)||!this._attemptCharCode(47)||(this._attemptCharCodeUntilFn(ms),!this._attemptStrCaseInsensitive(e?`${e}:${t}`:t))?!1:(this._attemptCharCodeUntilFn(ms),this._attemptCharCode(62))),this._beginToken(3),this._requireCharCodeUntilFn(n=>n===62,3),this._cursor.advance(),this._endToken([e,t]),this._handleFullNameStackForTagClose(e,t)}_consumeTagOpenStart(e){this._beginToken(0,e);let t=this._consumePrefixAndName();return this._endToken(t)}_consumeAttributeName(){let e=this._cursor.peek();if(e===39||e===34)throw this._createError(Ji(e),this._cursor.getSpan());this._beginToken(14);let t=this._consumePrefixAndName();return this._endToken(t),t}_consumeAttributeValue(){let e;if(this._cursor.peek()===39||this._cursor.peek()===34){let t=this._cursor.peek();this._consumeQuote(t);let s=()=>this._cursor.peek()===t;e=this._consumeWithInterpolation(16,17,s,s),this._consumeQuote(t)}else{let t=()=>rv(this._cursor.peek());e=this._consumeWithInterpolation(16,17,t,t)}return e}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(47)?2:1;this._beginToken(e),this._requireCharCode(62),this._endToken([])}_consumeTagClose(e){if(this._beginToken(3,e),this._attemptCharCodeUntilFn(ms),this._allowHtmComponentClosingTags&&this._attemptCharCode(47))this._attemptCharCodeUntilFn(ms),this._requireCharCode(62),this._endToken([]);else{let[t,s]=this._consumePrefixAndName();this._attemptCharCodeUntilFn(ms),this._requireCharCode(62),this._endToken([t,s]),this._handleFullNameStackForTagClose(t,s)}}_consumeExpansionFormStart(){this._beginToken(20),this._requireCharCode(123),this._endToken([]),this._expansionCaseStack.push(20),this._beginToken(7);let e=this._readUntil(44),t=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([t]);else{let n=this._endToken([e]);t!==e&&this.nonNormalizedIcuExpressions.push(n)}this._requireCharCode(44),this._attemptCharCodeUntilFn(ms),this._beginToken(7);let s=this._readUntil(44);this._endToken([s]),this._requireCharCode(44),this._attemptCharCodeUntilFn(ms)}_consumeExpansionCaseStart(){this._beginToken(21);let e=this._readUntil(123).trim();this._endToken([e]),this._attemptCharCodeUntilFn(ms),this._beginToken(22),this._requireCharCode(123),this._endToken([]),this._attemptCharCodeUntilFn(ms),this._expansionCaseStack.push(22)}_consumeExpansionCaseEnd(){this._beginToken(23),this._requireCharCode(125),this._endToken([]),this._attemptCharCodeUntilFn(ms),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(24),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,t,s,n){this._beginToken(e);let o=[];for(;!s();){let r=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(o.join(""))],r),o.length=0,this._consumeInterpolation(t,r,n),this._beginToken(e)):this._cursor.peek()===38?(this._endToken([this._processCarriageReturns(o.join(""))]),o.length=0,this._consumeEntity(e),this._beginToken(e)):o.push(this._readChar())}this._inInterpolation=!1;let i=this._processCarriageReturns(o.join(""));return this._endToken([i]),i}_consumeInterpolation(e,t,s){let n=[];this._beginToken(e,t),n.push(this._interpolationConfig.start);let o=this._cursor.clone(),i=null,r=!1;for(;this._cursor.peek()!==0&&(s===null||!s());){let l=this._cursor.clone();if(this._isTagStart()){this._cursor=l,n.push(this._getProcessedChars(o,l)),this._endToken(n);return}if(i===null)if(this._attemptStr(this._interpolationConfig.end)){n.push(this._getProcessedChars(o,l)),n.push(this._interpolationConfig.end),this._endToken(n);return}else this._attemptStr("//")&&(r=!0);let m=this._cursor.peek();this._cursor.advance(),m===92?this._cursor.advance():m===i?i=null:!r&&i===null&&xH(m)&&(i=m)}n.push(this._getProcessedChars(o,this._cursor)),this._endToken(n)}_getProcessedChars(e,t){return this._processCarriageReturns(t.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===0||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===125&&this._isInExpansionCase()))}_isTagStart(){if(this._cursor.peek()===60){let e=this._cursor.clone();e.advance();let t=e.peek();if(97<=t&&t<=122||65<=t&&t<=90||t===47||t===33)return!0}return!1}_readUntil(e){let t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===22}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===20}isExpansionFormStart(){if(this._cursor.peek()!==123)return!1;if(this._interpolationConfig){let e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}_handleFullNameStackForTagOpen(e,t){let s=kc(e,t);(this._fullNameStack.length===0||this._fullNameStack[this._fullNameStack.length-1]===s)&&this._fullNameStack.push(s)}_handleFullNameStackForTagClose(e,t){let s=kc(e,t);this._fullNameStack.length!==0&&this._fullNameStack[this._fullNameStack.length-1]===s&&this._fullNameStack.pop()}};function ms(e){return!px(e)||e===0}function rv(e){return px(e)||e===62||e===60||e===47||e===39||e===34||e===61||e===0}function wG(e){return(e<97||122<e)&&(e<65||90<e)&&(e<48||e>57)}function bG(e){return e===59||e===0||!EH(e)}function vG(e){return e===59||e===0||!hx(e)}function TG(e){return e!==125}function SG(e,t){return av(e)===av(t)}function av(e){return e>=97&&e<=122?e-97+65:e}function kG(e){let t=[],s;for(let n=0;n<e.length;n++){let o=e[n];s&&s.type===5&&o.type===5||s&&s.type===16&&o.type===16?(s.parts[0]+=o.parts[0],s.sourceSpan.end=o.sourceSpan.end):(s=o,t.push(s))}return t}var Ax=class Tm{constructor(t,s){if(t instanceof Tm){this.file=t.file,this.input=t.input,this.end=t.end;let n=t.state;this.state={peek:n.peek,offset:n.offset,line:n.line,column:n.column}}else{if(!s)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=t,this.input=t.content,this.end=s.endPos,this.state={peek:-1,offset:s.startPos,line:s.startLine,column:s.startCol}}}clone(){return new Tm(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(t){return this.state.offset-t.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(t,s){t=t||this;let n=t;if(s)for(;this.diff(t)>0&&s.indexOf(t.peek())!==-1;)n===t&&(t=t.clone()),t.advance();let o=this.locationFromCursor(t),i=this.locationFromCursor(this),r=n!==t?this.locationFromCursor(n):o;return new yt(o,i,r)}getChars(t){return this.input.substring(t.state.offset,this.state.offset)}charAt(t){return this.input.charCodeAt(t)}advanceState(t){if(t.offset>=this.end)throw this.state=t,new Tg('Unexpected character "EOF"',this);let s=this.charAt(t.offset);s===10?(t.line++,t.column=0):mx(s)||t.column++,t.offset++,this.updatePeek(t)}updatePeek(t){t.peek=t.offset>=this.end?0:this.charAt(t.offset)}locationFromCursor(t){return new ym(t.file,t.state.offset,t.state.line,t.state.column)}},EG=class Sm extends Ax{constructor(t,s){t instanceof Sm?(super(t),this.internalState={...t.internalState}):(super(t,s),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new Sm(this)}getChars(t){let s=t.clone(),n="";for(;s.internalState.offset<this.internalState.offset;)n+=String.fromCodePoint(s.peek()),s.advance();return n}processEscapeSequence(){let t=()=>this.internalState.peek;if(t()===92)if(this.internalState={...this.state},this.advanceState(this.internalState),t()===110)this.state.peek=10;else if(t()===114)this.state.peek=13;else if(t()===118)this.state.peek=11;else if(t()===116)this.state.peek=9;else if(t()===98)this.state.peek=8;else if(t()===102)this.state.peek=12;else if(t()===117)if(this.advanceState(this.internalState),t()===123){this.advanceState(this.internalState);let s=this.clone(),n=0;for(;t()!==125;)this.advanceState(this.internalState),n++;this.state.peek=this.decodeHexDigits(s,n)}else{let s=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(s,4)}else if(t()===120){this.advanceState(this.internalState);let s=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(s,2)}else if(Qb(t())){let s="",n=0,o=this.clone();for(;Qb(t())&&n<3;)o=this.clone(),s+=String.fromCodePoint(t()),this.advanceState(this.internalState),n++;this.state.peek=parseInt(s,8),this.internalState=o.internalState}else mx(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(t,s){let n=this.input.slice(t.internalState.offset,t.internalState.offset+s),o=parseInt(n,16);if(isNaN(o))throw t.state=t.internalState,new Tg("Invalid hexadecimal escape sequence",t);return o}},Tg=class{constructor(t,s){this.msg=t,this.cursor=s}},to=class $x extends yx{static create(t,s,n){return new $x(t,s,n)}constructor(t,s,n){super(s,n),this.elementName=t}},xG=class{constructor(e,t){this.rootNodes=e,this.errors=t}},CG=class{constructor(e){this.getTagDefinition=e}parse(e,t,s,n=!1,o){let i=w=>(S,...k)=>w(S.toLowerCase(),...k),r=n?this.getTagDefinition:i(this.getTagDefinition),l=w=>r(w).getContentType(),m=n?o:i(o),c=mG(e,t,o?(w,S,k,O)=>{let C=m(w,S,k,O);return C!==void 0?C:l(w)}:l,s),h=s&&s.canSelfClose||!1,p=s&&s.allowHtmComponentClosingTags||!1,g=new OG(c.tokens,r,h,p,n);return g.build(),new xG(g.rootNodes,c.errors.concat(g.errors))}},OG=class Nx{constructor(t,s,n,o,i){this.tokens=t,this.getTagDefinition=s,this.canSelfClose=n,this.allowHtmComponentClosingTags=o,this.isTagNameCaseSensitive=i,this._index=-1,this._elementStack=[],this.rootNodes=[],this.errors=[],this._advance()}build(){for(;this._peek.type!==25;)this._peek.type===0||this._peek.type===4?this._consumeStartTag(this._advance()):this._peek.type===3?(this._closeVoidElement(),this._consumeEndTag(this._advance())):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===20?this._consumeExpansion(this._advance()):this._peek.type===18?this._consumeDocType(this._advance()):this._advance()}_advance(){let t=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],t}_advanceIf(t){return this._peek.type===t?this._advance():null}_consumeCdata(t){let s=this._advance(),n=this._getText(s),o=this._advanceIf(13);this._addToParent(new tG(n,new yt(t.sourceSpan.start,(o||s).sourceSpan.end),[s]))}_consumeComment(t){let s=this._advanceIf(7),n=this._advanceIf(11),o=s!=null?s.parts[0].trim():null,i=new yt(t.sourceSpan.start,(n||s||t).sourceSpan.end);this._addToParent(new rG(o,i))}_consumeDocType(t){let s=this._advanceIf(7),n=this._advanceIf(19),o=s!=null?s.parts[0].trim():null,i=new yt(t.sourceSpan.start,(n||s||t).sourceSpan.end);this._addToParent(new aG(o,i))}_consumeExpansion(t){let s=this._advance(),n=this._advance(),o=[];for(;this._peek.type===21;){let r=this._parseExpansionCase();if(!r)return;o.push(r)}if(this._peek.type!==24){this.errors.push(to.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let i=new yt(t.sourceSpan.start,this._peek.sourceSpan.end,t.sourceSpan.fullStart);this._addToParent(new sG(s.parts[0],n.parts[0],o,i,s.sourceSpan)),this._advance()}_parseExpansionCase(){let t=this._advance();if(this._peek.type!==22)return this.errors.push(to.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let s=this._advance(),n=this._collectExpansionExpTokens(s);if(!n)return null;let o=this._advance();n.push({type:25,parts:[],sourceSpan:o.sourceSpan});let i=new Nx(n,this.getTagDefinition,this.canSelfClose,this.allowHtmComponentClosingTags,this.isTagNameCaseSensitive);if(i.build(),i.errors.length>0)return this.errors=this.errors.concat(i.errors),null;let r=new yt(t.sourceSpan.start,o.sourceSpan.end,t.sourceSpan.fullStart),l=new yt(s.sourceSpan.start,o.sourceSpan.end,s.sourceSpan.fullStart);return new nG(t.parts[0],i.rootNodes,r,t.sourceSpan,l)}_collectExpansionExpTokens(t){let s=[],n=[22];for(;;){if((this._peek.type===20||this._peek.type===22)&&n.push(this._peek.type),this._peek.type===23)if(lv(n,22)){if(n.pop(),n.length===0)return s}else return this.errors.push(to.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===24)if(lv(n,20))n.pop();else return this.errors.push(to.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===25)return this.errors.push(to.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;s.push(this._advance())}}_getText(t){let s=t.parts[0];if(s.length>0&&s[0]==`
`){let n=this._getParentElement();n!=null&&n.children.length==0&&this.getTagDefinition(n.name).ignoreFirstLf&&(s=s.substring(1))}return s}_consumeText(t){let s=[t],n=t.sourceSpan,o=t.parts[0];if(o.length>0&&o[0]===`
`){let i=this._getParentElement();i!=null&&i.children.length===0&&this.getTagDefinition(i.name).ignoreFirstLf&&(o=o.substring(1),s[0]={type:t.type,sourceSpan:t.sourceSpan,parts:[o]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)t=this._advance(),s.push(t),t.type===8?o+=t.parts.join("").replace(/&([^;]+);/g,uv):t.type===9?o+=t.parts[0]:o+=t.parts.join("");if(o.length>0){let i=t.sourceSpan;this._addToParent(new eG(o,new yt(n.start,i.end,n.fullStart,n.details),s))}}_closeVoidElement(){let t=this._getParentElement();t&&this.getTagDefinition(t.name).isVoid&&this._elementStack.pop()}_consumeStartTag(t){let[s,n]=t.parts,o=[];for(;this._peek.type===14;)o.push(this._consumeAttr(this._advance()));let i=this._getElementFullName(s,n,this._getParentElement()),r=!1;if(this._peek.type===2){this._advance(),r=!0;let g=this.getTagDefinition(i);this.canSelfClose||g.canSelfClose||Qu(i)!==null||g.isVoid||this.errors.push(to.create(i,t.sourceSpan,`Only void, custom and foreign elements can be self closed "${t.parts[1]}"`))}else this._peek.type===1&&(this._advance(),r=!1);let l=this._peek.sourceSpan.fullStart,m=new yt(t.sourceSpan.start,l,t.sourceSpan.fullStart),c=new yt(t.sourceSpan.start,l,t.sourceSpan.fullStart),h=new yt(t.sourceSpan.start.moveBy(1),t.sourceSpan.end),p=new iG(i,o,[],m,c,void 0,h);this._pushElement(p),r?this._popElement(i,m):t.type===4&&(this._popElement(i,null),this.errors.push(to.create(i,m,`Opening tag "${i}" not terminated.`)))}_pushElement(t){let s=this._getParentElement();s&&this.getTagDefinition(s.name).isClosedByChild(t.name)&&this._elementStack.pop(),this._addToParent(t),this._elementStack.push(t)}_consumeEndTag(t){let s=this.allowHtmComponentClosingTags&&t.parts.length===0?null:this._getElementFullName(t.parts[0],t.parts[1],this._getParentElement());if(s&&this.getTagDefinition(s).isVoid)this.errors.push(to.create(s,t.sourceSpan,`Void elements do not have end tags "${t.parts[1]}"`));else if(!this._popElement(s,t.sourceSpan)){let n=`Unexpected closing tag "${s}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(to.create(s,t.sourceSpan,n))}}_popElement(t,s){let n=!1;for(let o=this._elementStack.length-1;o>=0;o--){let i=this._elementStack[o];if(!t||(Qu(i.name)?i.name==t:i.name.toLowerCase()==t.toLowerCase()))return i.endSourceSpan=s,i.sourceSpan.end=s!==null?s.end:i.sourceSpan.end,this._elementStack.splice(o,this._elementStack.length-o),!n;this.getTagDefinition(i.name).closedByParent||(n=!0)}return!1}_consumeAttr(t){let s=kc(t.parts[0],t.parts[1]),n=t.sourceSpan.end,o;this._peek.type===15&&(o=this._advance());let i="",r=[],l,m;if(this._peek.type===16)for(l=this._peek.sourceSpan,m=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let h=this._advance();r.push(h),h.type===17?i+=h.parts.join("").replace(/&([^;]+);/g,uv):h.type===9?i+=h.parts[0]:i+=h.parts.join(""),m=n=h.sourceSpan.end}this._peek.type===15&&(m=n=this._advance().sourceSpan.end);let c=l&&m&&new yt((o==null?void 0:o.sourceSpan.start)??l.start,m,(o==null?void 0:o.sourceSpan.fullStart)??l.fullStart);return new oG(s,i,new yt(t.sourceSpan.start,n,t.sourceSpan.fullStart),t.sourceSpan,c,r.length>0?r:void 0,void 0)}_getParentElement(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}_addToParent(t){let s=this._getParentElement();s!=null?s.children.push(t):this.rootNodes.push(t)}_getElementFullName(t,s,n){if(t===""&&(t=this.getTagDefinition(s).implicitNamespacePrefix||"",t===""&&n!=null)){let o=Md(n.name)[1];this.getTagDefinition(o).preventNamespaceInheritance||(t=Qu(n.name))}return kc(t,s)}};function lv(e,t){return e.length>0&&e[e.length-1]===t}function uv(e,t){return Ec[t]!==void 0?Ec[t]||e:/^#x[a-f0-9]+$/i.test(t)?String.fromCodePoint(parseInt(t.slice(2),16)):/^#\d+$/.test(t)?String.fromCodePoint(parseInt(t.slice(1),10)):e}var DG=class extends CG{constructor(){super(vm)}parse(t,s,n,o=!1,i){return super.parse(t,s,n,o,i)}},ah=null,AG=()=>(ah||(ah=new DG),ah);function cv(e,t={}){let{canSelfClose:s=!1,allowHtmComponentClosingTags:n=!1,isTagNameCaseSensitive:o=!1,getTagContentType:i}=t;return AG().parse(e,"angular-html-parser",{tokenizeExpansionForms:!1,interpolationConfig:void 0,canSelfClose:s,allowHtmComponentClosingTags:n},o,i)}var $G=new RegExp("^(?<startDelimiter>-{3}|\\+{3})(?<language>[^\\n]*)\\n(?:|(?<value>.*?)\\n)(?<endDelimiter>\\k<startDelimiter>|\\.{3})[^\\S\\n]*(?:\\n|$)","s");function NG(e){let t=e.match($G);if(!t)return{content:e};let{startDelimiter:s,language:n,value:o="",endDelimiter:i}=t.groups,r=n.trim()||"yaml";if(s==="+++"&&(r="toml"),r!=="yaml"&&s!==i)return{content:e};let[l]=t;return{frontMatter:{type:"front-matter",lang:r,value:o,startDelimiter:s,endDelimiter:i,raw:l.replace(/\n$/,"")},content:Js(!1,l,/[^\n]/g," ")+e.slice(l.length)}}var _G=NG;function PG(e,t){let s=new SyntaxError(e+" ("+t.loc.start.line+":"+t.loc.start.column+")");return Object.assign(s,t)}var IG=PG,MG=new Set(["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"]),lh=new Map([["*",new Set(["accesskey","autocapitalize","autofocus","class","contenteditable","dir","draggable","enterkeyhint","hidden","id","inert","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","nonce","popover","slot","spellcheck","style","tabindex","title","translate"])],["a",new Set(["charset","coords","download","href","hreflang","name","ping","referrerpolicy","rel","rev","shape","target","type"])],["applet",new Set(["align","alt","archive","code","codebase","height","hspace","name","object","vspace","width"])],["area",new Set(["alt","coords","download","href","hreflang","nohref","ping","referrerpolicy","rel","shape","target","type"])],["audio",new Set(["autoplay","controls","crossorigin","loop","muted","preload","src"])],["base",new Set(["href","target"])],["basefont",new Set(["color","face","size"])],["blockquote",new Set(["cite"])],["body",new Set(["alink","background","bgcolor","link","text","vlink"])],["br",new Set(["clear"])],["button",new Set(["disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","popovertarget","popovertargetaction","type","value"])],["canvas",new Set(["height","width"])],["caption",new Set(["align"])],["col",new Set(["align","char","charoff","span","valign","width"])],["colgroup",new Set(["align","char","charoff","span","valign","width"])],["data",new Set(["value"])],["del",new Set(["cite","datetime"])],["details",new Set(["open"])],["dialog",new Set(["open"])],["dir",new Set(["compact"])],["div",new Set(["align"])],["dl",new Set(["compact"])],["embed",new Set(["height","src","type","width"])],["fieldset",new Set(["disabled","form","name"])],["font",new Set(["color","face","size"])],["form",new Set(["accept","accept-charset","action","autocomplete","enctype","method","name","novalidate","target"])],["frame",new Set(["frameborder","longdesc","marginheight","marginwidth","name","noresize","scrolling","src"])],["frameset",new Set(["cols","rows"])],["h1",new Set(["align"])],["h2",new Set(["align"])],["h3",new Set(["align"])],["h4",new Set(["align"])],["h5",new Set(["align"])],["h6",new Set(["align"])],["head",new Set(["profile"])],["hr",new Set(["align","noshade","size","width"])],["html",new Set(["manifest","version"])],["iframe",new Set(["align","allow","allowfullscreen","allowpaymentrequest","allowusermedia","frameborder","height","loading","longdesc","marginheight","marginwidth","name","referrerpolicy","sandbox","scrolling","src","srcdoc","width"])],["img",new Set(["align","alt","border","crossorigin","decoding","fetchpriority","height","hspace","ismap","loading","longdesc","name","referrerpolicy","sizes","src","srcset","usemap","vspace","width"])],["input",new Set(["accept","align","alt","autocomplete","checked","dirname","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","height","ismap","list","max","maxlength","min","minlength","multiple","name","pattern","placeholder","popovertarget","popovertargetaction","readonly","required","size","src","step","type","usemap","value","width"])],["ins",new Set(["cite","datetime"])],["isindex",new Set(["prompt"])],["label",new Set(["for","form"])],["legend",new Set(["align"])],["li",new Set(["type","value"])],["link",new Set(["as","blocking","charset","color","crossorigin","disabled","fetchpriority","href","hreflang","imagesizes","imagesrcset","integrity","media","referrerpolicy","rel","rev","sizes","target","type"])],["map",new Set(["name"])],["menu",new Set(["compact"])],["meta",new Set(["charset","content","http-equiv","media","name","scheme"])],["meter",new Set(["high","low","max","min","optimum","value"])],["object",new Set(["align","archive","border","classid","codebase","codetype","data","declare","form","height","hspace","name","standby","type","typemustmatch","usemap","vspace","width"])],["ol",new Set(["compact","reversed","start","type"])],["optgroup",new Set(["disabled","label"])],["option",new Set(["disabled","label","selected","value"])],["output",new Set(["for","form","name"])],["p",new Set(["align"])],["param",new Set(["name","type","value","valuetype"])],["pre",new Set(["width"])],["progress",new Set(["max","value"])],["q",new Set(["cite"])],["script",new Set(["async","blocking","charset","crossorigin","defer","fetchpriority","integrity","language","nomodule","referrerpolicy","src","type"])],["select",new Set(["autocomplete","disabled","form","multiple","name","required","size"])],["slot",new Set(["name"])],["source",new Set(["height","media","sizes","src","srcset","type","width"])],["style",new Set(["blocking","media","type"])],["table",new Set(["align","bgcolor","border","cellpadding","cellspacing","frame","rules","summary","width"])],["tbody",new Set(["align","char","charoff","valign"])],["td",new Set(["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"])],["textarea",new Set(["autocomplete","cols","dirname","disabled","form","maxlength","minlength","name","placeholder","readonly","required","rows","wrap"])],["tfoot",new Set(["align","char","charoff","valign"])],["th",new Set(["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"])],["thead",new Set(["align","char","charoff","valign"])],["time",new Set(["datetime"])],["tr",new Set(["align","bgcolor","char","charoff","valign"])],["track",new Set(["default","kind","label","src","srclang"])],["ul",new Set(["compact","type"])],["video",new Set(["autoplay","controls","crossorigin","height","loop","muted","playsinline","poster","preload","src","width"])]]),Su={attrs:!0,children:!0},dv=new Set(["parent"]),LG=class va{constructor(t={}){for(let s of new Set([...dv,...Object.keys(t)]))this.setProperty(s,t[s])}setProperty(t,s){if(this[t]!==s){if(t in Su&&(s=s.map(n=>this.createChild(n))),!dv.has(t)){this[t]=s;return}Object.defineProperty(this,t,{value:s,enumerable:!1,configurable:!0})}}map(t){let s;for(let n in Su){let o=this[n];if(o){let i=FG(o,r=>r.map(t));s!==o&&(s||(s=new va({parent:this.parent})),s.setProperty(n,i))}}if(s)for(let n in this)n in Su||(s[n]=this[n]);return t(s||this)}walk(t){for(let s in Su){let n=this[s];if(n)for(let o=0;o<n.length;o++)n[o].walk(t)}t(this)}createChild(t){let s=t instanceof va?t.clone():new va(t);return s.setProperty("parent",this),s}insertChildBefore(t,s){this.children.splice(this.children.indexOf(t),0,this.createChild(s))}removeChild(t){this.children.splice(this.children.indexOf(t),1)}replaceChild(t,s){this.children[this.children.indexOf(t)]=this.createChild(s)}clone(){return new va(this)}get firstChild(){var t;return(t=this.children)==null?void 0:t[0]}get lastChild(){var t;return(t=this.children)==null?void 0:t[this.children.length-1]}get prev(){var t;return(t=this.parent)==null?void 0:t.children[this.parent.children.indexOf(this)-1]}get next(){var t;return(t=this.parent)==null?void 0:t.children[this.parent.children.indexOf(this)+1]}get rawName(){return this.hasExplicitNamespace?this.fullName:this.name}get fullName(){return this.namespace?this.namespace+":"+this.name:this.name}get attrMap(){return Object.fromEntries(this.attrs.map(t=>[t.fullName,t.value]))}};function FG(e,t){let s=e.map(t);return s.some((n,o)=>n!==e[o])?s:e}var BG=[{regex:/^(\[if([^\]]*)]>)(.*?)<!\s*\[endif]$/s,parse:VG},{regex:/^\[if([^\]]*)]><!$/,parse:UG},{regex:/^<!\s*\[endif]$/,parse:WG}];function RG(e,t){if(e.value)for(let{regex:s,parse:n}of BG){let o=e.value.match(s);if(o)return n(e,t,o)}return null}function VG(e,t,s){let[,n,o,i]=s,r=4+n.length,l=e.sourceSpan.start.moveBy(r),m=l.moveBy(i.length),[c,h]=(()=>{try{return[!0,t(i,l).children]}catch{return[!1,[{type:"text",value:i,sourceSpan:new yt(l,m)}]]}})();return{type:"ieConditionalComment",complete:c,children:h,condition:Js(!1,o.trim(),/\s+/g," "),sourceSpan:e.sourceSpan,startSourceSpan:new yt(e.sourceSpan.start,l),endSourceSpan:new yt(m,e.sourceSpan.end)}}function UG(e,t,s){let[,n]=s;return{type:"ieConditionalStartComment",condition:Js(!1,n.trim(),/\s+/g," "),sourceSpan:e.sourceSpan}}function WG(e){return{type:"ieConditionalEndComment",sourceSpan:e.sourceSpan}}function _x(e,t,s){let{name:n,canSelfClose:o=!0,normalizeTagName:i=!1,normalizeAttributeName:r=!1,allowHtmComponentClosingTags:l=!1,isTagNameCaseSensitive:m=!1,shouldParseAsRawText:c}=t,{rootNodes:h,errors:p}=cv(e,{canSelfClose:o,allowHtmComponentClosingTags:l,isTagNameCaseSensitive:m,getTagContentType:c?(...A)=>c(...A)?fn.RAW_TEXT:void 0:void 0});if(n==="vue"){if(h.some(L=>L.type==="docType"&&L.value==="html"||L.type==="element"&&L.name.toLowerCase()==="html"))return _x(e,Ix,s);let A,T=()=>A??(A=cv(e,{canSelfClose:o,allowHtmComponentClosingTags:l,isTagNameCaseSensitive:m})),F=L=>T().rootNodes.find(({startSourceSpan:I})=>I&&I.start.offset===L.startSourceSpan.start.offset)??L;for(let[L,I]of h.entries()){let{endSourceSpan:j,startSourceSpan:q}=I;if(j===null)p=T().errors,h[L]=F(I);else if(jG(I,s)){let Q=T().errors.find(X=>X.span.start.offset>q.start.offset&&X.span.start.offset<j.end.offset);Q&&pv(Q),h[L]=F(I)}}}p.length>0&&pv(p[0]);let g=A=>{let T=A.name.startsWith(":")?A.name.slice(1).split(":")[0]:null,F=A.nameSpan.toString(),L=T!==null&&F.startsWith(`${T}:`),I=L?F.slice(T.length+1):F;A.name=I,A.namespace=T,A.hasExplicitNamespace=L},w=A=>{switch(A.type){case"element":g(A);for(let T of A.attrs)g(T),T.valueSpan?(T.value=T.valueSpan.toString(),/["']/.test(T.value[0])&&(T.value=T.value.slice(1,-1))):T.value=null;break;case"comment":A.value=A.sourceSpan.toString().slice(4,-3);break;case"text":A.value=A.sourceSpan.toString();break}},S=(A,T)=>{let F=A.toLowerCase();return T(F)?F:A},k=A=>{if(A.type==="element"&&(i&&(!A.namespace||A.namespace===A.tagDefinition.implicitNamespacePrefix||Za(A))&&(A.name=S(A.name,T=>MG.has(T))),r))for(let T of A.attrs)T.namespace||(T.name=S(T.name,F=>lh.has(A.name)&&(lh.get("*").has(F)||lh.get(A.name).has(F))))},O=A=>{A.sourceSpan&&A.endSourceSpan&&(A.sourceSpan=new yt(A.sourceSpan.start,A.endSourceSpan.end))},C=A=>{if(A.type==="element"){let T=vm(m?A.name:A.name.toLowerCase());!A.namespace||A.namespace===T.implicitNamespacePrefix||Za(A)?A.tagDefinition=T:A.tagDefinition=vm("")}};return Cx(new class extends lG{visit(A){w(A),C(A),k(A),O(A)}},h),h}function jG(e,t){var s;if(e.type!=="element"||e.name!=="template")return!1;let n=(s=e.attrs.find(o=>o.name==="lang"))==null?void 0:s.value;return!n||Od(t,{language:n})==="html"}function pv(e){let{msg:t,span:{start:s,end:n}}=e;throw IG(t,{loc:{start:{line:s.line+1,column:s.col+1},end:{line:n.line+1,column:n.col+1}},cause:e})}function Px(e,t,s={},n=!0){let{frontMatter:o,content:i}=n?_G(e):{frontMatter:null,content:e},r=new gx(e,s.filepath),l=new ym(r,0,0,0),m=l.moveBy(e.length),c={type:"root",sourceSpan:new yt(l,m),children:_x(i,t,s)};if(o){let g=new ym(r,0,0,0),w=g.moveBy(o.raw.length);o.sourceSpan=new yt(g,w),c.children.unshift(o)}let h=new LG(c),p=(g,w)=>{let{offset:S}=w,k=Js(!1,e.slice(0,S),/[^\n\r]/g," "),O=Px(k+g,t,s,!1);O.sourceSpan=new yt(w,dg(!1,O.children,-1).sourceSpan.end);let C=O.children[0];return C.length===S?O.children.shift():(C.sourceSpan=new yt(C.sourceSpan.start.moveBy(S),C.sourceSpan.end),C.value=C.value.slice(S)),O};return h.walk(g=>{if(g.type==="comment"){let w=RG(g,p);w&&g.parent.replaceChild(g,w)}}),h}function Ld(e){return{parse:(t,s)=>Px(t,e,s),hasPragma:WH,astFormat:"html",locStart:Ad,locEnd:$d}}var Ix={name:"html",normalizeTagName:!0,normalizeAttributeName:!0,allowHtmComponentClosingTags:!0},qG=Ld(Ix),zG=Ld({name:"angular"}),HG=Ld({name:"vue",isTagNameCaseSensitive:!0,shouldParseAsRawText(e,t,s,n){return e.toLowerCase()!=="html"&&!s&&(e!=="template"||n.some(({name:o,value:i})=>o==="lang"&&i!=="html"&&i!==""&&i!==void 0))}}),QG=Ld({name:"lwc",canSelfClose:!1}),GG=[{linguistLanguageId:146,name:"Angular",type:"markup",tmScope:"text.html.basic",aceMode:"html",codemirrorMode:"htmlmixed",codemirrorMimeType:"text/html",color:"#e34c26",aliases:["xhtml"],extensions:[".component.html"],parsers:["angular"],vscodeLanguageIds:["html"],filenames:[]},{linguistLanguageId:146,name:"HTML",type:"markup",tmScope:"text.html.basic",aceMode:"html",codemirrorMode:"htmlmixed",codemirrorMimeType:"text/html",color:"#e34c26",aliases:["xhtml"],extensions:[".html",".hta",".htm",".html.hl",".inc",".xht",".xhtml",".mjml"],parsers:["html"],vscodeLanguageIds:["html"]},{linguistLanguageId:146,name:"Lightning Web Components",type:"markup",tmScope:"text.html.basic",aceMode:"html",codemirrorMode:"htmlmixed",codemirrorMimeType:"text/html",color:"#e34c26",aliases:["xhtml"],extensions:[],parsers:["lwc"],vscodeLanguageIds:["html"],filenames:[]},{linguistLanguageId:391,name:"Vue",type:"markup",color:"#41b883",extensions:[".vue"],tmScope:"text.html.vue",aceMode:"html",parsers:["vue"],vscodeLanguageIds:["vue"]}],hv={bracketSpacing:{category:"Common",type:"boolean",default:!0,description:"Print spaces between brackets.",oppositeDescription:"Do not print spaces between brackets."},singleQuote:{category:"Common",type:"boolean",default:!1,description:"Use single quotes instead of double quotes."},proseWrap:{category:"Common",type:"choice",default:"preserve",description:"How to wrap prose.",choices:[{value:"always",description:"Wrap prose if it exceeds the print width."},{value:"never",description:"Do not wrap prose."},{value:"preserve",description:"Wrap prose as-is."}]},bracketSameLine:{category:"Common",type:"boolean",default:!1,description:"Put > of opening tags on the last line instead of on a new line."},singleAttributePerLine:{category:"Common",type:"boolean",default:!1,description:"Enforce single attribute per line in HTML, Vue and JSX."}},mv="HTML",YG={bracketSameLine:hv.bracketSameLine,htmlWhitespaceSensitivity:{category:mv,type:"choice",default:"css",description:"How to handle whitespaces in HTML.",choices:[{value:"css",description:"Respect the default value of CSS display property."},{value:"strict",description:"Whitespaces are considered sensitive."},{value:"ignore",description:"Whitespaces are considered insensitive."}]},singleAttributePerLine:hv.singleAttributePerLine,vueIndentScriptAndStyle:{category:mv,type:"boolean",default:!1,description:"Indent script and style tags in Vue files."}},XG=YG,KG={html:qQ},fv=QE,JG=Object.create,Sg=Object.defineProperty,ZG=Object.getOwnPropertyDescriptor,eY=Object.getOwnPropertyNames,tY=Object.getPrototypeOf,sY=Object.prototype.hasOwnProperty,Ne=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Mx=(e,t)=>{for(var s in t)Sg(e,s,{get:t[s],enumerable:!0})},nY=(e,t,s,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eY(t))!sY.call(e,o)&&o!==s&&Sg(e,o,{get:()=>t[o],enumerable:!(n=ZG(t,o))||n.enumerable});return e},Bi=(e,t,s)=>(s=e!=null?JG(tY(e)):{},nY(t||!e||!e.__esModule?Sg(s,"default",{value:e,enumerable:!0}):s,e)),oY=Ne(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.extract=h,e.parse=g,e.parseWithComments=w,e.print=S,e.strip=p;var t=/\*\/$/,s=/^\/\*\*?/,n=/^\s*(\/\*\*?(.|\r?\n)*?\*\/)/,o=/(^|\s+)\/\/([^\r\n]*)/g,i=/^(\r?\n)+/,r=/(?:^|\r?\n) *(@[^\r\n]*?) *\r?\n *(?![^@\r\n]*\/\/[^]*)([^@\r\n\s][^@\r\n]+?) *\r?\n/g,l=/(?:^|\r?\n) *@(\S+) *([^\r\n]*)/g,m=/(\r?\n|^) *\* ?/g,c=[];function h(O){let C=O.match(n);return C?C[0].trimLeft():""}function p(O){let C=O.match(n);return C&&C[0]?O.substring(C[0].length):O}function g(O){return w(O).pragmas}function w(O){let C=`
`;O=O.replace(s,"").replace(t,"").replace(m,"$1");let A="";for(;A!==O;)A=O,O=O.replace(r,`${C}$1 $2${C}`);O=O.replace(i,"").trimRight();let T=Object.create(null),F=O.replace(l,"").replace(i,"").trimRight(),L;for(;L=l.exec(O);){let I=L[2].replace(o,"");typeof T[L[1]]=="string"||Array.isArray(T[L[1]])?T[L[1]]=c.concat(T[L[1]],I):T[L[1]]=I}return{comments:F,pragmas:T}}function S({comments:O="",pragmas:C={}}){let A=`
`,T="/**",F=" *",L=" */",I=Object.keys(C),j=I.map(Q=>k(Q,C[Q])).reduce((Q,X)=>Q.concat(X),[]).map(Q=>`${F} ${Q}${A}`).join("");if(!O){if(I.length===0)return"";if(I.length===1&&!Array.isArray(C[I[0]])){let Q=C[I[0]];return`${T} ${k(I[0],Q)[0]}${L}`}}let q=O.split(A).map(Q=>`${F} ${Q}`).join(A)+A;return T+A+(O?q:"")+(O&&I.length?F+A:"")+j+L}function k(O,C){return c.concat(C).map(A=>`@${O} ${A}`.trim())}}),kg=Ne((e,t)=>{t.exports.isClean=Symbol("isClean"),t.exports.my=Symbol("my")}),iY=Ne((e,t)=>{var s=String,n=function(){return{isColorSupported:!1,reset:s,bold:s,dim:s,italic:s,underline:s,inverse:s,hidden:s,strikethrough:s,black:s,red:s,green:s,yellow:s,blue:s,magenta:s,cyan:s,white:s,gray:s,bgBlack:s,bgRed:s,bgGreen:s,bgYellow:s,bgBlue:s,bgMagenta:s,bgCyan:s,bgWhite:s}};t.exports=n(),t.exports.createColors=n}),Lx=Ne(()=>{}),Eg=Ne((e,t)=>{var s=iY(),n=Lx(),o=class Fx extends Error{constructor(r,l,m,c,h,p){super(r),this.name="CssSyntaxError",this.reason=r,h&&(this.file=h),c&&(this.source=c),p&&(this.plugin=p),typeof l<"u"&&typeof m<"u"&&(typeof l=="number"?(this.line=l,this.column=m):(this.line=l.line,this.column=l.column,this.endLine=m.line,this.endColumn=m.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,Fx)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(r){if(!this.source)return"";let l=this.source;r==null&&(r=s.isColorSupported),n&&r&&(l=n(l));let m=l.split(/\r?\n/),c=Math.max(this.line-3,0),h=Math.min(this.line+2,m.length),p=String(h).length,g,w;if(r){let{bold:S,red:k,gray:O}=s.createColors(!0);g=C=>S(k(C)),w=C=>O(C)}else g=w=S=>S;return m.slice(c,h).map((S,k)=>{let O=c+1+k,C=" "+(" "+O).slice(-p)+" | ";if(O===this.line){let A=w(C.replace(/\d/g," "))+S.slice(0,this.column-1).replace(/[^\t]/g," ");return g(">")+w(C)+S+`
 `+A+g("^")}return" "+w(C)+S}).join(`
`)}toString(){let r=this.showSourceCode();return r&&(r=`

`+r+`
`),this.name+": "+this.message+r}};t.exports=o,o.default=o}),xg=Ne((e,t)=>{var s={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function n(i){return i[0].toUpperCase()+i.slice(1)}var o=class{constructor(i){this.builder=i}stringify(i,r){if(!this[i.type])throw new Error("Unknown AST node type "+i.type+". Maybe you need to change PostCSS stringifier.");this[i.type](i,r)}document(i){this.body(i)}root(i){this.body(i),i.raws.after&&this.builder(i.raws.after)}comment(i){let r=this.raw(i,"left","commentLeft"),l=this.raw(i,"right","commentRight");this.builder("/*"+r+i.text+l+"*/",i)}decl(i,r){let l=this.raw(i,"between","colon"),m=i.prop+l+this.rawValue(i,"value");i.important&&(m+=i.raws.important||" !important"),r&&(m+=";"),this.builder(m,i)}rule(i){this.block(i,this.rawValue(i,"selector")),i.raws.ownSemicolon&&this.builder(i.raws.ownSemicolon,i,"end")}atrule(i,r){let l="@"+i.name,m=i.params?this.rawValue(i,"params"):"";if(typeof i.raws.afterName<"u"?l+=i.raws.afterName:m&&(l+=" "),i.nodes)this.block(i,l+m);else{let c=(i.raws.between||"")+(r?";":"");this.builder(l+m+c,i)}}body(i){let r=i.nodes.length-1;for(;r>0&&i.nodes[r].type==="comment";)r-=1;let l=this.raw(i,"semicolon");for(let m=0;m<i.nodes.length;m++){let c=i.nodes[m],h=this.raw(c,"before");h&&this.builder(h),this.stringify(c,r!==m||l)}}block(i,r){let l=this.raw(i,"between","beforeOpen");this.builder(r+l+"{",i,"start");let m;i.nodes&&i.nodes.length?(this.body(i),m=this.raw(i,"after")):m=this.raw(i,"after","emptyBody"),m&&this.builder(m),this.builder("}",i,"end")}raw(i,r,l){let m;if(l||(l=r),r&&(m=i.raws[r],typeof m<"u"))return m;let c=i.parent;if(l==="before"&&(!c||c.type==="root"&&c.first===i||c&&c.type==="document"))return"";if(!c)return s[l];let h=i.root();if(h.rawCache||(h.rawCache={}),typeof h.rawCache[l]<"u")return h.rawCache[l];if(l==="before"||l==="after")return this.beforeAfter(i,l);{let p="raw"+n(l);this[p]?m=this[p](h,i):h.walk(g=>{if(m=g.raws[r],typeof m<"u")return!1})}return typeof m>"u"&&(m=s[l]),h.rawCache[l]=m,m}rawSemicolon(i){let r;return i.walk(l=>{if(l.nodes&&l.nodes.length&&l.last.type==="decl"&&(r=l.raws.semicolon,typeof r<"u"))return!1}),r}rawEmptyBody(i){let r;return i.walk(l=>{if(l.nodes&&l.nodes.length===0&&(r=l.raws.after,typeof r<"u"))return!1}),r}rawIndent(i){if(i.raws.indent)return i.raws.indent;let r;return i.walk(l=>{let m=l.parent;if(m&&m!==i&&m.parent&&m.parent===i&&typeof l.raws.before<"u"){let c=l.raws.before.split(`
`);return r=c[c.length-1],r=r.replace(/\S/g,""),!1}}),r}rawBeforeComment(i,r){let l;return i.walkComments(m=>{if(typeof m.raws.before<"u")return l=m.raws.before,l.includes(`
`)&&(l=l.replace(/[^\n]+$/,"")),!1}),typeof l>"u"?l=this.raw(r,null,"beforeDecl"):l&&(l=l.replace(/\S/g,"")),l}rawBeforeDecl(i,r){let l;return i.walkDecls(m=>{if(typeof m.raws.before<"u")return l=m.raws.before,l.includes(`
`)&&(l=l.replace(/[^\n]+$/,"")),!1}),typeof l>"u"?l=this.raw(r,null,"beforeRule"):l&&(l=l.replace(/\S/g,"")),l}rawBeforeRule(i){let r;return i.walk(l=>{if(l.nodes&&(l.parent!==i||i.first!==l)&&typeof l.raws.before<"u")return r=l.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),r&&(r=r.replace(/\S/g,"")),r}rawBeforeClose(i){let r;return i.walk(l=>{if(l.nodes&&l.nodes.length>0&&typeof l.raws.after<"u")return r=l.raws.after,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(i){let r;return i.walk(l=>{if(l.type!=="decl"&&(r=l.raws.between,typeof r<"u"))return!1}),r}rawColon(i){let r;return i.walkDecls(l=>{if(typeof l.raws.between<"u")return r=l.raws.between.replace(/[^\s:]/g,""),!1}),r}beforeAfter(i,r){let l;i.type==="decl"?l=this.raw(i,null,"beforeDecl"):i.type==="comment"?l=this.raw(i,null,"beforeComment"):r==="before"?l=this.raw(i,null,"beforeRule"):l=this.raw(i,null,"beforeClose");let m=i.parent,c=0;for(;m&&m.type!=="root";)c+=1,m=m.parent;if(l.includes(`
`)){let h=this.raw(i,null,"indent");if(h.length)for(let p=0;p<c;p++)l+=h}return l}rawValue(i,r){let l=i[r],m=i.raws[r];return m&&m.value===l?m.raw:l}};t.exports=o,o.default=o}),Fd=Ne((e,t)=>{var s=xg();function n(o,i){new s(i).stringify(o)}t.exports=n,n.default=n}),Bd=Ne((e,t)=>{var{isClean:s,my:n}=kg(),o=Eg(),i=xg(),r=Fd();function l(c,h){let p=new c.constructor;for(let g in c){if(!Object.prototype.hasOwnProperty.call(c,g)||g==="proxyCache")continue;let w=c[g],S=typeof w;g==="parent"&&S==="object"?h&&(p[g]=h):g==="source"?p[g]=w:Array.isArray(w)?p[g]=w.map(k=>l(k,p)):(S==="object"&&w!==null&&(w=l(w)),p[g]=w)}return p}var m=class{constructor(c={}){this.raws={},this[s]=!1,this[n]=!0;for(let h in c)if(h==="nodes"){this.nodes=[];for(let p of c[h])typeof p.clone=="function"?this.append(p.clone()):this.append(p)}else this[h]=c[h]}error(c,h={}){if(this.source){let{start:p,end:g}=this.rangeBy(h);return this.source.input.error(c,{line:p.line,column:p.column},{line:g.line,column:g.column},h)}return new o(c)}warn(c,h,p){let g={node:this};for(let w in p)g[w]=p[w];return c.warn(h,g)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(c=r){c.stringify&&(c=c.stringify);let h="";return c(this,p=>{h+=p}),h}assign(c={}){for(let h in c)this[h]=c[h];return this}clone(c={}){let h=l(this);for(let p in c)h[p]=c[p];return h}cloneBefore(c={}){let h=this.clone(c);return this.parent.insertBefore(this,h),h}cloneAfter(c={}){let h=this.clone(c);return this.parent.insertAfter(this,h),h}replaceWith(...c){if(this.parent){let h=this,p=!1;for(let g of c)g===this?p=!0:p?(this.parent.insertAfter(h,g),h=g):this.parent.insertBefore(h,g);p||this.remove()}return this}next(){if(!this.parent)return;let c=this.parent.index(this);return this.parent.nodes[c+1]}prev(){if(!this.parent)return;let c=this.parent.index(this);return this.parent.nodes[c-1]}before(c){return this.parent.insertBefore(this,c),this}after(c){return this.parent.insertAfter(this,c),this}root(){let c=this;for(;c.parent&&c.parent.type!=="document";)c=c.parent;return c}raw(c,h){return new i().raw(this,c,h)}cleanRaws(c){delete this.raws.before,delete this.raws.after,c||delete this.raws.between}toJSON(c,h){let p={},g=h==null;h=h||new Map;let w=0;for(let S in this){if(!Object.prototype.hasOwnProperty.call(this,S)||S==="parent"||S==="proxyCache")continue;let k=this[S];if(Array.isArray(k))p[S]=k.map(O=>typeof O=="object"&&O.toJSON?O.toJSON(null,h):O);else if(typeof k=="object"&&k.toJSON)p[S]=k.toJSON(null,h);else if(S==="source"){let O=h.get(k.input);O==null&&(O=w,h.set(k.input,w),w++),p[S]={inputId:O,start:k.start,end:k.end}}else p[S]=k}return g&&(p.inputs=[...h.keys()].map(S=>S.toJSON())),p}positionInside(c){let h=this.toString(),p=this.source.start.column,g=this.source.start.line;for(let w=0;w<c;w++)h[w]===`
`?(p=1,g+=1):p+=1;return{line:g,column:p}}positionBy(c){let h=this.source.start;if(c.index)h=this.positionInside(c.index);else if(c.word){let p=this.toString().indexOf(c.word);p!==-1&&(h=this.positionInside(p))}return h}rangeBy(c){let h={line:this.source.start.line,column:this.source.start.column},p=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:h.line,column:h.column+1};if(c.word){let g=this.toString().indexOf(c.word);g!==-1&&(h=this.positionInside(g),p=this.positionInside(g+c.word.length))}else c.start?h={line:c.start.line,column:c.start.column}:c.index&&(h=this.positionInside(c.index)),c.end?p={line:c.end.line,column:c.end.column}:c.endIndex?p=this.positionInside(c.endIndex):c.index&&(p=this.positionInside(c.index+1));return(p.line<h.line||p.line===h.line&&p.column<=h.column)&&(p={line:h.line,column:h.column+1}),{start:h,end:p}}getProxyProcessor(){return{set(c,h,p){return c[h]===p||(c[h]=p,(h==="prop"||h==="value"||h==="name"||h==="params"||h==="important"||h==="text")&&c.markDirty()),!0},get(c,h){return h==="proxyOf"?c:h==="root"?()=>c.root().toProxy():c[h]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(c){if(c.postcssNode=this,c.stack&&this.source&&/\n\s{4}at /.test(c.stack)){let h=this.source;c.stack=c.stack.replace(/\n\s{4}at /,`$&${h.input.from}:${h.start.line}:${h.start.column}$&`)}return c}markDirty(){if(this[s]){this[s]=!1;let c=this;for(;c=c.parent;)c[s]=!1}}get proxyOf(){return this}};t.exports=m,m.default=m}),Rd=Ne((e,t)=>{var s=Bd(),n=class extends s{constructor(o){o&&typeof o.value<"u"&&typeof o.value!="string"&&(o={...o,value:String(o.value)}),super(o),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};t.exports=n,n.default=n}),Pl=Ne((e,t)=>{var s=Bd(),n=class extends s{constructor(o){super(o),this.type="comment"}};t.exports=n,n.default=n}),Ri=Ne((e,t)=>{var{isClean:s,my:n}=kg(),o=Rd(),i=Pl(),r=Bd(),l,m,c,h;function p(S){return S.map(k=>(k.nodes&&(k.nodes=p(k.nodes)),delete k.source,k))}function g(S){if(S[s]=!1,S.proxyOf.nodes)for(let k of S.proxyOf.nodes)g(k)}var w=class Bx extends r{push(k){return k.parent=this,this.proxyOf.nodes.push(k),this}each(k){if(!this.proxyOf.nodes)return;let O=this.getIterator(),C,A;for(;this.indexes[O]<this.proxyOf.nodes.length&&(C=this.indexes[O],A=k(this.proxyOf.nodes[C],C),A!==!1);)this.indexes[O]+=1;return delete this.indexes[O],A}walk(k){return this.each((O,C)=>{let A;try{A=k(O,C)}catch(T){throw O.addToError(T)}return A!==!1&&O.walk&&(A=O.walk(k)),A})}walkDecls(k,O){return O?k instanceof RegExp?this.walk((C,A)=>{if(C.type==="decl"&&k.test(C.prop))return O(C,A)}):this.walk((C,A)=>{if(C.type==="decl"&&C.prop===k)return O(C,A)}):(O=k,this.walk((C,A)=>{if(C.type==="decl")return O(C,A)}))}walkRules(k,O){return O?k instanceof RegExp?this.walk((C,A)=>{if(C.type==="rule"&&k.test(C.selector))return O(C,A)}):this.walk((C,A)=>{if(C.type==="rule"&&C.selector===k)return O(C,A)}):(O=k,this.walk((C,A)=>{if(C.type==="rule")return O(C,A)}))}walkAtRules(k,O){return O?k instanceof RegExp?this.walk((C,A)=>{if(C.type==="atrule"&&k.test(C.name))return O(C,A)}):this.walk((C,A)=>{if(C.type==="atrule"&&C.name===k)return O(C,A)}):(O=k,this.walk((C,A)=>{if(C.type==="atrule")return O(C,A)}))}walkComments(k){return this.walk((O,C)=>{if(O.type==="comment")return k(O,C)})}append(...k){for(let O of k){let C=this.normalize(O,this.last);for(let A of C)this.proxyOf.nodes.push(A)}return this.markDirty(),this}prepend(...k){k=k.reverse();for(let O of k){let C=this.normalize(O,this.first,"prepend").reverse();for(let A of C)this.proxyOf.nodes.unshift(A);for(let A in this.indexes)this.indexes[A]=this.indexes[A]+C.length}return this.markDirty(),this}cleanRaws(k){if(super.cleanRaws(k),this.nodes)for(let O of this.nodes)O.cleanRaws(k)}insertBefore(k,O){let C=this.index(k),A=C===0?"prepend":!1,T=this.normalize(O,this.proxyOf.nodes[C],A).reverse();C=this.index(k);for(let L of T)this.proxyOf.nodes.splice(C,0,L);let F;for(let L in this.indexes)F=this.indexes[L],C<=F&&(this.indexes[L]=F+T.length);return this.markDirty(),this}insertAfter(k,O){let C=this.index(k),A=this.normalize(O,this.proxyOf.nodes[C]).reverse();C=this.index(k);for(let F of A)this.proxyOf.nodes.splice(C+1,0,F);let T;for(let F in this.indexes)T=this.indexes[F],C<T&&(this.indexes[F]=T+A.length);return this.markDirty(),this}removeChild(k){k=this.index(k),this.proxyOf.nodes[k].parent=void 0,this.proxyOf.nodes.splice(k,1);let O;for(let C in this.indexes)O=this.indexes[C],O>=k&&(this.indexes[C]=O-1);return this.markDirty(),this}removeAll(){for(let k of this.proxyOf.nodes)k.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(k,O,C){return C||(C=O,O={}),this.walkDecls(A=>{O.props&&!O.props.includes(A.prop)||O.fast&&!A.value.includes(O.fast)||(A.value=A.value.replace(k,C))}),this.markDirty(),this}every(k){return this.nodes.every(k)}some(k){return this.nodes.some(k)}index(k){return typeof k=="number"?k:(k.proxyOf&&(k=k.proxyOf),this.proxyOf.nodes.indexOf(k))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(k,O){if(typeof k=="string")k=p(l(k).nodes);else if(Array.isArray(k)){k=k.slice(0);for(let C of k)C.parent&&C.parent.removeChild(C,"ignore")}else if(k.type==="root"&&this.type!=="document"){k=k.nodes.slice(0);for(let C of k)C.parent&&C.parent.removeChild(C,"ignore")}else if(k.type)k=[k];else if(k.prop){if(typeof k.value>"u")throw new Error("Value field is missed in node creation");typeof k.value!="string"&&(k.value=String(k.value)),k=[new o(k)]}else if(k.selector)k=[new m(k)];else if(k.name)k=[new c(k)];else if(k.text)k=[new i(k)];else throw new Error("Unknown node type in node creation");return k.map(C=>(C[n]||Bx.rebuild(C),C=C.proxyOf,C.parent&&C.parent.removeChild(C),C[s]&&g(C),typeof C.raws.before>"u"&&O&&typeof O.raws.before<"u"&&(C.raws.before=O.raws.before.replace(/\S/g,"")),C.parent=this.proxyOf,C))}getProxyProcessor(){return{set(k,O,C){return k[O]===C||(k[O]=C,(O==="name"||O==="params"||O==="selector")&&k.markDirty()),!0},get(k,O){return O==="proxyOf"?k:k[O]?O==="each"||typeof O=="string"&&O.startsWith("walk")?(...C)=>k[O](...C.map(A=>typeof A=="function"?(T,F)=>A(T.toProxy(),F):A)):O==="every"||O==="some"?C=>k[O]((A,...T)=>C(A.toProxy(),...T)):O==="root"?()=>k.root().toProxy():O==="nodes"?k.nodes.map(C=>C.toProxy()):O==="first"||O==="last"?k[O].toProxy():k[O]:k[O]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let k=this.lastEach;return this.indexes[k]=0,k}};w.registerParse=S=>{l=S},w.registerRule=S=>{m=S},w.registerAtRule=S=>{c=S},w.registerRoot=S=>{h=S},t.exports=w,w.default=w,w.rebuild=S=>{S.type==="atrule"?Object.setPrototypeOf(S,c.prototype):S.type==="rule"?Object.setPrototypeOf(S,m.prototype):S.type==="decl"?Object.setPrototypeOf(S,o.prototype):S.type==="comment"?Object.setPrototypeOf(S,i.prototype):S.type==="root"&&Object.setPrototypeOf(S,h.prototype),S[n]=!0,S.nodes&&S.nodes.forEach(k=>{w.rebuild(k)})}}),Cg=Ne((e,t)=>{var s="'".charCodeAt(0),n='"'.charCodeAt(0),o="\\".charCodeAt(0),i="/".charCodeAt(0),r=`
`.charCodeAt(0),l=" ".charCodeAt(0),m="\f".charCodeAt(0),c="	".charCodeAt(0),h="\r".charCodeAt(0),p="[".charCodeAt(0),g="]".charCodeAt(0),w="(".charCodeAt(0),S=")".charCodeAt(0),k="{".charCodeAt(0),O="}".charCodeAt(0),C=";".charCodeAt(0),A="*".charCodeAt(0),T=":".charCodeAt(0),F="@".charCodeAt(0),L=/[\t\n\f\r "#'()/;[\\\]{}]/g,I=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,j=/.[\n"'(/\\]/,q=/[\da-f]/i;t.exports=function(Q,X={}){let U=Q.css.valueOf(),ne=X.ignoreErrors,ie,M,z,K,oe,ve,ae,ce,pe,ge,Ae=U.length,ue=0,Ce=[],re=[];function de(){return ue}function se(et){throw Q.error("Unclosed "+et,ue)}function he(){return re.length===0&&ue>=Ae}function le(et){if(re.length)return re.pop();if(ue>=Ae)return;let Tt=et?et.ignoreUnclosed:!1;switch(ie=U.charCodeAt(ue),ie){case r:case l:case c:case h:case m:{M=ue;do M+=1,ie=U.charCodeAt(M);while(ie===l||ie===r||ie===c||ie===h||ie===m);ge=["space",U.slice(ue,M)],ue=M-1;break}case p:case g:case k:case O:case T:case C:case S:{let Bt=String.fromCharCode(ie);ge=[Bt,Bt,ue];break}case w:{if(ce=Ce.length?Ce.pop()[1]:"",pe=U.charCodeAt(ue+1),ce==="url"&&pe!==s&&pe!==n&&pe!==l&&pe!==r&&pe!==c&&pe!==m&&pe!==h){M=ue;do{if(ve=!1,M=U.indexOf(")",M+1),M===-1)if(ne||Tt){M=ue;break}else se("bracket");for(ae=M;U.charCodeAt(ae-1)===o;)ae-=1,ve=!ve}while(ve);ge=["brackets",U.slice(ue,M+1),ue,M],ue=M}else M=U.indexOf(")",ue+1),K=U.slice(ue,M+1),M===-1||j.test(K)?ge=["(","(",ue]:(ge=["brackets",K,ue,M],ue=M);break}case s:case n:{z=ie===s?"'":'"',M=ue;do{if(ve=!1,M=U.indexOf(z,M+1),M===-1)if(ne||Tt){M=ue+1;break}else se("string");for(ae=M;U.charCodeAt(ae-1)===o;)ae-=1,ve=!ve}while(ve);ge=["string",U.slice(ue,M+1),ue,M],ue=M;break}case F:{L.lastIndex=ue+1,L.test(U),L.lastIndex===0?M=U.length-1:M=L.lastIndex-2,ge=["at-word",U.slice(ue,M+1),ue,M],ue=M;break}case o:{for(M=ue,oe=!0;U.charCodeAt(M+1)===o;)M+=1,oe=!oe;if(ie=U.charCodeAt(M+1),oe&&ie!==i&&ie!==l&&ie!==r&&ie!==c&&ie!==h&&ie!==m&&(M+=1,q.test(U.charAt(M)))){for(;q.test(U.charAt(M+1));)M+=1;U.charCodeAt(M+1)===l&&(M+=1)}ge=["word",U.slice(ue,M+1),ue,M],ue=M;break}default:{ie===i&&U.charCodeAt(ue+1)===A?(M=U.indexOf("*/",ue+2)+1,M===0&&(ne||Tt?M=U.length:se("comment")),ge=["comment",U.slice(ue,M+1),ue,M],ue=M):(I.lastIndex=ue+1,I.test(U),I.lastIndex===0?M=U.length-1:M=I.lastIndex-2,ge=["word",U.slice(ue,M+1),ue,M],Ce.push(ge),ue=M);break}}return ue++,ge}function Je(et){re.push(et)}return{back:Je,nextToken:le,endOfFile:he,position:de}}}),Og=Ne((e,t)=>{var s=Ri(),n=class extends s{constructor(o){super(o),this.type="atrule"}append(...o){return this.proxyOf.nodes||(this.nodes=[]),super.append(...o)}prepend(...o){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...o)}};t.exports=n,n.default=n,s.registerAtRule(n)}),Il=Ne((e,t)=>{var s=Ri(),n,o,i=class extends s{constructor(r){super(r),this.type="root",this.nodes||(this.nodes=[])}removeChild(r,l){let m=this.index(r);return!l&&m===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[m].raws.before),super.removeChild(r)}normalize(r,l,m){let c=super.normalize(r);if(l){if(m==="prepend")this.nodes.length>1?l.raws.before=this.nodes[1].raws.before:delete l.raws.before;else if(this.first!==l)for(let h of c)h.raws.before=l.raws.before}return c}toResult(r={}){return new n(new o,this,r).stringify()}};i.registerLazyResult=r=>{n=r},i.registerProcessor=r=>{o=r},t.exports=i,i.default=i,s.registerRoot(i)}),Rx=Ne((e,t)=>{var s={split(n,o,i){let r=[],l="",m=!1,c=0,h=!1,p="",g=!1;for(let w of n)g?g=!1:w==="\\"?g=!0:h?w===p&&(h=!1):w==='"'||w==="'"?(h=!0,p=w):w==="("?c+=1:w===")"?c>0&&(c-=1):c===0&&o.includes(w)&&(m=!0),m?(l!==""&&r.push(l.trim()),l="",m=!1):l+=w;return(i||l!=="")&&r.push(l.trim()),r},space(n){let o=[" ",`
`,"	"];return s.split(n,o)},comma(n){return s.split(n,[","],!0)}};t.exports=s,s.default=s}),Dg=Ne((e,t)=>{var s=Ri(),n=Rx(),o=class extends s{constructor(i){super(i),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return n.comma(this.selector)}set selectors(i){let r=this.selector?this.selector.match(/,\s*/):null,l=r?r[0]:","+this.raw("between","beforeOpen");this.selector=i.join(l)}};t.exports=o,o.default=o,s.registerRule(o)}),Ag=Ne((e,t)=>{var s=Rd(),n=Cg(),o=Pl(),i=Og(),r=Il(),l=Dg(),m={empty:!0,space:!0};function c(p){for(let g=p.length-1;g>=0;g--){let w=p[g],S=w[3]||w[2];if(S)return S}}var h=class{constructor(p){this.input=p,this.root=new r,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:p,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=n(this.input)}parse(){let p;for(;!this.tokenizer.endOfFile();)switch(p=this.tokenizer.nextToken(),p[0]){case"space":this.spaces+=p[1];break;case";":this.freeSemicolon(p);break;case"}":this.end(p);break;case"comment":this.comment(p);break;case"at-word":this.atrule(p);break;case"{":this.emptyRule(p);break;default:this.other(p);break}this.endFile()}comment(p){let g=new o;this.init(g,p[2]),g.source.end=this.getPosition(p[3]||p[2]);let w=p[1].slice(2,-2);if(/^\s*$/.test(w))g.text="",g.raws.left=w,g.raws.right="";else{let S=w.match(/^(\s*)([^]*\S)(\s*)$/);g.text=S[2],g.raws.left=S[1],g.raws.right=S[3]}}emptyRule(p){let g=new l;this.init(g,p[2]),g.selector="",g.raws.between="",this.current=g}other(p){let g=!1,w=null,S=!1,k=null,O=[],C=p[1].startsWith("--"),A=[],T=p;for(;T;){if(w=T[0],A.push(T),w==="("||w==="[")k||(k=T),O.push(w==="("?")":"]");else if(C&&S&&w==="{")k||(k=T),O.push("}");else if(O.length===0)if(w===";")if(S){this.decl(A,C);return}else break;else if(w==="{"){this.rule(A);return}else if(w==="}"){this.tokenizer.back(A.pop()),g=!0;break}else w===":"&&(S=!0);else w===O[O.length-1]&&(O.pop(),O.length===0&&(k=null));T=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(g=!0),O.length>0&&this.unclosedBracket(k),g&&S){if(!C)for(;A.length&&(T=A[A.length-1][0],!(T!=="space"&&T!=="comment"));)this.tokenizer.back(A.pop());this.decl(A,C)}else this.unknownWord(A)}rule(p){p.pop();let g=new l;this.init(g,p[0][2]),g.raws.between=this.spacesAndCommentsFromEnd(p),this.raw(g,"selector",p),this.current=g}decl(p,g){let w=new s;this.init(w,p[0][2]);let S=p[p.length-1];for(S[0]===";"&&(this.semicolon=!0,p.pop()),w.source.end=this.getPosition(S[3]||S[2]||c(p));p[0][0]!=="word";)p.length===1&&this.unknownWord(p),w.raws.before+=p.shift()[1];for(w.source.start=this.getPosition(p[0][2]),w.prop="";p.length;){let A=p[0][0];if(A===":"||A==="space"||A==="comment")break;w.prop+=p.shift()[1]}w.raws.between="";let k;for(;p.length;)if(k=p.shift(),k[0]===":"){w.raws.between+=k[1];break}else k[0]==="word"&&/\w/.test(k[1])&&this.unknownWord([k]),w.raws.between+=k[1];(w.prop[0]==="_"||w.prop[0]==="*")&&(w.raws.before+=w.prop[0],w.prop=w.prop.slice(1));let O=[],C;for(;p.length&&(C=p[0][0],!(C!=="space"&&C!=="comment"));)O.push(p.shift());this.precheckMissedSemicolon(p);for(let A=p.length-1;A>=0;A--){if(k=p[A],k[1].toLowerCase()==="!important"){w.important=!0;let T=this.stringFrom(p,A);T=this.spacesFromEnd(p)+T,T!==" !important"&&(w.raws.important=T);break}else if(k[1].toLowerCase()==="important"){let T=p.slice(0),F="";for(let L=A;L>0;L--){let I=T[L][0];if(F.trim().indexOf("!")===0&&I!=="space")break;F=T.pop()[1]+F}F.trim().indexOf("!")===0&&(w.important=!0,w.raws.important=F,p=T)}if(k[0]!=="space"&&k[0]!=="comment")break}p.some(A=>A[0]!=="space"&&A[0]!=="comment")&&(w.raws.between+=O.map(A=>A[1]).join(""),O=[]),this.raw(w,"value",O.concat(p),g),w.value.includes(":")&&!g&&this.checkMissedSemicolon(p)}atrule(p){let g=new i;g.name=p[1].slice(1),g.name===""&&this.unnamedAtrule(g,p),this.init(g,p[2]);let w,S,k,O=!1,C=!1,A=[],T=[];for(;!this.tokenizer.endOfFile();){if(p=this.tokenizer.nextToken(),w=p[0],w==="("||w==="["?T.push(w==="("?")":"]"):w==="{"&&T.length>0?T.push("}"):w===T[T.length-1]&&T.pop(),T.length===0)if(w===";"){g.source.end=this.getPosition(p[2]),this.semicolon=!0;break}else if(w==="{"){C=!0;break}else if(w==="}"){if(A.length>0){for(k=A.length-1,S=A[k];S&&S[0]==="space";)S=A[--k];S&&(g.source.end=this.getPosition(S[3]||S[2]))}this.end(p);break}else A.push(p);else A.push(p);if(this.tokenizer.endOfFile()){O=!0;break}}g.raws.between=this.spacesAndCommentsFromEnd(A),A.length?(g.raws.afterName=this.spacesAndCommentsFromStart(A),this.raw(g,"params",A),O&&(p=A[A.length-1],g.source.end=this.getPosition(p[3]||p[2]),this.spaces=g.raws.between,g.raws.between="")):(g.raws.afterName="",g.params=""),C&&(g.nodes=[],this.current=g)}end(p){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(p[2]),this.current=this.current.parent):this.unexpectedClose(p)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(p){if(this.spaces+=p[1],this.current.nodes){let g=this.current.nodes[this.current.nodes.length-1];g&&g.type==="rule"&&!g.raws.ownSemicolon&&(g.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(p){let g=this.input.fromOffset(p);return{offset:p,line:g.line,column:g.col}}init(p,g){this.current.push(p),p.source={start:this.getPosition(g),input:this.input},p.raws.before=this.spaces,this.spaces="",p.type!=="comment"&&(this.semicolon=!1)}raw(p,g,w,S){let k,O,C=w.length,A="",T=!0,F,L;for(let I=0;I<C;I+=1)k=w[I],O=k[0],O==="space"&&I===C-1&&!S?T=!1:O==="comment"?(L=w[I-1]?w[I-1][0]:"empty",F=w[I+1]?w[I+1][0]:"empty",!m[L]&&!m[F]?A.slice(-1)===","?T=!1:A+=k[1]:T=!1):A+=k[1];if(!T){let I=w.reduce((j,q)=>j+q[1],"");p.raws[g]={value:A,raw:I}}p[g]=A}spacesAndCommentsFromEnd(p){let g,w="";for(;p.length&&(g=p[p.length-1][0],!(g!=="space"&&g!=="comment"));)w=p.pop()[1]+w;return w}spacesAndCommentsFromStart(p){let g,w="";for(;p.length&&(g=p[0][0],!(g!=="space"&&g!=="comment"));)w+=p.shift()[1];return w}spacesFromEnd(p){let g,w="";for(;p.length&&(g=p[p.length-1][0],g==="space");)w=p.pop()[1]+w;return w}stringFrom(p,g){let w="";for(let S=g;S<p.length;S++)w+=p[S][1];return p.splice(g,p.length-g),w}colon(p){let g=0,w,S,k;for(let[O,C]of p.entries()){if(w=C,S=w[0],S==="("&&(g+=1),S===")"&&(g-=1),g===0&&S===":")if(!k)this.doubleColon(w);else{if(k[0]==="word"&&k[1]==="progid")continue;return O}k=w}return!1}unclosedBracket(p){throw this.input.error("Unclosed bracket",{offset:p[2]},{offset:p[2]+1})}unknownWord(p){throw this.input.error("Unknown word",{offset:p[0][2]},{offset:p[0][2]+p[0][1].length})}unexpectedClose(p){throw this.input.error("Unexpected }",{offset:p[2]},{offset:p[2]+1})}unclosedBlock(){let p=this.current.source.start;throw this.input.error("Unclosed block",p.line,p.column)}doubleColon(p){throw this.input.error("Double colon",{offset:p[2]},{offset:p[2]+p[1].length})}unnamedAtrule(p,g){throw this.input.error("At-rule without name",{offset:g[2]},{offset:g[2]+g[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(p){let g=this.colon(p);if(g===!1)return;let w=0,S;for(let k=g-1;k>=0&&(S=p[k],!(S[0]!=="space"&&(w+=1,w===2)));k--);throw this.input.error("Missed semicolon",S[0]==="word"?S[3]+1:S[2])}};t.exports=h}),rY=Ne(()=>{}),aY=Ne((e,t)=>{var s="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",n=(i,r=21)=>(l=r)=>{let m="",c=l;for(;c--;)m+=i[Math.random()*i.length|0];return m},o=(i=21)=>{let r="",l=i;for(;l--;)r+=s[Math.random()*64|0];return r};t.exports={nanoid:o,customAlphabet:n}}),Vx=Ne((e,t)=>{t.exports=class{}}),Ml=Ne((e,t)=>{var{SourceMapConsumer:s,SourceMapGenerator:n}=rY(),{fileURLToPath:o,pathToFileURL:i}={},{resolve:r,isAbsolute:l}={},{nanoid:m}=aY(),c=Lx(),h=Eg(),p=Vx(),g=Symbol("fromOffsetCache"),w=!!(s&&n),S=!!(r&&l),k=class{constructor(O,C={}){if(O===null||typeof O>"u"||typeof O=="object"&&!O.toString)throw new Error(`PostCSS received ${O} instead of CSS string`);if(this.css=O.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,C.from&&(!S||/^\w+:\/\//.test(C.from)||l(C.from)?this.file=C.from:this.file=r(C.from)),S&&w){let A=new p(this.css,C);if(A.text){this.map=A;let T=A.consumer().file;!this.file&&T&&(this.file=this.mapResolve(T))}}this.file||(this.id="<input css "+m(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(O){let C,A;if(this[g])A=this[g];else{let F=this.css.split(`
`);A=new Array(F.length);let L=0;for(let I=0,j=F.length;I<j;I++)A[I]=L,L+=F[I].length+1;this[g]=A}C=A[A.length-1];let T=0;if(O>=C)T=A.length-1;else{let F=A.length-2,L;for(;T<F;)if(L=T+(F-T>>1),O<A[L])F=L-1;else if(O>=A[L+1])T=L+1;else{T=L;break}}return{line:T+1,col:O-A[T]+1}}error(O,C,A,T={}){let F,L,I;if(C&&typeof C=="object"){let q=C,Q=A;if(typeof q.offset=="number"){let X=this.fromOffset(q.offset);C=X.line,A=X.col}else C=q.line,A=q.column;if(typeof Q.offset=="number"){let X=this.fromOffset(Q.offset);L=X.line,I=X.col}else L=Q.line,I=Q.column}else if(!A){let q=this.fromOffset(C);C=q.line,A=q.col}let j=this.origin(C,A,L,I);return j?F=new h(O,j.endLine===void 0?j.line:{line:j.line,column:j.column},j.endLine===void 0?j.column:{line:j.endLine,column:j.endColumn},j.source,j.file,T.plugin):F=new h(O,L===void 0?C:{line:C,column:A},L===void 0?A:{line:L,column:I},this.css,this.file,T.plugin),F.input={line:C,column:A,endLine:L,endColumn:I,source:this.css},this.file&&(i&&(F.input.url=i(this.file).toString()),F.input.file=this.file),F}origin(O,C,A,T){if(!this.map)return!1;let F=this.map.consumer(),L=F.originalPositionFor({line:O,column:C});if(!L.source)return!1;let I;typeof A=="number"&&(I=F.originalPositionFor({line:A,column:T}));let j;l(L.source)?j=i(L.source):j=new URL(L.source,this.map.consumer().sourceRoot||i(this.map.mapFile));let q={url:j.toString(),line:L.line,column:L.column,endLine:I&&I.line,endColumn:I&&I.column};if(j.protocol==="file:")if(o)q.file=o(j);else throw new Error("file: protocol is not available in this PostCSS build");let Q=F.sourceContentFor(L.source);return Q&&(q.source=Q),q}mapResolve(O){return/^\w+:\/\//.test(O)?O:r(this.map.consumer().sourceRoot||this.map.root||".",O)}get from(){return this.file||this.id}toJSON(){let O={};for(let C of["hasBOM","css","file","id"])this[C]!=null&&(O[C]=this[C]);return this.map&&(O.map={...this.map},O.map.consumerCache&&(O.map.consumerCache=void 0)),O}};t.exports=k,k.default=k,c&&c.registerInput&&c.registerInput(k)}),Vd=Ne((e,t)=>{var s=Ri(),n=Ag(),o=Ml();function i(r,l){let m=new o(r,l),c=new n(m);try{c.parse()}catch(h){throw h}return c.root}t.exports=i,i.default=i,s.registerParse(i)}),lY=Ne((e,t)=>{var s=Cg(),n=Ml();t.exports={isInlineComment(o){if(o[0]==="word"&&o[1].slice(0,2)==="//"){let i=o,r=[],l,m;for(;o;){if(/\r?\n/.test(o[1])){if(/['"].*\r?\n/.test(o[1])){r.push(o[1].substring(0,o[1].indexOf(`
`))),m=o[1].substring(o[1].indexOf(`
`));let h=this.input.css.valueOf().substring(this.tokenizer.position());m+=h,l=o[3]+h.length-m.length}else this.tokenizer.back(o);break}r.push(o[1]),l=o[2],o=this.tokenizer.nextToken({ignoreUnclosed:!0})}let c=["comment",r.join(""),i[2],l];return this.inlineComment(c),m&&(this.input=new n(m),this.tokenizer=s(this.input)),!0}else if(o[1]==="/"){let i=this.tokenizer.nextToken({ignoreUnclosed:!0});if(i[0]==="comment"&&/^\/\*/.test(i[1]))return i[0]="word",i[1]=i[1].slice(1),o[1]="//",this.tokenizer.back(i),t.exports.isInlineComment.bind(this)(o)}return!1}}}),uY=Ne((e,t)=>{t.exports={interpolation(s){let n=[s,this.tokenizer.nextToken()],o=["word","}"];if(n[0][1].length>1||n[1][0]!=="{")return this.tokenizer.back(n[1]),!1;for(s=this.tokenizer.nextToken();s&&o.includes(s[0]);)n.push(s),s=this.tokenizer.nextToken();let i=n.map(c=>c[1]),[r]=n,l=n.pop(),m=["word",i.join(""),r[2],l[2]];return this.tokenizer.back(s),this.tokenizer.back(m),!0}}}),cY=Ne((e,t)=>{var s=/^#[0-9a-fA-F]{6}$|^#[0-9a-fA-F]{3}$/,n=/\.[0-9]/,o=i=>{let[,r]=i,[l]=r;return(l==="."||l==="#")&&s.test(r)===!1&&n.test(r)===!1};t.exports={isMixinToken:o}}),dY=Ne((e,t)=>{var s=Cg(),n=/^url\((.+)\)/;t.exports=o=>{let{name:i,params:r=""}=o;if(i==="import"&&r.length){o.import=!0;let l=s({css:r});for(o.filename=r.replace(n,"$1");!l.endOfFile();){let[m,c]=l.nextToken();if(m==="word"&&c==="url")return;if(m==="brackets"){o.options=c,o.filename=r.replace(c,"").trim();break}}}}}),pY=Ne((e,t)=>{var s=/:$/,n=/^:(\s+)?/;t.exports=o=>{let{name:i,params:r=""}=o;if(o.name.slice(-1)===":"){if(s.test(i)){let[l]=i.match(s);o.name=i.replace(l,""),o.raws.afterName=l+(o.raws.afterName||""),o.variable=!0,o.value=o.params}if(n.test(r)){let[l]=r.match(n);o.value=r.replace(l,""),o.raws.afterName=(o.raws.afterName||"")+l,o.variable=!0}}}}),hY=Ne((e,t)=>{var s=Pl(),n=Ag(),{isInlineComment:o}=lY(),{interpolation:i}=uY(),{isMixinToken:r}=cY(),l=dY(),m=pY(),c=/(!\s*important)$/i;t.exports=class extends n{constructor(...h){super(...h),this.lastNode=null}atrule(h){i.bind(this)(h)||(super.atrule(h),l(this.lastNode),m(this.lastNode))}decl(...h){super.decl(...h),/extend\(.+\)/i.test(this.lastNode.value)&&(this.lastNode.extend=!0)}each(h){h[0][1]=` ${h[0][1]}`;let p=h.findIndex(k=>k[0]==="("),g=h.reverse().find(k=>k[0]===")"),w=h.reverse().indexOf(g),S=h.splice(p,w).map(k=>k[1]).join("");for(let k of h.reverse())this.tokenizer.back(k);this.atrule(this.tokenizer.nextToken()),this.lastNode.function=!0,this.lastNode.params=S}init(h,p,g){super.init(h,p,g),this.lastNode=h}inlineComment(h){let p=new s,g=h[1].slice(2);if(this.init(p,h[2]),p.source.end=this.getPosition(h[3]||h[2]),p.inline=!0,p.raws.begin="//",/^\s*$/.test(g))p.text="",p.raws.left=g,p.raws.right="";else{let w=g.match(/^(\s*)([^]*[^\s])(\s*)$/);[,p.raws.left,p.text,p.raws.right]=w}}mixin(h){let[p]=h,g=p[1].slice(0,1),w=h.findIndex(A=>A[0]==="brackets"),S=h.findIndex(A=>A[0]==="("),k="";if((w<0||w>3)&&S>0){let A=h.reduce((U,ne,ie)=>ne[0]===")"?ie:U),T=h.slice(S,A+S).map(U=>U[1]).join(""),[F]=h.slice(S),L=[F[2],F[3]],[I]=h.slice(A,A+1),j=[I[2],I[3]],q=["brackets",T].concat(L,j),Q=h.slice(0,S),X=h.slice(A+1);h=Q,h.push(q),h=h.concat(X)}let O=[];for(let A of h)if((A[1]==="!"||O.length)&&O.push(A),A[1]==="important")break;if(O.length){let[A]=O,T=h.indexOf(A),F=O[O.length-1],L=[A[2],A[3]],I=[F[4],F[5]],j=["word",O.map(q=>q[1]).join("")].concat(L,I);h.splice(T,O.length,j)}let C=h.findIndex(A=>c.test(A[1]));C>0&&([,k]=h[C],h.splice(C,1));for(let A of h.reverse())this.tokenizer.back(A);this.atrule(this.tokenizer.nextToken()),this.lastNode.mixin=!0,this.lastNode.raws.identifier=g,k&&(this.lastNode.important=!0,this.lastNode.raws.important=k)}other(h){o.bind(this)(h)||super.other(h)}rule(h){let p=h[h.length-1],g=h[h.length-2];if(g[0]==="at-word"&&p[0]==="{"&&(this.tokenizer.back(p),i.bind(this)(g))){let w=this.tokenizer.nextToken();h=h.slice(0,h.length-2).concat([w]);for(let S of h.reverse())this.tokenizer.back(S);return}super.rule(h),/:extend\(.+\)/i.test(this.lastNode.selector)&&(this.lastNode.extend=!0)}unknownWord(h){let[p]=h;if(h[0][1]==="each"&&h[1][0]==="("){this.each(h);return}if(r(p)){this.mixin(h);return}super.unknownWord(h)}}}),mY=Ne((e,t)=>{var s=xg();t.exports=class extends s{atrule(n,o){if(!n.mixin&&!n.variable&&!n.function){super.atrule(n,o);return}let i=`${n.function?"":n.raws.identifier||"@"}${n.name}`,r=n.params?this.rawValue(n,"params"):"",l=n.raws.important||"";if(n.variable&&(r=n.value),typeof n.raws.afterName<"u"?i+=n.raws.afterName:r&&(i+=" "),n.nodes)this.block(n,i+r+l);else{let m=(n.raws.between||"")+l+(o?";":"");this.builder(i+r+m,n)}}comment(n){if(n.inline){let o=this.raw(n,"left","commentLeft"),i=this.raw(n,"right","commentRight");this.builder(`//${o}${n.text}${i}`,n)}else super.comment(n)}}}),fY=Ne((e,t)=>{var s=Ml(),n=hY(),o=mY();t.exports={parse(i,r){let l=new s(i,r),m=new n(l);return m.parse(),m.root.walk(c=>{let h=l.css.lastIndexOf(c.source.input.css);if(h===0)return;if(h+c.source.input.css.length!==l.css.length)throw new Error("Invalid state detected in postcss-less");let p=h+c.source.start.offset,g=l.fromOffset(h+c.source.start.offset);if(c.source.start={offset:p,line:g.line,column:g.col},c.source.end){let w=h+c.source.end.offset,S=l.fromOffset(h+c.source.end.offset);c.source.end={offset:w,line:S.line,column:S.col}}}),m.root},stringify(i,r){new o(r).stringify(i)},nodeToString(i){let r="";return t.exports.stringify(i,l=>{r+=l}),r}}}),Ux=Ne((e,t)=>{t.exports=class{generate(){}}}),$g=Ne((e,t)=>{var s=Ri(),n,o,i=class extends s{constructor(r){super({type:"document",...r}),this.nodes||(this.nodes=[])}toResult(r={}){return new n(new o,this,r).stringify()}};i.registerLazyResult=r=>{n=r},i.registerProcessor=r=>{o=r},t.exports=i,i.default=i}),Wx=Ne((e,t)=>{var s={};t.exports=function(n){s[n]||(s[n]=!0,typeof console<"u"&&console.warn&&console.warn(n))}}),jx=Ne((e,t)=>{var s=class{constructor(n,o={}){if(this.type="warning",this.text=n,o.node&&o.node.source){let i=o.node.rangeBy(o);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in o)this[i]=o[i]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};t.exports=s,s.default=s}),Ng=Ne((e,t)=>{var s=jx(),n=class{constructor(o,i,r){this.processor=o,this.messages=[],this.root=i,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(o,i={}){i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);let r=new s(o,i);return this.messages.push(r),r}warnings(){return this.messages.filter(o=>o.type==="warning")}get content(){return this.css}};t.exports=n,n.default=n}),qx=Ne((e,t)=>{var{isClean:s,my:n}=kg(),o=Ux(),i=Fd(),r=Ri(),l=$g();Wx();var m=Ng(),c=Vd(),h=Il(),p={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},g={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},w={postcssPlugin:!0,prepare:!0,Once:!0},S=0;function k(L){return typeof L=="object"&&typeof L.then=="function"}function O(L){let I=!1,j=p[L.type];return L.type==="decl"?I=L.prop.toLowerCase():L.type==="atrule"&&(I=L.name.toLowerCase()),I&&L.append?[j,j+"-"+I,S,j+"Exit",j+"Exit-"+I]:I?[j,j+"-"+I,j+"Exit",j+"Exit-"+I]:L.append?[j,S,j+"Exit"]:[j,j+"Exit"]}function C(L){let I;return L.type==="document"?I=["Document",S,"DocumentExit"]:L.type==="root"?I=["Root",S,"RootExit"]:I=O(L),{node:L,events:I,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function A(L){return L[s]=!1,L.nodes&&L.nodes.forEach(I=>A(I)),L}var T={},F=class zx{constructor(I,j,q){this.stringified=!1,this.processed=!1;let Q;if(typeof j=="object"&&j!==null&&(j.type==="root"||j.type==="document"))Q=A(j);else if(j instanceof zx||j instanceof m)Q=A(j.root),j.map&&(typeof q.map>"u"&&(q.map={}),q.map.inline||(q.map.inline=!1),q.map.prev=j.map);else{let X=c;q.syntax&&(X=q.syntax.parse),q.parser&&(X=q.parser),X.parse&&(X=X.parse);try{Q=X(j,q)}catch(U){this.processed=!0,this.error=U}Q&&!Q[n]&&r.rebuild(Q)}this.result=new m(I,Q,q),this.helpers={...T,result:this.result,postcss:T},this.plugins=this.processor.plugins.map(X=>typeof X=="object"&&X.prepare?{...X,...X.prepare(this.result)}:X)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(I,j){return this.async().then(I,j)}catch(I){return this.async().catch(I)}finally(I){return this.async().then(I,I)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let I of this.plugins){let j=this.runOnRoot(I);if(k(j))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let I=this.result.root;for(;!I[s];)I[s]=!0,this.walkSync(I);if(this.listeners.OnceExit)if(I.type==="document")for(let j of I.nodes)this.visitSync(this.listeners.OnceExit,j);else this.visitSync(this.listeners.OnceExit,I)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let I=this.result.opts,j=i;I.syntax&&(j=I.syntax.stringify),I.stringifier&&(j=I.stringifier),j.stringify&&(j=j.stringify);let q=new o(j,this.result.root,this.result.opts).generate();return this.result.css=q[0],this.result.map=q[1],this.result}walkSync(I){I[s]=!0;let j=O(I);for(let q of j)if(q===S)I.nodes&&I.each(Q=>{Q[s]||this.walkSync(Q)});else{let Q=this.listeners[q];if(Q&&this.visitSync(Q,I.toProxy()))return}}visitSync(I,j){for(let[q,Q]of I){this.result.lastPlugin=q;let X;try{X=Q(j,this.helpers)}catch(U){throw this.handleError(U,j.proxyOf)}if(j.type!=="root"&&j.type!=="document"&&!j.parent)return!0;if(k(X))throw this.getAsyncError()}}runOnRoot(I){this.result.lastPlugin=I;try{if(typeof I=="object"&&I.Once){if(this.result.root.type==="document"){let j=this.result.root.nodes.map(q=>I.Once(q,this.helpers));return k(j[0])?Promise.all(j):j}return I.Once(this.result.root,this.helpers)}else if(typeof I=="function")return I(this.result.root,this.result)}catch(j){throw this.handleError(j)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(I,j){let q=this.result.lastPlugin;try{j&&j.addToError(I),this.error=I,I.name==="CssSyntaxError"&&!I.plugin?(I.plugin=q.postcssPlugin,I.setMessage()):q.postcssVersion}catch(Q){console&&console.error&&console.error(Q)}return I}async runAsync(){this.plugin=0;for(let I=0;I<this.plugins.length;I++){let j=this.plugins[I],q=this.runOnRoot(j);if(k(q))try{await q}catch(Q){throw this.handleError(Q)}}if(this.prepareVisitors(),this.hasListener){let I=this.result.root;for(;!I[s];){I[s]=!0;let j=[C(I)];for(;j.length>0;){let q=this.visitTick(j);if(k(q))try{await q}catch(Q){let X=j[j.length-1].node;throw this.handleError(Q,X)}}}if(this.listeners.OnceExit)for(let[j,q]of this.listeners.OnceExit){this.result.lastPlugin=j;try{if(I.type==="document"){let Q=I.nodes.map(X=>q(X,this.helpers));await Promise.all(Q)}else await q(I,this.helpers)}catch(Q){throw this.handleError(Q)}}}return this.processed=!0,this.stringify()}prepareVisitors(){this.listeners={};let I=(j,q,Q)=>{this.listeners[q]||(this.listeners[q]=[]),this.listeners[q].push([j,Q])};for(let j of this.plugins)if(typeof j=="object")for(let q in j){if(!g[q]&&/^[A-Z]/.test(q))throw new Error(`Unknown event ${q} in ${j.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!w[q])if(typeof j[q]=="object")for(let Q in j[q])Q==="*"?I(j,q,j[q][Q]):I(j,q+"-"+Q.toLowerCase(),j[q][Q]);else typeof j[q]=="function"&&I(j,q,j[q])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(I){let j=I[I.length-1],{node:q,visitors:Q}=j;if(q.type!=="root"&&q.type!=="document"&&!q.parent){I.pop();return}if(Q.length>0&&j.visitorIndex<Q.length){let[U,ne]=Q[j.visitorIndex];j.visitorIndex+=1,j.visitorIndex===Q.length&&(j.visitors=[],j.visitorIndex=0),this.result.lastPlugin=U;try{return ne(q.toProxy(),this.helpers)}catch(ie){throw this.handleError(ie,q)}}if(j.iterator!==0){let U=j.iterator,ne;for(;ne=q.nodes[q.indexes[U]];)if(q.indexes[U]+=1,!ne[s]){ne[s]=!0,I.push(C(ne));return}j.iterator=0,delete q.indexes[U]}let X=j.events;for(;j.eventIndex<X.length;){let U=X[j.eventIndex];if(j.eventIndex+=1,U===S){q.nodes&&q.nodes.length&&(q[s]=!0,j.iterator=q.getIterator());return}else if(this.listeners[U]){j.visitors=this.listeners[U];return}}I.pop()}};F.registerPostcss=L=>{T=L},t.exports=F,F.default=F,h.registerLazyResult(F),l.registerLazyResult(F)}),gY=Ne((e,t)=>{var s=Ux(),n=Fd();Wx();var o=Vd(),i=Ng(),r=class{constructor(l,m,c){m=m.toString(),this.stringified=!1,this._processor=l,this._css=m,this._opts=c,this._map=void 0;let h,p=n;this.result=new i(this._processor,h,this._opts),this.result.css=m;let g=this;Object.defineProperty(this.result,"root",{get(){return g.root}});let w=new s(p,h,this._opts,m);if(w.isMap()){let[S,k]=w.generate();S&&(this.result.css=S),k&&(this.result.map=k)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let l,m=o;try{l=m(this._css,this._opts)}catch(c){this.error=c}if(this.error)throw this.error;return this._root=l,l}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(l,m){return this.async().then(l,m)}catch(l){return this.async().catch(l)}finally(l){return this.async().then(l,l)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}};t.exports=r,r.default=r}),yY=Ne((e,t)=>{var s=gY(),n=qx(),o=$g(),i=Il(),r=class{constructor(l=[]){this.version="8.4.24",this.plugins=this.normalize(l)}use(l){return this.plugins=this.plugins.concat(this.normalize([l])),this}process(l,m={}){return this.plugins.length===0&&typeof m.parser>"u"&&typeof m.stringifier>"u"&&typeof m.syntax>"u"?new s(this,l,m):new n(this,l,m)}normalize(l){let m=[];for(let c of l)if(c.postcss===!0?c=c():c.postcss&&(c=c.postcss),typeof c=="object"&&Array.isArray(c.plugins))m=m.concat(c.plugins);else if(typeof c=="object"&&c.postcssPlugin)m.push(c);else if(typeof c=="function")m.push(c);else if(!(typeof c=="object"&&(c.parse||c.stringify)))throw new Error(c+" is not a PostCSS plugin");return m}};t.exports=r,r.default=r,i.registerProcessor(r),o.registerProcessor(r)}),wY=Ne((e,t)=>{var s=Rd(),n=Vx(),o=Pl(),i=Og(),r=Ml(),l=Il(),m=Dg();function c(h,p){if(Array.isArray(h))return h.map(S=>c(S));let{inputs:g,...w}=h;if(g){p=[];for(let S of g){let k={...S,__proto__:r.prototype};k.map&&(k.map={...k.map,__proto__:n.prototype}),p.push(k)}}if(w.nodes&&(w.nodes=h.nodes.map(S=>c(S,p))),w.source){let{inputId:S,...k}=w.source;w.source=k,S!=null&&(w.source.input=p[S])}if(w.type==="root")return new l(w);if(w.type==="decl")return new s(w);if(w.type==="rule")return new m(w);if(w.type==="comment")return new o(w);if(w.type==="atrule")return new i(w);throw new Error("Unknown node type: "+h.type)}t.exports=c,c.default=c}),_g=Ne((e,t)=>{var s=Eg(),n=Rd(),o=qx(),i=Ri(),r=yY(),l=Fd(),m=wY(),c=$g(),h=jx(),p=Pl(),g=Og(),w=Ng(),S=Ml(),k=Vd(),O=Rx(),C=Dg(),A=Il(),T=Bd();function F(...L){return L.length===1&&Array.isArray(L[0])&&(L=L[0]),new r(L)}F.plugin=function(L,I){let j=!1;function q(...X){console&&console.warn&&!j&&(j=!0,console.warn(L+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`));let U=I(...X);return U.postcssPlugin=L,U.postcssVersion=new r().version,U}let Q;return Object.defineProperty(q,"postcss",{get(){return Q||(Q=q()),Q}}),q.process=function(X,U,ne){return F([q(ne)]).process(X,U)},q},F.stringify=l,F.parse=k,F.fromJSON=m,F.list=O,F.comment=L=>new p(L),F.atRule=L=>new g(L),F.decl=L=>new n(L),F.rule=L=>new C(L),F.root=L=>new A(L),F.document=L=>new c(L),F.CssSyntaxError=s,F.Declaration=n,F.Container=i,F.Processor=r,F.Document=c,F.Comment=p,F.Warning=h,F.AtRule=g,F.Result=w,F.Input=S,F.Rule=C,F.Root=A,F.Node=T,o.registerPostcss(F),t.exports=F,F.default=F}),bY=Ne((e,t)=>{var{Container:s}=_g(),n=class extends s{constructor(o){super(o),this.type="decl",this.isNested=!0,this.nodes||(this.nodes=[])}};t.exports=n}),vY=Ne((e,t)=>{var s="'".charCodeAt(0),n='"'.charCodeAt(0),o="\\".charCodeAt(0),i="/".charCodeAt(0),r=`
`.charCodeAt(0),l=" ".charCodeAt(0),m="\f".charCodeAt(0),c="	".charCodeAt(0),h="\r".charCodeAt(0),p="[".charCodeAt(0),g="]".charCodeAt(0),w="(".charCodeAt(0),S=")".charCodeAt(0),k="{".charCodeAt(0),O="}".charCodeAt(0),C=";".charCodeAt(0),A="*".charCodeAt(0),T=":".charCodeAt(0),F="@".charCodeAt(0),L=",".charCodeAt(0),I="#".charCodeAt(0),j=/[\t\n\f\r "#'()/;[\\\]{}]/g,q=/[,\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Q=/.[\n"'(/\\]/,X=/[\da-f]/i,U=/[\n\f\r]/g;t.exports=function(ne,ie={}){let M=ne.css.valueOf(),z=ie.ignoreErrors,K,oe,ve,ae,ce,pe,ge,Ae,ue,Ce=M.length,re=0,de=[],se=[],he;function le(){return re}function Je(Et){throw ne.error("Unclosed "+Et,re)}function et(){return se.length===0&&re>=Ce}function Tt(){let Et=1,Yt=!1,xt=!1;for(;Et>0;)oe+=1,M.length<=oe&&Je("interpolation"),K=M.charCodeAt(oe),Ae=M.charCodeAt(oe+1),Yt?!xt&&K===Yt?(Yt=!1,xt=!1):K===o?xt=!xt:xt&&(xt=!1):K===s||K===n?Yt=K:K===O?Et-=1:K===I&&Ae===k&&(Et+=1)}function Bt(Et){if(se.length)return se.pop();if(re>=Ce)return;let Yt=Et?Et.ignoreUnclosed:!1;switch(K=M.charCodeAt(re),K){case r:case l:case c:case h:case m:{oe=re;do oe+=1,K=M.charCodeAt(oe);while(K===l||K===r||K===c||K===h||K===m);ue=["space",M.slice(re,oe)],re=oe-1;break}case p:case g:case k:case O:case T:case C:case S:{let xt=String.fromCharCode(K);ue=[xt,xt,re];break}case L:{ue=["word",",",re,re+1];break}case w:{if(ge=de.length?de.pop()[1]:"",Ae=M.charCodeAt(re+1),ge==="url"&&Ae!==s&&Ae!==n){for(he=1,pe=!1,oe=re+1;oe<=M.length-1;){if(Ae=M.charCodeAt(oe),Ae===o)pe=!pe;else if(Ae===w)he+=1;else if(Ae===S&&(he-=1,he===0))break;oe+=1}ae=M.slice(re,oe+1),ue=["brackets",ae,re,oe],re=oe}else oe=M.indexOf(")",re+1),ae=M.slice(re,oe+1),oe===-1||Q.test(ae)?ue=["(","(",re]:(ue=["brackets",ae,re,oe],re=oe);break}case s:case n:{for(ve=K,oe=re,pe=!1;oe<Ce&&(oe++,oe===Ce&&Je("string"),K=M.charCodeAt(oe),Ae=M.charCodeAt(oe+1),!(!pe&&K===ve));)K===o?pe=!pe:pe?pe=!1:K===I&&Ae===k&&Tt();ue=["string",M.slice(re,oe+1),re,oe],re=oe;break}case F:{j.lastIndex=re+1,j.test(M),j.lastIndex===0?oe=M.length-1:oe=j.lastIndex-2,ue=["at-word",M.slice(re,oe+1),re,oe],re=oe;break}case o:{for(oe=re,ce=!0;M.charCodeAt(oe+1)===o;)oe+=1,ce=!ce;if(K=M.charCodeAt(oe+1),ce&&K!==i&&K!==l&&K!==r&&K!==c&&K!==h&&K!==m&&(oe+=1,X.test(M.charAt(oe)))){for(;X.test(M.charAt(oe+1));)oe+=1;M.charCodeAt(oe+1)===l&&(oe+=1)}ue=["word",M.slice(re,oe+1),re,oe],re=oe;break}default:Ae=M.charCodeAt(re+1),K===I&&Ae===k?(oe=re,Tt(),ae=M.slice(re,oe+1),ue=["word",ae,re,oe],re=oe):K===i&&Ae===A?(oe=M.indexOf("*/",re+2)+1,oe===0&&(z||Yt?oe=M.length:Je("comment")),ue=["comment",M.slice(re,oe+1),re,oe],re=oe):K===i&&Ae===i?(U.lastIndex=re+1,U.test(M),U.lastIndex===0?oe=M.length-1:oe=U.lastIndex-2,ae=M.slice(re,oe+1),ue=["comment",ae,re,oe,"inline"],re=oe):(q.lastIndex=re+1,q.test(M),q.lastIndex===0?oe=M.length-1:oe=q.lastIndex-2,ue=["word",M.slice(re,oe+1),re,oe],de.push(ue),re=oe);break}return re++,ue}function Rt(Et){se.push(Et)}return{back:Rt,nextToken:Bt,endOfFile:et,position:le}}}),TY=Ne((e,t)=>{var{Comment:s}=_g(),n=Ag(),o=bY(),i=vY(),r=class extends n{createTokenizer(){this.tokenizer=i(this.input)}rule(l){let m=!1,c=0,h="";for(let p of l)if(m)p[0]!=="comment"&&p[0]!=="{"&&(h+=p[1]);else{if(p[0]==="space"&&p[1].includes(`
`))break;p[0]==="("?c+=1:p[0]===")"?c-=1:c===0&&p[0]===":"&&(m=!0)}if(!m||h.trim()===""||/^[#:A-Za-z-]/.test(h))super.rule(l);else{l.pop();let p=new o;this.init(p,l[0][2]);let g;for(let S=l.length-1;S>=0;S--)if(l[S][0]!=="space"){g=l[S];break}if(g[3]){let S=this.input.fromOffset(g[3]);p.source.end={offset:g[3],line:S.line,column:S.col}}else{let S=this.input.fromOffset(g[2]);p.source.end={offset:g[2],line:S.line,column:S.col}}for(;l[0][0]!=="word";)p.raws.before+=l.shift()[1];if(l[0][2]){let S=this.input.fromOffset(l[0][2]);p.source.start={offset:l[0][2],line:S.line,column:S.col}}for(p.prop="";l.length;){let S=l[0][0];if(S===":"||S==="space"||S==="comment")break;p.prop+=l.shift()[1]}p.raws.between="";let w;for(;l.length;)if(w=l.shift(),w[0]===":"){p.raws.between+=w[1];break}else p.raws.between+=w[1];(p.prop[0]==="_"||p.prop[0]==="*")&&(p.raws.before+=p.prop[0],p.prop=p.prop.slice(1)),p.raws.between+=this.spacesAndCommentsFromStart(l),this.precheckMissedSemicolon(l);for(let S=l.length-1;S>0;S--){if(w=l[S],w[1]==="!important"){p.important=!0;let k=this.stringFrom(l,S);k=this.spacesFromEnd(l)+k,k!==" !important"&&(p.raws.important=k);break}else if(w[1]==="important"){let k=l.slice(0),O="";for(let C=S;C>0;C--){let A=k[C][0];if(O.trim().indexOf("!")===0&&A!=="space")break;O=k.pop()[1]+O}O.trim().indexOf("!")===0&&(p.important=!0,p.raws.important=O,l=k)}if(w[0]!=="space"&&w[0]!=="comment")break}this.raw(p,"value",l),p.value.includes(":")&&this.checkMissedSemicolon(l),this.current=p}}comment(l){if(l[4]==="inline"){let m=new s;this.init(m,l[2]),m.raws.inline=!0;let c=this.input.fromOffset(l[3]);m.source.end={offset:l[3],line:c.line,column:c.col};let h=l[1].slice(2);if(/^\s*$/.test(h))m.text="",m.raws.left=h,m.raws.right="";else{let p=h.match(/^(\s*)([^]*\S)(\s*)$/),g=p[2].replace(/(\*\/|\/\*)/g,"*//*");m.text=g,m.raws.left=p[1],m.raws.right=p[3],m.raws.text=p[2]}}else super.comment(l)}atrule(l){let m=l[1],c=l;for(;!this.tokenizer.endOfFile();){let h=this.tokenizer.nextToken();if(h[0]==="word"&&h[2]===c[3]+1)m+=h[1],c=h;else{this.tokenizer.back(h);break}}super.atrule(["at-word",m,l[2],c[3]])}raw(l,m,c,h){if(super.raw(l,m,c,h),l.raws[m]){let p=l.raws[m].raw;l.raws[m].raw=c.reduce((g,w)=>{if(w[0]==="comment"&&w[4]==="inline"){let S=w[1].slice(2).replace(/(\*\/|\/\*)/g,"*//*");return g+"/*"+S+"*/"}else return g+w[1]},""),p!==l.raws[m].raw&&(l.raws[m].scss=p)}}};t.exports=r}),SY=Ne((e,t)=>{var{Input:s}=_g(),n=TY();t.exports=function(o,i){let r=new s(o,i),l=new n(r);return l.parse(),l.root}}),zn=Ne((e,t)=>{var s=function(n,o){let i=new n.constructor;for(let r in n){if(!n.hasOwnProperty(r))continue;let l=n[r],m=typeof l;r==="parent"&&m==="object"?o&&(i[r]=o):r==="source"?i[r]=l:l instanceof Array?i[r]=l.map(c=>s(c,i)):r!=="before"&&r!=="after"&&r!=="between"&&r!=="semicolon"&&(m==="object"&&l!==null&&(l=s(l)),i[r]=l)}return i};t.exports=class{constructor(n){n=n||{},this.raws={before:"",after:""};for(let o in n)this[o]=n[o]}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(){return[this.raws.before,String(this.value),this.raws.after].join("")}clone(n){n=n||{};let o=s(this);for(let i in n)o[i]=n[i];return o}cloneBefore(n){n=n||{};let o=this.clone(n);return this.parent.insertBefore(this,o),o}cloneAfter(n){n=n||{};let o=this.clone(n);return this.parent.insertAfter(this,o),o}replaceWith(){let n=Array.prototype.slice.call(arguments);if(this.parent){for(let o of n)this.parent.insertBefore(this,o);this.remove()}return this}moveTo(n){return this.cleanRaws(this.root()===n.root()),this.remove(),n.append(this),this}moveBefore(n){return this.cleanRaws(this.root()===n.root()),this.remove(),n.parent.insertBefore(n,this),this}moveAfter(n){return this.cleanRaws(this.root()===n.root()),this.remove(),n.parent.insertAfter(n,this),this}next(){let n=this.parent.index(this);return this.parent.nodes[n+1]}prev(){let n=this.parent.index(this);return this.parent.nodes[n-1]}toJSON(){let n={};for(let o in this){if(!this.hasOwnProperty(o)||o==="parent")continue;let i=this[o];i instanceof Array?n[o]=i.map(r=>typeof r=="object"&&r.toJSON?r.toJSON():r):typeof i=="object"&&i.toJSON?n[o]=i.toJSON():n[o]=i}return n}root(){let n=this;for(;n.parent;)n=n.parent;return n}cleanRaws(n){delete this.raws.before,delete this.raws.after,n||delete this.raws.between}positionInside(n){let o=this.toString(),i=this.source.start.column,r=this.source.start.line;for(let l=0;l<n;l++)o[l]===`
`?(i=1,r+=1):i+=1;return{line:r,column:i}}positionBy(n){let o=this.source.start;if(Object(n).index)o=this.positionInside(n.index);else if(Object(n).word){let i=this.toString().indexOf(n.word);i!==-1&&(o=this.positionInside(i))}return o}}}),Vs=Ne((e,t)=>{var s=zn(),n=class extends s{constructor(o){super(o),this.nodes||(this.nodes=[])}push(o){return o.parent=this,this.nodes.push(o),this}each(o){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let i=this.lastEach,r,l;if(this.indexes[i]=0,!!this.nodes){for(;this.indexes[i]<this.nodes.length&&(r=this.indexes[i],l=o(this.nodes[r],r),l!==!1);)this.indexes[i]+=1;return delete this.indexes[i],l}}walk(o){return this.each((i,r)=>{let l=o(i,r);return l!==!1&&i.walk&&(l=i.walk(o)),l})}walkType(o,i){if(!o||!i)throw new Error("Parameters {type} and {callback} are required.");let r=typeof o=="function";return this.walk((l,m)=>{if(r&&l instanceof o||!r&&l.type===o)return i.call(this,l,m)})}append(o){return o.parent=this,this.nodes.push(o),this}prepend(o){return o.parent=this,this.nodes.unshift(o),this}cleanRaws(o){if(super.cleanRaws(o),this.nodes)for(let i of this.nodes)i.cleanRaws(o)}insertAfter(o,i){let r=this.index(o),l;this.nodes.splice(r+1,0,i);for(let m in this.indexes)l=this.indexes[m],r<=l&&(this.indexes[m]=l+this.nodes.length);return this}insertBefore(o,i){let r=this.index(o),l;this.nodes.splice(r,0,i);for(let m in this.indexes)l=this.indexes[m],r<=l&&(this.indexes[m]=l+this.nodes.length);return this}removeChild(o){o=this.index(o),this.nodes[o].parent=void 0,this.nodes.splice(o,1);let i;for(let r in this.indexes)i=this.indexes[r],i>=o&&(this.indexes[r]=i-1);return this}removeAll(){for(let o of this.nodes)o.parent=void 0;return this.nodes=[],this}every(o){return this.nodes.every(o)}some(o){return this.nodes.some(o)}index(o){return typeof o=="number"?o:this.nodes.indexOf(o)}get first(){if(this.nodes)return this.nodes[0]}get last(){if(this.nodes)return this.nodes[this.nodes.length-1]}toString(){let o=this.nodes.map(String).join("");return this.value&&(o=this.value+o),this.raws.before&&(o=this.raws.before+o),this.raws.after&&(o+=this.raws.after),o}};n.registerWalker=o=>{let i="walk"+o.name;i.lastIndexOf("s")!==i.length-1&&(i+="s"),!n.prototype[i]&&(n.prototype[i]=function(r){return this.walkType(o,r)})},t.exports=n}),kY=Ne((e,t)=>{var s=Vs();t.exports=class extends s{constructor(n){super(n),this.type="root"}}}),EY=Ne((e,t)=>{var s=Vs();t.exports=class extends s{constructor(n){super(n),this.type="value",this.unbalanced=0}}}),xY=Ne((e,t)=>{var s=Vs(),n=class extends s{constructor(o){super(o),this.type="atword"}toString(){return this.quoted&&this.raws.quote,[this.raws.before,"@",String.prototype.toString.call(this.value),this.raws.after].join("")}};s.registerWalker(n),t.exports=n}),CY=Ne((e,t)=>{var s=Vs(),n=zn(),o=class extends n{constructor(i){super(i),this.type="colon"}};s.registerWalker(o),t.exports=o}),OY=Ne((e,t)=>{var s=Vs(),n=zn(),o=class extends n{constructor(i){super(i),this.type="comma"}};s.registerWalker(o),t.exports=o}),DY=Ne((e,t)=>{var s=Vs(),n=zn(),o=class extends n{constructor(i){super(i),this.type="comment",this.inline=Object(i).inline||!1}toString(){return[this.raws.before,this.inline?"//":"/*",String(this.value),this.inline?"":"*/",this.raws.after].join("")}};s.registerWalker(o),t.exports=o}),AY=Ne((e,t)=>{var s=Vs(),n=class extends s{constructor(o){super(o),this.type="func",this.unbalanced=-1}};s.registerWalker(n),t.exports=n}),$Y=Ne((e,t)=>{var s=Vs(),n=zn(),o=class extends n{constructor(i){super(i),this.type="number",this.unit=Object(i).unit||""}toString(){return[this.raws.before,String(this.value),this.unit,this.raws.after].join("")}};s.registerWalker(o),t.exports=o}),NY=Ne((e,t)=>{var s=Vs(),n=zn(),o=class extends n{constructor(i){super(i),this.type="operator"}};s.registerWalker(o),t.exports=o}),_Y=Ne((e,t)=>{var s=Vs(),n=zn(),o=class extends n{constructor(i){super(i),this.type="paren",this.parenType=""}};s.registerWalker(o),t.exports=o}),PY=Ne((e,t)=>{var s=Vs(),n=zn(),o=class extends n{constructor(i){super(i),this.type="string"}toString(){let i=this.quoted?this.raws.quote:"";return[this.raws.before,i,this.value+"",i,this.raws.after].join("")}};s.registerWalker(o),t.exports=o}),IY=Ne((e,t)=>{var s=Vs(),n=zn(),o=class extends n{constructor(i){super(i),this.type="word"}};s.registerWalker(o),t.exports=o}),MY=Ne((e,t)=>{var s=Vs(),n=zn(),o=class extends n{constructor(i){super(i),this.type="unicode-range"}};s.registerWalker(o),t.exports=o}),LY=Ne((e,t)=>{var s=class extends Error{constructor(n){super(n),this.name=this.constructor.name,this.message=n||"An error ocurred while tokzenizing.",typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(n).stack}};t.exports=s}),FY=Ne((e,t)=>{var s="{".charCodeAt(0),n="}".charCodeAt(0),o="(".charCodeAt(0),i=")".charCodeAt(0),r="'".charCodeAt(0),l='"'.charCodeAt(0),m="\\".charCodeAt(0),c="/".charCodeAt(0),h=".".charCodeAt(0),p=",".charCodeAt(0),g=":".charCodeAt(0),w="*".charCodeAt(0),S="-".charCodeAt(0),k="+".charCodeAt(0),O="#".charCodeAt(0),C=`
`.charCodeAt(0),A=" ".charCodeAt(0),T="\f".charCodeAt(0),F="	".charCodeAt(0),L="\r".charCodeAt(0),I="@".charCodeAt(0),j="e".charCodeAt(0),q="E".charCodeAt(0),Q="0".charCodeAt(0),X="9".charCodeAt(0),U="u".charCodeAt(0),ne="U".charCodeAt(0),ie=/[ \n\t\r\{\(\)'"\\;,/]/g,M=/[ \n\t\r\(\)\{\}\*:;@!&'"\+\|~>,\[\]\\]|\/(?=\*)/g,z=/[ \n\t\r\(\)\{\}\*:;@!&'"\-\+\|~>,\[\]\\]|\//g,K=/^[a-z0-9]/i,oe=/^[a-f0-9?\-]/i,ve=LY();t.exports=function(ae,ce){ce=ce||{};let pe=[],ge=ae.valueOf(),Ae=ge.length,ue=-1,Ce=1,re=0,de=0,se=null,he,le,Je,et,Tt,Bt,Rt,Et,Yt,xt,is;function En(Wt){let on=`Unclosed ${Wt} at line: ${Ce}, column: ${re-ue}, token: ${re}`;throw new ve(on)}for(;re<Ae;){switch(he=ge.charCodeAt(re),he===C&&(ue=re,Ce+=1),he){case C:case A:case F:case L:case T:le=re;do le+=1,he=ge.charCodeAt(le),he===C&&(ue=le,Ce+=1);while(he===A||he===C||he===F||he===L||he===T);pe.push(["space",ge.slice(re,le),Ce,re-ue,Ce,le-ue,re]),re=le-1;break;case g:le=re+1,pe.push(["colon",ge.slice(re,le),Ce,re-ue,Ce,le-ue,re]),re=le-1;break;case p:le=re+1,pe.push(["comma",ge.slice(re,le),Ce,re-ue,Ce,le-ue,re]),re=le-1;break;case s:pe.push(["{","{",Ce,re-ue,Ce,le-ue,re]);break;case n:pe.push(["}","}",Ce,re-ue,Ce,le-ue,re]);break;case o:de++,se=!se&&de===1&&pe.length>0&&pe[pe.length-1][0]==="word"&&pe[pe.length-1][1]==="url",pe.push(["(","(",Ce,re-ue,Ce,le-ue,re]);break;case i:de--,se=se&&de>0,pe.push([")",")",Ce,re-ue,Ce,le-ue,re]);break;case r:case l:Je=he===r?"'":'"',le=re;do for(Yt=!1,le=ge.indexOf(Je,le+1),le===-1&&En("quote"),xt=le;ge.charCodeAt(xt-1)===m;)xt-=1,Yt=!Yt;while(Yt);pe.push(["string",ge.slice(re,le+1),Ce,re-ue,Ce,le-ue,re]),re=le;break;case I:ie.lastIndex=re+1,ie.test(ge),ie.lastIndex===0?le=ge.length-1:le=ie.lastIndex-2,pe.push(["atword",ge.slice(re,le+1),Ce,re-ue,Ce,le-ue,re]),re=le;break;case m:le=re,he=ge.charCodeAt(le+1),pe.push(["word",ge.slice(re,le+1),Ce,re-ue,Ce,le-ue,re]),re=le;break;case k:case S:case w:if(le=re+1,is=ge.slice(re+1,le+1),ge.slice(re-1,re),he===S&&is.charCodeAt(0)===S){le++,pe.push(["word",ge.slice(re,le),Ce,re-ue,Ce,le-ue,re]),re=le-1;break}pe.push(["operator",ge.slice(re,le),Ce,re-ue,Ce,le-ue,re]),re=le-1;break;default:if(he===c&&(ge.charCodeAt(re+1)===w||ce.loose&&!se&&ge.charCodeAt(re+1)===c)){if(ge.charCodeAt(re+1)===w)le=ge.indexOf("*/",re+2)+1,le===0&&En("comment");else{let Wt=ge.indexOf(`
`,re+2);le=Wt!==-1?Wt-1:Ae}Bt=ge.slice(re,le+1),et=Bt.split(`
`),Tt=et.length-1,Tt>0?(Rt=Ce+Tt,Et=le-et[Tt].length):(Rt=Ce,Et=ue),pe.push(["comment",Bt,Ce,re-ue,Rt,le-Et,re]),ue=Et,Ce=Rt,re=le}else if(he===O&&!K.test(ge.slice(re+1,re+2)))le=re+1,pe.push(["#",ge.slice(re,le),Ce,re-ue,Ce,le-ue,re]),re=le-1;else if((he===U||he===ne)&&ge.charCodeAt(re+1)===k){le=re+2;do le+=1,he=ge.charCodeAt(le);while(le<Ae&&oe.test(ge.slice(le,le+1)));pe.push(["unicoderange",ge.slice(re,le),Ce,re-ue,Ce,le-ue,re]),re=le-1}else if(he===c)le=re+1,pe.push(["operator",ge.slice(re,le),Ce,re-ue,Ce,le-ue,re]),re=le-1;else{let Wt=M;if(he>=Q&&he<=X&&(Wt=z),Wt.lastIndex=re+1,Wt.test(ge),Wt.lastIndex===0?le=ge.length-1:le=Wt.lastIndex-2,Wt===z||he===h){let on=ge.charCodeAt(le),Qn=ge.charCodeAt(le+1),Rl=ge.charCodeAt(le+2);(on===j||on===q)&&(Qn===S||Qn===k)&&Rl>=Q&&Rl<=X&&(z.lastIndex=le+2,z.test(ge),z.lastIndex===0?le=ge.length-1:le=z.lastIndex-2)}pe.push(["word",ge.slice(re,le+1),Ce,re-ue,Ce,le-ue,re]),re=le}break}re++}return pe}}),Hx=Ne((e,t)=>{t.exports=function(s,n){if(n=typeof n=="number"?n:1/0,!n)return Array.isArray(s)?s.map(function(i){return i}):s;return o(s,1);function o(i,r){return i.reduce(function(l,m){return Array.isArray(m)&&r<n?l.concat(o(m,r+1)):l.concat(m)},[])}}}),Qx=Ne((e,t)=>{t.exports=function(s,n){for(var o=-1,i=[];(o=s.indexOf(n,o+1))!==-1;)i.push(o);return i}}),Gx=Ne((e,t)=>{function s(i,r){for(var l=1,m=i.length,c=i[0],h=i[0],p=1;p<m;++p)if(h=c,c=i[p],r(c,h)){if(p===l){l++;continue}i[l++]=c}return i.length=l,i}function n(i){for(var r=1,l=i.length,m=i[0],c=i[0],h=1;h<l;++h,c=m)if(c=m,m=i[h],m!==c){if(h===r){r++;continue}i[r++]=m}return i.length=r,i}function o(i,r,l){return i.length===0?i:r?(l||i.sort(r),s(i,r)):(l||i.sort(),n(i))}t.exports=o}),BY=Ne((e,t)=>{var s=class extends Error{constructor(n){super(n),this.name=this.constructor.name,this.message=n||"An error ocurred while parsing.",typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(n).stack}};t.exports=s}),RY=Ne((e,t)=>{var s=kY(),n=EY(),o=xY(),i=CY(),r=OY(),l=DY(),m=AY(),c=$Y(),h=NY(),p=_Y(),g=PY(),w=IY(),S=MY(),k=FY(),O=Hx(),C=Qx(),A=Gx(),T=BY();function F(L){return L.sort((I,j)=>I-j)}t.exports=class{constructor(L,I){let j={loose:!1};this.cache=[],this.input=L,this.options=Object.assign({},j,I),this.position=0,this.unbalanced=0,this.root=new s;let q=new n;this.root.append(q),this.current=q,this.tokens=k(L,this.options)}parse(){return this.loop()}colon(){let L=this.currToken;this.newNode(new i({value:L[1],source:{start:{line:L[2],column:L[3]},end:{line:L[4],column:L[5]}},sourceIndex:L[6]})),this.position++}comma(){let L=this.currToken;this.newNode(new r({value:L[1],source:{start:{line:L[2],column:L[3]},end:{line:L[4],column:L[5]}},sourceIndex:L[6]})),this.position++}comment(){let L=!1,I=this.currToken[1].replace(/\/\*|\*\//g,""),j;this.options.loose&&I.startsWith("//")&&(I=I.substring(2),L=!0),j=new l({value:I,inline:L,source:{start:{line:this.currToken[2],column:this.currToken[3]},end:{line:this.currToken[4],column:this.currToken[5]}},sourceIndex:this.currToken[6]}),this.newNode(j),this.position++}error(L,I){throw new T(L+` at line: ${I[2]}, column ${I[3]}`)}loop(){for(;this.position<this.tokens.length;)this.parseTokens();return!this.current.last&&this.spaces?this.current.raws.before+=this.spaces:this.spaces&&(this.current.last.raws.after+=this.spaces),this.spaces="",this.root}operator(){let L=this.currToken[1],I;if(L==="+"||L==="-"){if(this.options.loose||this.position>0&&(this.current.type==="func"&&this.current.value==="calc"?this.prevToken[0]!=="space"&&this.prevToken[0]!=="("?this.error("Syntax Error",this.currToken):this.nextToken[0]!=="space"&&this.nextToken[0]!=="word"?this.error("Syntax Error",this.currToken):this.nextToken[0]==="word"&&this.current.last.type!=="operator"&&this.current.last.value!=="("&&this.error("Syntax Error",this.currToken):(this.nextToken[0]==="space"||this.nextToken[0]==="operator"||this.prevToken[0]==="operator")&&this.error("Syntax Error",this.currToken)),this.options.loose){if((!this.current.nodes.length||this.current.last&&this.current.last.type==="operator")&&this.nextToken[0]==="word")return this.word()}else if(this.nextToken[0]==="word")return this.word()}return I=new h({value:this.currToken[1],source:{start:{line:this.currToken[2],column:this.currToken[3]},end:{line:this.currToken[2],column:this.currToken[3]}},sourceIndex:this.currToken[4]}),this.position++,this.newNode(I)}parseTokens(){switch(this.currToken[0]){case"space":this.space();break;case"colon":this.colon();break;case"comma":this.comma();break;case"comment":this.comment();break;case"(":this.parenOpen();break;case")":this.parenClose();break;case"atword":case"word":this.word();break;case"operator":this.operator();break;case"string":this.string();break;case"unicoderange":this.unicodeRange();break;default:this.word();break}}parenOpen(){let L=1,I=this.position+1,j=this.currToken,q;for(;I<this.tokens.length&&L;){let Q=this.tokens[I];Q[0]==="("&&L++,Q[0]===")"&&L--,I++}if(L&&this.error("Expected closing parenthesis",j),q=this.current.last,q&&q.type==="func"&&q.unbalanced<0&&(q.unbalanced=0,this.current=q),this.current.unbalanced++,this.newNode(new p({value:j[1],source:{start:{line:j[2],column:j[3]},end:{line:j[4],column:j[5]}},sourceIndex:j[6]})),this.position++,this.current.type==="func"&&this.current.unbalanced&&this.current.value==="url"&&this.currToken[0]!=="string"&&this.currToken[0]!==")"&&!this.options.loose){let Q=this.nextToken,X=this.currToken[1],U={line:this.currToken[2],column:this.currToken[3]};for(;Q&&Q[0]!==")"&&this.current.unbalanced;)this.position++,X+=this.currToken[1],Q=this.nextToken;this.position!==this.tokens.length-1&&(this.position++,this.newNode(new w({value:X,source:{start:U,end:{line:this.currToken[4],column:this.currToken[5]}},sourceIndex:this.currToken[6]})))}}parenClose(){let L=this.currToken;this.newNode(new p({value:L[1],source:{start:{line:L[2],column:L[3]},end:{line:L[4],column:L[5]}},sourceIndex:L[6]})),this.position++,!(this.position>=this.tokens.length-1&&!this.current.unbalanced)&&(this.current.unbalanced--,this.current.unbalanced<0&&this.error("Expected opening parenthesis",L),!this.current.unbalanced&&this.cache.length&&(this.current=this.cache.pop()))}space(){let L=this.currToken;this.position===this.tokens.length-1||this.nextToken[0]===","||this.nextToken[0]===")"?(this.current.last.raws.after+=L[1],this.position++):(this.spaces=L[1],this.position++)}unicodeRange(){let L=this.currToken;this.newNode(new S({value:L[1],source:{start:{line:L[2],column:L[3]},end:{line:L[4],column:L[5]}},sourceIndex:L[6]})),this.position++}splitWord(){let L=this.nextToken,I=this.currToken[1],j=/^[\+\-]?((\d+(\.\d*)?)|(\.\d+))([eE][\+\-]?\d+)?/,q=/^(?!\#([a-z0-9]+))[\#\{\}]/gi,Q,X;if(!q.test(I))for(;L&&L[0]==="word";){this.position++;let U=this.currToken[1];I+=U,L=this.nextToken}Q=C(I,"@"),X=F(A(O([[0],Q]))),X.forEach((U,ne)=>{let ie=X[ne+1]||I.length,M=I.slice(U,ie),z;if(~Q.indexOf(U))z=new o({value:M.slice(1),source:{start:{line:this.currToken[2],column:this.currToken[3]+U},end:{line:this.currToken[4],column:this.currToken[3]+(ie-1)}},sourceIndex:this.currToken[6]+X[ne]});else if(j.test(this.currToken[1])){let K=M.replace(j,"");z=new c({value:M.replace(K,""),source:{start:{line:this.currToken[2],column:this.currToken[3]+U},end:{line:this.currToken[4],column:this.currToken[3]+(ie-1)}},sourceIndex:this.currToken[6]+X[ne],unit:K})}else z=new(L&&L[0]==="("?m:w)({value:M,source:{start:{line:this.currToken[2],column:this.currToken[3]+U},end:{line:this.currToken[4],column:this.currToken[3]+(ie-1)}},sourceIndex:this.currToken[6]+X[ne]}),z.type==="word"?(z.isHex=/^#(.+)/.test(M),z.isColor=/^#([0-9a-f]{3}|[0-9a-f]{4}|[0-9a-f]{6}|[0-9a-f]{8})$/i.test(M)):this.cache.push(this.current);this.newNode(z)}),this.position++}string(){let L=this.currToken,I=this.currToken[1],j=/^(\"|\')/,q=j.test(I),Q="",X;q&&(Q=I.match(j)[0],I=I.slice(1,I.length-1)),X=new g({value:I,source:{start:{line:L[2],column:L[3]},end:{line:L[4],column:L[5]}},sourceIndex:L[6],quoted:q}),X.raws.quote=Q,this.newNode(X),this.position++}word(){return this.splitWord()}newNode(L){return this.spaces&&(L.raws.before+=this.spaces,this.spaces=""),this.current.append(L)}get currToken(){return this.tokens[this.position]}get nextToken(){return this.tokens[this.position+1]}get prevToken(){return this.tokens[this.position-1]}}}),Gr=Ne((e,t)=>{e.__esModule=!0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};function n(r,l){if(!(r instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function r(l,m){if((typeof l>"u"?"undefined":s(l))!=="object")return l;var c=new l.constructor;for(var h in l)if(l.hasOwnProperty(h)){var p=l[h],g=typeof p>"u"?"undefined":s(p);h==="parent"&&g==="object"?m&&(c[h]=m):p instanceof Array?c[h]=p.map(function(w){return r(w,c)}):c[h]=r(p,c)}return c},i=function(){function r(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n(this,r);for(var m in l)this[m]=l[m];var c=l.spaces;c=c===void 0?{}:c;var h=c.before,p=h===void 0?"":h,g=c.after,w=g===void 0?"":g;this.spaces={before:p,after:w}}return r.prototype.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},r.prototype.replaceWith=function(){if(this.parent){for(var l in arguments)this.parent.insertBefore(this,arguments[l]);this.remove()}return this},r.prototype.next=function(){return this.parent.at(this.parent.index(this)+1)},r.prototype.prev=function(){return this.parent.at(this.parent.index(this)-1)},r.prototype.clone=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=o(this);for(var c in l)m[c]=l[c];return m},r.prototype.toString=function(){return[this.spaces.before,String(this.value),this.spaces.after].join("")},r}();e.default=i,t.exports=e.default}),ks=Ne(e=>{e.__esModule=!0,e.TAG="tag",e.STRING="string",e.SELECTOR="selector",e.ROOT="root",e.PSEUDO="pseudo",e.NESTING="nesting",e.ID="id",e.COMMENT="comment",e.COMBINATOR="combinator",e.CLASS="class",e.ATTRIBUTE="attribute",e.UNIVERSAL="universal"}),Pg=Ne((e,t)=>{e.__esModule=!0;var s=function(){function w(S,k){for(var O=0;O<k.length;O++){var C=k[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}return function(S,k,O){return k&&w(S.prototype,k),O&&w(S,O),S}}(),n=Gr(),o=m(n),i=ks(),r=l(i);function l(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(S[k]=w[k]);return S.default=w,S}function m(w){return w&&w.__esModule?w:{default:w}}function c(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function h(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function p(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var g=function(w){p(S,w);function S(k){c(this,S);var O=h(this,w.call(this,k));return O.nodes||(O.nodes=[]),O}return S.prototype.append=function(k){return k.parent=this,this.nodes.push(k),this},S.prototype.prepend=function(k){return k.parent=this,this.nodes.unshift(k),this},S.prototype.at=function(k){return this.nodes[k]},S.prototype.index=function(k){return typeof k=="number"?k:this.nodes.indexOf(k)},S.prototype.removeChild=function(k){k=this.index(k),this.at(k).parent=void 0,this.nodes.splice(k,1);var O=void 0;for(var C in this.indexes)O=this.indexes[C],O>=k&&(this.indexes[C]=O-1);return this},S.prototype.removeAll=function(){for(var C=this.nodes,k=Array.isArray(C),O=0,C=k?C:C[Symbol.iterator]();;){var A;if(k){if(O>=C.length)break;A=C[O++]}else{if(O=C.next(),O.done)break;A=O.value}var T=A;T.parent=void 0}return this.nodes=[],this},S.prototype.empty=function(){return this.removeAll()},S.prototype.insertAfter=function(k,O){var C=this.index(k);this.nodes.splice(C+1,0,O);var A=void 0;for(var T in this.indexes)A=this.indexes[T],C<=A&&(this.indexes[T]=A+this.nodes.length);return this},S.prototype.insertBefore=function(k,O){var C=this.index(k);this.nodes.splice(C,0,O);var A=void 0;for(var T in this.indexes)A=this.indexes[T],C<=A&&(this.indexes[T]=A+this.nodes.length);return this},S.prototype.each=function(k){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach++;var O=this.lastEach;if(this.indexes[O]=0,!!this.length){for(var C=void 0,A=void 0;this.indexes[O]<this.length&&(C=this.indexes[O],A=k(this.at(C),C),A!==!1);)this.indexes[O]+=1;if(delete this.indexes[O],A===!1)return!1}},S.prototype.walk=function(k){return this.each(function(O,C){var A=k(O,C);if(A!==!1&&O.length&&(A=O.walk(k)),A===!1)return!1})},S.prototype.walkAttributes=function(k){var O=this;return this.walk(function(C){if(C.type===r.ATTRIBUTE)return k.call(O,C)})},S.prototype.walkClasses=function(k){var O=this;return this.walk(function(C){if(C.type===r.CLASS)return k.call(O,C)})},S.prototype.walkCombinators=function(k){var O=this;return this.walk(function(C){if(C.type===r.COMBINATOR)return k.call(O,C)})},S.prototype.walkComments=function(k){var O=this;return this.walk(function(C){if(C.type===r.COMMENT)return k.call(O,C)})},S.prototype.walkIds=function(k){var O=this;return this.walk(function(C){if(C.type===r.ID)return k.call(O,C)})},S.prototype.walkNesting=function(k){var O=this;return this.walk(function(C){if(C.type===r.NESTING)return k.call(O,C)})},S.prototype.walkPseudos=function(k){var O=this;return this.walk(function(C){if(C.type===r.PSEUDO)return k.call(O,C)})},S.prototype.walkTags=function(k){var O=this;return this.walk(function(C){if(C.type===r.TAG)return k.call(O,C)})},S.prototype.walkUniversals=function(k){var O=this;return this.walk(function(C){if(C.type===r.UNIVERSAL)return k.call(O,C)})},S.prototype.split=function(k){var O=this,C=[];return this.reduce(function(A,T,F){var L=k.call(O,T);return C.push(T),L?(A.push(C),C=[]):F===O.length-1&&A.push(C),A},[])},S.prototype.map=function(k){return this.nodes.map(k)},S.prototype.reduce=function(k,O){return this.nodes.reduce(k,O)},S.prototype.every=function(k){return this.nodes.every(k)},S.prototype.some=function(k){return this.nodes.some(k)},S.prototype.filter=function(k){return this.nodes.filter(k)},S.prototype.sort=function(k){return this.nodes.sort(k)},S.prototype.toString=function(){return this.map(String).join("")},s(S,[{key:"first",get:function(){return this.at(0)}},{key:"last",get:function(){return this.at(this.length-1)}},{key:"length",get:function(){return this.nodes.length}}]),S}(o.default);e.default=g,t.exports=e.default}),VY=Ne((e,t)=>{e.__esModule=!0;var s=Pg(),n=i(s),o=ks();function i(h){return h&&h.__esModule?h:{default:h}}function r(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function m(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){m(p,h);function p(g){r(this,p);var w=l(this,h.call(this,g));return w.type=o.ROOT,w}return p.prototype.toString=function(){var g=this.reduce(function(w,S){var k=String(S);return k?w+k+",":""},"").slice(0,-1);return this.trailingComma?g+",":g},p}(n.default);e.default=c,t.exports=e.default}),UY=Ne((e,t)=>{e.__esModule=!0;var s=Pg(),n=i(s),o=ks();function i(h){return h&&h.__esModule?h:{default:h}}function r(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function m(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){m(p,h);function p(g){r(this,p);var w=l(this,h.call(this,g));return w.type=o.SELECTOR,w}return p}(n.default);e.default=c,t.exports=e.default}),Ll=Ne((e,t)=>{e.__esModule=!0;var s=function(){function h(p,g){for(var w=0;w<g.length;w++){var S=g[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,g,w){return g&&h(p.prototype,g),w&&h(p,w),p}}(),n=Gr(),o=i(n);function i(h){return h&&h.__esModule?h:{default:h}}function r(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function m(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){m(p,h);function p(){return r(this,p),l(this,h.apply(this,arguments))}return p.prototype.toString=function(){return[this.spaces.before,this.ns,String(this.value),this.spaces.after].join("")},s(p,[{key:"ns",get:function(){var g=this.namespace;return g?(typeof g=="string"?g:"")+"|":""}}]),p}(o.default);e.default=c,t.exports=e.default}),WY=Ne((e,t)=>{e.__esModule=!0;var s=Ll(),n=i(s),o=ks();function i(h){return h&&h.__esModule?h:{default:h}}function r(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function m(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){m(p,h);function p(g){r(this,p);var w=l(this,h.call(this,g));return w.type=o.CLASS,w}return p.prototype.toString=function(){return[this.spaces.before,this.ns,"."+this.value,this.spaces.after].join("")},p}(n.default);e.default=c,t.exports=e.default}),jY=Ne((e,t)=>{e.__esModule=!0;var s=Gr(),n=i(s),o=ks();function i(h){return h&&h.__esModule?h:{default:h}}function r(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function m(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){m(p,h);function p(g){r(this,p);var w=l(this,h.call(this,g));return w.type=o.COMMENT,w}return p}(n.default);e.default=c,t.exports=e.default}),qY=Ne((e,t)=>{e.__esModule=!0;var s=Ll(),n=i(s),o=ks();function i(h){return h&&h.__esModule?h:{default:h}}function r(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function m(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){m(p,h);function p(g){r(this,p);var w=l(this,h.call(this,g));return w.type=o.ID,w}return p.prototype.toString=function(){return[this.spaces.before,this.ns,"#"+this.value,this.spaces.after].join("")},p}(n.default);e.default=c,t.exports=e.default}),zY=Ne((e,t)=>{e.__esModule=!0;var s=Ll(),n=i(s),o=ks();function i(h){return h&&h.__esModule?h:{default:h}}function r(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function m(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){m(p,h);function p(g){r(this,p);var w=l(this,h.call(this,g));return w.type=o.TAG,w}return p}(n.default);e.default=c,t.exports=e.default}),HY=Ne((e,t)=>{e.__esModule=!0;var s=Gr(),n=i(s),o=ks();function i(h){return h&&h.__esModule?h:{default:h}}function r(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function m(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){m(p,h);function p(g){r(this,p);var w=l(this,h.call(this,g));return w.type=o.STRING,w}return p}(n.default);e.default=c,t.exports=e.default}),QY=Ne((e,t)=>{e.__esModule=!0;var s=Pg(),n=i(s),o=ks();function i(h){return h&&h.__esModule?h:{default:h}}function r(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function m(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){m(p,h);function p(g){r(this,p);var w=l(this,h.call(this,g));return w.type=o.PSEUDO,w}return p.prototype.toString=function(){var g=this.length?"("+this.map(String).join(",")+")":"";return[this.spaces.before,String(this.value),g,this.spaces.after].join("")},p}(n.default);e.default=c,t.exports=e.default}),GY=Ne((e,t)=>{e.__esModule=!0;var s=Ll(),n=i(s),o=ks();function i(h){return h&&h.__esModule?h:{default:h}}function r(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function m(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){m(p,h);function p(g){r(this,p);var w=l(this,h.call(this,g));return w.type=o.ATTRIBUTE,w.raws={},w}return p.prototype.toString=function(){var g=[this.spaces.before,"[",this.ns,this.attribute];return this.operator&&g.push(this.operator),this.value&&g.push(this.value),this.raws.insensitive?g.push(this.raws.insensitive):this.insensitive&&g.push(" i"),g.push("]"),g.concat(this.spaces.after).join("")},p}(n.default);e.default=c,t.exports=e.default}),YY=Ne((e,t)=>{e.__esModule=!0;var s=Ll(),n=i(s),o=ks();function i(h){return h&&h.__esModule?h:{default:h}}function r(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function m(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){m(p,h);function p(g){r(this,p);var w=l(this,h.call(this,g));return w.type=o.UNIVERSAL,w.value="*",w}return p}(n.default);e.default=c,t.exports=e.default}),XY=Ne((e,t)=>{e.__esModule=!0;var s=Gr(),n=i(s),o=ks();function i(h){return h&&h.__esModule?h:{default:h}}function r(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function m(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){m(p,h);function p(g){r(this,p);var w=l(this,h.call(this,g));return w.type=o.COMBINATOR,w}return p}(n.default);e.default=c,t.exports=e.default}),KY=Ne((e,t)=>{e.__esModule=!0;var s=Gr(),n=i(s),o=ks();function i(h){return h&&h.__esModule?h:{default:h}}function r(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function m(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var c=function(h){m(p,h);function p(g){r(this,p);var w=l(this,h.call(this,g));return w.type=o.NESTING,w.value="&",w}return p}(n.default);e.default=c,t.exports=e.default}),JY=Ne((e,t)=>{e.__esModule=!0,e.default=s;function s(n){return n.sort(function(o,i){return o-i})}t.exports=e.default}),ZY=Ne((e,t)=>{e.__esModule=!0,e.default=U;var s=39,n=34,o=92,i=47,r=10,l=32,m=12,c=9,h=13,p=43,g=62,w=126,S=124,k=44,O=40,C=41,A=91,T=93,F=59,L=42,I=58,j=38,q=64,Q=/[ \n\t\r\{\(\)'"\\;/]/g,X=/[ \n\t\r\(\)\*:;@!&'"\+\|~>,\[\]\\]|\/(?=\*)/g;function U(ne){for(var ie=[],M=ne.css.valueOf(),z=void 0,K=void 0,oe=void 0,ve=void 0,ae=void 0,ce=void 0,pe=void 0,ge=void 0,Ae=void 0,ue=void 0,Ce=void 0,re=M.length,de=-1,se=1,he=0,le=function(Je,et){if(ne.safe)M+=et,K=M.length-1;else throw ne.error("Unclosed "+Je,se,he-de,he)};he<re;){switch(z=M.charCodeAt(he),z===r&&(de=he,se+=1),z){case r:case l:case c:case h:case m:K=he;do K+=1,z=M.charCodeAt(K),z===r&&(de=K,se+=1);while(z===l||z===r||z===c||z===h||z===m);ie.push(["space",M.slice(he,K),se,he-de,he]),he=K-1;break;case p:case g:case w:case S:K=he;do K+=1,z=M.charCodeAt(K);while(z===p||z===g||z===w||z===S);ie.push(["combinator",M.slice(he,K),se,he-de,he]),he=K-1;break;case L:ie.push(["*","*",se,he-de,he]);break;case j:ie.push(["&","&",se,he-de,he]);break;case k:ie.push([",",",",se,he-de,he]);break;case A:ie.push(["[","[",se,he-de,he]);break;case T:ie.push(["]","]",se,he-de,he]);break;case I:ie.push([":",":",se,he-de,he]);break;case F:ie.push([";",";",se,he-de,he]);break;case O:ie.push(["(","(",se,he-de,he]);break;case C:ie.push([")",")",se,he-de,he]);break;case s:case n:oe=z===s?"'":'"',K=he;do for(ue=!1,K=M.indexOf(oe,K+1),K===-1&&le("quote",oe),Ce=K;M.charCodeAt(Ce-1)===o;)Ce-=1,ue=!ue;while(ue);ie.push(["string",M.slice(he,K+1),se,he-de,se,K-de,he]),he=K;break;case q:Q.lastIndex=he+1,Q.test(M),Q.lastIndex===0?K=M.length-1:K=Q.lastIndex-2,ie.push(["at-word",M.slice(he,K+1),se,he-de,se,K-de,he]),he=K;break;case o:for(K=he,pe=!0;M.charCodeAt(K+1)===o;)K+=1,pe=!pe;z=M.charCodeAt(K+1),pe&&z!==i&&z!==l&&z!==r&&z!==c&&z!==h&&z!==m&&(K+=1),ie.push(["word",M.slice(he,K+1),se,he-de,se,K-de,he]),he=K;break;default:z===i&&M.charCodeAt(he+1)===L?(K=M.indexOf("*/",he+2)+1,K===0&&le("comment","*/"),ce=M.slice(he,K+1),ve=ce.split(`
`),ae=ve.length-1,ae>0?(ge=se+ae,Ae=K-ve[ae].length):(ge=se,Ae=de),ie.push(["comment",ce,se,he-de,ge,K-Ae,he]),de=Ae,se=ge,he=K):(X.lastIndex=he+1,X.test(M),X.lastIndex===0?K=M.length-1:K=X.lastIndex-2,ie.push(["word",M.slice(he,K+1),se,he-de,se,K-de,he]),he=K);break}he++}return ie}t.exports=e.default}),eX=Ne((e,t)=>{e.__esModule=!0;var s=function(){function de(se,he){for(var le=0;le<he.length;le++){var Je=he[le];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(se,Je.key,Je)}}return function(se,he,le){return he&&de(se.prototype,he),le&&de(se,le),se}}(),n=Hx(),o=ue(n),i=Qx(),r=ue(i),l=Gx(),m=ue(l),c=VY(),h=ue(c),p=UY(),g=ue(p),w=WY(),S=ue(w),k=jY(),O=ue(k),C=qY(),A=ue(C),T=zY(),F=ue(T),L=HY(),I=ue(L),j=QY(),q=ue(j),Q=GY(),X=ue(Q),U=YY(),ne=ue(U),ie=XY(),M=ue(ie),z=KY(),K=ue(z),oe=JY(),ve=ue(oe),ae=ZY(),ce=ue(ae),pe=ks(),ge=Ae(pe);function Ae(de){if(de&&de.__esModule)return de;var se={};if(de!=null)for(var he in de)Object.prototype.hasOwnProperty.call(de,he)&&(se[he]=de[he]);return se.default=de,se}function ue(de){return de&&de.__esModule?de:{default:de}}function Ce(de,se){if(!(de instanceof se))throw new TypeError("Cannot call a class as a function")}var re=function(){function de(se){Ce(this,de),this.input=se,this.lossy=se.options.lossless===!1,this.position=0,this.root=new h.default;var he=new g.default;return this.root.append(he),this.current=he,this.lossy?this.tokens=(0,ce.default)({safe:se.safe,css:se.css.trim()}):this.tokens=(0,ce.default)(se),this.loop()}return de.prototype.attribute=function(){var se="",he=void 0,le=this.currToken;for(this.position++;this.position<this.tokens.length&&this.currToken[0]!=="]";)se+=this.tokens[this.position][1],this.position++;this.position===this.tokens.length&&!~se.indexOf("]")&&this.error("Expected a closing square bracket.");var Je=se.split(/((?:[*~^$|]?=))([^]*)/),et=Je[0].split(/(\|)/g),Tt={operator:Je[1],value:Je[2],source:{start:{line:le[2],column:le[3]},end:{line:this.currToken[2],column:this.currToken[3]}},sourceIndex:le[4]};if(et.length>1?(et[0]===""&&(et[0]=!0),Tt.attribute=this.parseValue(et[2]),Tt.namespace=this.parseNamespace(et[0])):Tt.attribute=this.parseValue(Je[0]),he=new X.default(Tt),Je[2]){var Bt=Je[2].split(/(\s+i\s*?)$/),Rt=Bt[0].trim();he.value=this.lossy?Rt:Bt[0],Bt[1]&&(he.insensitive=!0,this.lossy||(he.raws.insensitive=Bt[1])),he.quoted=Rt[0]==="'"||Rt[0]==='"',he.raws.unquoted=he.quoted?Rt.slice(1,-1):Rt}this.newNode(he),this.position++},de.prototype.combinator=function(){if(this.currToken[1]==="|")return this.namespace();for(var se=new M.default({value:"",source:{start:{line:this.currToken[2],column:this.currToken[3]},end:{line:this.currToken[2],column:this.currToken[3]}},sourceIndex:this.currToken[4]});this.position<this.tokens.length&&this.currToken&&(this.currToken[0]==="space"||this.currToken[0]==="combinator");)this.nextToken&&this.nextToken[0]==="combinator"?(se.spaces.before=this.parseSpace(this.currToken[1]),se.source.start.line=this.nextToken[2],se.source.start.column=this.nextToken[3],se.source.end.column=this.nextToken[3],se.source.end.line=this.nextToken[2],se.sourceIndex=this.nextToken[4]):this.prevToken&&this.prevToken[0]==="combinator"?se.spaces.after=this.parseSpace(this.currToken[1]):this.currToken[0]==="combinator"?se.value=this.currToken[1]:this.currToken[0]==="space"&&(se.value=this.parseSpace(this.currToken[1]," ")),this.position++;return this.newNode(se)},de.prototype.comma=function(){if(this.position===this.tokens.length-1){this.root.trailingComma=!0,this.position++;return}var se=new g.default;this.current.parent.append(se),this.current=se,this.position++},de.prototype.comment=function(){var se=new O.default({value:this.currToken[1],source:{start:{line:this.currToken[2],column:this.currToken[3]},end:{line:this.currToken[4],column:this.currToken[5]}},sourceIndex:this.currToken[6]});this.newNode(se),this.position++},de.prototype.error=function(se){throw new this.input.error(se)},de.prototype.missingBackslash=function(){return this.error("Expected a backslash preceding the semicolon.")},de.prototype.missingParenthesis=function(){return this.error("Expected opening parenthesis.")},de.prototype.missingSquareBracket=function(){return this.error("Expected opening square bracket.")},de.prototype.namespace=function(){var se=this.prevToken&&this.prevToken[1]||!0;if(this.nextToken[0]==="word")return this.position++,this.word(se);if(this.nextToken[0]==="*")return this.position++,this.universal(se)},de.prototype.nesting=function(){this.newNode(new K.default({value:this.currToken[1],source:{start:{line:this.currToken[2],column:this.currToken[3]},end:{line:this.currToken[2],column:this.currToken[3]}},sourceIndex:this.currToken[4]})),this.position++},de.prototype.parentheses=function(){var se=this.current.last;if(se&&se.type===ge.PSEUDO){var he=new g.default,le=this.current;se.append(he),this.current=he;var Je=1;for(this.position++;this.position<this.tokens.length&&Je;)this.currToken[0]==="("&&Je++,this.currToken[0]===")"&&Je--,Je?this.parse():(he.parent.source.end.line=this.currToken[2],he.parent.source.end.column=this.currToken[3],this.position++);Je&&this.error("Expected closing parenthesis."),this.current=le}else{var et=1;for(this.position++,se.value+="(";this.position<this.tokens.length&&et;)this.currToken[0]==="("&&et++,this.currToken[0]===")"&&et--,se.value+=this.parseParenthesisToken(this.currToken),this.position++;et&&this.error("Expected closing parenthesis.")}},de.prototype.pseudo=function(){for(var se=this,he="",le=this.currToken;this.currToken&&this.currToken[0]===":";)he+=this.currToken[1],this.position++;if(!this.currToken)return this.error("Expected pseudo-class or pseudo-element");if(this.currToken[0]==="word"){var Je=void 0;this.splitWord(!1,function(et,Tt){he+=et,Je=new q.default({value:he,source:{start:{line:le[2],column:le[3]},end:{line:se.currToken[4],column:se.currToken[5]}},sourceIndex:le[4]}),se.newNode(Je),Tt>1&&se.nextToken&&se.nextToken[0]==="("&&se.error("Misplaced parenthesis.")})}else this.error('Unexpected "'+this.currToken[0]+'" found.')},de.prototype.space=function(){var se=this.currToken;this.position===0||this.prevToken[0]===","||this.prevToken[0]==="("?(this.spaces=this.parseSpace(se[1]),this.position++):this.position===this.tokens.length-1||this.nextToken[0]===","||this.nextToken[0]===")"?(this.current.last.spaces.after=this.parseSpace(se[1]),this.position++):this.combinator()},de.prototype.string=function(){var se=this.currToken;this.newNode(new I.default({value:this.currToken[1],source:{start:{line:se[2],column:se[3]},end:{line:se[4],column:se[5]}},sourceIndex:se[6]})),this.position++},de.prototype.universal=function(se){var he=this.nextToken;if(he&&he[1]==="|")return this.position++,this.namespace();this.newNode(new ne.default({value:this.currToken[1],source:{start:{line:this.currToken[2],column:this.currToken[3]},end:{line:this.currToken[2],column:this.currToken[3]}},sourceIndex:this.currToken[4]}),se),this.position++},de.prototype.splitWord=function(se,he){for(var le=this,Je=this.nextToken,et=this.currToken[1];Je&&Je[0]==="word";){this.position++;var Tt=this.currToken[1];if(et+=Tt,Tt.lastIndexOf("\\")===Tt.length-1){var Bt=this.nextToken;Bt&&Bt[0]==="space"&&(et+=this.parseSpace(Bt[1]," "),this.position++)}Je=this.nextToken}var Rt=(0,r.default)(et,"."),Et=(0,r.default)(et,"#"),Yt=(0,r.default)(et,"#{");Yt.length&&(Et=Et.filter(function(is){return!~Yt.indexOf(is)}));var xt=(0,ve.default)((0,m.default)((0,o.default)([[0],Rt,Et])));xt.forEach(function(is,En){var Wt=xt[En+1]||et.length,on=et.slice(is,Wt);if(En===0&&he)return he.call(le,on,xt.length);var Qn=void 0;~Rt.indexOf(is)?Qn=new S.default({value:on.slice(1),source:{start:{line:le.currToken[2],column:le.currToken[3]+is},end:{line:le.currToken[4],column:le.currToken[3]+(Wt-1)}},sourceIndex:le.currToken[6]+xt[En]}):~Et.indexOf(is)?Qn=new A.default({value:on.slice(1),source:{start:{line:le.currToken[2],column:le.currToken[3]+is},end:{line:le.currToken[4],column:le.currToken[3]+(Wt-1)}},sourceIndex:le.currToken[6]+xt[En]}):Qn=new F.default({value:on,source:{start:{line:le.currToken[2],column:le.currToken[3]+is},end:{line:le.currToken[4],column:le.currToken[3]+(Wt-1)}},sourceIndex:le.currToken[6]+xt[En]}),le.newNode(Qn,se)}),this.position++},de.prototype.word=function(se){var he=this.nextToken;return he&&he[1]==="|"?(this.position++,this.namespace()):this.splitWord(se)},de.prototype.loop=function(){for(;this.position<this.tokens.length;)this.parse(!0);return this.root},de.prototype.parse=function(se){switch(this.currToken[0]){case"space":this.space();break;case"comment":this.comment();break;case"(":this.parentheses();break;case")":se&&this.missingParenthesis();break;case"[":this.attribute();break;case"]":this.missingSquareBracket();break;case"at-word":case"word":this.word();break;case":":this.pseudo();break;case";":this.missingBackslash();break;case",":this.comma();break;case"*":this.universal();break;case"&":this.nesting();break;case"combinator":this.combinator();break;case"string":this.string();break}},de.prototype.parseNamespace=function(se){if(this.lossy&&typeof se=="string"){var he=se.trim();return he.length?he:!0}return se},de.prototype.parseSpace=function(se,he){return this.lossy?he||"":se},de.prototype.parseValue=function(se){return this.lossy&&se&&typeof se=="string"?se.trim():se},de.prototype.parseParenthesisToken=function(se){return this.lossy?se[0]==="space"?this.parseSpace(se[1]," "):this.parseValue(se[1]):se[1]},de.prototype.newNode=function(se,he){return he&&(se.namespace=this.parseNamespace(he)),this.spaces&&(se.spaces.before=this.spaces,this.spaces=""),this.current.append(se)},s(de,[{key:"currToken",get:function(){return this.tokens[this.position]}},{key:"nextToken",get:function(){return this.tokens[this.position+1]}},{key:"prevToken",get:function(){return this.tokens[this.position-1]}}]),de}();e.default=re,t.exports=e.default}),tX=Ne((e,t)=>{e.__esModule=!0;var s=function(){function m(c,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}return function(c,h,p){return h&&m(c.prototype,h),p&&m(c,p),c}}(),n=eX(),o=i(n);function i(m){return m&&m.__esModule?m:{default:m}}function r(m,c){if(!(m instanceof c))throw new TypeError("Cannot call a class as a function")}var l=function(){function m(c){return r(this,m),this.func=c||function(){},this}return m.prototype.process=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=new o.default({css:c,error:function(g){throw new Error(g)},options:h});return this.res=p,this.func(p),this},s(m,[{key:"result",get:function(){return String(this.res)}}]),m}();e.default=l,t.exports=e.default}),Yx=Ne(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(s){this.after=s.after,this.before=s.before,this.type=s.type,this.value=s.value,this.sourceIndex=s.sourceIndex}e.default=t}),Xx=Ne(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=Yx(),s=n(t);function n(i){return i&&i.__esModule?i:{default:i}}function o(i){var r=this;this.constructor(i),this.nodes=i.nodes,this.after===void 0&&(this.after=this.nodes.length>0?this.nodes[this.nodes.length-1].after:""),this.before===void 0&&(this.before=this.nodes.length>0?this.nodes[0].before:""),this.sourceIndex===void 0&&(this.sourceIndex=this.before.length),this.nodes.forEach(function(l){l.parent=r})}o.prototype=Object.create(s.default.prototype),o.constructor=s.default,o.prototype.walk=function(i,r){for(var l=typeof i=="string"||i instanceof RegExp,m=l?r:i,c=typeof i=="string"?new RegExp(i):i,h=0;h<this.nodes.length;h++){var p=this.nodes[h],g=l?c.test(p.type):!0;if(g&&m&&m(p,h,this.nodes)===!1||p.nodes&&p.walk(i,r)===!1)return!1}return!0},o.prototype.each=function(){for(var i=arguments.length<=0||arguments[0]===void 0?function(){}:arguments[0],r=0;r<this.nodes.length;r++){var l=this.nodes[r];if(i(l,r,this.nodes)===!1)return!1}return!0},e.default=o}),sX=Ne(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseMediaFeature=r,e.parseMediaQuery=l,e.parseMediaList=m;var t=Yx(),s=i(t),n=Xx(),o=i(n);function i(c){return c&&c.__esModule?c:{default:c}}function r(c){var h=arguments.length<=1||arguments[1]===void 0?0:arguments[1],p=[{mode:"normal",character:null}],g=[],w=0,S="",k=null,O=null,C=h,A=c;c[0]==="("&&c[c.length-1]===")"&&(A=c.substring(1,c.length-1),C++);for(var T=0;T<A.length;T++){var F=A[T];if((F==="'"||F==='"')&&(p[w].isCalculationEnabled===!0?(p.push({mode:"string",isCalculationEnabled:!1,character:F}),w++):p[w].mode==="string"&&p[w].character===F&&A[T-1]!=="\\"&&(p.pop(),w--)),F==="{"?(p.push({mode:"interpolation",isCalculationEnabled:!0}),w++):F==="}"&&(p.pop(),w--),p[w].mode==="normal"&&F===":"){var L=A.substring(T+1);O={type:"value",before:/^(\s*)/.exec(L)[1],after:/(\s*)$/.exec(L)[1],value:L.trim()},O.sourceIndex=O.before.length+T+1+C,k={type:"colon",sourceIndex:T+C,after:O.before,value:":"};break}S+=F}return S={type:"media-feature",before:/^(\s*)/.exec(S)[1],after:/(\s*)$/.exec(S)[1],value:S.trim()},S.sourceIndex=S.before.length+C,g.push(S),k!==null&&(k.before=S.after,g.push(k)),O!==null&&g.push(O),g}function l(c){var h=arguments.length<=1||arguments[1]===void 0?0:arguments[1],p=[],g=0,w=!1,S=void 0;function k(){return{before:"",after:"",value:""}}S=k();for(var O=0;O<c.length;O++){var C=c[O];w?(S.value+=C,(C==="{"||C==="(")&&g++,(C===")"||C==="}")&&g--):C.search(/\s/)!==-1?S.before+=C:(C==="("&&(S.type="media-feature-expression",g++),S.value=C,S.sourceIndex=h+O,w=!0),w&&g===0&&(C===")"||O===c.length-1||c[O+1].search(/\s/)!==-1)&&(["not","only","and"].indexOf(S.value)!==-1&&(S.type="keyword"),S.type==="media-feature-expression"&&(S.nodes=r(S.value,S.sourceIndex)),p.push(Array.isArray(S.nodes)?new o.default(S):new s.default(S)),S=k(),w=!1)}for(var A=0;A<p.length;A++)if(S=p[A],A>0&&(p[A-1].after=S.before),S.type===void 0){if(A>0){if(p[A-1].type==="media-feature-expression"){S.type="keyword";continue}if(p[A-1].value==="not"||p[A-1].value==="only"){S.type="media-type";continue}if(p[A-1].value==="and"){S.type="media-feature-expression";continue}p[A-1].type==="media-type"&&(p[A+1]?S.type=p[A+1].type==="media-feature-expression"?"keyword":"media-feature-expression":S.type="media-feature-expression")}if(A===0){if(!p[A+1]){S.type="media-type";continue}if(p[A+1]&&(p[A+1].type==="media-feature-expression"||p[A+1].type==="keyword")){S.type="media-type";continue}if(p[A+2]){if(p[A+2].type==="media-feature-expression"){S.type="media-type",p[A+1].type="keyword";continue}if(p[A+2].type==="keyword"){S.type="keyword",p[A+1].type="media-type";continue}}if(p[A+3]&&p[A+3].type==="media-feature-expression"){S.type="keyword",p[A+1].type="media-type",p[A+2].type="keyword";continue}}}return p}function m(c){var h=[],p=0,g=0,w=/^(\s*)url\s*\(/.exec(c);if(w!==null){for(var S=w[0].length,k=1;k>0;){var O=c[S];O==="("&&k++,O===")"&&k--,S++}h.unshift(new s.default({type:"url",value:c.substring(0,S).trim(),sourceIndex:w[1].length,before:w[1],after:/^(\s*)/.exec(c.substring(S))[1]})),p=S}for(var C=p;C<c.length;C++){var A=c[C];if(A==="("&&g++,A===")"&&g--,g===0&&A===","){var T=c.substring(p,C),F=/^(\s*)/.exec(T)[1];h.push(new o.default({type:"media-query",value:T.trim(),sourceIndex:p+F.length,nodes:l(T,p),before:F,after:/(\s*)$/.exec(T)[1]})),p=C+1}}var L=c.substring(p),I=/^(\s*)/.exec(L)[1];return h.push(new o.default({type:"media-query",value:L.trim(),sourceIndex:p+I.length,nodes:l(L,p),before:I,after:/(\s*)$/.exec(L)[1]})),h}}),nX=Ne(e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=Xx(),s=o(t),n=sX();function o(r){return r&&r.__esModule?r:{default:r}}function i(r){return new s.default({nodes:(0,n.parseMediaList)(r),type:"media-query-list",value:r.trim()})}}),Kx={};Mx(Kx,{languages:()=>DJ,options:()=>NJ,parsers:()=>O0,printers:()=>_J});var oX=(e,t,s,n)=>{if(!(e&&t==null))return t.replaceAll?t.replaceAll(s,n):s.global?t.replace(s,n):t.split(s).join(n)},Xt=oX,ku="'",gv='"';function iX(e,t){let s=t===!0||t===ku?ku:gv,n=s===ku?gv:ku,o=0,i=0;for(let r of e)r===s?o++:r===n&&i++;return o>i?n:s}var rX=iX;function aX(e,t,s){let n=t==='"'?"'":'"',o=Xt(!1,e,/\\(.)|(["'])/gs,(i,r,l)=>r===n?r:l===t?"\\"+l:l||(s&&/^[^\n\r"'0-7\\bfnrt-vx\u2028\u2029]$/.test(r)?r:"\\"+r));return t+o+t}var lX=aX;function uX(e,t){let s=e.slice(1,-1),n=t.parser==="json"||t.parser==="json5"&&t.quoteProps==="preserve"&&!t.singleQuote?'"':t.__isInHtmlAttribute?"'":rX(s,t.singleQuote);return lX(s,n,!(t.parser==="css"||t.parser==="less"||t.parser==="scss"||t.__embeddedInHtml))}var Jx=uX;function cX(e){return Array.isArray(e)&&e.length>0}var Ud=cX,Zx="string",e0="array",t0="cursor",Ig="indent",Mg="align",s0="trim",Lg="group",sl="fill",Wd="if-break",n0="indent-if-break",o0="line-suffix",i0="line-suffix-boundary",Yr="line",r0="label",Fg="break-parent",a0=new Set([t0,Ig,Mg,s0,Lg,sl,Wd,n0,o0,i0,Yr,r0,Fg]);function dX(e){if(typeof e=="string")return Zx;if(Array.isArray(e))return e0;if(!e)return;let{type:t}=e;if(a0.has(t))return t}var l0=dX,pX=e=>new Intl.ListFormat("en-US",{type:"disjunction"}).format(e);function hX(e){let t=e===null?"null":typeof e;if(t!=="string"&&t!=="object")return`Unexpected doc '${t}', 
Expected it to be 'string' or 'object'.`;if(l0(e))throw new Error("doc is valid.");let s=Object.prototype.toString.call(e);if(s!=="[object Object]")return`Unexpected doc '${s}'.`;let n=pX([...a0].map(o=>`'${o}'`));return`Unexpected doc.type '${e.type}'.
Expected it to be ${n}.`}var mX=class extends Error{constructor(t){super(hX(t));qe(this,"name","InvalidDocError");this.doc=t}},fX=mX,gX=()=>{},yX=gX;function Os(e){return{type:Ig,contents:e}}function u0(e,t){return{type:Mg,contents:t,n:e}}function zs(e,t={}){return yX(t.expandedStates),{type:Lg,id:t.id,contents:e,break:!!t.shouldBreak,expandedStates:t.expandedStates}}function wX(e){return u0({type:"root"},e)}function Cc(e){return u0(-1,e)}function km(e){return{type:sl,parts:e}}function c0(e,t="",s={}){return{type:Wd,breakContents:e,flatContents:t,groupId:s.groupId}}var Bg={type:Fg},bX={type:Yr,hard:!0},ls={type:Yr},cn={type:Yr,soft:!0},Ot=[bX,Bg];function di(e,t){let s=[];for(let n=0;n<t.length;n++)n!==0&&s.push(e),s.push(t[n]);return s}var vX=(e,t,s)=>{if(!(e&&t==null))return Array.isArray(t)||typeof t=="string"?t[s<0?t.length+s:s]:t.at(s)},nl=vX,TX=e=>{if(Array.isArray(e))return e;if(e.type!==sl)throw new Error(`Expect doc to be 'array' or '${sl}'.`);return e.parts};function SX(e,t){if(typeof e=="string")return t(e);let s=new Map;return n(e);function n(i){if(s.has(i))return s.get(i);let r=o(i);return s.set(i,r),r}function o(i){switch(l0(i)){case e0:return t(i.map(n));case sl:return t({...i,parts:i.parts.map(n)});case Wd:return t({...i,breakContents:n(i.breakContents),flatContents:n(i.flatContents)});case Lg:{let{expandedStates:r,contents:l}=i;return r?(r=r.map(n),l=r[0]):l=n(l),t({...i,contents:l,expandedStates:r})}case Mg:case Ig:case n0:case r0:case o0:return t({...i,contents:n(i.contents)});case Zx:case t0:case s0:case i0:case Yr:case Fg:return t(i);default:throw new fX(i)}}}function kX(e){return e.type===Yr&&!e.hard?e.soft?"":" ":e.type===Wd?e.flatContents:e}function EX(e){return SX(e,kX)}var xX=class extends Error{constructor(t,s,n="type"){super(`Unexpected ${s} node ${n}: ${JSON.stringify(t[n])}.`);qe(this,"name","UnexpectedNodeError");this.node=t}},CX=xX;function OX(e){return(e==null?void 0:e.type)==="front-matter"}var Oc=OX,DX=new Set(["raw","raws","sourceIndex","source","before","after","trailingComma","spaces"]);function d0(e,t,s){if(Oc(e)&&e.lang==="yaml"&&delete t.value,e.type==="css-comment"&&s.type==="css-root"&&s.nodes.length>0&&((s.nodes[0]===e||Oc(s.nodes[0])&&s.nodes[1]===e)&&(delete t.text,/^\*\s*@(?:format|prettier)\s*$/.test(e.text))||s.type==="css-root"&&nl(!1,s.nodes,-1)===e))return null;if(e.type==="value-root"&&delete t.text,(e.type==="media-query"||e.type==="media-query-list"||e.type==="media-feature-expression")&&delete t.value,e.type==="css-rule"&&delete t.params,e.type==="selector-combinator"&&(t.value=Xt(!1,t.value,/\s+/g," ")),e.type==="media-feature"&&(t.value=Xt(!1,t.value," ","")),(e.type==="value-word"&&(e.isColor&&e.isHex||["initial","inherit","unset","revert"].includes(t.value.toLowerCase()))||e.type==="media-feature"||e.type==="selector-root-invalid"||e.type==="selector-pseudo")&&(t.value=t.value.toLowerCase()),e.type==="css-decl"&&(t.prop=t.prop.toLowerCase()),(e.type==="css-atrule"||e.type==="css-import")&&(t.name=t.name.toLowerCase()),e.type==="value-number"&&(t.unit=t.unit.toLowerCase()),e.type==="value-unknown"&&(t.value=Xt(!1,t.value,/;$/g,"")),(e.type==="media-feature"||e.type==="media-keyword"||e.type==="media-type"||e.type==="media-unknown"||e.type==="media-url"||e.type==="media-value"||e.type==="selector-attribute"||e.type==="selector-string"||e.type==="selector-class"||e.type==="selector-combinator"||e.type==="value-string")&&t.value&&(t.value=AX(t.value)),e.type==="selector-attribute"&&(t.attribute=t.attribute.trim(),t.namespace&&typeof t.namespace=="string"&&(t.namespace=t.namespace.trim(),t.namespace.length===0&&(t.namespace=!0)),t.value&&(t.value=Xt(!1,t.value.trim(),/^["']|["']$/g,""),delete t.quoted)),(e.type==="media-value"||e.type==="media-type"||e.type==="value-number"||e.type==="selector-root-invalid"||e.type==="selector-class"||e.type==="selector-combinator"||e.type==="selector-tag")&&t.value&&(t.value=Xt(!1,t.value,/([\d+.Ee-]+)([A-Za-z]*)/g,(n,o,i)=>{let r=Number(o);return Number.isNaN(r)?n:r+i.toLowerCase()})),e.type==="selector-tag"){let n=e.value.toLowerCase();["from","to"].includes(n)&&(t.value=n)}if(e.type==="css-atrule"&&e.name.toLowerCase()==="supports"&&delete t.value,e.type==="selector-unknown"&&delete t.value,e.type==="value-comma_group"){let n=e.groups.findIndex(o=>o.type==="value-number"&&o.unit==="...");n!==-1&&(t.groups[n].unit="",t.groups.splice(n+1,0,{type:"value-word",value:"...",isColor:!1,isHex:!1}))}if(e.type==="value-comma_group"&&e.groups.some(n=>n.type==="value-atword"&&n.value.endsWith("[")||n.type==="value-word"&&n.value.startsWith("]")))return{type:"value-atword",value:e.groups.map(n=>n.value).join(""),group:{open:null,close:null,groups:[],type:"value-paren_group"}}}d0.ignoredProperties=DX;function AX(e){return Xt(!1,Xt(!1,e,"'",'"'),/\\([^\dA-Fa-f])/g,"$1")}var $X=d0;async function NX(e,t){if(e.lang==="yaml"){let s=e.value.trim(),n=s?await t(s,{parser:"yaml"}):"";return wX([e.startDelimiter,Ot,n,n?Ot:"",e.endDelimiter])}}var _X=NX;function p0(e){let{node:t}=e;if(t.type==="front-matter")return async s=>{let n=await _X(t,s);return n?[n,Ot]:void 0}}p0.getVisitorKeys=e=>e.type==="css-root"?["frontMatter"]:[];var PX=p0,Dc=Bi(oY(),1);function IX(e){if(!e.startsWith("#!"))return"";let t=e.indexOf(`
`);return t===-1?e:e.slice(0,t)}var MX=IX;function h0(e){let t=MX(e);t&&(e=e.slice(t.length+1));let s=(0,Dc.extract)(e),{pragmas:n,comments:o}=(0,Dc.parseWithComments)(s);return{shebang:t,text:e,pragmas:n,comments:o}}function LX(e){let{pragmas:t}=h0(e);return Object.prototype.hasOwnProperty.call(t,"prettier")||Object.prototype.hasOwnProperty.call(t,"format")}function FX(e){let{shebang:t,text:s,pragmas:n,comments:o}=h0(e),i=(0,Dc.strip)(s),r=(0,Dc.print)({pragmas:{format:"",...n},comments:o.trimStart()});return(t?`${t}
`:"")+r+(i.startsWith(`
`)?`
`:`

`)+i}var BX=new RegExp("^(?<startDelimiter>-{3}|\\+{3})(?<language>[^\\n]*)\\n(?:|(?<value>.*?)\\n)(?<endDelimiter>\\k<startDelimiter>|\\.{3})[^\\S\\n]*(?:\\n|$)","s");function RX(e){let t=e.match(BX);if(!t)return{content:e};let{startDelimiter:s,language:n,value:o="",endDelimiter:i}=t.groups,r=n.trim()||"yaml";if(s==="+++"&&(r="toml"),r!=="yaml"&&s!==i)return{content:e};let[l]=t;return{frontMatter:{type:"front-matter",lang:r,value:o,startDelimiter:s,endDelimiter:i,raw:l.replace(/\n$/,"")},content:Xt(!1,l,/[^\n]/g," ")+e.slice(l.length)}}var Rg=RX;function VX(e){return LX(Rg(e).content)}function UX(e){let{frontMatter:t,content:s}=Rg(e);return(t?t.raw+`

`:"")+FX(s)}var ca=null;function Pa(e){if(ca!==null&&typeof ca.property){let t=ca;return ca=Pa.prototype=null,t}return ca=Pa.prototype=e??Object.create(null),new Pa}var WX=10;for(let e=0;e<=WX;e++)Pa();function jX(e){return Pa(e)}function qX(e,t="type"){jX(e);function s(n){let o=n[t],i=e[o];if(!Array.isArray(i))throw Object.assign(new Error(`Missing visitor keys for '${o}'.`),{node:n});return i}return s}var zX=qX,HX={"front-matter":[],"css-root":["frontMatter","nodes"],"css-comment":[],"css-rule":["selector","nodes"],"css-decl":["value","selector","nodes"],"css-atrule":["selector","params","value","nodes"],"media-query-list":["nodes"],"media-query":["nodes"],"media-type":[],"media-feature-expression":["nodes"],"media-feature":[],"media-colon":[],"media-value":[],"media-keyword":[],"media-url":[],"media-unknown":[],"selector-root":["nodes"],"selector-selector":["nodes"],"selector-comment":[],"selector-string":[],"selector-tag":[],"selector-id":[],"selector-class":[],"selector-attribute":[],"selector-combinator":["nodes"],"selector-universal":[],"selector-pseudo":["nodes"],"selector-nesting":[],"selector-unknown":[],"value-value":["group"],"value-root":["group"],"value-comment":[],"value-comma_group":["groups"],"value-paren_group":["open","groups","close"],"value-func":["group"],"value-paren":[],"value-number":[],"value-operator":[],"value-word":[],"value-colon":[],"value-comma":[],"value-string":[],"value-atword":[],"value-unicode-range":[],"value-unknown":[]},QX=HX,GX=zX(QX),YX=GX,XX=new Set(["red","green","blue","alpha","a","rgb","hue","h","saturation","s","lightness","l","whiteness","w","blackness","b","tint","shade","blend","blenda","contrast","hsl","hsla","hwb","hwba"]);function KX(e){var t,s;return(s=(t=e.findAncestor(n=>n.type==="css-decl"))==null?void 0:t.prop)==null?void 0:s.toLowerCase()}var JX=new Set(["initial","inherit","unset","revert"]);function ZX(e){return JX.has(e.toLowerCase())}function eK(e,t){var s;let n=e.findAncestor(o=>o.type==="css-atrule");return((s=n==null?void 0:n.name)==null?void 0:s.toLowerCase().endsWith("keyframes"))&&["from","to"].includes(t.toLowerCase())}function lr(e){return e.includes("$")||e.includes("@")||e.includes("#")||e.startsWith("%")||e.startsWith("--")||e.startsWith(":--")||e.includes("(")&&e.includes(")")?e:e.toLowerCase()}function Yu(e,t){var s;let n=e.findAncestor(o=>o.type==="value-func");return((s=n==null?void 0:n.value)==null?void 0:s.toLowerCase())===t}function tK(e){var t;let s=e.findAncestor(o=>o.type==="css-rule"),n=(t=s==null?void 0:s.raws)==null?void 0:t.selector;return n&&(n.startsWith(":import")||n.startsWith(":export"))}function Xu(e,t){let s=Array.isArray(t)?t:[t],n=e.findAncestor(o=>o.type==="css-atrule");return n&&s.includes(n.name.toLowerCase())}function sK(e){var t;let{node:s}=e;return s.groups[0].value==="url"&&s.groups.length===2&&((t=e.findAncestor(n=>n.type==="css-atrule"))==null?void 0:t.name)==="import"}function nK(e){return e.type==="value-func"&&e.value.toLowerCase()==="url"}function oK(e){return e.type==="value-func"&&e.value.toLowerCase()==="var"}function uh(e,t){var s;let n=(s=e.parent)==null?void 0:s.nodes;return n&&n.indexOf(t)===n.length-1}function iK(e){let{selector:t}=e;return t?typeof t=="string"&&/^@.+:.*$/.test(t)||t.value&&/^@.+:.*$/.test(t.value):!1}function rK(e){return e.type==="value-word"&&["from","through","end"].includes(e.value)}function aK(e){return e.type==="value-word"&&["and","or","not"].includes(e.value)}function lK(e){return e.type==="value-word"&&e.value==="in"}function Em(e){return e.type==="value-operator"&&e.value==="*"}function Ku(e){return e.type==="value-operator"&&e.value==="/"}function Do(e){return e.type==="value-operator"&&e.value==="+"}function ur(e){return e.type==="value-operator"&&e.value==="-"}function uK(e){return e.type==="value-operator"&&e.value==="%"}function ch(e){return Em(e)||Ku(e)||Do(e)||ur(e)||uK(e)}function cK(e){return e.type==="value-word"&&["==","!="].includes(e.value)}function dK(e){return e.type==="value-word"&&["<",">","<=",">="].includes(e.value)}function xm(e,t){return t.parser==="scss"&&e.type==="css-atrule"&&["if","else","for","each","while"].includes(e.name)}function yv(e){var t;return((t=e.raws)==null?void 0:t.params)&&/^\(\s*\)$/.test(e.raws.params)}function wv(e){return e.name.startsWith("prettier-placeholder")}function pK(e){return e.prop.startsWith("@prettier-placeholder")}function hK(e,t){return e.value==="$$"&&e.type==="value-func"&&(t==null?void 0:t.type)==="value-word"&&!t.raws.before}function mK(e){var t,s;return((t=e.value)==null?void 0:t.type)==="value-root"&&((s=e.value.group)==null?void 0:s.type)==="value-value"&&e.prop.toLowerCase()==="composes"}function fK(e){var t,s,n;return((n=(s=(t=e.value)==null?void 0:t.group)==null?void 0:s.group)==null?void 0:n.type)==="value-paren_group"&&e.value.group.group.open!==null&&e.value.group.group.close!==null}function Zi(e){var t;return((t=e.raws)==null?void 0:t.before)===""}function Vg(e){var t,s;return e.type==="value-comma_group"&&((s=(t=e.groups)==null?void 0:t[1])==null?void 0:s.type)==="value-colon"}function dh(e){var t;return e.type==="value-paren_group"&&((t=e.groups)==null?void 0:t[0])&&Vg(e.groups[0])}function m0(e,t){var s;if(t.parser!=="scss")return!1;let{node:n}=e;if(n.groups.length===0)return!1;let o=e.grandparent;if(!dh(n)&&!(o&&dh(o)))return!1;let i=e.findAncestor(r=>r.type==="css-decl");return!!((s=i==null?void 0:i.prop)!=null&&s.startsWith("$")||dh(o)||o.type==="value-func")}function bv(e){return e.type==="value-comment"&&e.inline}function ph(e){return e.type==="value-word"&&e.value==="#"}function vv(e){return e.type==="value-word"&&e.value==="{"}function hh(e){return e.type==="value-word"&&e.value==="}"}function Eu(e){return["value-word","value-atword"].includes(e.type)}function Cm(e){return(e==null?void 0:e.type)==="value-colon"}function gK(e,t){if(!Vg(t))return!1;let{groups:s}=t,n=s.indexOf(e);return n===-1?!1:Cm(s[n+1])}function yK(e){return e.value&&["not","and","or"].includes(e.value.toLowerCase())}function wK(e){return e.type!=="value-func"?!1:XX.has(e.value.toLowerCase())}function da(e){return/\/\//.test(e.split(/[\n\r]/).pop())}function xu(e){return(e==null?void 0:e.type)==="value-atword"&&e.value.startsWith("prettier-placeholder-")}function bK(e,t){var s,n;if(((s=e.open)==null?void 0:s.value)!=="("||((n=e.close)==null?void 0:n.value)!==")"||e.groups.some(o=>o.type!=="value-comma_group"))return!1;if(t.type==="value-comma_group"){let o=t.groups.indexOf(e)-1,i=t.groups[o];if((i==null?void 0:i.type)==="value-word"&&i.value==="with")return!0}return!1}function Cu(e){var t,s;return e.type==="value-paren_group"&&((t=e.open)==null?void 0:t.value)==="("&&((s=e.close)==null?void 0:s.value)===")"}function Ug(e){return(t,s,n)=>{let o=!!(n!=null&&n.backwards);if(s===!1)return!1;let{length:i}=t,r=s;for(;r>=0&&r<i;){let l=t.charAt(r);if(e instanceof RegExp){if(!e.test(l))return r}else if(!e.includes(l))return r;o?r--:r++}return r===-1||r===i?r:!1}}var f0=Ug(" 	"),vK=Ug(",; 	"),g0=Ug(/[^\n\r]/);function TK(e,t){let s=0;for(let n=0;n<e.line-1;++n)s=t.indexOf(`
`,s)+1;return s+e.column}var y0=TK;function w0(e,t){var s,n,o;if(typeof((n=(s=e.source)==null?void 0:s.start)==null?void 0:n.offset)=="number")return e.source.start.offset;if(typeof e.sourceIndex=="number")return e.sourceIndex;if((o=e.source)!=null&&o.start)return y0(e.source.start,t);throw Object.assign(new Error("Can not locate node."),{node:e})}function Wg(e,t){var s,n;if(e.type==="css-comment"&&e.inline)return g0(t,e.source.startOffset);if(typeof((n=(s=e.source)==null?void 0:s.end)==null?void 0:n.offset)=="number")return e.source.end.offset+1;if(e.source){if(e.source.end)return y0(e.source.end,t);if(Ud(e.nodes))return Wg(nl(!1,e.nodes,-1),t)}return null}function b0(e,t){e.source&&(e.source.startOffset=w0(e,t),e.source.endOffset=Wg(e,t));for(let s in e){let n=e[s];s==="source"||!n||typeof n!="object"||(n.type==="value-root"||n.type==="value-unknown"?v0(n,SK(e),n.text||n.value):b0(n,t))}}function v0(e,t,s){e.source&&(e.source.startOffset=w0(e,s)+t,e.source.endOffset=Wg(e,s)+t);for(let n in e){let o=e[n];n==="source"||!o||typeof o!="object"||v0(o,t,s)}}function SK(e){var t;let s=e.source.startOffset;return typeof e.prop=="string"&&(s+=e.prop.length),e.type==="css-atrule"&&typeof e.name=="string"&&(s+=1+e.name.length+e.raws.afterName.match(/^\s*:?\s*/)[0].length),e.type!=="css-atrule"&&typeof((t=e.raws)==null?void 0:t.between)=="string"&&(s+=e.raws.between.length),s}function kK(e){let t="initial",s="initial",n,o=!1,i=[];for(let r=0;r<e.length;r++){let l=e[r];switch(t){case"initial":if(l==="'"){t="single-quotes";continue}if(l==='"'){t="double-quotes";continue}if((l==="u"||l==="U")&&e.slice(r,r+4).toLowerCase()==="url("){t="url",r+=3;continue}if(l==="*"&&e[r-1]==="/"){t="comment-block";continue}if(l==="/"&&e[r-1]==="/"){t="comment-inline",n=r-1;continue}continue;case"single-quotes":if(l==="'"&&e[r-1]!=="\\"&&(t=s,s="initial"),l===`
`||l==="\r")return e;continue;case"double-quotes":if(l==='"'&&e[r-1]!=="\\"&&(t=s,s="initial"),l===`
`||l==="\r")return e;continue;case"url":if(l===")"&&(t="initial"),l===`
`||l==="\r")return e;if(l==="'"){t="single-quotes",s="url";continue}if(l==='"'){t="double-quotes",s="url";continue}continue;case"comment-block":l==="/"&&e[r-1]==="*"&&(t="initial");continue;case"comment-inline":(l==='"'||l==="'"||l==="*")&&(o=!0),(l===`
`||l==="\r")&&(o&&i.push([n,r]),t="initial",o=!1);continue}}for(let[r,l]of i)e=e.slice(0,r)+Xt(!1,e.slice(r,l),/["'*]/g," ")+e.slice(l);return e}function Gs(e){var t;return(t=e.source)==null?void 0:t.startOffset}function Hs(e){var t;return(t=e.source)==null?void 0:t.endOffset}function EK(e){return e.toLowerCase().replace(/^([+-]?[\d.]+e)(?:\+|(-))?0*(?=\d)/,"$1$2").replace(/^([+-]?[\d.]+)e[+-]?0+$/,"$1").replace(/^([+-])?\./,"$10.").replace(/(\.\d+?)0+(?=e|$)/,"$1").replace(/\.(?=e|$)/,"")}var xK=EK,Tv=new Map([["em","em"],["rem","rem"],["ex","ex"],["rex","rex"],["cap","cap"],["rcap","rcap"],["ch","ch"],["rch","rch"],["ic","ic"],["ric","ric"],["lh","lh"],["rlh","rlh"],["vw","vw"],["svw","svw"],["lvw","lvw"],["dvw","dvw"],["vh","vh"],["svh","svh"],["lvh","lvh"],["dvh","dvh"],["vi","vi"],["svi","svi"],["lvi","lvi"],["dvi","dvi"],["vb","vb"],["svb","svb"],["lvb","lvb"],["dvb","dvb"],["vmin","vmin"],["svmin","svmin"],["lvmin","lvmin"],["dvmin","dvmin"],["vmax","vmax"],["svmax","svmax"],["lvmax","lvmax"],["dvmax","dvmax"],["cm","cm"],["mm","mm"],["q","Q"],["in","in"],["pt","pt"],["pc","pc"],["px","px"],["deg","deg"],["grad","grad"],["rad","rad"],["turn","turn"],["s","s"],["ms","ms"],["hz","Hz"],["khz","kHz"],["dpi","dpi"],["dpcm","dpcm"],["dppx","dppx"],["x","x"],["cqw","cqw"],["cqh","cqh"],["cqi","cqi"],["cqb","cqb"],["cqmin","cqmin"],["cqmax","cqmax"]]);function CK(e){let t=e.toLowerCase();return Tv.has(t)?Tv.get(t):e}var T0=/(["'])(?:(?!\1)[^\\]|\\.)*\1/gs,OK=/(?:\d*\.\d+|\d+\.?)(?:[Ee][+-]?\d+)?/g,DK=/[A-Za-z]+/g,AK=/[$@]?[A-Z_a-z\u0080-\uFFFF][\w\u0080-\uFFFF-]*/g,$K=new RegExp(T0.source+`|(${AK.source})?(${OK.source})(${DK.source})?`,"g");function Cn(e,t){return Xt(!1,e,T0,s=>Jx(s,t))}function NK(e,t){let s=t.singleQuote?"'":'"';return e.includes('"')||e.includes("'")?e:s+e+s}function er(e){return Xt(!1,e,$K,(t,s,n,o,i)=>!n&&o?S0(o)+lr(i||""):t)}function S0(e){return xK(e).replace(/\.0(?=$|e)/,"")}function _K(e){return e.trailingComma==="es5"||e.trailingComma==="all"}function PK(e,t,s){var n;let{node:o}=e,i=e.parent,r=e.grandparent,l=KX(e),m=l&&i.type==="value-value"&&(l==="grid"||l.startsWith("grid-template")),c=e.findAncestor(C=>C.type==="css-atrule"),h=c&&xm(c,t),p=o.groups.some(C=>bv(C)),g=e.map(s,"groups"),w=[],S=Yu(e,"url"),k=!1,O=!1;for(let C=0;C<o.groups.length;++C){w.push(g[C]);let A=o.groups[C-1],T=o.groups[C],F=o.groups[C+1],L=o.groups[C+2];if(S){(F&&Do(F)||Do(T))&&w.push(" ");continue}if(Xu(e,"forward")&&T.type==="value-word"&&T.value&&A!==void 0&&A.type==="value-word"&&A.value==="as"&&F.type==="value-operator"&&F.value==="*"||!F||T.type==="value-word"&&T.value.endsWith("-")&&xu(F))continue;if(T.type==="value-string"&&T.quoted){let U=T.value.lastIndexOf("#{"),ne=T.value.lastIndexOf("}");U!==-1&&ne!==-1?k=U>ne:U!==-1?k=!0:ne!==-1&&(k=!1)}if(k||Cm(T)||Cm(F)||T.type==="value-atword"&&(T.value===""||T.value.endsWith("["))||F.type==="value-word"&&F.value.startsWith("]")||T.value==="~"||T.type!=="value-string"&&T.value&&T.value.includes("\\")&&F&&F.type!=="value-comment"||A!=null&&A.value&&A.value.indexOf("\\")===A.value.length-1&&T.type==="value-operator"&&T.value==="/"||T.value==="\\"||hK(T,F)||ph(T)||vv(T)||hh(F)||vv(F)&&Zi(F)||hh(T)&&Zi(F)||T.value==="--"&&ph(F))continue;let I=ch(T),j=ch(F);if((I&&ph(F)||j&&hh(T))&&Zi(F)||!A&&Ku(T)||Yu(e,"calc")&&(Do(T)||Do(F)||ur(T)||ur(F))&&Zi(F))continue;let q=(Do(T)||ur(T))&&C===0&&(F.type==="value-number"||F.isHex)&&r&&wK(r)&&!Zi(F),Q=(L==null?void 0:L.type)==="value-func"||L&&Eu(L)||T.type==="value-func"||Eu(T),X=F.type==="value-func"||Eu(F)||(A==null?void 0:A.type)==="value-func"||A&&Eu(A);if(!(!(Em(F)||Em(T))&&!Yu(e,"calc")&&!q&&(Ku(F)&&!Q||Ku(T)&&!X||Do(F)&&!Q||Do(T)&&!X||ur(F)||ur(T))&&(Zi(F)||I&&(!A||A&&ch(A))))&&!((t.parser==="scss"||t.parser==="less")&&I&&T.value==="-"&&Cu(F)&&Hs(T)===Gs(F.open)&&F.open.value==="(")){if(bv(T)){if(i.type==="value-paren_group"){w.push(Cc(Ot));continue}w.push(Ot);continue}if(h&&(cK(F)||dK(F)||aK(F)||lK(T)||rK(T))){w.push(" ");continue}if(c&&c.name.toLowerCase()==="namespace"){w.push(" ");continue}if(m){T.source&&F.source&&T.source.start.line!==F.source.start.line?(w.push(Ot),O=!0):w.push(" ");continue}if(j){w.push(" ");continue}if((F==null?void 0:F.value)!=="..."&&!(xu(T)&&xu(F)&&Hs(T)===Gs(F))){if(xu(T)&&Cu(F)&&Hs(T)===Gs(F.open)){w.push(cn);continue}if(T.value==="with"&&Cu(F)){w.push(" ");continue}(n=T.value)!=null&&n.endsWith("#")&&F.value==="{"&&Cu(F.group)||w.push(ls)}}}return p&&w.push(Bg),O&&w.unshift(Ot),h?zs(Os(w)):sK(e)?zs(km(w)):zs(Os(km(w)))}var IK=PK;function MK(e,t,s){let n=!!(s!=null&&s.backwards);if(t===!1)return!1;let o=e.charAt(t);if(n){if(e.charAt(t-1)==="\r"&&o===`
`)return t-2;if(o===`
`||o==="\r"||o==="\u2028"||o==="\u2029")return t-1}else{if(o==="\r"&&e.charAt(t+1)===`
`)return t+2;if(o===`
`||o==="\r"||o==="\u2028"||o==="\u2029")return t+1}return t}var k0=MK;function LK(e,t){if(t===!1)return!1;if(e.charAt(t)==="/"&&e.charAt(t+1)==="*"){for(let s=t+2;s<e.length;++s)if(e.charAt(s)==="*"&&e.charAt(s+1)==="/")return s+2}return t}var FK=LK;function BK(e,t){return t===!1?!1:e.charAt(t)==="/"&&e.charAt(t+1)==="/"?g0(e,t):t}var RK=BK;function VK(e,t,s={}){let n=f0(e,s.backwards?t-1:t,s),o=k0(e,n,s);return n!==o}var E0=VK;function UK(e,t){let s=null,n=t;for(;n!==s;)s=n,n=vK(e,n),n=FK(e,n),n=f0(e,n);return n=RK(e,n),n=k0(e,n),n!==!1&&E0(e,n)}var x0=UK;function WK({node:e,parent:t},s){return!!(e.source&&s.originalText.slice(Gs(e),Gs(t.close)).trimEnd().endsWith(","))}function jK(e,t){return oK(e.grandparent)&&WK(e,t)?",":e.node.type!=="value-comment"&&_K(t)&&e.callParent(()=>m0(e,t))?c0(","):""}function qK(e,t,s){let{node:n,parent:o}=e,i=e.map(({node:w})=>typeof w=="string"?w:s(),"groups");if(o&&nK(o)&&(n.groups.length===1||n.groups.length>0&&n.groups[0].type==="value-comma_group"&&n.groups[0].groups.length>0&&n.groups[0].groups[0].type==="value-word"&&n.groups[0].groups[0].value.startsWith("data:")))return[n.open?s("open"):"",di(",",i),n.close?s("close"):""];if(!n.open){let w=C0(e),S=di([",",w?Ot:ls],i);return Os(w?[Ot,S]:zs(km(S)))}let r=e.map(({node:w,isLast:S,index:k})=>{var O;let C=i[k];if(Vg(w)&&w.type==="value-comma_group"&&w.groups&&w.groups[0].type!=="value-paren_group"&&((O=w.groups[2])==null?void 0:O.type)==="value-paren_group"){let T=TX(C.contents.contents);T[1]=zs(T[1]),C=zs(Cc(C))}let A=[C,S?jK(e,t):","];if(!S&&w.type==="value-comma_group"&&Ud(w.groups)){let T=nl(!1,w.groups,-1);!T.source&&T.close&&(T=T.close),T.source&&x0(t.originalText,Hs(T))&&A.push(Ot)}return A},"groups"),l=gK(n,o),m=bK(n,o),c=m0(e,t),h=m||c&&!l,p=m||l,g=zs([n.open?s("open"):"",Os([cn,di(ls,r)]),cn,n.close?s("close"):""],{shouldBreak:h});return p?Cc(g):g}function C0(e){return e.match(t=>t.type==="value-paren_group"&&!t.open&&t.groups.some(s=>s.type==="value-comma_group"),(t,s)=>s==="group"&&t.type==="value-value",(t,s)=>s==="group"&&t.type==="value-root",(t,s)=>s==="value"&&(t.type==="css-decl"&&!t.prop.startsWith("--")||t.type==="css-atrule"&&t.variable))}function zK(e,t,s){let n=[];return e.each(()=>{let{node:o,previous:i}=e;if((i==null?void 0:i.type)==="css-comment"&&i.text.trim()==="prettier-ignore"?n.push(t.originalText.slice(Gs(o),Hs(o))):n.push(s()),e.isLast)return;let{next:r}=e;r.type==="css-comment"&&!E0(t.originalText,Gs(r),{backwards:!0})&&!Oc(o)||r.type==="css-atrule"&&r.name==="else"&&o.type!=="css-comment"?n.push(" "):(n.push(t.__isHTMLStyleAttribute?ls:Ot),x0(t.originalText,Hs(o))&&!Oc(o)&&n.push(Ot))},"nodes"),n}var pa=zK;function HK(e,t,s){var n,o,i,r,l,m;let{node:c}=e;switch(c.type){case"front-matter":return[c.raw,Ot];case"css-root":{let h=pa(e,t,s),p=c.raws.after.trim();return p.startsWith(";")&&(p=p.slice(1).trim()),[c.frontMatter?[s("frontMatter"),Ot]:"",h,p?` ${p}`:"",c.nodes.length>0?Ot:""]}case"css-comment":{let h=c.inline||c.raws.inline,p=t.originalText.slice(Gs(c),Hs(c));return h?p.trimEnd():p}case"css-rule":return[s("selector"),c.important?" !important":"",c.nodes?[((n=c.selector)==null?void 0:n.type)==="selector-unknown"&&da(c.selector.value)?ls:c.selector?" ":"","{",c.nodes.length>0?Os([Ot,pa(e,t,s)]):"",Ot,"}",iK(c)?";":""]:";"];case"css-decl":{let h=e.parent,{between:p}=c.raws,g=p.trim(),w=g===":",S=typeof c.value=="string"&&/^ *$/.test(c.value),k=typeof c.value=="string"?c.value:s("value");return k=mK(c)?EX(k):k,!w&&da(g)&&!((i=(o=c.value)==null?void 0:o.group)!=null&&i.group&&e.call(()=>C0(e),"value","group","group"))&&(k=Os([Ot,Cc(k)])),[Xt(!1,c.raws.before,/[\s;]/g,""),h.type==="css-atrule"&&h.variable||tK(e)?c.prop:lr(c.prop),g.startsWith("//")?" ":"",g,c.extend||S?"":" ",t.parser==="less"&&c.extend&&c.selector?["extend(",s("selector"),")"]:"",k,c.raws.important?c.raws.important.replace(/\s*!\s*important/i," !important"):c.important?" !important":"",c.raws.scssDefault?c.raws.scssDefault.replace(/\s*!default/i," !default"):c.scssDefault?" !default":"",c.raws.scssGlobal?c.raws.scssGlobal.replace(/\s*!global/i," !global"):c.scssGlobal?" !global":"",c.nodes?[" {",Os([cn,pa(e,t,s)]),cn,"}"]:pK(c)&&!h.raws.semicolon&&t.originalText[Hs(c)-1]!==";"?"":t.__isHTMLStyleAttribute&&uh(e,c)?c0(";"):";"]}case"css-atrule":{let h=e.parent,p=wv(c)&&!h.raws.semicolon&&t.originalText[Hs(c)-1]!==";";if(t.parser==="less"){if(c.mixin)return[s("selector"),c.important?" !important":"",p?"":";"];if(c.function)return[c.name,typeof c.params=="string"?c.params:s("params"),p?"":";"];if(c.variable)return["@",c.name,": ",c.value?s("value"):"",c.raws.between.trim()?c.raws.between.trim()+" ":"",c.nodes?["{",Os([c.nodes.length>0?cn:"",pa(e,t,s)]),cn,"}"]:"",p?"":";"]}let g=c.name==="import"&&((r=c.params)==null?void 0:r.type)==="value-unknown"&&c.params.value.endsWith(";");return["@",yv(c)||c.name.endsWith(":")?c.name:lr(c.name),c.params?[yv(c)?"":wv(c)?c.raws.afterName===""?"":c.name.endsWith(":")?" ":/^\s*\n\s*\n/.test(c.raws.afterName)?[Ot,Ot]:/^\s*\n/.test(c.raws.afterName)?Ot:" ":" ",typeof c.params=="string"?c.params:s("params")]:"",c.selector?Os([" ",s("selector")]):"",c.value?zs([" ",s("value"),xm(c,t)?fK(c)?" ":ls:""]):c.name==="else"?" ":"",c.nodes?[xm(c,t)?"":c.selector&&!c.selector.nodes&&typeof c.selector.value=="string"&&da(c.selector.value)||!c.selector&&typeof c.params=="string"&&da(c.params)?ls:" ","{",Os([c.nodes.length>0?cn:"",pa(e,t,s)]),cn,"}"]:p||g?"":";"]}case"media-query-list":{let h=[];return e.each(({node:p})=>{p.type==="media-query"&&p.value===""||h.push(s())},"nodes"),zs(Os(di(ls,h)))}case"media-query":return[di(" ",e.map(s,"nodes")),uh(e,c)?"":","];case"media-type":return er(Cn(c.value,t));case"media-feature-expression":return c.nodes?["(",...e.map(s,"nodes"),")"]:c.value;case"media-feature":return lr(Cn(Xt(!1,c.value,/ +/g," "),t));case"media-colon":return[c.value," "];case"media-value":return er(Cn(c.value,t));case"media-keyword":return Cn(c.value,t);case"media-url":return Cn(Xt(!1,Xt(!1,c.value,/^url\(\s+/gi,"url("),/\s+\)$/g,")"),t);case"media-unknown":return c.value;case"selector-root":return zs([Xu(e,"custom-selector")?[e.findAncestor(h=>h.type==="css-atrule").customSelector,ls]:"",di([",",Xu(e,["extend","custom-selector","nest"])?ls:Ot],e.map(s,"nodes"))]);case"selector-selector":return zs(Os(e.map(s,"nodes")));case"selector-comment":return c.value;case"selector-string":return Cn(c.value,t);case"selector-tag":return[c.namespace?[c.namespace===!0?"":c.namespace.trim(),"|"]:"",((l=e.previous)==null?void 0:l.type)==="selector-nesting"?c.value:er(eK(e,c.value)?c.value.toLowerCase():c.value)];case"selector-id":return["#",c.value];case"selector-class":return[".",er(Cn(c.value,t))];case"selector-attribute":return["[",c.namespace?[c.namespace===!0?"":c.namespace.trim(),"|"]:"",c.attribute.trim(),c.operator??"",c.value?NK(Cn(c.value.trim(),t),t):"",c.insensitive?" i":"","]"];case"selector-combinator":{if(c.value==="+"||c.value===">"||c.value==="~"||c.value===">>>"){let g=e.parent;return[g.type==="selector-selector"&&g.nodes[0]===c?"":ls,c.value,uh(e,c)?"":" "]}let h=c.value.trim().startsWith("(")?ls:"",p=er(Cn(c.value.trim(),t))||ls;return[h,p]}case"selector-universal":return[c.namespace?[c.namespace===!0?"":c.namespace.trim(),"|"]:"",c.value];case"selector-pseudo":return[lr(c.value),Ud(c.nodes)?zs(["(",Os([cn,di([",",ls],e.map(s,"nodes"))]),cn,")"]):""];case"selector-nesting":return c.value;case"selector-unknown":{let h=e.findAncestor(w=>w.type==="css-rule");if(h!=null&&h.isSCSSNesterProperty)return er(Cn(lr(c.value),t));let p=e.parent;if((m=p.raws)!=null&&m.selector){let w=Gs(p),S=w+p.raws.selector.length;return t.originalText.slice(w,S).trim()}let g=e.grandparent;if(p.type==="value-paren_group"&&(g==null?void 0:g.type)==="value-func"&&g.value==="selector"){let w=Hs(p.open)+1,S=Gs(p.close),k=t.originalText.slice(w,S).trim();return da(k)?[Bg,k]:k}return c.value}case"value-value":case"value-root":return s("group");case"value-comment":return t.originalText.slice(Gs(c),Hs(c));case"value-comma_group":return IK(e,t,s);case"value-paren_group":return qK(e,t,s);case"value-func":return[c.value,Xu(e,"supports")&&yK(c)?" ":"",s("group")];case"value-paren":return c.value;case"value-number":return[S0(c.value),CK(c.unit)];case"value-operator":return c.value;case"value-word":return c.isColor&&c.isHex||ZX(c.value)?c.value.toLowerCase():c.value;case"value-colon":{let{previous:h}=e;return[c.value,typeof(h==null?void 0:h.value)=="string"&&h.value.endsWith("\\")||Yu(e,"url")?"":ls]}case"value-string":return Jx(c.raws.quote+c.value+c.raws.quote,t);case"value-atword":return["@",c.value];case"value-unicode-range":return c.value;case"value-unknown":return c.value;case"value-comma":default:throw new CX(c,"PostCSS")}}var QK={print:HK,embed:PX,insertPragma:UX,massageAstNode:$X,getVisitorKeys:YX},GK=QK,O0={};Mx(O0,{css:()=>xJ,less:()=>CJ,scss:()=>OJ});var YK=Bi(Vd(),1),XK=Bi(fY(),1),KK=Bi(SY(),1);function JK(e,t){let s=new SyntaxError(e+" ("+t.loc.start.line+":"+t.loc.start.column+")");return Object.assign(s,t)}var ZK=JK;function eJ(e,t){return t.parser!=="scss"||!e.selector?!1:e.selector.replace(/\/\*.*?\*\//,"").replace(/\/\/.*\n/,"").trim().endsWith(":")}var tJ=eJ,sJ=new Set(["import","use","forward"]);function nJ(e){return sJ.has(e)}var oJ=nJ,iJ=Bi(RY(),1),rJ=e=>{for(;e.parent;)e=e.parent;return e},D0=rJ;function aJ(e){return D0(e).text.slice(e.group.open.sourceIndex+1,e.group.close.sourceIndex).trim()}var lJ=aJ;function uJ(e){if(Ud(e)){for(let t=e.length-1;t>0;t--)if(e[t].type==="word"&&e[t].value==="{"&&e[t-1].type==="word"&&e[t-1].value.endsWith("#"))return!0}return!1}var cJ=uJ;function dJ(e){return e.some(t=>t.type==="string"||t.type==="func"&&!t.value.endsWith("\\"))}var pJ=dJ;function hJ(e,t){return!!(t.parser==="scss"&&(e==null?void 0:e.type)==="word"&&e.value.startsWith("$"))}var mJ=hJ,fJ=Bi(tX(),1);function Fl(e,t,s){if(e&&typeof e=="object"){delete e.parent;for(let n in e)Fl(e[n],t,s),n==="type"&&typeof e[n]=="string"&&!e[n].startsWith(t)&&(!s||!s.test(e[n]))&&(e[n]=t+e[n])}return e}function A0(e){if(e&&typeof e=="object"){delete e.parent;for(let t in e)A0(e[t]);!Array.isArray(e)&&e.value&&!e.type&&(e.type="unknown")}return e}function gJ(e){if(/\/\/|\/\*/.test(e))return{type:"selector-unknown",value:e.trim()};let t;try{new fJ.default(s=>{t=s}).process(e)}catch{return{type:"selector-unknown",value:e}}return Fl(t,"selector-")}var oi=gJ;function yJ(e,t){var s;let{nodes:n}=e,o={open:null,close:null,groups:[],type:"paren_group"},i=[o],r=o,l={groups:[],type:"comma_group"},m=[l];for(let c=0;c<n.length;++c){let h=n[c];if(t.parser==="scss"&&h.type==="number"&&h.unit===".."&&h.value.endsWith(".")&&(h.value=h.value.slice(0,-1),h.unit="..."),h.type==="func"&&h.value==="selector"&&(h.group.groups=[oi(D0(e).text.slice(h.group.open.sourceIndex+1,h.group.close.sourceIndex))]),h.type==="func"&&h.value==="url"){let p=((s=h.group)==null?void 0:s.groups)??[],g=[];for(let w=0;w<p.length;w++){let S=p[w];S.type==="comma_group"?g=[...g,...S.groups]:g.push(S)}(cJ(g)||!pJ(g)&&!mJ(g[0],t))&&(h.group.groups=[lJ(h)])}if(h.type==="paren"&&h.value==="(")o={open:h,close:null,groups:[],type:"paren_group"},i.push(o),l={groups:[],type:"comma_group"},m.push(l);else if(h.type==="paren"&&h.value===")"){if(l.groups.length>0&&o.groups.push(l),o.close=h,m.length===1)throw new Error("Unbalanced parenthesis");m.pop(),l=nl(!1,m,-1),l.groups.push(o),i.pop(),o=nl(!1,i,-1)}else h.type==="comma"?(o.groups.push(l),l={groups:[],type:"comma_group"},m[m.length-1]=l):l.groups.push(h)}return l.groups.length>0&&o.groups.push(l),r}function Om(e){return e.type==="paren_group"&&!e.open&&!e.close&&e.groups.length===1||e.type==="comma_group"&&e.groups.length===1?Om(e.groups[0]):e.type==="paren_group"||e.type==="comma_group"?{...e,groups:e.groups.map(Om)}:e}function $0(e,t){if(e&&typeof e=="object")for(let s in e)s!=="parent"&&($0(e[s],t),s==="nodes"&&(e.group=Om(yJ(e,t)),delete e[s]));return e}function wJ(e,t){if(t.parser==="less"&&e.startsWith("~`"))return{type:"value-unknown",value:e};let s=null;try{s=new iJ.default(e,{loose:!0}).parse()}catch{return{type:"value-unknown",value:e}}s.text=e;let n=$0(s,t);return Fl(n,"value-",/^selector-/)}var ti=wJ,bJ=Bi(nX(),1),vJ=bJ.default.default;function TJ(e){let t;try{t=vJ(e)}catch{return{type:"selector-unknown",value:e}}return Fl(A0(t),"media-")}var SJ=TJ,kJ=/(\s*)(!default).*$/,EJ=/(\s*)(!global).*$/;function N0(e,t){var s,n;if(e&&typeof e=="object"){delete e.parent;for(let l in e)N0(e[l],t);if(!e.type)return e;if(e.raws??(e.raws={}),e.type==="css-decl"&&typeof e.prop=="string"&&e.prop.startsWith("--")&&typeof e.value=="string"&&e.value.startsWith("{")){let l;if(e.value.trimEnd().endsWith("}")){let m=t.originalText.slice(0,e.source.start.offset),c="a".repeat(e.prop.length)+t.originalText.slice(e.source.start.offset+e.prop.length,e.source.end.offset+1),h=Xt(!1,m,/[^\n]/g," ")+c,p;t.parser==="scss"?p=I0:t.parser==="less"?p=P0:p=_0;let g;try{g=p(h,{...t})}catch{}((s=g==null?void 0:g.nodes)==null?void 0:s.length)===1&&g.nodes[0].type==="css-rule"&&(l=g.nodes[0].nodes)}return l?e.value={type:"css-rule",nodes:l}:e.value={type:"value-unknown",value:e.raws.value.raw},e}let o="";typeof e.selector=="string"&&(o=e.raws.selector?e.raws.selector.scss??e.raws.selector.raw:e.selector,e.raws.between&&e.raws.between.trim().length>0&&(o+=e.raws.between),e.raws.selector=o);let i="";typeof e.value=="string"&&(i=e.raws.value?e.raws.value.scss??e.raws.value.raw:e.value,i=i.trim(),e.raws.value=i);let r="";if(typeof e.params=="string"&&(r=e.raws.params?e.raws.params.scss??e.raws.params.raw:e.params,e.raws.afterName&&e.raws.afterName.trim().length>0&&(r=e.raws.afterName+r),e.raws.between&&e.raws.between.trim().length>0&&(r=r+e.raws.between),r=r.trim(),e.raws.params=r),o.trim().length>0)return o.startsWith("@")&&o.endsWith(":")?e:e.mixin?(e.selector=ti(o,t),e):(tJ(e,t)&&(e.isSCSSNesterProperty=!0),e.selector=oi(o),e);if(i.length>0){let l=i.match(kJ);l&&(i=i.slice(0,l.index),e.scssDefault=!0,l[0].trim()!=="!default"&&(e.raws.scssDefault=l[0]));let m=i.match(EJ);if(m&&(i=i.slice(0,m.index),e.scssGlobal=!0,m[0].trim()!=="!global"&&(e.raws.scssGlobal=m[0])),i.startsWith("progid:"))return{type:"value-unknown",value:i};e.value=ti(i,t)}if(t.parser==="less"&&e.type==="css-decl"&&i.startsWith("extend(")&&(e.extend||(e.extend=e.raws.between===":"),e.extend&&!e.selector&&(delete e.value,e.selector=oi(i.slice(7,-1)))),e.type==="css-atrule"){if(t.parser==="less"){if(e.mixin){let l=e.raws.identifier+e.name+e.raws.afterName+e.raws.params;return e.selector=oi(l),delete e.params,e}if(e.function)return e}if(t.parser==="css"&&e.name==="custom-selector"){let l=e.params.match(/:--\S+\s+/)[0].trim();return e.customSelector=l,e.selector=oi(e.params.slice(l.length).trim()),delete e.params,e}if(t.parser==="less"){if(e.name.includes(":")&&!e.params){e.variable=!0;let l=e.name.split(":");e.name=l[0],e.value=ti(l.slice(1).join(":"),t)}if(!["page","nest","keyframes"].includes(e.name)&&((n=e.params)==null?void 0:n[0])===":"){e.variable=!0;let l=e.params.slice(1);l&&(e.value=ti(l,t)),e.raws.afterName+=":"}if(e.variable)return delete e.params,e.value||delete e.value,e}}if(e.type==="css-atrule"&&r.length>0){let{name:l}=e,m=e.name.toLowerCase();return l==="warn"||l==="error"?(e.params={type:"media-unknown",value:r},e):l==="extend"||l==="nest"?(e.selector=oi(r),delete e.params,e):l==="at-root"?(/^\(\s*(?:without|with)\s*:.+\)$/s.test(r)?e.params=ti(r,t):(e.selector=oi(r),delete e.params),e):oJ(m)?(e.import=!0,delete e.filename,e.params=ti(r,t),e):["namespace","supports","if","else","for","each","while","debug","mixin","include","function","return","define-mixin","add-mixin"].includes(l)?(r=r.replace(/(\$\S+?)(\s+)?\.{3}/,"$1...$2"),r=r.replace(/^(?!if)(\S+)(\s+)\(/,"$1($2"),e.value=ti(r,t),delete e.params,e):["media","custom-media"].includes(m)?r.includes("#{")?{type:"media-unknown",value:r}:(e.params=SJ(r),e):(e.params=r,e)}}return e}function jg(e,t,s){let n=Rg(t),{frontMatter:o}=n;t=n.content;let i;try{i=e(t,{map:!1})}catch(r){let{name:l,reason:m,line:c,column:h}=r;throw typeof c!="number"?r:ZK(`${l}: ${m}`,{loc:{start:{line:c,column:h}},cause:r})}return s.originalText=t,i=N0(Fl(i,"css-"),s),b0(i,t),o&&(o.source={startOffset:0,endOffset:o.raw.length},i.frontMatter=o),i}function _0(e,t={}){return jg(YK.default.default,e,t)}function P0(e,t={}){return jg(s=>XK.default.parse(kK(s)),e,t)}function I0(e,t={}){return jg(KK.default,e,t)}var qg={astFormat:"postcss",hasPragma:VX,locStart:Gs,locEnd:Hs},xJ={...qg,parse:_0},CJ={...qg,parse:P0},OJ={...qg,parse:I0},DJ=[{linguistLanguageId:50,name:"CSS",type:"markup",tmScope:"source.css",aceMode:"css",codemirrorMode:"css",codemirrorMimeType:"text/css",color:"#563d7c",extensions:[".css",".wxss"],parsers:["css"],vscodeLanguageIds:["css"]},{linguistLanguageId:262764437,name:"PostCSS",type:"markup",color:"#dc3a0c",tmScope:"source.postcss",group:"CSS",extensions:[".pcss",".postcss"],aceMode:"text",parsers:["css"],vscodeLanguageIds:["postcss"]},{linguistLanguageId:198,name:"Less",type:"markup",color:"#1d365d",aliases:["less-css"],extensions:[".less"],tmScope:"source.css.less",aceMode:"less",codemirrorMode:"css",codemirrorMimeType:"text/css",parsers:["less"],vscodeLanguageIds:["less"]},{linguistLanguageId:329,name:"SCSS",type:"markup",color:"#c6538c",tmScope:"source.css.scss",aceMode:"scss",codemirrorMode:"css",codemirrorMimeType:"text/x-scss",extensions:[".scss"],parsers:["scss"],vscodeLanguageIds:["scss"]}],AJ={bracketSpacing:{category:"Common",type:"boolean",default:!0,description:"Print spaces between brackets.",oppositeDescription:"Do not print spaces between brackets."},singleQuote:{category:"Common",type:"boolean",default:!1,description:"Use single quotes instead of double quotes."},proseWrap:{category:"Common",type:"choice",default:"preserve",description:"How to wrap prose.",choices:[{value:"always",description:"Wrap prose if it exceeds the print width."},{value:"never",description:"Do not wrap prose."},{value:"preserve",description:"Wrap prose as-is."}]},bracketSameLine:{category:"Common",type:"boolean",default:!1,description:"Put > of opening tags on the last line instead of on a new line."},singleAttributePerLine:{category:"Common",type:"boolean",default:!1,description:"Enforce single attribute per line in HTML, Vue and JSX."}},$J={singleQuote:AJ.singleQuote},NJ=$J,_J={postcss:GK},PJ=Kx;const IJ=[tt.theme({"&":{"font-size":"0.8em",border:"var(--border-base)",borderRadius:"var(--border-radius-base)",backgroundColor:"var(--color-code-background)",color:"var(--color-code-foreground)"},".cm-content":{fontFamily:"Menlo, Consolas, 'DejaVu Sans Mono', monospace !important",caretColor:"var(--color-code-caret)"},".cm-cursor, .cm-dropCursor":{borderLeftColor:"var(--color-code-caret)"},"&.cm-editor.cm-focused":{outline:"0"},"&.cm-focused .cm-selectionBackgroundm .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"var(--color-code-selection)"},".cm-activeLine":{backgroundColor:"var(--color-code-lineHighlight)"},".cm-activeLineGutter":{backgroundColor:"var(--color-code-lineHighlight)"},".cm-gutters":{backgroundColor:"var(--color-code-gutterBackground)",color:"var(--color-code-gutterForeground)",borderTopLeftRadius:"var(--border-radius-base)",borderBottomLeftRadius:"var(--border-radius-base)"},".cm-scroller":{overflow:"auto",maxHeight:"350px"}}),Pm(Im.define([{tag:Se.keyword,color:"#c678dd"},{tag:[Se.name,Se.deleted,Se.character,Se.propertyName,Se.macroName],color:"#e06c75"},{tag:[Se.function(Se.variableName),Se.labelName],color:"#61afef"},{tag:[Se.color,Se.constant(Se.name),Se.standard(Se.name)],color:"#d19a66"},{tag:[Se.definition(Se.name),Se.separator],color:"#abb2bf"},{tag:[Se.typeName,Se.className,Se.number,Se.changed,Se.annotation,Se.modifier,Se.self,Se.namespace],color:"#e06c75"},{tag:[Se.operator,Se.operatorKeyword,Se.url,Se.escape,Se.regexp,Se.link,Se.special(Se.string)],color:"#56b6c2"},{tag:[Se.meta,Se.comment],color:"#7d8799"},{tag:Se.strong,fontWeight:"bold"},{tag:Se.emphasis,fontStyle:"italic"},{tag:Se.strikethrough,textDecoration:"line-through"},{tag:Se.link,color:"#7d8799",textDecoration:"underline"},{tag:Se.heading,fontWeight:"bold",color:"#e06c75"},{tag:[Se.atom,Se.bool,Se.special(Se.variableName)],color:"#d19a66"},{tag:[Se.processingInstruction,Se.string,Se.inserted],color:"#98c379"},{tag:Se.invalid,color:"red","font-weight":"bold"}]))];function MJ(e,t){const s=[],[n,o]=e;let i=n,r=n;for(t=[...t];i<o;){if(t.length===0){s.push([r,o]);break}const[l,m]=t[0];if(i<l){i++;continue}l!==n&&s.push([r,i-1]),i=m+1,r=m+1,t.shift()}return s}const LJ=J({name:"HtmlEditor",mixins:[Tl],props:{modelValue:{type:String,required:!0},isReadOnly:{type:Boolean,default:!1},rows:{type:Number,default:-1},disableExpressionColoring:{type:Boolean,default:!1},disableExpressionCompletions:{type:Boolean,default:!1}},data(){return{editor:{}}},computed:{doc(){return this.editor.state.doc.toString()},extensions(){function e(){return new rl(Gy,kf().map(t=>Gy.data.of(t)))}return[Bm(),al(),this.disableExpressionCompletions?EA():e(),xA,od(),ll.of([Tf,{key:"Enter",run:US},{key:"Mod-Shift-z",run:Br}]),tc(),IJ,Mm(),Vm(),vl(),Lm(),Fm(),tc(),Rm(),bs.readOnly.of(this.isReadOnly),tt.updateListener.of(t=>{var s,n,o;t.docChanged&&(this.editorState=this.editor.state,(s=this.getHighlighter())==null||s.removeColor(this.editor,this.htmlSegments),(n=this.getHighlighter())==null||n.addColor(this.editor,this.resolvableSegments),this.$emit("update:modelValue",(o=this.editor)==null?void 0:o.state.doc.toString()))})]},sections(){const{state:e}=this.editor,t=Xv(this.editor.state,this.doc.length);if(t===null)throw new Error(`Failed to parse syntax tree for: ${this.doc}`);let s=[-1,-1];const n=[],o=[];t.cursor().iterate(c=>{c.type.name==="Document"&&(s=[c.from,c.to]),c.type.name==="StyleSheet"&&n.push([c.from-7,c.to+8]),c.type.name==="Script"&&o.push([c.from-8,c.to+9])});const i=MJ(s,[...n,...o]),r=n.map(([c,h])=>({kind:"style",range:[c,h],content:e.sliceDoc(c,h).replace(/<\/?style>/g,"")})),l=o.map(([c,h])=>({kind:"script",range:[c,h],content:e.sliceDoc(c,h).replace(/<\/?script>/g,"")})),m=i.map(([c,h])=>({kind:"html",range:[c,h],content:e.sliceDoc(c,h).replace(/<\/html>/g,"")}));return[...r,...l,...m].sort((c,h)=>c.range[0]-h.range[0])}},methods:{root(){const e=this.$refs.htmlEditor;if(!e)throw new Error('Expected div with ref "htmlEditor"');return e},isMissingHtmlTags(){const e=this.sections.at(0);return!(e!=null&&e.content.trim().startsWith("<html"))&&!(e!=null&&e.content.trim().endsWith("</html>"))},async format(){var t,s;if(this.sections.length===1&&this.isMissingHtmlTags()){const n=this.sections.at(0),o=(await ma.format(n.content,{parser:"html",plugins:[fv]})).trim();return this.editor.dispatch({changes:{from:0,to:this.doc.length,insert:o}})}const e=[];for(const{kind:n,content:o}of this.sections){if(n==="style"){const i=await ma.format(o,{parser:"css",plugins:[PJ]});e.push(`<style>
${i}</style>`)}if(n==="script"){const i=await ma.format(o,{parser:"babel",plugins:[g1,CE]});e.push(`<script>
${i}<\/script>`)}if(n==="html"){const i=o.match(/(?<pre>[\s\S]*<html[\s\S]*?>)(?<rest>[\s\S]*)/);if(!((t=i==null?void 0:i.groups)!=null&&t.pre)||!((s=i.groups)!=null&&s.rest))continue;const{pre:r,rest:l}=i.groups,m=await ma.format(l,{parser:"html",plugins:[fv]});e.push(`${r}
${m}</html>`)}}e.length!==0&&this.editor.dispatch({changes:{from:0,to:this.doc.length,insert:e.join(`

`)}})},getHighlighter(){if(!this.disableExpressionColoring)return Ht}},mounted(){var s;Ih.on("format-html",this.format);let e=this.modelValue;this.modelValue===""&&this.rows>0&&(e=`
`.repeat(this.rows-1));const t=bs.create({doc:e,extensions:this.extensions});this.editor=new tt({parent:this.root(),state:t}),this.editorState=this.editor.state,(s=this.getHighlighter())==null||s.addColor(this.editor,this.resolvableSegments)},beforeUnmount(){Ih.off("format-html",this.format)}}),FJ={ref:"htmlEditor"};function BJ(e,t,s,n,o,i){return y(),P("div",FJ,null,512)}const RJ=te(LJ,[["render",BJ]]),mh={StandardSQL:cA,PostgreSQL:dA,MySQL:pA,MariaSQL:hA,MSSQL:mA,SQLite:fA,Cassandra:gA,PLSQL:yA},VJ=J({name:"sql-editor",components:{InlineExpressionEditorOutput:s1},mixins:[Tl],props:{modelValue:{type:String,required:!0},dialect:{type:String,default:"StandardSQL",validator:e=>Object.keys(mh).includes(e)},isReadOnly:{type:Boolean,default:!1}},data(){return{editor:null,expressionsDocsUrl:Qm,isFocused:!1,skipSegments:["Statement","CompositeIdentifier","Parens"]}},watch:{"ndvStore.ndvInputData"(){var e;(e=this.editor)==null||e.dispatch({changes:{from:0,to:this.editor.state.doc.length,insert:this.modelValue}}),setTimeout(()=>{var t;(t=this.editor)==null||t.contentDOM.blur()})}},computed:{doc(){var e;return((e=this.editor)==null?void 0:e.state.doc.toString())??""},hoveringItemNumber(){return this.ndvStore.hoveringItemNumber},sqlDialect(){return mh[this.dialect]??mh.StandardSQL},extensions(){const e=this.sqlDialect;function t(){return new rl(e.language,[e.language.data.of({autocomplete:aT(["Resolvable"],wA(e,!0))}),kf().map(n=>e.language.data.of(n))])}const s=[t(),od(),jE({isReadOnly:this.isReadOnly,customMaxHeight:"350px"}),Mm(),tt.lineWrapping,bs.readOnly.of(this.isReadOnly),tt.domEventHandlers({focus:()=>{this.isFocused=!0}}),bs.readOnly.of(this.isReadOnly),tt.editable.of(!this.isReadOnly)];return this.isReadOnly||s.push(vl(),ll.of([{key:"Mod-Shift-z",run:Br},{key:"Mod-/",run:IS},{key:"Tab",run:Ia},Tf]),al(),tc(),Rm(),Vm(),Lm(),Fm(),Bm(),tt.updateListener.of(n=>{var o;!n.docChanged||!this.editor||(this.editorState=this.editor.state,Ht.removeColor(this.editor,this.plaintextSegments),Ht.addColor(this.editor,this.resolvableSegments),this.$emit("update:modelValue",(o=this.editor)==null?void 0:o.state.doc.toString()))})),s}},mounted(){this.isReadOnly||oc.on("error-line-number",this.highlightLine);const e=bs.create({doc:this.modelValue,extensions:this.extensions});this.editor=new tt({parent:this.$refs.sqlEditor,state:e}),this.editorState=this.editor.state,Ht.addColor(this.editor,this.resolvableSegments)},methods:{onBlur(){this.isFocused=!1},line(e){var t;try{return((t=this.editor)==null?void 0:t.state.doc.line(e))??null}catch{return null}},highlightLine(e){if(!this.editor)return;if(e==="final"){this.editor.dispatch({selection:{anchor:this.modelValue.length}});return}const t=this.line(e);t&&this.editor.dispatch({selection:{anchor:t.from}})}}}),UJ="_sqlEditor_1ebro_5",WJ={sqlEditor:UJ},jJ={ref:"sqlEditor","data-test-id":"sql-editor-container"};function qJ(e,t,s,n,o,i){const r=E("InlineExpressionEditorOutput"),l=Ls("on-click-outside");return He((y(),P("div",{class:$(e.$style.sqlEditor)},[D("div",jJ,null,512),b(r,{segments:e.segments,isReadOnly:e.isReadOnly,visible:e.isFocused,hoveringItemNumber:e.hoveringItemNumber},null,8,["segments","isReadOnly","visible","hoveringItemNumber"])],2)),[[l,e.onBlur]])}const zJ={$style:WJ},HJ=te(VJ,[["render",qJ],["__cssModules",zJ]]),QJ=J({name:"parameter-input",mixins:[Ft,Bs,ut,kn],components:{CodeNodeEditor:qE,HtmlEditor:RJ,SqlEditor:HJ,ExpressionEdit:LV,ExpressionParameterInput:n1,CredentialsSelect:zB,ParameterIssues:Ef,ResourceLocator:s3,TextEdit:a3},props:{isReadOnly:{type:Boolean},parameter:{type:Object},path:{type:String},modelValue:{type:[String,Number,Boolean,Array,Object]},hideLabel:{type:Boolean},droppable:{type:Boolean},activeDrop:{type:Boolean},forceShowExpression:{type:Boolean},hint:{type:String},inputSize:{type:String},hideIssues:{type:Boolean},documentationUrl:{type:String},errorHighlight:{type:Boolean},isForCredential:{type:Boolean},eventSource:{type:String},expressionEvaluated:{type:String},label:{type:Object,default:()=>({size:"small"})},eventBus:{type:Object,default:()=>Ze()}},setup(){return{i18n:Lt()}},data(){return{codeEditDialogVisible:!1,nodeName:"",expressionAddOperation:"set",expressionEditDialogVisible:!1,remoteParameterOptions:[],remoteParameterOptionsLoading:!1,remoteParameterOptionsLoadingIssues:null,textEditDialogVisible:!1,editDialogClosing:!1,tempValue:"",CUSTOM_API_CALL_KEY:fr,activeCredentialType:"",dateTimePickerOptions:{shortcuts:[{text:"Today",onClick(e){e.$emit("pick",new Date)}},{text:"Yesterday",onClick(e){const t=new Date;t.setTime(t.getTime()-3600*1e3*24),e.$emit("pick",t)}},{text:"A week ago",onClick(e){const t=new Date;t.setTime(t.getTime()-3600*1e3*24*7),e.$emit("pick",t)}}]},isFocused:!1}},watch:{async dependentParametersValues(){await this.loadRemoteParameterOptions()},modelValue(){this.parameter.type==="color"&&this.getArgument("showAlpha")===!0||(this.tempValue=this.displayValue)}},computed:{...be(It,it,Xe,_e,Le),expressionDisplayValue(){if(this.forceShowExpression)return"";const e=oo(this.modelValue)?this.modelValue.value:this.modelValue;return typeof e=="string"&&e.startsWith("=")?e.slice(1):`${this.displayValue??""}`},isValueExpression(){return Or(this.parameter,this.modelValue)},codeAutocomplete(){return this.getArgument("codeAutocomplete")},dependentParametersValues(){var s;const e=this.getArgument("loadOptionsDependsOn");if(e===void 0)return null;const t=(s=this.ndvStore.activeNode)==null?void 0:s.parameters;try{const n=this.resolveParameter(t),o=[];for(const i of e)o.push(jt(n,i));return o.join("|")}catch{return null}},node(){return this.ndvStore.activeNode},displayTitle(){const e={interpolate:{shortPath:this.shortPath}};return this.getIssues.length&&this.isValueExpression?this.i18n.baseText("parameterInput.parameterHasIssuesAndExpression",e):this.getIssues.length&&!this.isValueExpression?this.i18n.baseText("parameterInput.parameterHasIssues",e):!this.getIssues.length&&this.isValueExpression?this.i18n.baseText("parameterInput.parameterHasExpression",e):this.i18n.baseText("parameterInput.parameter",e)},displayValue(){if(this.remoteParameterOptionsLoading===!0)return this.i18n.baseText("parameterInput.loadingOptions");if(this.modelValue===dD)return"";let e;if(this.isValueExpression===!1?e=this.isResourceLocatorParameter?oo(this.modelValue)?this.modelValue.value:"":this.modelValue:e=this.expressionEvaluated,this.parameter.type==="credentialsSelect"&&typeof this.modelValue=="string"){const t=this.credentialsStore.getCredentialTypeByName(this.modelValue);t&&(e=t.displayName)}if(Array.isArray(e)&&this.parameter.type==="color"&&this.getArgument("showAlpha")===!0&&e.charAt(0)==="#"){const t=parseInt(e.slice(1),16),s=[];s.push(t>>24&255),s.push(t>>16&255),s.push(t>>8&255),s.push((255-t&255)/255),e="rgba("+s.join()+")"}if(e!=null&&this.parameter.type==="string"){const t=this.getArgument("rows");(t===void 0||t===1)&&(e=e.toString().replace(/\n/,"|"))}return e},getStringInputType(){if(this.getArgument("password")===!0)return"password";const e=this.getArgument("rows");return e!==void 0&&e>1||this.editorType==="code"?"textarea":"text"},getIssues(){if(this.hideIssues===!0||this.node===null)return[];const e=this.shortPath.split(".");e.pop();const t=pD(this.parameter,this.node.parameters,e.join("."),this.node);if(this.parameter.type==="credentialsSelect"&&this.displayValue===""){t.parameters=t.parameters||{};const s=this.i18n.baseText("parameterInput.selectACredentialTypeFromTheDropdown");t.parameters[this.parameter.name]=[s]}else if(["options","multiOptions"].includes(this.parameter.type)&&this.remoteParameterOptionsLoading===!1&&this.remoteParameterOptionsLoadingIssues===null&&this.parameterOptions){const s=this.parameterOptions.map(o=>o.value),n=[];this.skipCheck(this.displayValue)||(Array.isArray(this.displayValue)?n.push.apply(n,this.displayValue):n.push(this.displayValue));for(const o of n)if(o===null||!s.includes(o)){t.parameters===void 0&&(t.parameters={});const i=this.i18n.baseText("parameterInput.theValueIsNotSupported",{interpolate:{checkValue:o}});t.parameters[this.parameter.name]=[i]}}else this.remoteParameterOptionsLoadingIssues!==null&&!this.isValueExpression&&(t.parameters===void 0&&(t.parameters={}),t.parameters[this.parameter.name]=[`There was a problem loading the parameter options from server: "${this.remoteParameterOptionsLoadingIssues}"`]);return t!==void 0&&t.parameters!==void 0&&t.parameters[this.parameter.name]!==void 0?t.parameters[this.parameter.name]:[]},editorType(){return this.getArgument("editor")},editorLanguage(){return this.editorType==="json"||this.parameter.type==="json"?"json":this.getArgument("editorLanguage")??"javaScript"},parameterOptions(){return this.hasRemoteMethod===!1?this.parameter.options:this.remoteParameterOptions},parameterInputClasses(){const e={droppable:this.droppable,activeDrop:this.activeDrop},t=this.getArgument("rows"),s=this.parameter.type==="string"&&t!==void 0,n=this.parameter.type==="boolean"&&!this.isValueExpression;return!s&&!n&&(e["parameter-value-container"]=!0),!this.droppable&&!this.activeDrop&&(this.getIssues.length>0||this.errorHighlight)&&!this.isValueExpression&&(e["has-issues"]=!0),e},parameterInputWrapperStyle(){let e=0;const t={width:"100%"};return this.parameter.type==="credentialsSelect"||this.isResourceLocatorParameter||(this.getIssues.length&&(e+=20),e!==0&&(t.width=`calc(100% - ${e}px)`)),t},hasRemoteMethod(){return!!this.getArgument("loadOptionsMethod")||!!this.getArgument("loadOptions")},shortPath(){const e=this.path.split(".");return e.shift(),e.join(".")},workflow(){return this.getCurrentWorkflow()},isResourceLocatorParameter(){return this.parameter.type==="resourceLocator"},isSecretParameter(){return this.getArgument("password")===!0},remoteParameterOptionsKeys(){return(this.remoteParameterOptions||[]).map(e=>e.name)},shouldRedactValue(){return this.getStringInputType==="password"||this.isForCredential}},methods:{isRemoteParameterOption(e){return this.remoteParameterOptionsKeys.includes(e.name)},credentialSelected(e){this.workflowsStore.updateNodeProperties(e);const t=this.workflowsStore.getNodeByName(e.name);t&&this.updateNodeCredentialIssues(t),this.$externalHooks().run("nodeSettings.credentialSelected",{updateInformation:e})},skipCheck(e){return typeof e=="string"&&e.includes(fr)},getPlaceholder(){return this.isForCredential?this.i18n.credText().placeholder(this.parameter):this.i18n.nodeText().placeholder(this.parameter,this.path)},getOptionsOptionDisplayName(e){return this.isForCredential?this.i18n.credText().optionsOptionDisplayName(this.parameter,e):this.i18n.nodeText().optionsOptionDisplayName(this.parameter,e,this.path)},getOptionsOptionDescription(e){return this.isForCredential?this.i18n.credText().optionsOptionDescription(this.parameter,e):this.i18n.nodeText().optionsOptionDescription(this.parameter,e,this.path)},async loadRemoteParameterOptions(){if(!(this.node===null||this.hasRemoteMethod===!1||this.remoteParameterOptionsLoading)){this.remoteParameterOptionsLoadingIssues=null,this.remoteParameterOptionsLoading=!0,this.remoteParameterOptions.length=0;try{const e=this.ndvStore.activeNode.parameters,t=this.resolveParameter(e),s=this.getArgument("loadOptionsMethod"),n=this.getArgument("loadOptions"),o=await this.nodeTypesStore.getNodeParameterOptions({nodeTypeAndVersion:{name:this.node.type,version:this.node.typeVersion},path:this.path,methodName:s,loadOptions:n,currentNodeParameters:t,credentials:this.node.credentials});this.remoteParameterOptions.push.apply(this.remoteParameterOptions,o)}catch(e){this.remoteParameterOptionsLoadingIssues=e.message}this.remoteParameterOptionsLoading=!1}},closeCodeEditDialog(){this.codeEditDialogVisible=!1,this.editDialogClosing=!0,this.$nextTick(()=>{this.editDialogClosing=!1})},closeExpressionEditDialog(){this.expressionEditDialogVisible=!1},trackExpressionEditOpen(){this.node&&this.node.type.startsWith("n8n-nodes-base")&&this.$telemetry.track("User opened Expression Editor",{node_type:this.node.type,parameter_name:this.parameter.displayName,parameter_field_type:this.parameter.type,new_expression:!this.isValueExpression,workflow_id:this.workflowsStore.workflowId,session_id:this.ndvStore.sessionId,source:this.eventSource||"ndv"})},closeTextEditDialog(){this.textEditDialogVisible=!1,this.editDialogClosing=!0,this.$nextTick(()=>{var e,t;(t=(e=this.$refs.inputField)==null?void 0:e.blur)==null||t.call(e),this.editDialogClosing=!1})},displayEditDialog(){this.editDialogClosing||(this.editorType?this.codeEditDialogVisible=!0:this.textEditDialogVisible=!0)},getArgument(e){var t;return(t=this.parameter.typeOptions)==null?void 0:t[e]},expressionUpdated(e){const t=this.isResourceLocatorParameter?{__rl:!0,value:e,mode:this.modelValue.mode}:e;this.valueChanged(t)},openExpressionEditorModal(){this.isValueExpression&&(this.expressionEditDialogVisible=!0,this.trackExpressionEditOpen())},onBlur(){this.$emit("blur"),this.isFocused=!1},onResourceLocatorDrop(e){this.$emit("drop",e)},async setFocus(e){if(["json"].includes(this.parameter.type)&&this.getArgument("alwaysOpenEditWindow")){this.displayEditDialog();return}this.node!==null&&(this.nodeName=this.node.name),await this.$nextTick();const t=this.$refs.inputField;t!=null&&t.$el&&(t.focusOnInput?t.focusOnInput():t.focus&&t.focus(),this.isFocused=!0),this.$emit("focus")},isCodeNode(e){return e.type===hl},isHtmlNode(e){return e.type===Dh},rgbaToHex(e){const t=e.match(/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d+(\.\d+)?)\)$/);if(t===null)return null;const[s,n,o,i]=t.splice(1,4).map(r=>Number(r));return"#"+((1<<24)+(s<<16)+(n<<8)+o).toString(16).slice(1)+(256+Math.floor((1-i)*255)).toString(16).slice(1)},onTextInputChange(e){const t={node:this.node!==null?this.node.name:this.nodeName,name:this.path,value:e};this.$emit("textInput",t)},valueChangedDebounced(e){this.callDebounced("valueChanged",{debounceTime:100},e)},onUpdateTextInput(e){this.valueChanged(e),this.onTextInputChange(e)},valueChanged(e){if(this.parameter.name==="nodeCredentialType"&&(this.activeCredentialType=e),e instanceof Date&&(e=e.toISOString()),this.parameter.type==="color"&&this.getArgument("showAlpha")===!0&&e!==null&&e!==void 0&&e.toString().charAt(0)!=="#"){const s=this.rgbaToHex(e);s!==null&&(this.tempValue=s,e=s)}const t={node:this.node!==null?this.node.name:this.nodeName,name:this.path,value:e};this.$emit("update",t),(this.parameter.name==="operation"||this.parameter.name==="mode")&&this.$telemetry.track("User set node operation or mode",{workflow_id:this.workflowsStore.workflowId,node_type:this.node&&this.node.type,resource:this.node&&this.node.parameters.resource,is_custom:e===fr,session_id:this.ndvStore.sessionId,parameter:this.parameter.name})},async optionSelected(e){const t=this.modelValue;if(e==="resetValue")this.valueChanged(this.parameter.default);else if(e==="addExpression")this.isResourceLocatorParameter?oo(this.modelValue)?this.valueChanged({__rl:!0,value:`=${this.modelValue.value}`,mode:this.modelValue.mode}):this.valueChanged({__rl:!0,value:`=${this.modelValue}`,mode:""}):this.parameter.type==="number"&&(!this.modelValue||this.modelValue==="[Object: null]")?this.valueChanged("={{ 0 }}"):this.parameter.type==="number"||this.parameter.type==="boolean"?this.valueChanged(`={{ ${this.modelValue} }}`):this.valueChanged(`=${this.modelValue}`),await this.setFocus();else if(e==="removeExpression"){let s=this.expressionEvaluated;if(this.isFocused=!1,this.parameter.type==="multiOptions"&&typeof s=="string"&&(s=(s||"").split(",").filter(n=>(this.parameterOptions||[]).find(o=>o.value===n))),this.isResourceLocatorParameter&&oo(this.modelValue))this.valueChanged({__rl:!0,value:s,mode:this.modelValue.mode});else{let n=typeof s<"u"?s:null;this.parameter.type==="string"&&(n=this.modelValue?this.modelValue.toString().substring(1):null),this.valueChanged(n)}}else e==="refreshOptions"?(this.isResourceLocatorParameter&&this.eventBus.emit("refreshList"),this.loadRemoteParameterOptions()):e==="formatHtml"&&Ih.emit("format-html");if(this.node&&(e==="addExpression"||e==="removeExpression")){const s={node_type:this.node.type,parameter:this.path,old_mode:e==="addExpression"?"fixed":"expression",new_mode:e==="removeExpression"?"fixed":"expression",was_parameter_empty:t===""||t===void 0,had_mapping:df(t),had_parameter:typeof t=="string"&&t.includes("$parameter")};this.$telemetry.track("User switched parameter mode",s),this.$externalHooks().run("parameterInput.modeSwitch",s)}}},async updated(){await this.$nextTick();const e=this.$el.querySelectorAll(".remote-parameter-option");e.length>0&&this.$externalHooks().run("parameterInput.updated",{remoteParameterOptions:e})},mounted(){if(this.eventBus.on("optionSelected",this.optionSelected),this.tempValue=this.displayValue,this.node!==null&&(this.nodeName=this.node.name),this.node&&this.node.parameters.authentication==="predefinedCredentialType"&&(this.activeCredentialType=this.node.parameters.nodeCredentialType),this.parameter.type==="color"&&this.getArgument("showAlpha")===!0&&this.displayValue!==null&&this.displayValue.toString().charAt(0)!=="#"){const e=this.rgbaToHex(this.displayValue);e!==null&&(this.tempValue=e)}this.hasRemoteMethod===!0&&this.node!==null&&this.$watch(()=>{var e;return(e=this.node)==null?void 0:e.credentials},()=>{this.loadRemoteParameterOptions()},{deep:!0,immediate:!0}),this.$externalHooks().run("parameterInput.mount",{parameter:this.parameter,inputFieldRef:this.$refs.inputField})},beforeUnmount(){this.eventBus.off("optionSelected",this.optionSelected)}});const GJ={key:2},YJ={class:"ignore-key-press"},XJ={key:3,ref:"inputField",class:"color-input"},KJ={class:"list-option"},JJ=["innerHTML"],ZJ={class:"list-option"},eZ={class:"option-headline"},tZ=["innerHTML"];function sZ(e,t,s,n,o,i){const r=E("expression-edit"),l=E("resource-locator"),m=E("ExpressionParameterInput"),c=E("code-node-editor"),h=E("el-dialog"),p=E("text-edit"),g=E("html-editor"),w=E("sql-editor"),S=E("n8n-icon"),k=E("n8n-input"),O=E("el-color-picker"),C=E("el-date-picker"),A=E("n8n-input-number"),T=E("parameter-issues"),F=E("credentials-select"),L=E("n8n-option"),I=E("n8n-select"),j=E("el-switch");return y(),P("div",{onKeydown:t[12]||(t[12]=Qe(()=>{},["stop"])),class:$(e.parameterInputClasses)},[b(r,{dialogVisible:e.expressionEditDialogVisible,modelValue:e.isResourceLocatorParameter&&typeof e.modelValue!="string"?e.modelValue?e.modelValue.value:"":e.modelValue,parameter:e.parameter,path:e.path,eventSource:e.eventSource||"ndv",isReadOnly:e.isReadOnly,redactValues:e.shouldRedactValue,onCloseDialog:e.closeExpressionEditDialog,"onUpdate:modelValue":e.expressionUpdated},null,8,["dialogVisible","modelValue","parameter","path","eventSource","isReadOnly","redactValues","onCloseDialog","onUpdate:modelValue"]),D("div",{class:"parameter-input ignore-key-press",style:zt(e.parameterInputWrapperStyle)},[e.isResourceLocatorParameter?(y(),R(l,{key:0,ref:"resourceLocator",parameter:e.parameter,modelValue:e.modelValue,dependentParametersValues:e.dependentParametersValues,displayTitle:e.displayTitle,expressionDisplayValue:e.expressionDisplayValue,expressionComputedValue:e.expressionEvaluated,isValueExpression:e.isValueExpression,isReadOnly:e.isReadOnly,parameterIssues:e.getIssues,droppable:e.droppable,node:e.node,path:e.path,"event-bus":e.eventBus,"onUpdate:modelValue":e.valueChanged,onModalOpenerClick:e.openExpressionEditorModal,onFocus:e.setFocus,onBlur:e.onBlur,onDrop:e.onResourceLocatorDrop},null,8,["parameter","modelValue","dependentParametersValues","displayTitle","expressionDisplayValue","expressionComputedValue","isValueExpression","isReadOnly","parameterIssues","droppable","node","path","event-bus","onUpdate:modelValue","onModalOpenerClick","onFocus","onBlur","onDrop"])):e.isValueExpression||e.forceShowExpression?(y(),R(m,{key:1,modelValue:e.expressionDisplayValue,title:e.displayTitle,isReadOnly:e.isReadOnly,path:e.path,class:$({"ph-no-capture":e.shouldRedactValue}),"onUpdate:modelValue":e.expressionUpdated,onModalOpenerClick:e.openExpressionEditorModal,onFocus:e.setFocus,onBlur:e.onBlur,ref:"inputField"},null,8,["modelValue","title","isReadOnly","path","class","onUpdate:modelValue","onModalOpenerClick","onFocus","onBlur"])):["json","string"].includes(e.parameter.type)||e.remoteParameterOptionsLoadingIssues!==null?(y(),P("div",GJ,[e.codeEditDialogVisible?(y(),R(h,{key:0,modelValue:!0,"append-to-body":"","close-on-click-modal":!1,width:"80%",title:`${e.i18n.baseText("codeEdit.edit")} ${e.$locale.nodeText().inputLabelDisplayName(e.parameter,e.path)}`,"before-close":e.closeCodeEditDialog},{default:v(()=>[D("div",YJ,[b(c,{modelValue:e.modelValue,defaultValue:e.parameter.default,language:e.editorLanguage,isReadOnly:e.isReadOnly,"onUpdate:modelValue":e.expressionUpdated},null,8,["modelValue","defaultValue","language","isReadOnly","onUpdate:modelValue"])])]),_:1},8,["title","before-close"])):W("",!0),b(p,{dialogVisible:e.textEditDialogVisible,modelValue:e.modelValue,parameter:e.parameter,path:e.path,isReadOnly:e.isReadOnly,onCloseDialog:e.closeTextEditDialog,"onUpdate:modelValue":e.expressionUpdated},null,8,["dialogVisible","modelValue","parameter","path","isReadOnly","onCloseDialog","onUpdate:modelValue"]),e.editorType==="codeNodeEditor"&&e.isCodeNode(e.node)?(y(),R(c,{key:1,mode:e.node.parameters.mode,modelValue:e.modelValue,defaultValue:e.parameter.default,language:e.editorLanguage,isReadOnly:e.isReadOnly,aiButtonEnabled:e.settingsStore.isCloudDeployment,"onUpdate:modelValue":e.valueChangedDebounced},null,8,["mode","modelValue","defaultValue","language","isReadOnly","aiButtonEnabled","onUpdate:modelValue"])):e.editorType==="htmlEditor"?(y(),R(g,{key:2,modelValue:e.modelValue,isReadOnly:e.isReadOnly,rows:e.getArgument("rows"),disableExpressionColoring:!e.isHtmlNode(e.node),disableExpressionCompletions:!e.isHtmlNode(e.node),"onUpdate:modelValue":e.valueChangedDebounced},null,8,["modelValue","isReadOnly","rows","disableExpressionColoring","disableExpressionCompletions","onUpdate:modelValue"])):e.editorType==="sqlEditor"?(y(),R(w,{key:3,modelValue:e.modelValue,dialect:e.getArgument("sqlDialect"),isReadOnly:e.isReadOnly,"onUpdate:modelValue":e.valueChangedDebounced},null,8,["modelValue","dialect","isReadOnly","onUpdate:modelValue"])):e.editorType?(y(),P("div",{key:4,class:"readonly-code clickable",onClick:t[0]||(t[0]=q=>e.displayEditDialog())},[e.codeEditDialogVisible?W("",!0):(y(),R(c,{key:0,modelValue:e.modelValue,language:e.editorLanguage,isReadOnly:!0},null,8,["modelValue","language"]))])):(y(),R(k,{key:5,modelValue:e.tempValue,"onUpdate:modelValue":[t[2]||(t[2]=q=>e.tempValue=q),t[3]||(t[3]=q=>e.valueChanged(q)&&e.onUpdateTextInput(q))],ref:"inputField",class:$({"input-with-opener":!0,"ph-no-capture":e.shouldRedactValue}),size:e.inputSize,type:e.getStringInputType,rows:e.getArgument("rows"),disabled:e.isReadOnly,onKeydown:t[4]||(t[4]=Qe(()=>{},["stop"])),onFocus:e.setFocus,onBlur:e.onBlur,title:e.displayTitle,placeholder:e.getPlaceholder()},{suffix:v(()=>[!e.isReadOnly&&!e.isSecretParameter?(y(),R(S,{key:0,icon:"external-link-alt",size:"xsmall",class:$(["edit-window-button textarea-modal-opener",{focused:e.isFocused,invalid:!e.isFocused&&e.getIssues.length>0&&!e.isValueExpression}]),title:e.i18n.baseText("parameterInput.openEditWindow"),onClick:t[1]||(t[1]=q=>e.displayEditDialog()),onFocus:e.setFocus},null,8,["class","title","onFocus"])):W("",!0)]),_:1},8,["modelValue","class","size","type","rows","disabled","onFocus","onBlur","title","placeholder"]))])):e.parameter.type==="color"?(y(),P("div",XJ,[b(O,{size:"small",class:"color-picker",modelValue:e.displayValue,disabled:e.isReadOnly,onFocus:e.setFocus,onBlur:e.onBlur,"onUpdate:modelValue":e.valueChanged,title:e.displayTitle,"show-alpha":e.getArgument("showAlpha")},null,8,["modelValue","disabled","onFocus","onBlur","onUpdate:modelValue","title","show-alpha"]),b(k,{modelValue:e.tempValue,"onUpdate:modelValue":[t[5]||(t[5]=q=>e.tempValue=q),e.valueChanged],size:e.inputSize,type:"text",disabled:e.isReadOnly,onKeydown:t[6]||(t[6]=Qe(()=>{},["stop"])),onFocus:e.setFocus,onBlur:e.onBlur,title:e.displayTitle},null,8,["modelValue","size","disabled","onUpdate:modelValue","onFocus","onBlur","title"])],512)):e.parameter.type==="dateTime"?(y(),R(C,{key:4,modelValue:e.tempValue,"onUpdate:modelValue":[t[7]||(t[7]=q=>e.tempValue=q),e.valueChanged],ref:"inputField",type:"datetime",size:e.inputSize,title:e.displayTitle,disabled:e.isReadOnly,placeholder:e.parameter.placeholder?e.getPlaceholder():e.i18n.baseText("parameterInput.selectDateAndTime"),"picker-options":e.dateTimePickerOptions,class:$({"ph-no-capture":e.shouldRedactValue}),onFocus:e.setFocus,onBlur:e.onBlur,onKeydown:t[8]||(t[8]=Qe(()=>{},["stop"]))},null,8,["modelValue","size","title","disabled","placeholder","picker-options","class","onUpdate:modelValue","onFocus","onBlur"])):e.parameter.type==="number"?(y(),R(A,{key:5,ref:"inputField",size:e.inputSize,modelValue:e.displayValue,controls:!1,max:e.getArgument("maxValue"),min:e.getArgument("minValue"),precision:e.getArgument("numberPrecision"),disabled:e.isReadOnly,class:$({"ph-no-capture":e.shouldRedactValue}),"onUpdate:modelValue":e.onUpdateTextInput,onFocus:e.setFocus,onBlur:e.onBlur,onKeydown:t[9]||(t[9]=Qe(()=>{},["stop"])),title:e.displayTitle,placeholder:e.parameter.placeholder},null,8,["size","modelValue","max","min","precision","disabled","class","onUpdate:modelValue","onFocus","onBlur","title","placeholder"])):e.parameter.type==="credentialsSelect"||e.parameter.name==="genericAuthType"?(y(),R(F,{key:6,ref:"inputField",parameter:e.parameter,node:e.node,activeCredentialType:e.activeCredentialType,inputSize:e.inputSize,displayValue:e.displayValue,isReadOnly:e.isReadOnly,displayTitle:e.displayTitle,onCredentialSelected:e.credentialSelected,"onUpdate:modelValue":e.valueChanged,onSetFocus:e.setFocus,onOnBlur:e.onBlur},{"issues-and-options":v(()=>[b(T,{issues:e.getIssues},null,8,["issues"])]),_:1},8,["parameter","node","activeCredentialType","inputSize","displayValue","isReadOnly","displayTitle","onCredentialSelected","onUpdate:modelValue","onSetFocus","onOnBlur"])):e.parameter.type==="options"?(y(),R(I,{key:7,ref:"inputField",size:e.inputSize,filterable:"",modelValue:e.displayValue,placeholder:e.parameter.placeholder?e.getPlaceholder():e.i18n.baseText("parameterInput.select"),loading:e.remoteParameterOptionsLoading,disabled:e.isReadOnly||e.remoteParameterOptionsLoading,title:e.displayTitle,"onUpdate:modelValue":e.valueChanged,onKeydown:t[10]||(t[10]=Qe(()=>{},["stop"])),onFocus:e.setFocus,onBlur:e.onBlur},{default:v(()=>[(y(!0),P(Ie,null,Re(e.parameterOptions,q=>(y(),R(L,{value:q.value,key:q.value,label:e.getOptionsOptionDisplayName(q)},{default:v(()=>[D("div",KJ,[D("div",{class:$(["option-headline",{"remote-parameter-option":e.isRemoteParameterOption(q)}])},N(e.getOptionsOptionDisplayName(q)),3),q.description?(y(),P("div",{key:0,class:"option-description",innerHTML:e.getOptionsOptionDescription(q)},null,8,JJ)):W("",!0)])]),_:2},1032,["value","label"]))),128))]),_:1},8,["size","modelValue","placeholder","loading","disabled","title","onUpdate:modelValue","onFocus","onBlur"])):e.parameter.type==="multiOptions"?(y(),R(I,{key:8,ref:"inputField",size:e.inputSize,filterable:"",multiple:"",modelValue:e.displayValue,loading:e.remoteParameterOptionsLoading,disabled:e.isReadOnly||e.remoteParameterOptionsLoading,title:e.displayTitle,placeholder:e.i18n.baseText("parameterInput.select"),"onUpdate:modelValue":e.valueChanged,onKeydown:t[11]||(t[11]=Qe(()=>{},["stop"])),onFocus:e.setFocus,onBlur:e.onBlur},{default:v(()=>[(y(!0),P(Ie,null,Re(e.parameterOptions,q=>(y(),R(L,{value:q.value,key:q.value,label:e.getOptionsOptionDisplayName(q)},{default:v(()=>[D("div",ZJ,[D("div",eZ,N(e.getOptionsOptionDisplayName(q)),1),q.description?(y(),P("div",{key:0,class:"option-description",innerHTML:e.getOptionsOptionDescription(q)},null,8,tZ)):W("",!0)])]),_:2},1032,["value","label"]))),128))]),_:1},8,["size","modelValue","loading","disabled","title","placeholder","onUpdate:modelValue","onFocus","onBlur"])):e.parameter.type==="boolean"&&e.droppable?(y(),R(k,{key:9,size:e.inputSize,modelValue:JSON.stringify(e.displayValue),disabled:e.isReadOnly,title:e.displayTitle},null,8,["size","modelValue","disabled","title"])):e.parameter.type==="boolean"?(y(),R(j,{key:10,class:$({"switch-input":!0,"ph-no-capture":e.shouldRedactValue}),ref:"inputField","active-color":"#13ce66",modelValue:e.displayValue,disabled:e.isReadOnly,"onUpdate:modelValue":e.valueChanged},null,8,["class","modelValue","disabled","onUpdate:modelValue"])):W("",!0)],4),e.parameter.type!=="credentialsSelect"&&!e.isResourceLocatorParameter?(y(),R(T,{key:0,issues:e.getIssues},null,8,["issues"])):W("",!0)],34)}const nZ=te(QJ,[["render",sZ],["__scopeId","data-v-759d3972"]]),oZ=J({name:"InputHint",props:{hint:{type:String},highlight:{type:Boolean},singleLine:{type:Boolean},renderHTML:{type:Boolean,default:!1}},methods:{sanitizeHtml:Fa},computed:{classes(){return{[this.$style.singleline]:this.singleLine,[this.$style.highlight]:this.highlight}},simplyText(){return this.hint?String(this.hint).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/ /g,"&nbsp;"):""}},mounted(){this.$refs.hint&&this.$refs.hint.querySelectorAll("a").forEach(e=>e.target="_blank")}}),iZ="_singleline_1prht_5",rZ="_highlight_1prht_11",aZ={singleline:iZ,highlight:rZ},lZ=["innerHTML"],uZ=["innerHTML"];function cZ(e,t,s,n,o,i){const r=E("n8n-text");return e.hint?(y(),R(r,{key:0,size:"small",color:"text-base",tag:"div"},{default:v(()=>[e.renderHTML?(y(),P("div",{key:1,ref:"hint",class:$({[e.$style.singleline]:e.singleLine,[e.$style.highlight]:e.highlight}),innerHTML:e.sanitizeHtml(e.hint)},null,10,uZ)):(y(),P("div",{key:0,class:$(e.classes)},[D("span",{innerHTML:e.simplyText},null,8,lZ)],2))]),_:1})):W("",!0)}const dZ={$style:aZ},pZ=te(oZ,[["render",cZ],["__cssModules",dZ]]),hZ=J({name:"parameter-input-wrapper",mixins:[ut],components:{ParameterInput:nZ,InputHint:pZ},props:{isReadOnly:{type:Boolean},parameter:{type:Object},path:{type:String},modelValue:{type:[String,Number,Boolean,Array,Object]},droppable:{type:Boolean},activeDrop:{type:Boolean},forceShowExpression:{type:Boolean},hint:{type:String,required:!1},inputSize:{type:String},hideIssues:{type:Boolean},documentationUrl:{type:String},errorHighlight:{type:Boolean},isForCredential:{type:Boolean},eventSource:{type:String},label:{type:Object,default:()=>({size:"small"})},eventBus:{type:Object,default:()=>Ze()}},computed:{...be(Xe),isValueExpression(){return Or(this.parameter,this.modelValue)},activeNode(){return this.ndvStore.activeNode},selectedRLMode(){var t;if(typeof this.modelValue!="object"||this.parameter.type!=="resourceLocator"||!wh(this.modelValue))return;const e=this.modelValue.mode;if(e)return(t=this.parameter.modes)==null?void 0:t.find(s=>s.name===e)},parameterHint(){if(!this.isValueExpression)return this.selectedRLMode&&this.selectedRLMode.hint?this.selectedRLMode.hint:this.hint},targetItem(){return this.ndvStore.hoveringItem},isInputParentOfActiveNode(){return this.ndvStore.isInputParentOfActiveNode},expressionValueComputed(){const e=wh(this.modelValue)?this.modelValue.value:this.modelValue;if(!this.activeNode||!this.isValueExpression||typeof e!="string")return null;let t;try{let s;if(this.ndvStore.isInputParentOfActiveNode&&(s={targetItem:this.targetItem??void 0,inputNodeName:this.ndvStore.ndvInputNodeName,inputRunIndex:this.ndvStore.ndvInputRunIndex,inputBranchIndex:this.ndvStore.ndvInputBranchIndex}),t=this.resolveExpression(e,void 0,s),t===null)return null;if(typeof t=="string"&&t.length===0)return this.$locale.baseText("parameterInput.emptyString")}catch(s){t=`[${this.$locale.baseText("parameterInput.error")}: ${s.message}]`}return typeof t=="string"?t:JSON.stringify(t)},expressionOutput(){return this.isValueExpression&&this.expressionValueComputed?this.expressionValueComputed:null}},methods:{onFocus(){this.$emit("focus")},onBlur(){this.$emit("blur")},onDrop(e){this.$emit("drop",e)},onValueChanged(e){this.$emit("update",e)},onTextInput(e){this.$emit("textInput",e)}}}),mZ="_hint_1uids_5",fZ="_hovering_1uids_9",gZ={hint:mZ,hovering:fZ},yZ={"data-test-id":"parameter-input"};function wZ(e,t,s,n,o,i){const r=E("parameter-input"),l=E("input-hint");return y(),P("div",yZ,[b(r,{ref:"param",inputSize:e.inputSize,parameter:e.parameter,modelValue:e.modelValue,path:e.path,isReadOnly:e.isReadOnly,droppable:e.droppable,activeDrop:e.activeDrop,forceShowExpression:e.forceShowExpression,hideIssues:e.hideIssues,documentationUrl:e.documentationUrl,errorHighlight:e.errorHighlight,isForCredential:e.isForCredential,eventSource:e.eventSource,expressionEvaluated:e.expressionValueComputed,label:e.label,"data-test-id":`parameter-input-${e.parameter.name}`,"event-bus":e.eventBus,onFocus:e.onFocus,onBlur:e.onBlur,onDrop:e.onDrop,onTextInput:e.onTextInput,onUpdate:e.onValueChanged},null,8,["inputSize","parameter","modelValue","path","isReadOnly","droppable","activeDrop","forceShowExpression","hideIssues","documentationUrl","errorHighlight","isForCredential","eventSource","expressionEvaluated","label","data-test-id","event-bus","onFocus","onBlur","onDrop","onTextInput","onUpdate"]),e.expressionOutput?(y(),R(l,{key:0,class:$({[e.$style.hint]:!0,"ph-no-capture":e.isForCredential}),"data-test-id":"parameter-expression-preview",highlight:!!(e.expressionOutput&&e.targetItem)&&e.isInputParentOfActiveNode,hint:e.expressionOutput,singleLine:!0},null,8,["class","highlight","hint"])):e.parameterHint?(y(),R(l,{key:1,class:$(e.$style.hint),renderHTML:!0,hint:e.parameterHint},null,8,["class","hint"])):W("",!0)])}const bZ={$style:gZ},M0=te(hZ,[["render",wZ],["__cssModules",bZ]]),vZ=J({name:"parameter-input-expanded",components:{ParameterOptions:nd,ParameterInputWrapper:M0},props:{parameter:{type:Object},value:{},showValidationWarnings:{type:Boolean},documentationUrl:{type:String},eventSource:{type:String},label:{type:Object,default:()=>({size:"small"})}},data(){return{focused:!1,blurredEver:!1,menuExpanded:!1,eventBus:Ze()}},computed:{...be(_e),showRequiredErrors(){if(!this.parameter.required)return!1;if(this.blurredEver||this.showValidationWarnings){if(this.parameter.type==="string")return!this.value;if(this.parameter.type==="number")return typeof this.value!="number"}return!1},hint(){return this.isValueExpression?null:this.$locale.credText().hint(this.parameter)},isValueExpression(){return Or(this.parameter,this.value)}},methods:{onFocus(){this.focused=!0},onBlur(){this.blurredEver=!0,this.focused=!1},onMenuExpanded(e){this.menuExpanded=e},optionSelected(e){this.eventBus.emit("optionSelected",e)},valueChanged(e){this.$emit("update",e)},onDocumentationUrlClick(){this.$telemetry.track("User clicked credential modal docs link",{docs_link:this.documentationUrl,source:"field",workflow_id:this.workflowsStore.workflowId})}}}),TZ="_errors_6rv22_5",SZ="_hint_6rv22_9",kZ={errors:TZ,hint:SZ};function EZ(e,t,s,n,o,i){const r=E("parameter-options"),l=E("parameter-input-wrapper"),m=E("n8n-link"),c=E("n8n-text"),h=E("n8n-input-label");return y(),R(h,{label:e.$locale.credText().inputLabelDisplayName(e.parameter),tooltipText:e.$locale.credText().inputLabelDescription(e.parameter),required:e.parameter.required,showTooltip:e.focused,showOptions:e.menuExpanded,"data-test-id":e.parameter.name,size:e.label.size},{options:v(()=>[b(r,{parameter:e.parameter,value:e.value,isReadOnly:!1,showOptions:!0,isValueExpression:e.isValueExpression,"onUpdate:modelValue":e.optionSelected,onMenuExpanded:e.onMenuExpanded},null,8,["parameter","value","isValueExpression","onUpdate:modelValue","onMenuExpanded"])]),default:v(()=>[b(l,{ref:"param",inputSize:"large",parameter:e.parameter,modelValue:e.value,path:e.parameter.name,hideIssues:!0,documentationUrl:e.documentationUrl,errorHighlight:e.showRequiredErrors,isForCredential:!0,eventSource:e.eventSource,hint:e.showRequiredErrors?"":e.hint,"event-bus":e.eventBus,onFocus:e.onFocus,onBlur:e.onBlur,onTextInput:e.valueChanged,onUpdate:e.valueChanged},null,8,["parameter","modelValue","path","documentationUrl","errorHighlight","eventSource","hint","event-bus","onFocus","onBlur","onTextInput","onUpdate"]),e.showRequiredErrors?(y(),P("div",{key:0,class:$(e.$style.errors)},[b(c,{color:"danger",size:"small"},{default:v(()=>[V(N(e.$locale.baseText("parameterInputExpanded.thisFieldIsRequired"))+" ",1),e.documentationUrl?(y(),R(m,{key:0,to:e.documentationUrl,size:"small",underline:!0,onClick:e.onDocumentationUrlClick},{default:v(()=>[V(N(e.$locale.baseText("parameterInputExpanded.openDocs")),1)]),_:1},8,["to","onClick"])):W("",!0)]),_:1})],2)):W("",!0)]),_:1},8,["label","tooltipText","required","showTooltip","showOptions","data-test-id","size"])}const xZ={$style:kZ},CZ=te(vZ,[["render",EZ],["__cssModules",xZ]]),OZ=J({name:"CredentialsInput",props:["credentialProperties","credentialData","documentationUrl","showValidationWarnings"],components:{ParameterInputExpanded:CZ},data(){return{label:{size:"medium"}}},methods:{valueChanged(e){const t=e.name.split(".").pop();this.$emit("update",{name:t,value:e.value})}}}),DZ="_container_1gd9c_5",AZ={container:DZ};function $Z(e,t,s,n,o,i){const r=E("n8n-notice"),l=E("parameter-input-expanded");return e.credentialProperties.length?(y(),P("div",{key:0,onKeydown:t[1]||(t[1]=Qe(()=>{},["stop"])),class:$(e.$style.container)},[(y(!0),P(Ie,null,Re(e.credentialProperties,m=>(y(),P("form",{key:m.name,autocomplete:"off","data-test-id":"credential-connection-parameter",onSubmit:t[0]||(t[0]=Qe(()=>{},["prevent"]))},[m.type==="notice"?(y(),R(r,{key:0,content:m.displayName},null,8,["content"])):(y(),R(l,{key:1,parameter:m,value:e.credentialData[m.name],documentationUrl:e.documentationUrl,showValidationWarnings:e.showValidationWarnings,label:e.label,eventSource:"credentials",onUpdate:e.valueChanged},null,8,["parameter","value","documentationUrl","showValidationWarnings","label","onUpdate"]))],32))),128))],34)):W("",!0)}const NZ={$style:AZ},_Z=te(OZ,[["render",$Z],["__cssModules",NZ]]),PZ=["title"],IZ=J({__name:"GoogleAuthButton",setup(e){const{baseUrl:t}=fe(),s={"--google-auth-btn-normal":`url(${t}google-auth/normal.png`,"--google-auth-btn-focus":`url(${t}google-auth/focus.png`,"--google-auth-btn-pressed":`url(${t}google-auth/pressed.png`,"--google-auth-btn-disabled":`url(${t}google-auth/disabled.png`};return(n,o)=>(y(),P("button",{class:$(n.$style.googleAuthBtn),title:n.$locale.baseText("credentialEdit.oAuthButton.signInWithGoogle"),onClick:o[0]||(o[0]=Qe(i=>n.$emit("click"),["stop","prevent"])),style:s},null,10,PZ))}}),MZ="_googleAuthBtn_3fb97_5",LZ={googleAuthBtn:MZ},FZ={$style:LZ},L0=te(IZ,[["__cssModules",FZ]]),BZ=J({__name:"OauthButton",props:{isGoogleOAuthType:{type:Boolean}},setup(e){return(t,s)=>{const n=E("n8n-button");return y(),P("div",{class:$(t.$style.container)},[t.isGoogleOAuthType?(y(),R(L0,{key:0,onClick:s[0]||(s[0]=o=>t.$emit("click"))})):(y(),R(n,{key:1,label:t.$locale.baseText("credentialEdit.oAuthButton.connectMyAccount"),size:"large",onClick:s[1]||(s[1]=Qe(o=>t.$emit("click"),["stop"]))},null,8,["label"]))],2)}}}),RZ="_container_1x1r8_5",VZ={container:RZ},UZ={$style:VZ},WZ=te(BZ,[["__cssModules",UZ]]),jZ=["table","json","schema"],qZ=J({name:"parameter-input-full",mixins:[Ft],components:{ParameterOptions:nd,DraggableTarget:o1,ParameterInputWrapper:M0},setup(){const e=Ze();return{i18n:Lt(),eventBus:e,...je()}},data(){return{focused:!1,menuExpanded:!1,forceShowExpression:!1,dataMappingTooltipButtons:[],mappingTooltipEnabled:!1}},props:{displayOptions:{type:Boolean,default:!1},isReadOnly:{type:Boolean,default:!1},hideLabel:{type:Boolean,default:!1},hideIssues:{type:Boolean,default:!1},parameter:{type:Object},path:{type:String},value:{type:[Number,String,Boolean,Array,Object]},label:{type:Object,default:()=>({size:"small"})}},mounted(){const e=this.onMappingTooltipDismissed.bind(this);this.dataMappingTooltipButtons=[{attrs:{label:this.i18n.baseText("_reusableBaseText.dismiss"),"data-test-id":"dismiss-mapping-tooltip"},listeners:{onClick:e}}]},computed:{...be(Xe),node(){return this.ndvStore.activeNode},hint(){return this.i18n.nodeText().hint(this.parameter,this.path)},isInputTypeString(){return this.parameter.type==="string"},isResourceLocator(){return this.parameter.type==="resourceLocator"},isDropDisabled(){return this.parameter.noDataExpression||this.isReadOnly||this.isResourceLocator},isValueExpression(){return Or(this.parameter,this.value)},showExpressionSelector(){return this.isResourceLocator?!bS(this.parameter):!0},isInputDataEmpty(){return this.ndvStore.isDNVDataEmpty("input")},displayMode(){return this.ndvStore.inputPanelDisplayMode},showMappingTooltip(){return this.mappingTooltipEnabled&&!this.ndvStore.isMappingOnboarded&&this.focused&&this.isInputTypeString&&!this.isInputDataEmpty&&jZ.includes(this.displayMode)}},methods:{onFocus(){this.focused=!0,setTimeout(()=>{this.mappingTooltipEnabled=!0},500),this.parameter.noDataExpression||this.ndvStore.setMappableNDVInputFocus(this.parameter.displayName)},onBlur(){this.focused=!1,this.mappingTooltipEnabled=!1,this.parameter.noDataExpression||this.ndvStore.setMappableNDVInputFocus(""),this.$emit("blur")},onMenuExpanded(e){this.menuExpanded=e},optionSelected(e){this.eventBus.emit("optionSelected",e)},valueChanged(e){this.$emit("update",e)},onTextInput(e){Or(this.parameter,e.value)&&this.eventBus.emit("optionSelected","addExpression")},onDrop(e){const t=XL(this.parameter,e,this.value),s=this.isResourceLocator?this.value.value:this.value;t.startsWith("=")&&(this.forceShowExpression=!0),setTimeout(()=>{if(this.node){let n;if(this.isResourceLocator)if(!oo(this.value))n={node:this.node.name,name:this.path,value:{__rl:!0,value:t,mode:""}};else if(this.value.mode==="list"&&this.parameter.modes&&this.parameter.modes.length>1){let i=this.parameter.modes.find(r=>r.name==="id")||null;i||(i=this.parameter.modes.filter(r=>r.name!=="list")[0]),n={node:this.node.name,name:this.path,value:{__rl:!0,value:t,mode:i?i.name:""}}}else n={node:this.node.name,name:this.path,value:{__rl:!0,value:t,mode:this.value.mode}};else n={node:this.node.name,name:this.path,value:t};this.valueChanged(n),this.ndvStore.isMappingOnboarded||(this.showMessage({title:this.i18n.baseText("dataMapping.success.title"),message:this.i18n.baseText("dataMapping.success.moreInfo"),type:"success",dangerouslyUseHTMLString:!0}),this.ndvStore.disableMappingHint()),this.ndvStore.setMappingTelemetry({dest_node_type:this.node.type,dest_parameter:this.path,dest_parameter_mode:typeof s=="string"&&s.startsWith("=")?"expression":"fixed",dest_parameter_empty:s===""||s===void 0,dest_parameter_had_mapping:typeof s=="string"&&s.startsWith("=")&&df(s),success:!0});const o=af();o.track(o.EVENTS.MAPPED_DATA)}this.forceShowExpression=!1},200)},onMappingTooltipDismissed(){this.ndvStore.disableMappingHint(!1)}},watch:{showMappingTooltip(e){e||this.$telemetry.track("User viewed data mapping tooltip",{type:"param focus"})}}}),zZ=["innerHTML"];function HZ(e,t,s,n,o,i){const r=E("parameter-options"),l=E("parameter-input-wrapper"),m=E("n8n-tooltip"),c=E("draggable-target"),h=E("n8n-input-label");return y(),R(h,{label:e.hideLabel?"":e.i18n.nodeText().inputLabelDisplayName(e.parameter,e.path),tooltipText:e.hideLabel?"":e.i18n.nodeText().inputLabelDescription(e.parameter,e.path),showTooltip:e.focused,showOptions:e.menuExpanded||e.focused||e.forceShowExpression,bold:!1,size:e.label.size,color:"text-dark"},{options:v(()=>[e.displayOptions?(y(),R(r,{key:0,parameter:e.parameter,value:e.value,isReadOnly:e.isReadOnly,showOptions:e.displayOptions,showExpressionSelector:e.showExpressionSelector,"onUpdate:modelValue":e.optionSelected,onMenuExpanded:e.onMenuExpanded},null,8,["parameter","value","isReadOnly","showOptions","showExpressionSelector","onUpdate:modelValue","onMenuExpanded"])):W("",!0)]),default:v(()=>[b(c,{type:"mapping",disabled:e.isDropDisabled,sticky:!0,stickyOffset:e.isValueExpression?[26,3]:[3,3],onDrop:e.onDrop},{default:v(({droppable:p,activeDrop:g})=>[b(m,{placement:"left",visible:e.showMappingTooltip,buttons:e.dataMappingTooltipButtons},{content:v(()=>[D("span",{innerHTML:e.i18n.baseText(`dataMapping.${e.displayMode}Hint`,{interpolate:{name:e.parameter.displayName}})},null,8,zZ)]),default:v(()=>[b(l,{ref:"param",parameter:e.parameter,modelValue:e.value,path:e.path,isReadOnly:e.isReadOnly,droppable:p,activeDrop:g,forceShowExpression:e.forceShowExpression,hint:e.hint,"hide-issues":e.hideIssues,label:e.label,"event-bus":e.eventBus,onUpdate:e.valueChanged,onTextInput:e.onTextInput,onFocus:e.onFocus,onBlur:e.onBlur,onDrop:e.onDrop,inputSize:"small"},null,8,["parameter","modelValue","path","isReadOnly","droppable","activeDrop","forceShowExpression","hint","hide-issues","label","event-bus","onUpdate","onTextInput","onFocus","onBlur","onDrop"])]),_:2},1032,["visible","buttons"])]),_:1},8,["disabled","stickyOffset","onDrop"])]),_:1},8,["label","tooltipText","showTooltip","showOptions","size"])}const jd=te(qZ,[["render",HZ]]),QZ={key:0,"data-test-id":"node-auth-type-selector"},GZ=J({__name:"AuthTypeSelector",props:{credentialType:{}},emits:["authTypeChanged"],setup(e,{expose:t,emit:s}){const n=e,o=it(),i=Xe(),r=Be(""),l=Be({});Is(()=>{var k;if((k=m.value)!=null&&k.credentials){const O=m.value.credentials.find(A=>A.name===n.credentialType.name)||null,C=vS(m.value,O);r.value=(C==null?void 0:C.value)||""}p.value.forEach(O=>{l.value={...l.value,[O.name]:O.default}})});const m=we(()=>{const k=i.activeNode;return k?o.getNodeType(k.type,k.typeVersion):null}),c=we(()=>{var k;return pf(m.value,(k=i.activeNode)==null?void 0:k.typeVersion)}),h=we(()=>c.value.filter(k=>g(k))),p=we(()=>{var O;const k=Zc(m.value);return((O=m.value)==null?void 0:O.properties.filter(C=>TS(k,C)))||[]});function g(k){if(p.value.length===0)return!0;let O=!1;return Object.keys(l.value).forEach(C=>{var A;if(k.displayOptions&&k.displayOptions.show&&(A=k.displayOptions.show[C])!=null&&A.includes(l.value[C])){O=!0;return}}),O}function w(k){s("authTypeChanged",k)}function S(k){l.value={...l.value,[k.name]:k.value}}return t({onAuthTypeChange:w}),(k,O)=>{const C=E("n8n-input-label"),A=E("el-radio");return h.value.length>0?(y(),P("div",QZ,[(y(!0),P(Ie,null,Re(p.value,T=>(y(),P("div",{key:T.name,class:"mb-l"},[b(jd,{parameter:T,value:l.value[T.name]||T.default,path:T.name,displayOptions:!1,onUpdate:S},null,8,["parameter","value","path"])]))),128)),D("div",null,[b(C,{label:k.$locale.baseText("credentialEdit.credentialConfig.authTypeSelectorLabel"),tooltipText:k.$locale.baseText("credentialEdit.credentialConfig.authTypeSelectorTooltip"),required:!0},null,8,["label","tooltipText"])]),(y(!0),P(Ie,null,Re(h.value,T=>(y(),R(A,{key:T.value,modelValue:r.value,"onUpdate:modelValue":[O[0]||(O[0]=F=>r.value=F),w],label:T.value,class:$(k.$style.authRadioButton),border:""},{default:v(()=>[V(N(T.name),1)]),_:2},1032,["modelValue","label","class"]))),128))])):W("",!0)}}}),YZ="_authRadioButton_tkdks_5",XZ={authRadioButton:YZ},KZ={$style:XZ},JZ=te(GZ,[["__cssModules",KZ]]),ZZ=J({name:"CredentialConfig",components:{AuthTypeSelector:JZ,Banner:eB,CopyInput:Dr,CredentialInputs:_Z,OauthButton:WZ,GoogleAuthButton:L0},props:{credentialType:{type:Object},credentialProperties:{type:Array},parentTypes:{type:Array},credentialData:{},credentialId:{type:String,default:""},showValidationWarning:{type:Boolean,default:!1},authError:{type:String},testedSuccessfully:{type:Boolean},isOAuthType:{type:Boolean},isOAuthConnected:{type:Boolean},isRetesting:{type:Boolean},credentialPermissions:{type:Object,default:()=>({})},requiredPropertiesFilled:{type:Boolean},mode:{type:String,required:!0},showAuthTypeSelector:{type:Boolean}},data(){return{EnterpriseEditionFeature:ot}},async beforeMount(){if(this.rootStore.defaultLocale==="en")return;this.uiStore.activeCredentialType=this.credentialType.name;const e=`n8n-nodes-base.credentials.${this.credentialType.name}`;if(this.$locale.exists(e))return;const t=await this.credentialsStore.getCredentialTranslation(this.credentialType.name);I8({[this.credentialType.name]:t},this.rootStore.defaultLocale)},computed:{...be(It,Xe,it,fe,Ee,_e),activeNodeType(){const e=this.ndvStore.activeNode;return e?this.nodeTypesStore.getNodeType(e.type,e.typeVersion):null},appName(){return this.credentialType?yS(this.credentialType.displayName)||this.$locale.baseText("credentialEdit.credentialConfig.theServiceYouReConnectingTo"):""},credentialTypeName(){var e;return(e=this.credentialType)==null?void 0:e.name},credentialOwnerName(){return this.credentialsStore.getCredentialOwnerNameById(`${this.credentialId}`)},documentationUrl(){const e=this.credentialType,t=this.ndvStore.activeNode,s=t?cf(t.type):!1,n=e&&e.documentationUrl;if(!n)return"";let o;if(n.startsWith("https://")||n.startsWith("http://")){if(o=new URL(n),o.hostname!==Tn)return n}else{if(s)return"";o=new URL(`${b_}${n}/`)}return o.hostname===Tn&&(o.searchParams.set("utm_source","n8n_app"),o.searchParams.set("utm_medium","left_nav_menu"),o.searchParams.set("utm_campaign","create_new_credentials_modal")),o.href},isGoogleOAuthType(){return this.credentialTypeName==="googleOAuth2Api"||this.parentTypes.includes("googleOAuth2Api")},oAuthCallbackUrl(){const e=this.credentialTypeName==="oAuth2Api"||this.parentTypes.includes("oAuth2Api")?"oauth2":"oauth1";return this.rootStore.oauthCallbackUrls[e]},showOAuthSuccessBanner(){return this.isOAuthType&&this.requiredPropertiesFilled&&this.isOAuthConnected&&!this.authError},isMissingCredentials(){return this.credentialType===null},isNewCredential(){return this.mode==="new"&&!this.credentialId}},methods:{getCredentialOptions(e){return this.credentialsStore.allUsableCredentialsByType[e]},onDataChange(e){this.$emit("update",e)},onDocumentationUrlClick(){this.$telemetry.track("User clicked credential modal docs link",{docs_link:this.documentationUrl,credential_type:this.credentialTypeName,source:"modal",workflow_id:this.workflowsStore.workflowId})},onAuthTypeChange(e){this.$emit("authTypeChanged",e)}},watch:{showOAuthSuccessBanner(e,t){e&&!t&&this.$emit("scrollToTop")}}}),eee="_container_1467x_5",tee="_googleReconnectLabel_1467x_12",see={container:eee,googleReconnectLabel:tee},nee=["textContent"],oee={class:"ml-4xs"};function iee(e,t,s,n,o,i){const r=E("banner"),l=E("GoogleAuthButton"),m=E("n8n-link"),c=E("n8n-notice"),h=E("AuthTypeSelector"),p=E("CopyInput"),g=E("n8n-info-tip"),w=E("enterprise-edition"),S=E("CredentialInputs"),k=E("OauthButton"),O=E("n8n-text");return y(),P("div",{class:$(e.$style.container),"data-test-id":"node-credentials-config-container"},[He(b(r,{theme:"danger",message:e.$locale.baseText(`credentialEdit.credentialConfig.pleaseCheckTheErrorsBelow${e.credentialPermissions.isOwner?"":".sharee"}`,{interpolate:{owner:e.credentialOwnerName}})},null,8,["message"]),[[nt,e.showValidationWarning]]),e.authError&&!e.showValidationWarning?(y(),R(r,{key:0,theme:"danger",message:e.$locale.baseText(`credentialEdit.credentialConfig.couldntConnectWithTheseSettings${e.credentialPermissions.isOwner?"":".sharee"}`,{interpolate:{owner:e.credentialOwnerName}}),details:e.authError,buttonLabel:e.$locale.baseText("credentialEdit.credentialConfig.retry"),buttonLoadingLabel:"Retrying",buttonTitle:e.$locale.baseText("credentialEdit.credentialConfig.retryCredentialTest"),buttonLoading:e.isRetesting,onClick:t[0]||(t[0]=C=>e.$emit("retest"))},null,8,["message","details","buttonLabel","buttonTitle","buttonLoading"])):W("",!0),He(b(r,{theme:"success",message:e.$locale.baseText("credentialEdit.credentialConfig.accountConnected"),buttonLabel:e.$locale.baseText("credentialEdit.credentialConfig.reconnect"),buttonTitle:e.$locale.baseText("credentialEdit.credentialConfig.reconnectOAuth2Credential"),onClick:t[2]||(t[2]=C=>e.$emit("oauth"))},Ms({_:2},[e.isGoogleOAuthType?{name:"button",fn:v(()=>[D("p",{textContent:N(`${e.$locale.baseText("credentialEdit.credentialConfig.reconnect")}:`),class:$(e.$style.googleReconnectLabel)},null,10,nee),b(l,{onClick:t[1]||(t[1]=C=>e.$emit("oauth"))})]),key:"0"}:void 0]),1032,["message","buttonLabel","buttonTitle"]),[[nt,e.showOAuthSuccessBanner&&!e.showValidationWarning]]),He(b(r,{theme:"success",message:e.$locale.baseText("credentialEdit.credentialConfig.connectionTestedSuccessfully"),buttonLabel:e.$locale.baseText("credentialEdit.credentialConfig.retry"),buttonLoadingLabel:e.$locale.baseText("credentialEdit.credentialConfig.retrying"),buttonTitle:e.$locale.baseText("credentialEdit.credentialConfig.retryCredentialTest"),buttonLoading:e.isRetesting,onClick:t[3]||(t[3]=C=>e.$emit("retest")),"data-test-id":"credentials-config-container-test-success"},null,8,["message","buttonLabel","buttonLoadingLabel","buttonTitle","buttonLoading"]),[[nt,e.testedSuccessfully&&!e.showValidationWarning]]),e.credentialPermissions.updateConnection?(y(),P(Ie,{key:1},[e.documentationUrl&&e.credentialProperties.length?(y(),R(c,{key:0,theme:"warning"},{default:v(()=>[V(N(e.$locale.baseText("credentialEdit.credentialConfig.needHelpFillingOutTheseFields"))+" ",1),D("span",oee,[b(m,{to:e.documentationUrl,size:"small",bold:"",onClick:e.onDocumentationUrlClick},{default:v(()=>[V(N(e.$locale.baseText("credentialEdit.credentialConfig.openDocs")),1)]),_:1},8,["to","onClick"])])]),_:1})):W("",!0),e.showAuthTypeSelector&&e.isNewCredential?(y(),R(h,{key:1,credentialType:e.credentialType,onAuthTypeChanged:e.onAuthTypeChange},null,8,["credentialType","onAuthTypeChanged"])):W("",!0),e.isOAuthType&&e.credentialProperties.length?(y(),R(p,{key:2,label:e.$locale.baseText("credentialEdit.credentialConfig.oAuthRedirectUrl"),value:e.oAuthCallbackUrl,copyButtonText:e.$locale.baseText("credentialEdit.credentialConfig.clickToCopy"),hint:e.$locale.baseText("credentialEdit.credentialConfig.subtitle",{interpolate:{appName:e.appName}}),toastTitle:e.$locale.baseText("credentialEdit.credentialConfig.redirectUrlCopiedToClipboard"),redactValue:!0},null,8,["label","value","copyButtonText","hint","toastTitle"])):W("",!0)],64)):(y(),R(w,{key:2,features:[e.EnterpriseEditionFeature.Sharing]},{default:v(()=>[D("div",null,[b(g,{bold:!1},{default:v(()=>[V(N(e.$locale.baseText("credentialEdit.credentialEdit.info.sharee",{interpolate:{credentialOwnerName:e.credentialOwnerName}})),1)]),_:1})])]),_:1},8,["features"])),e.credentialType&&e.credentialPermissions.updateConnection?(y(),R(S,{key:3,credentialData:e.credentialData,credentialProperties:e.credentialProperties,documentationUrl:e.documentationUrl,showValidationWarnings:e.showValidationWarning,onUpdate:e.onDataChange},null,8,["credentialData","credentialProperties","documentationUrl","showValidationWarnings","onUpdate"])):W("",!0),e.isOAuthType&&e.requiredPropertiesFilled&&!e.isOAuthConnected&&e.credentialPermissions.isOwner?(y(),R(k,{key:4,isGoogleOAuthType:e.isGoogleOAuthType,onClick:t[4]||(t[4]=C=>e.$emit("oauth"))},null,8,["isGoogleOAuthType"])):W("",!0),e.isMissingCredentials?(y(),R(O,{key:5,color:"text-base",size:"medium"},{default:v(()=>[V(N(e.$locale.baseText("credentialEdit.credentialConfig.missingCredentialType")),1)]),_:1})):W("",!0)],2)}const ree={$style:see},aee=te(ZZ,[["render",iee],["__cssModules",ree]]),lee=J({name:"TimeAgo",props:{date:{type:String},capitalize:{type:Boolean,default:!1}},beforeMount(){NA(this.defaultLocale,this.localeFunc)},methods:{localeFunc(e,t,s){return[[this.$locale.baseText("timeAgo.justNow"),this.$locale.baseText("timeAgo.rightNow")],[this.$locale.baseText("timeAgo.justNow"),this.$locale.baseText("timeAgo.rightNow")],[this.$locale.baseText("timeAgo.oneMinuteAgo"),this.$locale.baseText("timeAgo.inOneMinute")],[this.$locale.baseText("timeAgo.minutesAgo"),this.$locale.baseText("timeAgo.inMinutes")],[this.$locale.baseText("timeAgo.oneHourAgo"),this.$locale.baseText("timeAgo.inOneHour")],[this.$locale.baseText("timeAgo.hoursAgo"),this.$locale.baseText("timeAgo.inHours")],[this.$locale.baseText("timeAgo.oneDayAgo"),this.$locale.baseText("timeAgo.inOneDay")],[this.$locale.baseText("timeAgo.daysAgo"),this.$locale.baseText("timeAgo.inDays")],[this.$locale.baseText("timeAgo.oneWeekAgo"),this.$locale.baseText("timeAgo.inOneWeek")],[this.$locale.baseText("timeAgo.weeksAgo"),this.$locale.baseText("timeAgo.inWeeks")],[this.$locale.baseText("timeAgo.oneMonthAgo"),this.$locale.baseText("timeAgo.inOneMonth")],[this.$locale.baseText("timeAgo.monthsAgo"),this.$locale.baseText("timeAgo.inMonths")],[this.$locale.baseText("timeAgo.oneYearAgo"),this.$locale.baseText("timeAgo.inOneYear")],[this.$locale.baseText("timeAgo.yearsAgo"),this.$locale.baseText("timeAgo.inYears")]][t]}},computed:{...be(fe),defaultLocale(){return this.rootStore.defaultLocale},format(){const e=_A(this.date,this.defaultLocale);return this.capitalize?e:e.toLowerCase()},convertDate(){const t=new Date(this.date).getTime();return tL(t)}}}),uee=["title"];function cee(e,t,s,n,o,i){return y(),P("span",{title:e.convertDate},N(e.format),9,uee)}const Vi=te(lee,[["render",cee]]),dee=J({name:"CredentialInfo",props:["nodesWithAccess","nodeAccess","currentCredential","credentialPermissions"],components:{TimeAgo:Vi},methods:{onNodeAccessChange(e,t){this.$emit("accessChange",{name:e,value:t})},shortNodeType(e){return this.$locale.shortNodeType(e.name)}}}),pee="_container_eaxbe_5",hee="_label_eaxbe_9",mee="_accessLabel_eaxbe_14 _label_eaxbe_9",fee="_valueLabel_eaxbe_19",gee={container:pee,label:hee,accessLabel:mee,valueLabel:fee};function yee(e,t,s,n,o,i){const r=E("n8n-text"),l=E("el-col"),m=E("el-checkbox"),c=E("el-row"),h=E("TimeAgo");return y(),P("div",{class:$(e.$style.container)},[b(c,null,{default:v(()=>[b(l,{span:8,class:$(e.$style.accessLabel)},{default:v(()=>[b(r,{compact:!0,bold:!0},{default:v(()=>[V(N(e.$locale.baseText("credentialEdit.credentialInfo.allowUseBy")),1)]),_:1})]),_:1},8,["class"]),b(l,{span:16},{default:v(()=>[(y(!0),P(Ie,null,Re(e.nodesWithAccess,p=>(y(),P("div",{key:p.name,class:$(e.$style.valueLabel)},[e.credentialPermissions.updateNodeAccess?(y(),R(m,{key:0,label:e.$locale.headerText({key:`headers.${e.shortNodeType(p)}.displayName`,fallback:p.displayName}),modelValue:!!e.nodeAccess[p.name],"onUpdate:modelValue":g=>e.onNodeAccessChange(p.name,g)},null,8,["label","modelValue","onUpdate:modelValue"])):(y(),R(r,{key:1},{default:v(()=>[V(N(e.$locale.headerText({key:`headers.${e.shortNodeType(p)}.displayName`,fallback:p.displayName})),1)]),_:2},1024))],2))),128))]),_:1})]),_:1}),e.currentCredential?(y(),R(c,{key:0},{default:v(()=>[b(l,{span:8,class:$(e.$style.label)},{default:v(()=>[b(r,{compact:!0,bold:!0},{default:v(()=>[V(N(e.$locale.baseText("credentialEdit.credentialInfo.created")),1)]),_:1})]),_:1},8,["class"]),b(l,{span:16,class:$(e.$style.valueLabel)},{default:v(()=>[b(r,{compact:!0},{default:v(()=>[b(h,{date:e.currentCredential.createdAt,capitalize:!0},null,8,["date"])]),_:1})]),_:1},8,["class"])]),_:1})):W("",!0),e.currentCredential?(y(),R(c,{key:1},{default:v(()=>[b(l,{span:8,class:$(e.$style.label)},{default:v(()=>[b(r,{compact:!0,bold:!0},{default:v(()=>[V(N(e.$locale.baseText("credentialEdit.credentialInfo.lastModified")),1)]),_:1})]),_:1},8,["class"]),b(l,{span:16,class:$(e.$style.valueLabel)},{default:v(()=>[b(r,{compact:!0},{default:v(()=>[b(h,{date:e.currentCredential.updatedAt,capitalize:!0},null,8,["date"])]),_:1})]),_:1},8,["class"])]),_:1})):W("",!0),e.currentCredential?(y(),R(c,{key:2},{default:v(()=>[b(l,{span:8,class:$(e.$style.label)},{default:v(()=>[b(r,{compact:!0,bold:!0},{default:v(()=>[V(N(e.$locale.baseText("credentialEdit.credentialInfo.id")),1)]),_:1})]),_:1},8,["class"]),b(l,{span:16,class:$(e.$style.valueLabel)},{default:v(()=>[b(r,{compact:!0},{default:v(()=>[V(N(e.currentCredential.id),1)]),_:1})]),_:1},8,["class"])]),_:1})):W("",!0)],2)}const wee={$style:gee},bee=te(dee,[["render",yee],["__cssModules",wee]]),vee=J({name:"CredentialSharing",props:["credential","credentialId","credentialData","sharedWith","credentialPermissions","modalBus"],setup(){return{...St()}},computed:{...be(It,Ge,Oi,Ee,Le),usersListActions(){return[{label:this.$locale.baseText("credentialEdit.credentialSharing.list.delete"),value:"delete"}]},isDefaultUser(){return this.usersStore.isDefaultUser},isSharingEnabled(){return this.settingsStore.isEnterpriseFeatureEnabled(ot.Sharing)},usersList(){return this.usersStore.allUsers.filter(e=>{var n;const t=e.id===((n=this.usersStore.currentUser)==null?void 0:n.id),s=(this.credentialData.sharedWith||[]).find(o=>o.id===e.id);return!t&&!s})},sharedWithList(){return[{...this.credential?this.credential.ownedBy:this.usersStore.currentUser,isOwner:!0}].concat(this.credentialData.sharedWith||[])},credentialOwnerName(){return this.credentialsStore.getCredentialOwnerNameById(`${this.credentialId}`)}},methods:{async onAddSharee(e){const t={...this.usersStore.getUserById(e),isOwner:!1};this.$emit("update:modelValue",(this.credentialData.sharedWith||[]).concat(t))},async onRemoveSharee(e){const t=this.usersStore.getUserById(e);t&&await this.confirm(this.$locale.baseText("credentialEdit.credentialSharing.list.delete.confirm.message",{interpolate:{name:t.fullName||""}}),this.$locale.baseText("credentialEdit.credentialSharing.list.delete.confirm.title"),{confirmButtonText:this.$locale.baseText("credentialEdit.credentialSharing.list.delete.confirm.confirmButtonText"),cancelButtonText:this.$locale.baseText("credentialEdit.credentialSharing.list.delete.confirm.cancelButtonText")})===bt&&this.$emit("update:modelValue",this.credentialData.sharedWith.filter(n=>n.id!==t.id))},async loadUsers(){await this.usersStore.fetchUsers()},goToUsersSettings(){this.$router.push({name:ee.USERS_SETTINGS}),this.modalBus.emit("close")},goToUpgrade(){this.uiStore.goToUpgrade("credential_sharing","upgrade-credentials-sharing")}},mounted(){this.loadUsers()}}),Tee="_container_1ud1e_5",See={container:Tee},kee={key:0},Eee={key:1},xee={key:2};function Cee(e,t,s,n,o,i){const r=E("n8n-action-box"),l=E("n8n-info-tip"),m=E("n8n-icon"),c=E("n8n-user-select"),h=E("n8n-users-list");return y(),P("div",{class:$(e.$style.container)},[e.isSharingEnabled?e.isDefaultUser?(y(),P("div",Eee,[b(r,{heading:e.$locale.baseText("credentialEdit.credentialSharing.isDefaultUser.title"),description:e.$locale.baseText("credentialEdit.credentialSharing.isDefaultUser.description"),buttonText:e.$locale.baseText("credentialEdit.credentialSharing.isDefaultUser.button"),"onClick:button":e.goToUsersSettings},null,8,["heading","description","buttonText","onClick:button"])])):(y(),P("div",xee,[b(l,{bold:!1,class:"mb-s"},{default:v(()=>[e.credentialPermissions.isOwner?(y(),P(Ie,{key:0},[V(N(e.$locale.baseText("credentialEdit.credentialSharing.info.owner")),1)],64)):(y(),P(Ie,{key:1},[V(N(e.$locale.baseText("credentialEdit.credentialSharing.info.sharee",{interpolate:{credentialOwnerName:e.credentialOwnerName}})),1)],64))]),_:1}),!e.credentialPermissions.isOwner&&!e.credentialPermissions.isSharee&&e.credentialPermissions.isInstanceOwner?(y(),R(l,{key:0,class:"mb-s",bold:!1},{default:v(()=>[V(N(e.$locale.baseText("credentialEdit.credentialSharing.info.instanceOwner")),1)]),_:1})):W("",!0),e.credentialPermissions.updateSharing?(y(),R(c,{key:1,class:"mb-s",size:"large",users:e.usersList,currentUserId:e.usersStore.currentUser.id,placeholder:e.$locale.baseText("credentialEdit.credentialSharing.select.placeholder"),"data-test-id":"credential-sharing-modal-users-select","onUpdate:modelValue":e.onAddSharee},{prefix:v(()=>[b(m,{icon:"search"})]),_:1},8,["users","currentUserId","placeholder","onUpdate:modelValue"])):W("",!0),b(h,{actions:e.usersListActions,users:e.sharedWithList,currentUserId:e.usersStore.currentUser.id,readonly:!e.credentialPermissions.updateSharing,onDelete:e.onRemoveSharee},null,8,["actions","users","currentUserId","readonly","onDelete"])])):(y(),P("div",kee,[b(r,{heading:e.$locale.baseText(e.uiStore.contextBasedTranslationKeys.credentials.sharing.unavailable.title),description:e.$locale.baseText(e.uiStore.contextBasedTranslationKeys.credentials.sharing.unavailable.description),buttonText:e.$locale.baseText(e.uiStore.contextBasedTranslationKeys.credentials.sharing.unavailable.button),"onClick:button":e.goToUpgrade},null,8,["heading","description","buttonText","onClick:button"])]))],2)}const Oee={$style:See},Dee=te(vee,[["render",Cee],["__cssModules",Oee]]),Aee=J({name:"SaveButton",props:{saved:{type:Boolean},isSaving:{type:Boolean},disabled:{type:Boolean},saveLabel:{type:String},savingLabel:{type:String},savedLabel:{type:String},type:{type:String,default:"primary"}},computed:{saveButtonLabel(){return this.isSaving?this.$locale.baseText("saveButton.saving"):this.$locale.baseText("saveButton.save")}}}),$ee="_container_9ph5p_5",Nee="_button_9ph5p_12",_ee="_saved_9ph5p_16",Pee={container:$ee,button:Nee,saved:_ee};function Iee(e,t,s,n,o,i){const r=E("n8n-button");return y(),P("span",{class:$(e.$style.container),"data-test-id":"save-button"},[e.saved?(y(),P("span",{key:0,class:$(e.$style.saved)},N(e.$locale.baseText("saveButton.saved")),3)):(y(),R(r,{key:1,label:e.saveButtonLabel,loading:e.isSaving,disabled:e.disabled,class:$(e.$style.button),type:e.type},null,8,["label","loading","disabled","class","type"]))],2)}const Mee={$style:Pee},zg=te(Aee,[["render",Iee],["__cssModules",Mee]]),Lee=J({name:"InlineNameEdit",props:{modelValue:{type:String},subtitle:{type:String},type:{type:String},readonly:{type:Boolean,default:!1}},setup(){return{...je()}},data(){return{isNameEdit:!1}},methods:{onNameEdit(e){this.$emit("update:modelValue",e)},enableNameEdit(){this.isNameEdit=!0,setTimeout(()=>{const e=this.$refs.nameInput;e&&e.focus()},0)},disableNameEdit(){this.modelValue||(this.$emit("update:modelValue",`Untitled ${this.type}`),this.showToast({title:"Error",message:`${this.type} name cannot be empty`,type:"warning"})),this.isNameEdit=!1}}}),Fee="_container_nj5cp_5",Bee="_headline_nj5cp_13",Ree="_nameInput_nj5cp_40",Vee="_subtitle_nj5cp_50",Uee={container:Fee,headline:Bee,"headline-editable":"_headline-editable_nj5cp_32",nameInput:Ree,subtitle:Vee},Wee={key:0};function jee(e,t,s,n,o,i){const r=E("font-awesome-icon"),l=E("n8n-input"),m=Ls("on-click-outside");return y(),P("div",{class:$(e.$style.container)},[e.readonly?(y(),P("span",{key:0,class:$(e.$style.headline)},N(e.modelValue),3)):He((y(),P("div",{key:1,class:$([e.$style.headline,e.$style["headline-editable"]]),onKeydown:t[0]||(t[0]=Qe(()=>{},["stop"])),onClick:t[1]||(t[1]=(...c)=>e.enableNameEdit&&e.enableNameEdit(...c))},[e.isNameEdit?(y(),P("div",{key:1,class:$(e.$style.nameInput)},[b(l,{modelValue:e.modelValue,size:"xlarge",ref:"nameInput","onUpdate:modelValue":e.onNameEdit,onChange:e.disableNameEdit,maxlength:64},null,8,["modelValue","onUpdate:modelValue","onChange"])],2)):(y(),P("div",Wee,[D("span",null,N(e.modelValue),1),D("i",null,[b(r,{icon:"pen"})])]))],34)),[[m,e.disableNameEdit]]),!e.isNameEdit&&e.subtitle?(y(),P("div",{key:2,class:$(e.$style.subtitle)},N(e.subtitle),3)):W("",!0)],2)}const qee={$style:Uee},F0=te(Lee,[["render",jee],["__cssModules",qee]]),zee=J({name:"FeatureComingSoon",props:{featureId:{type:String,required:!0},showTitle:{type:Boolean,default:!1}},computed:{...be(fe,Le,Ee,Ge),userId(){return this.usersStore.currentUserId||""},instanceId(){return this.rootStore.instanceId},featureInfo(){return this.uiStore.getFakeDoorById(this.featureId)}},methods:{openLinkPage(){this.featureInfo&&(window.open(`${this.featureInfo.linkURL}&u=${this.instanceId}#${this.userId}&v=${this.rootStore.versionCli}`,"_blank"),this.$telemetry.track("user clicked feature waiting list button",{feature:this.featureId}))}}}),Hee="_actionBoxContainer_tk8is_5",Qee={actionBoxContainer:Hee},Gee={key:0,class:"mb-2xl"},Yee={key:1,class:"mb-l"},Xee=["innerHTML"],Kee=["innerHTML"];function Jee(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-info-tip"),m=E("n8n-action-box");return e.featureInfo?(y(),P("div",{key:0,class:$([e.$style.container])},[e.showTitle?(y(),P("div",Gee,[b(r,{size:"2xlarge"},{default:v(()=>[V(N(e.$locale.baseText(e.featureInfo.featureName)),1)]),_:1})])):W("",!0),e.featureInfo.infoText?(y(),P("div",Yee,[b(l,{theme:"info",type:"note"},{default:v(()=>[D("span",{innerHTML:e.$locale.baseText(e.featureInfo.infoText)},null,8,Xee)]),_:1})])):W("",!0),D("div",{class:$(e.$style.actionBoxContainer)},[b(m,{description:e.$locale.baseText(e.featureInfo.actionBoxDescription),buttonText:e.$locale.baseText(e.featureInfo.actionBoxButtonLabel||"fakeDoor.actionBox.button.label"),"onClick:button":e.openLinkPage},{heading:v(()=>[D("span",{innerHTML:e.$locale.baseText(e.featureInfo.actionBoxTitle)},null,8,Kee)]),_:1},8,["description","buttonText","onClick:button"])],2)],2)):W("",!0)}const Zee={$style:Qee},B0=te(zee,[["render",Jee],["__cssModules",Zee]]),ete=J({name:"CredentialEdit",mixins:[Bs,Ft],components:{CredentialSharing:Dee,CredentialConfig:aee,CredentialIcon:_S,CredentialInfo:bee,InlineNameEdit:F0,Modal:Mt,SaveButton:zg,FeatureComingSoon:B0},props:{modalName:{type:String,required:!0},activeId:{type:[String,Number],required:!1},mode:{type:String}},setup(){return{...je(),...St()}},data(){return{activeTab:"connection",authError:"",credentialId:"",credentialName:"",credentialData:{},modalBus:Ze(),nodeAccess:{},isDeleting:!1,isSaving:!1,isTesting:!1,hasUnsavedChanges:!1,loading:!0,showValidationWarning:!1,testedSuccessfully:!1,isRetesting:!1,EnterpriseEditionFeature:ot,selectedCredential:"",requiredCredentials:!1,hasUserSpecifiedName:!1}},async mounted(){var e;if(this.requiredCredentials=X8(this.uiStore.modals[Ws])&&this.uiStore.modals[Ws].showAuthSelector===!0,this.setupNodeAccess(),this.mode==="new"&&this.credentialTypeName?(this.credentialName=await this.credentialsStore.getNewCredentialName({credentialTypeName:this.defaultCredentialTypeName}),this.currentUser&&(this.credentialData={...this.credentialData,ownedBy:{id:this.currentUser.id,firstName:this.currentUser.firstName,lastName:this.currentUser.lastName,email:this.currentUser.email}})):await this.loadCurrentCredential(),this.credentialType)for(const t of this.credentialType.properties)!this.credentialData.hasOwnProperty(t.name)&&!((e=this.credentialType.__overwrittenProperties)!=null&&e.includes(t.name))&&(this.credentialData={...this.credentialData,[t.name]:t.default});await this.$externalHooks().run("credentialsEdit.credentialModalOpened",{credentialType:this.credentialTypeName,isEditingCredential:this.mode==="edit",activeNode:this.ndvStore.activeNode}),setTimeout(async()=>{this.credentialId&&(!this.requiredPropertiesFilled&&this.credentialPermissions.isOwner===!0?this.showValidationWarning=!0:await this.retestCredential())},0),this.loading=!1},computed:{...be(It,Xe,Le,Ee,Ge,_e),activeNodeType(){const e=this.ndvStore.activeNode;return e?this.nodeTypesStore.getNodeType(e.type,e.typeVersion):null},selectedCredentialType(){var e,t;if(this.mode!=="new")return null;if(this.selectedCredential!=="")return this.credentialsStore.getCredentialTypeByName(this.selectedCredential)??null;if(this.requiredCredentials){const s=pf(this.activeNodeType);return s.length>0&&((e=this.activeNodeType)!=null&&e.credentials)?dc(this.activeNodeType,s[0].value):(t=this.activeNodeType)!=null&&t.credentials?this.activeNodeType.credentials[0]:null}return null},currentUser(){return this.usersStore.currentUser},currentCredential(){return this.credentialId?this.credentialsStore.getCredentialById(this.credentialId):null},credentialTypeName(){return this.mode==="edit"?this.currentCredential?this.currentCredential.type:null:this.selectedCredentialType?this.selectedCredentialType.name:`${this.activeId}`},credentialType(){if(!this.credentialTypeName)return null;const e=this.credentialsStore.getCredentialTypeByName(this.credentialTypeName);return e?{...e,properties:this.getCredentialProperties(this.credentialTypeName)}:null},isCredentialTestable(){if(this.credentialPermissions.isOwner===!1)return!0;if(this.isOAuthType||!this.requiredPropertiesFilled)return!1;const{ownedBy:e,sharedWith:t,...s}=this.credentialData;return Object.values(s).reduce((i,r)=>i||typeof r=="string"&&r.startsWith("="),!1)?!1:!!this.nodesWithAccess.filter(i=>i.credentials?!!i.credentials.filter(l=>l.name===this.credentialTypeName&&l.testedBy).length:!1).length||!!this.credentialType&&!!this.credentialType.test},nodesWithAccess(){return this.credentialTypeName?this.credentialsStore.getNodesWithAccess(this.credentialTypeName):[]},parentTypes(){return this.credentialTypeName?this.getParentTypes(this.credentialTypeName):[]},isOAuthType(){return!!this.credentialTypeName&&((this.credentialTypeName==="oAuth2Api"||this.parentTypes.includes("oAuth2Api"))&&(this.credentialData.grantType==="authorizationCode"||this.credentialData.grantType==="pkce")||this.credentialTypeName==="oAuth1Api"||this.parentTypes.includes("oAuth1Api"))},isOAuthConnected(){return this.isOAuthType&&!!this.credentialData.oauthTokenData},credentialProperties(){return this.credentialType?this.credentialType.properties.filter(e=>this.displayCredentialParameter(e)?!this.credentialType.__overwrittenProperties||!this.credentialType.__overwrittenProperties.includes(e.name):!1):[]},requiredPropertiesFilled(){for(const e of this.credentialProperties)if(e.required===!0&&(e.type==="string"&&!this.credentialData[e.name]||e.type==="number"&&typeof this.credentialData[e.name]!="number"))return!1;return!0},credentialPermissions(){return this.loading?{}:Xc(this.currentUser,this.credentialId?this.currentCredential:this.credentialData)},sidebarItems(){return[{id:"connection",label:this.$locale.baseText("credentialEdit.credentialEdit.connection"),position:"top"},{id:"sharing",label:this.$locale.baseText("credentialEdit.credentialEdit.sharing"),position:"top"},{id:"details",label:this.$locale.baseText("credentialEdit.credentialEdit.details"),position:"top"}]},isSharingAvailable(){return this.settingsStore.isEnterpriseFeatureEnabled(ot.Sharing)},defaultCredentialTypeName(){let e=this.credentialTypeName;return(!e||e==="null")&&this.activeNodeType&&this.activeNodeType.credentials&&(e=this.activeNodeType.credentials[0].name),e||""}},methods:{async beforeClose(){let e=!1;if(this.hasUnsavedChanges){const t=this.credentialType?this.credentialType.displayName:"";e=await this.confirm(this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose1.message",{interpolate:{credentialDisplayName:t}}),this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose1.headline"),{cancelButtonText:this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose1.cancelButtonText"),confirmButtonText:this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose1.confirmButtonText")})===bt}else this.credentialPermissions.isOwner&&this.isOAuthType&&!this.isOAuthConnected&&(e=await this.confirm(this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose2.message"),this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose2.headline"),{cancelButtonText:this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose2.cancelButtonText"),confirmButtonText:this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.beforeClose2.confirmButtonText")})===bt);if(e)this.requiredPropertiesFilled?this.isOAuthType&&this.scrollToBottom():(this.showValidationWarning=!0,this.scrollToTop());else return!0;return!1},displayCredentialParameter(e){var t;return e.type==="hidden"||(t=e.displayOptions)!=null&&t.hideOnCloud&&this.settingsStore.isCloudDeployment?!1:e.displayOptions===void 0?!0:this.displayParameter(this.credentialData,e,"",null)},getCredentialProperties(e){const t=this.credentialsStore.getCredentialTypeByName(e);if(!t)return[];if(t.extends===void 0)return t.properties;const s=[];for(const n of t.extends){const o=this.getCredentialProperties(n);Ry(s,o)}return Ry(s,t.properties),s},async loadCurrentCredential(){this.credentialId=this.activeId;try{const e=await this.credentialsStore.getCredentialData({id:this.credentialId});if(!e)throw new Error(this.$locale.baseText("credentialEdit.credentialEdit.couldNotFindCredentialWithId")+":"+this.credentialId);this.credentialData=e.data||{},e.sharedWith&&(this.credentialData={...this.credentialData,sharedWith:e.sharedWith}),e.ownedBy&&(this.credentialData={...this.credentialData,ownedBy:e.ownedBy}),this.credentialName=e.name,e.nodesAccess.forEach(t=>{this.nodeAccess[t.nodeType]=t})}catch(e){this.showError(e,this.$locale.baseText("credentialEdit.credentialEdit.showError.loadCredential.title")),this.closeDialog();return}},onTabSelect(e){this.activeTab=e;const t=e.replaceAll("coming-soon/",""),s=this.credentialType?this.credentialType.name:"",n=this.ndvStore.activeNode;this.$telemetry.track("User viewed credential tab",{credential_type:s,node_type:n?n.type:null,tab:t,workflow_id:this.workflowsStore.workflowId,credential_id:this.credentialId,sharing_enabled:ot.Sharing})},onNodeAccessChange({name:e,value:t}){this.hasUnsavedChanges=!0,t?this.nodeAccess={...this.nodeAccess,[e]:{nodeType:e}}:this.nodeAccess={...this.nodeAccess,[e]:null}},onChangeSharedWith(e){this.credentialData={...this.credentialData,sharedWith:e},this.hasUnsavedChanges=!0},onDataChange({name:e,value:t}){if(this.credentialData[e]===t)return;this.hasUnsavedChanges=!0;const{oauthTokenData:s,...n}=this.credentialData;this.credentialData={...n,[e]:t}},closeDialog(){this.modalBus.emit("close")},getParentTypes(e){const t=this.credentialsStore.getCredentialTypeByName(e);if(t===void 0||t.extends===void 0)return[];const s=[];for(const n of t.extends)s.push(n),s.push.apply(s,this.getParentTypes(n));return s},onNameEdit(e){this.hasUnsavedChanges=!0,this.hasUserSpecifiedName=!0,this.credentialName=e},scrollToTop(){setTimeout(()=>{const e=this.$refs.content;e&&(e.scrollTop=0)},0)},scrollToBottom(){setTimeout(()=>{const e=this.$refs.content;e&&(e.scrollTop=e.scrollHeight)},0)},async retestCredential(){if(!this.isCredentialTestable){this.authError="",this.testedSuccessfully=!1;return}const e=Object.values(this.nodeAccess).filter(i=>!!i),{ownedBy:t,sharedWith:s,...n}=this.credentialData,o={id:this.credentialId,name:this.credentialName,type:this.credentialTypeName,data:n,nodesAccess:e};this.isRetesting=!0,await this.testCredential(o),this.isRetesting=!1},async testCredential(e){const t=await this.credentialsStore.testCredential(e);t.status==="Error"?(this.authError=t.message,this.testedSuccessfully=!1):(this.authError="",this.testedSuccessfully=!0),this.scrollToTop()},async saveCredential(){this.requiredPropertiesFilled?this.showValidationWarning=!1:(this.showValidationWarning=!0,this.scrollToTop()),this.isSaving=!0;const e=Object.values(this.nodeAccess).filter(l=>!!l),t=An(this.credentialType.properties,this.credentialData,!1,!1,null);let s,n;this.settingsStore.isEnterpriseFeatureEnabled(ot.Sharing)&&(s=this.credentialData.sharedWith,n=this.credentialData.ownedBy);const o={id:this.credentialId,name:this.credentialName,type:this.credentialTypeName,data:t,nodesAccess:e,sharedWith:s,ownedBy:n};let i;const r=this.mode==="new"&&!this.credentialId;if(r?i=await this.createCredential(o):i=await this.updateCredential(o),this.isSaving=!1,i){this.credentialId=i.id,this.isCredentialTestable?(this.isTesting=!0,o.data=this.credentialData,o.id=this.credentialId,await this.testCredential(o),this.isTesting=!1):(this.authError="",this.testedSuccessfully=!1);const l={credential_type:o.type,workflow_id:this.workflowsStore.workflowId,credential_id:i.id,is_complete:!!this.requiredPropertiesFilled,is_new:r};this.isOAuthType?l.is_valid=!!this.isOAuthConnected:this.isCredentialTestable&&(l.is_valid=!!this.testedSuccessfully),this.ndvStore.activeNode&&(l.node_type=this.ndvStore.activeNode.type),this.authError&&this.authError!==""&&(l.authError=this.authError),this.$telemetry.track("User saved credentials",l),await this.$externalHooks().run("credentialEdit.saveCredential",l)}return i},async createCredential(e){let t;try{t=await this.credentialsStore.createNewCredential(e),this.hasUnsavedChanges=!1}catch(s){return this.showError(s,this.$locale.baseText("credentialEdit.credentialEdit.showError.createCredential.title")),null}return await this.$externalHooks().run("credential.saved",{credential_type:e.type,credential_id:t.id,is_new:!0}),this.$telemetry.track("User created credentials",{credential_type:e.type,credential_id:t.id,workflow_id:this.workflowsStore.workflowId}),t},async updateCredential(e){let t;try{t=await this.credentialsStore.updateCredential({id:this.credentialId,data:e}),this.hasUnsavedChanges=!1}catch(s){return this.showError(s,this.$locale.baseText("credentialEdit.credentialEdit.showError.updateCredential.title")),null}return await this.$externalHooks().run("credential.saved",{credential_type:e.type,credential_id:t.id,is_new:!1}),this.updateNodesCredentialsIssues(),t},async deleteCredential(){if(!this.currentCredential)return;const e=this.currentCredential.name;if(await this.confirm(this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.deleteCredential.message",{interpolate:{savedCredentialName:e}}),this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.deleteCredential.headline"),{confirmButtonText:this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.deleteCredential.confirmButtonText")})===bt){try{this.isDeleting=!0,await this.credentialsStore.deleteCredential({id:this.credentialId}),this.hasUnsavedChanges=!1}catch(s){this.showError(s,this.$locale.baseText("credentialEdit.credentialEdit.showError.deleteCredential.title")),this.isDeleting=!1;return}this.isDeleting=!1,this.updateNodesCredentialsIssues(),this.credentialData={},this.showMessage({title:this.$locale.baseText("credentialEdit.credentialEdit.showMessage.title"),type:"success"}),this.closeDialog()}},async oAuthCredentialAuthorize(){let e;const t=await this.saveCredential();if(!t)return;const s=this.parentTypes;try{const r={id:t.id,...this.credentialData};this.credentialTypeName==="oAuth2Api"||s.includes("oAuth2Api")?Qw(r)&&(e=await this.credentialsStore.oAuth2Authorize(r)):(this.credentialTypeName==="oAuth1Api"||s.includes("oAuth1Api"))&&Qw(r)&&(e=await this.credentialsStore.oAuth1Authorize(r))}catch(r){this.showError(r,this.$locale.baseText("credentialEdit.credentialEdit.showError.generateAuthorizationUrl.title"),this.$locale.baseText("credentialEdit.credentialEdit.showError.generateAuthorizationUrl.message"));return}const n="scrollbars=no,resizable=yes,status=no,titlebar=noe,location=no,toolbar=no,menubar=no,width=500,height=700",o=window.open(e,"OAuth2 Authorization",n);this.credentialData={...this.credentialData,oauthTokenData:null};const i=r=>{r.data==="success"&&(window.removeEventListener("message",i,!1),this.credentialData={...this.credentialData,oauthTokenData:{}},this.credentialsStore.enableOAuthCredential(t),o&&o.close())};window.addEventListener("message",i,!1)},async onAuthTypeChanged(e){var s;if(!((s=this.activeNodeType)!=null&&s.credentials))return;const t=dc(this.activeNodeType,e);if(t&&(this.selectedCredential=t.name,this.resetCredentialData(),this.setupNodeAccess(),SS(this.ndvStore.activeNode,e),this.hasUnsavedChanges&&!this.hasUserSpecifiedName)){const n=await this.credentialsStore.getNewCredentialName({credentialTypeName:this.defaultCredentialTypeName});this.credentialName=n}},setupNodeAccess(){this.nodeAccess=this.nodesWithAccess.reduce((e,t)=>(this.mode==="new"?e[t.name]={nodeType:t.name}:e[t.name]=null,e),{})},resetCredentialData(){var e;if(this.credentialType)for(const t of this.credentialType.properties)(e=this.credentialType.__overwrittenProperties)!=null&&e.includes(t.name)||(this.credentialData={...this.credentialData,[t.name]:t.default})}}}),tte="_credentialModal_1pfoz_5",ste="_mainContent_1pfoz_10",nte="_sidebar_1pfoz_16",ote="_header_1pfoz_26",ite="_container_1pfoz_30",rte="_credInfo_1pfoz_35",ate="_credActions_1pfoz_43",lte="_credIcon_1pfoz_54",ute={credentialModal:tte,mainContent:ste,sidebar:nte,header:ote,container:ite,credInfo:rte,credActions:ate,credIcon:lte},cte=D("hr",null,null,-1);function dte(e,t,s,n,o,i){const r=E("CredentialIcon"),l=E("InlineNameEdit"),m=E("n8n-icon-button"),c=E("SaveButton"),h=E("n8n-menu"),p=E("CredentialConfig"),g=E("CredentialSharing"),w=E("CredentialInfo"),S=E("FeatureComingSoon"),k=E("Modal");return y(),R(k,{name:e.modalName,customClass:e.$style.credentialModal,eventBus:e.modalBus,loading:e.loading,beforeClose:e.beforeClose,width:"70%",height:"80%"},{header:v(()=>[D("div",{class:$(e.$style.header)},[D("div",{class:$(e.$style.credInfo)},[D("div",{class:$(e.$style.credIcon)},[b(r,{credentialTypeName:e.defaultCredentialTypeName},null,8,["credentialTypeName"])],2),b(l,{modelValue:e.credentialName,subtitle:e.credentialType?e.credentialType.displayName:"",readonly:!e.credentialPermissions.updateName||!e.credentialType,type:"Credential","onUpdate:modelValue":e.onNameEdit,"data-test-id":"credential-name"},null,8,["modelValue","subtitle","readonly","onUpdate:modelValue"])],2),D("div",{class:$(e.$style.credActions)},[e.currentCredential&&e.credentialPermissions.delete?(y(),R(m,{key:0,title:e.$locale.baseText("credentialEdit.credentialEdit.delete"),icon:"trash",type:"tertiary",disabled:e.isSaving,loading:e.isDeleting,onClick:e.deleteCredential,"data-test-id":"credential-delete-button"},null,8,["title","disabled","loading","onClick"])):W("",!0),(e.hasUnsavedChanges||e.credentialId)&&e.credentialPermissions.save?(y(),R(c,{key:1,saved:!e.hasUnsavedChanges&&!e.isTesting,isSaving:e.isSaving||e.isTesting,savingLabel:e.isTesting?e.$locale.baseText("credentialEdit.credentialEdit.testing"):e.$locale.baseText("credentialEdit.credentialEdit.saving"),onClick:e.saveCredential,"data-test-id":"credential-save-button"},null,8,["saved","isSaving","savingLabel","onClick"])):W("",!0)],2)],2),cte]),content:v(()=>[D("div",{class:$(e.$style.container),"data-test-id":"credential-edit-dialog"},[D("div",{class:$(e.$style.sidebar)},[b(h,{mode:"tabs",items:e.sidebarItems,onSelect:e.onTabSelect},null,8,["items","onSelect"])],2),e.activeTab==="connection"?(y(),P("div",{key:0,class:$(e.$style.mainContent),ref:"content"},[b(p,{credentialType:e.credentialType,credentialProperties:e.credentialProperties,credentialData:e.credentialData,credentialId:e.credentialId,showValidationWarning:e.showValidationWarning,authError:e.authError,testedSuccessfully:e.testedSuccessfully,isOAuthType:e.isOAuthType,isOAuthConnected:e.isOAuthConnected,isRetesting:e.isRetesting,parentTypes:e.parentTypes,requiredPropertiesFilled:e.requiredPropertiesFilled,credentialPermissions:e.credentialPermissions,mode:e.mode,selectedCredential:e.selectedCredential,showAuthTypeSelector:e.requiredCredentials,onUpdate:e.onDataChange,onOauth:e.oAuthCredentialAuthorize,onRetest:e.retestCredential,onScrollToTop:e.scrollToTop,onAuthTypeChanged:e.onAuthTypeChanged},null,8,["credentialType","credentialProperties","credentialData","credentialId","showValidationWarning","authError","testedSuccessfully","isOAuthType","isOAuthConnected","isRetesting","parentTypes","requiredPropertiesFilled","credentialPermissions","mode","selectedCredential","showAuthTypeSelector","onUpdate","onOauth","onRetest","onScrollToTop","onAuthTypeChanged"])],2)):e.activeTab==="sharing"&&e.credentialType?(y(),P("div",{key:1,class:$(e.$style.mainContent)},[b(g,{credential:e.currentCredential,credentialData:e.credentialData,credentialId:e.credentialId,credentialPermissions:e.credentialPermissions,modalBus:e.modalBus,"onUpdate:modelValue":e.onChangeSharedWith},null,8,["credential","credentialData","credentialId","credentialPermissions","modalBus","onUpdate:modelValue"])],2)):e.activeTab==="details"&&e.credentialType?(y(),P("div",{key:2,class:$(e.$style.mainContent)},[b(w,{nodeAccess:e.nodeAccess,nodesWithAccess:e.nodesWithAccess,currentCredential:e.currentCredential,credentialPermissions:e.credentialPermissions,onAccessChange:e.onNodeAccessChange},null,8,["nodeAccess","nodesWithAccess","currentCredential","credentialPermissions","onAccessChange"])],2)):e.activeTab.startsWith("coming-soon")?(y(),P("div",{key:3,class:$(e.$style.mainContent)},[b(S,{featureId:e.activeTab.split("/")[1]},null,8,["featureId"])],2)):W("",!0)],2)]),_:1},8,["name","customClass","eventBus","loading","beforeClose"])}const pte={$style:ute},hte=te(ete,[["render",dte],["__cssModules",pte]]),Sv=/^.* <(.*)>$/;function kv(e){let t=e.trim();if(Sv.test(t)){const s=t.match(Sv);s&&s.length===2&&(t=s[1])}return t}const mte=J({name:"InviteUsersModal",mixins:[Ai],components:{Modal:Mt},props:{modalName:{type:String}},setup(){return{...je()}},data(){return{config:null,formBus:Ze(),modalBus:Ze(),emails:"",showInviteUrls:null,loading:!1,INVITE_USER_MODAL_KEY:Wc}},mounted(){this.config=[{name:"emails",properties:{label:this.$locale.baseText("settings.users.newEmailsToInvite"),required:!0,validationRules:[{name:"VALID_EMAILS"}],validators:{VALID_EMAILS:{validate:this.validateEmails}},placeholder:"name1@email.com, name2@email.com, ...",capitalize:!0,focusInitially:!0}},{name:"role",initialValue:"member",properties:{label:this.$locale.baseText("auth.role"),required:!0,type:"select",options:[{value:$t.Member,label:this.$locale.baseText("auth.roles.member")}],capitalize:!0}}]},computed:{...be(Ge,Le),emailsCount(){return this.emails.split(",").filter(e=>!!e.trim()).length},buttonLabel(){return this.emailsCount>1?this.$locale.baseText(`settings.users.inviteXUser${this.settingsStore.isSmtpSetup?"":".inviteUrl"}`,{interpolate:{count:this.emailsCount.toString()}}):this.$locale.baseText(`settings.users.inviteUser${this.settingsStore.isSmtpSetup?"":".inviteUrl"}`)},enabledButton(){return this.emailsCount>=1},invitedUsers(){return this.showInviteUrls?this.usersStore.allUsers.filter(e=>this.showInviteUrls.find(t=>t.user.id===e.id)):[]}},methods:{validateEmails(e){if(typeof e!="string")return!1;const t=e.split(",");for(let s=0;s<t.length;s++){const n=t[s],o=kv(n);if(o.trim()&&!Gc.test(String(o).trim().toLowerCase()))return{messageKey:"settings.users.invalidEmailError",options:{interpolate:{email:o}}}}return!1},onInput(e){e.name==="emails"&&(this.emails=e.value)},async onSubmit(){try{this.loading=!0;const e=this.emails.split(",").map(i=>({email:kv(i)})).filter(i=>!!i.email);if(e.length===0)throw new Error(this.$locale.baseText("settings.users.noUsersToInvite"));const t=await this.usersStore.inviteUsers(e),s=t.filter(i=>i.error),n=t.filter(i=>!i.error&&i.user.emailSent),o=t.filter(i=>!i.error&&!i.user.emailSent);n.length&&this.showMessage({type:"success",title:this.$locale.baseText(n.length>1?"settings.users.usersInvited":"settings.users.userInvited"),message:this.$locale.baseText("settings.users.emailInvitesSent",{interpolate:{emails:n.map(({user:i})=>i.email).join(", ")}})}),o.length&&(o.length===1&&this.copyToClipboard(o[0].user.inviteAcceptUrl),this.showMessage({type:"success",title:this.$locale.baseText(o.length>1?"settings.users.multipleInviteUrlsCreated":"settings.users.inviteUrlCreated"),message:this.$locale.baseText(o.length>1?"settings.users.multipleInviteUrlsCreated.message":"settings.users.inviteUrlCreated.message",{interpolate:{emails:o.map(({user:i})=>i.email).join(", ")}})})),s.length&&setTimeout(()=>{this.showMessage({type:"error",title:this.$locale.baseText("settings.users.usersEmailedError"),message:this.$locale.baseText("settings.users.emailInvitesSentError",{interpolate:{emails:s.map(({error:i})=>i).join(", ")}})})},0),o.length>1?this.showInviteUrls=o:this.modalBus.emit("close")}catch(e){this.showError(e,this.$locale.baseText("settings.users.usersInvitedError"))}this.loading=!1},showCopyInviteLinkToast(e){this.showMessage({type:"success",title:this.$locale.baseText(e.length>1?"settings.users.multipleInviteUrlsCreated":"settings.users.inviteUrlCreated"),message:this.$locale.baseText(e.length>1?"settings.users.multipleInviteUrlsCreated.message":"settings.users.inviteUrlCreated.message",{interpolate:{emails:e.map(({user:t})=>t.email).join(", ")}})})},onSubmitClick(){this.formBus.emit("submit")},onCopyInviteLink(e){e.inviteAcceptUrl&&this.showInviteUrls&&(this.copyToClipboard(e.inviteAcceptUrl),this.showCopyInviteLinkToast([]))}}}),fte={key:0};function gte(e,t,s,n,o,i){const r=E("n8n-icon-button"),l=E("n8n-tooltip"),m=E("n8n-users-list"),c=E("n8n-form-inputs"),h=E("n8n-button"),p=E("Modal");return y(),R(p,{name:e.INVITE_USER_MODAL_KEY,onEnter:e.onSubmit,title:e.$locale.baseText(e.showInviteUrls?"settings.users.copyInviteUrls":"settings.users.inviteNewUsers"),center:!0,width:"460px",eventBus:e.modalBus},Ms({content:v(()=>[e.showInviteUrls?(y(),P("div",fte,[b(m,{users:e.invitedUsers},{actions:v(({user:g})=>[b(l,null,{content:v(()=>[V(N(e.$locale.baseText("settings.users.inviteLink.copy")),1)]),default:v(()=>[b(r,{icon:"link",type:"tertiary","data-test-id":"copy-invite-link-button","data-invite-link":g.inviteAcceptUrl,onClick:w=>e.onCopyInviteLink(g)},null,8,["data-invite-link","onClick"])]),_:2},1024)]),_:1},8,["users"])])):(y(),R(c,{key:1,inputs:e.config,eventBus:e.formBus,columnView:!0,onUpdate:e.onInput,onSubmit:e.onSubmit},null,8,["inputs","eventBus","onUpdate","onSubmit"]))]),_:2},[e.showInviteUrls?void 0:{name:"footer",fn:v(()=>[b(h,{loading:e.loading,disabled:!e.enabledButton,label:e.buttonLabel,onClick:e.onSubmitClick,float:"right"},null,8,["loading","disabled","label","onClick"])]),key:"0"}]),1032,["name","onEnter","title","eventBus"])}const yte=te(mte,[["render",gte]]),wte=J({name:"CredentialsSelectModal",mixins:[Ft],components:{Modal:Mt},async mounted(){try{await this.credentialsStore.fetchCredentialTypes(!1)}catch{}this.loading=!1,setTimeout(()=>{const e=this.$refs.select;e&&e.focus()},0)},data(){return{modalBus:Ze(),selected:"",loading:!0,CREDENTIAL_SELECT_MODAL_KEY:Uc}},computed:{...be(It,Ee,_e)},methods:{onSelect(e){this.selected=e},openCredentialType(){this.modalBus.emit("close"),this.uiStore.openNewCredential(this.selected);const e={credential_type:this.selected,source:"primary_menu",new_credential:!0,workflow_id:this.workflowsStore.workflowId};this.$telemetry.track("User opened Credential modal",e),this.$externalHooks().run("credentialsSelectModal.openCredentialType",e)}}}),bte="_title_c4472_5",vte="_subtitle_c4472_10",Tte={title:bte,subtitle:vte};function Ste(e,t,s,n,o,i){const r=E("font-awesome-icon"),l=E("n8n-option"),m=E("n8n-select"),c=E("n8n-button"),h=E("Modal");return y(),R(h,{name:e.CREDENTIAL_SELECT_MODAL_KEY,eventBus:e.modalBus,width:"50%",center:!0,loading:e.loading,maxWidth:"460px",minHeight:"250px"},{header:v(()=>[D("h2",{class:$(e.$style.title)},N(e.$locale.baseText("credentialSelectModal.addNewCredential")),3)]),content:v(()=>[D("div",null,[D("div",{class:$(e.$style.subtitle)},N(e.$locale.baseText("credentialSelectModal.selectAnAppOrServiceToConnectTo")),3),b(m,{filterable:"",defaultFirstOption:"",placeholder:e.$locale.baseText("credentialSelectModal.searchForApp"),size:"xlarge",ref:"select",modelValue:e.selected,"onUpdate:modelValue":e.onSelect,"data-test-id":"new-credential-type-select"},{prefix:v(()=>[b(r,{icon:"search"})]),default:v(()=>[(y(!0),P(Ie,null,Re(e.credentialsStore.allCredentialTypes,p=>(y(),R(l,{value:p.name,key:p.name,label:p.displayName,filterable:"","data-test-id":"new-credential-type-select-option"},null,8,["value","label"]))),128))]),_:1},8,["placeholder","modelValue","onUpdate:modelValue"])])]),footer:v(()=>[D("div",{class:$(e.$style.footer)},[b(c,{label:e.$locale.baseText("credentialSelectModal.continue"),float:"right",size:"large",disabled:!e.selected,onClick:e.openCredentialType,"data-test-id":"new-credential-type-button"},null,8,["label","disabled","onClick"])],2)]),_:1},8,["name","eventBus","loading"])}const kte={$style:Tte},Ete=te(wte,[["render",Ste],["__cssModules",kte]]),Ev="__manage",xv="__create",xte=J({name:"TagsDropdown",props:{placeholder:{},modelValue:{type:Array,default:()=>[]},createEnabled:{type:Boolean,default:!1},eventBus:{type:Object}},setup(e,{emit:t}){const s=Lt(),{showError:n}=je(),o=yi(),i=Ee(),{isLoading:r}=zO(o),l=Be(),m=Be(),c=Be(),h=Be([]),p=Be(""),g=Be(!1),w=Be(!1),S=we(()=>o.allTags);we(()=>o.hasTags);const k=we(()=>S.value.filter(U=>U&&U.name.toLowerCase().includes(p.value.toLowerCase()))),O=we(()=>e.modelValue.filter(U=>o.getTagById(U)));jn(()=>S.value,()=>{e.modelValue.length!==O.value.length&&t("update:modelValue",O.value)}),Is(()=>{var ne,ie,M;const U=(ie=(ne=l.value)==null?void 0:ne.$refs)==null?void 0:ie.innerSelect;if(U){const z=U.$refs.input;z&&(z.setAttribute("maxlength",`${qm}`),z.addEventListener("keydown",K=>{var ve;const oe=K;oe.key==="Escape"?t("esc"):oe.key==="Enter"&&p.value.length===0&&(w.value=!0,t("blur"),typeof((ve=l.value)==null?void 0:ve.blur)=="function"&&l.value.blur())}))}(M=e.eventBus)==null||M.on("focus",C),o.fetchAll()}),Mv(()=>{var U;(U=e.eventBus)==null||U.off("focus",C)});function C(){j(),L()}function A(U=""){p.value=U.trim(),Xs(()=>L())}async function T(){const U=p.value;try{const ne=await o.create(U);t("update:modelValue",[...e.modelValue,ne.id]),Xs(()=>I(ne.id)),p.value=""}catch(ne){n(ne,s.baseText("tagsDropdown.showError.title"),s.baseText("tagsDropdown.showError.message",{interpolate:{name:U}}))}}function F(U){const ne=U.find(M=>M===Ev),ie=U.find(M=>M===xv);ne?(p.value="",i.openModal(qc),t("blur")):ie?T():setTimeout(()=>{w.value||t("update:modelValue",U),w.value=!1},0)}function L(){var U,ne,ie;(U=c.value)!=null&&U.$el?c.value.$el.dispatchEvent(new Event("mouseenter")):(ie=(ne=m.value)==null?void 0:ne[0])!=null&&ie.$el&&m.value[0].$el.dispatchEvent(new Event("mouseenter"))}function I(U){const ne=m.value||[];ne&&ne.length&&ne.find(ie=>ie.value===U)}function j(){l.value&&(l.value.focusOnInput(),g.value=!0)}function q(U){U?g.value=!0:(p.value="",g.value=!1)}function Q(){Xs(()=>{j()})}function X(U){const ne=document.querySelector(".tags-dropdown"),ie=document.querySelector("#tags-manager-modal"),M=(ne==null?void 0:ne.contains(U.target))||ne===U.target,z=(ie==null?void 0:ie.contains(U.target))||ie===U.target;!M&&!z&&U.type==="click"&&t("blur")}return{i18n:s,tags:h,filter:p,focused:g,preventUpdate:w,selectRef:l,tagRefs:m,createRef:c,allTags:S,appliedTags:O,options:k,isLoading:r,MANAGE_KEY:Ev,CREATE_KEY:xv,onTagsUpdated:F,onCreate:T,filterOptions:A,onVisibleChange:q,onRemoveTag:Q,onClickOutside:X,...je()}}});const Cte={key:0},Ote={key:1},Dte={key:2};function Ate(e,t,s,n,o,i){const r=E("font-awesome-icon"),l=E("n8n-option"),m=E("n8n-select"),c=Ls("on-click-outside");return He((y(),P("div",{class:$({"tags-container":!0,focused:e.focused}),onKeydown:t[0]||(t[0]=Qe(()=>{},["stop"]))},[b(m,{teleported:!0,modelValue:e.appliedTags,loading:e.isLoading,placeholder:e.placeholder,"filter-method":e.filterOptions,filterable:"",multiple:"",allowCreate:e.createEnabled,"reserve-keyword":!1,ref:"selectRef","loading-text":"...","popper-class":"tags-dropdown","onUpdate:modelValue":e.onTagsUpdated,onVisibleChange:e.onVisibleChange,onRemoveTag:e.onRemoveTag},{default:v(()=>[e.options.length===0&&e.filter&&e.createEnabled?(y(),R(l,{key:e.CREATE_KEY,value:e.CREATE_KEY,class:"ops",ref:"createRef"},{default:v(()=>[b(r,{icon:"plus-circle"}),D("span",null,N(e.i18n.baseText("tagsDropdown.createTag",{interpolate:{filter:e.filter}})),1)]),_:1},8,["value"])):e.options.length===0?(y(),R(l,{key:1,value:"message",disabled:""},{default:v(()=>[e.createEnabled?(y(),P("span",Cte,N(e.i18n.baseText("tagsDropdown.typeToCreateATag")),1)):e.allTags.length>0?(y(),P("span",Ote,N(e.i18n.baseText("tagsDropdown.noMatchingTagsExist")),1)):(y(),P("span",Dte,N(e.i18n.baseText("tagsDropdown.noTagsExist")),1))]),_:1})):W("",!0),(y(!0),P(Ie,null,Re(e.options,(h,p)=>(y(),R(l,{value:h.id,key:h.id+"_"+p,label:h.name,class:"tag",ref_for:!0,ref:"tagRefs"},null,8,["value","label"]))),128)),(y(),R(l,{key:e.MANAGE_KEY,value:e.MANAGE_KEY,class:"ops manage-tags"},{default:v(()=>[b(r,{icon:"cog"}),D("span",null,N(e.i18n.baseText("tagsDropdown.manageTags")),1)]),_:1},8,["value"]))]),_:1},8,["modelValue","loading","placeholder","filter-method","allowCreate","onUpdate:modelValue","onVisibleChange","onRemoveTag"])],34)),[[c,e.onClickOutside]])}const qd=te(xte,[["render",Ate]]),$te=J({name:"DuplicateWorkflow",mixins:[ut],components:{TagsDropdown:qd,Modal:Mt},props:["modalName","isActive","data"],setup(){return{...je()}},data(){const e=this.data.tags;return{name:"",currentTagIds:e,isSaving:!1,modalBus:Ze(),dropdownBus:Ze(),MAX_WORKFLOW_NAME_LENGTH:jm,prevTagIds:e}},async mounted(){this.name=await this.workflowsStore.getDuplicateCurrentWorkflowName(this.data.name),await this.$nextTick(),this.focusOnNameInput()},computed:{...be(It,Ge,Le,_e),workflowPermissions(){const e=this.data.id===lt,t=this.workflowsStore.workflow.id===lt,s=e&&t?this.workflowsStore.workflow:this.workflowsStore.getWorkflowById(this.data.id);return fl(this.usersStore.currentUser,s)}},watch:{isActive(e){e&&this.focusOnSelect()}},methods:{focusOnSelect(){this.dropdownBus.emit("focus")},focusOnNameInput(){const e=this.$refs.nameInput;e&&e.focus&&e.focus()},onTagsBlur(){this.prevTagIds=this.currentTagIds},onTagsEsc(){this.currentTagIds=this.prevTagIds},async save(){const e=this.name.trim();if(!e){this.showMessage({title:this.$locale.baseText("duplicateWorkflowDialog.errors.missingName.title"),message:this.$locale.baseText("duplicateWorkflowDialog.errors.missingName.message"),type:"error"});return}const t=this.data.id;this.isSaving=!0;try{let s;if(t!==lt){const{createdAt:o,updatedAt:i,usedCredentials:r,...l}=await this.workflowsStore.fetchWorkflow(this.data.id);s=l,this.removeForeignCredentialsFromWorkflow(s,this.credentialsStore.allCredentials)}await this.saveAsNewWorkflow({name:e,data:s,tags:this.currentTagIds,resetWebhookUrls:!0,openInNewWindow:!0,resetNodeIds:!0})&&(this.closeDialog(),this.$telemetry.track("User duplicated workflow",{old_workflow_id:t,workflow_id:this.data.id,sharing_role:this.workflowPermissions.isOwner?"owner":"sharee"}))}catch(s){s.httpStatusCode===403?(s.message=this.$locale.baseText("duplicateWorkflowDialog.errors.forbidden.message"),this.showError(s,this.$locale.baseText("duplicateWorkflowDialog.errors.forbidden.title"))):this.showError(s,this.$locale.baseText("duplicateWorkflowDialog.errors.generic.title"))}finally{this.isSaving=!1}},closeDialog(){this.modalBus.emit("close")}}}),Nte="_content_ltzk9_5",_te="_footer_ltzk9_9",Pte={content:Nte,footer:_te};function Ite(e,t,s,n,o,i){const r=E("n8n-input"),l=E("TagsDropdown"),m=E("n8n-button"),c=E("Modal");return y(),R(c,{name:e.modalName,eventBus:e.modalBus,onEnter:e.save,title:e.$locale.baseText("duplicateWorkflowDialog.duplicateWorkflow"),center:!0,width:"420px"},{content:v(()=>[D("div",{class:$(e.$style.content)},[b(r,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=h=>e.name=h),ref:"nameInput",placeholder:e.$locale.baseText("duplicateWorkflowDialog.enterWorkflowName"),maxlength:e.MAX_WORKFLOW_NAME_LENGTH},null,8,["modelValue","placeholder","maxlength"]),e.settingsStore.areTagsEnabled?(y(),R(l,{key:0,modelValue:e.currentTagIds,"onUpdate:modelValue":t[1]||(t[1]=h=>e.currentTagIds=h),createEnabled:!0,eventBus:e.dropdownBus,onBlur:e.onTagsBlur,onEsc:e.onTagsEsc,placeholder:e.$locale.baseText("duplicateWorkflowDialog.chooseOrCreateATag"),ref:"dropdown"},null,8,["modelValue","eventBus","onBlur","onEsc","placeholder"])):W("",!0)],2)]),footer:v(({close:h})=>[D("div",{class:$(e.$style.footer)},[b(m,{onClick:e.save,loading:e.isSaving,label:e.$locale.baseText("duplicateWorkflowDialog.save"),float:"right"},null,8,["onClick","loading","label"]),b(m,{type:"secondary",onClick:h,disabled:e.isSaving,label:e.$locale.baseText("duplicateWorkflowDialog.cancel"),float:"right"},null,8,["onClick","disabled","label"])],2)]),_:1},8,["name","eventBus","onEnter","title"])}const Mte={$style:Pte},Lte=te($te,[["render",Ite],["__cssModules",Mte]]),Fte=J({name:"ModalRoot",props:{name:{type:String,required:!0},keepAlive:{type:Boolean}},computed:{...be(Ee)}}),Bte={key:0};function Rte(e,t,s,n,o,i){return e.uiStore.isModalOpen(e.name)||e.keepAlive?(y(),P("div",Bte,[Ke(e.$slots,"default",{modalName:e.name,active:e.uiStore.isModalActive(e.name),open:e.uiStore.isModalOpen(e.name),activeId:e.uiStore.getModalActiveId(e.name),mode:e.uiStore.getModalMode(e.name),data:e.uiStore.getModalData(e.name)})])):W("",!0)}const Vte=te(Fte,[["render",Rte]]),Ute=J({name:"OnboardingCallSignupModal",components:{Modal:Mt},props:["modalName"],setup(){return{...je()}},data(){return{email:"",modalBus:Ze(),ONBOARDING_CALL_SIGNUP_MODAL_KEY:pl,showError:!1,okToClose:!1,loading:!1}},computed:{...be(Ee),isEmailValid(){return Gc.test(String(this.email).toLowerCase())}},methods:{async onSignup(){if(!this.isEmailValid){this.showError=!0;return}this.showError=!1,this.loading=!0,this.okToClose=!1;try{await this.uiStore.applyForOnboardingCall(this.email),this.showMessage({type:"success",title:this.$locale.baseText("onboardingCallSignupSucess.title"),message:this.$locale.baseText("onboardingCallSignupSucess.message")}),this.okToClose=!0,this.modalBus.emit("close")}catch(e){this.showError(e,this.$locale.baseText("onboardingCallSignupFailed.title"),this.$locale.baseText("onboardingCallSignupFailed.message")),this.loading=!1,this.okToClose=!0}},async onCancel(){this.okToClose=!0,this.modalBus.emit("close")},onModalClose(){return this.okToClose}}}),Wte="_buttonsContainer_1rjqx_5",jte={buttonsContainer:Wte},qte={class:"pb-m"};function zte(e,t,s,n,o,i){const r=E("n8n-text"),l=E("n8n-input"),m=E("n8n-button"),c=E("Modal");return y(),R(c,{name:e.ONBOARDING_CALL_SIGNUP_MODAL_KEY,title:e.$locale.baseText("onboardingCallSignupModal.title"),eventBus:e.modalBus,center:!0,showClose:!1,beforeClose:e.onModalClose,width:"460px"},{content:v(()=>[D("div",qte,[b(r,null,{default:v(()=>[V(N(e.$locale.baseText("onboardingCallSignupModal.description")),1)]),_:1})]),D("div",{onKeyup:t[1]||(t[1]=Ts((...h)=>e.onSignup&&e.onSignup(...h),["enter"]))},[b(l,{modelValue:e.email,"onUpdate:modelValue":t[0]||(t[0]=h=>e.email=h),placeholder:e.$locale.baseText("onboardingCallSignupModal.emailInput.placeholder")},null,8,["modelValue","placeholder"]),e.showError?(y(),R(r,{key:0,size:"small",class:"mt-4xs",tag:"div",color:"danger"},{default:v(()=>[V(N(e.$locale.baseText("onboardingCallSignupModal.infoText.emailError")),1)]),_:1})):W("",!0)],32)]),footer:v(()=>[D("div",{class:$(e.$style.buttonsContainer)},[b(m,{label:e.$locale.baseText("onboardingCallSignupModal.cancelButton.label"),disabled:e.loading,float:"right",type:"outline",onClick:e.onCancel},null,8,["label","disabled","onClick"]),b(m,{disabled:e.email===""||e.loading,label:e.$locale.baseText("onboardingCallSignupModal.signupButton.label"),float:"right",loading:e.loading,onClick:e.onSignup},null,8,["disabled","label","loading","onClick"])],2)]),_:1},8,["name","title","eventBus","beforeClose"])}const Hte={$style:jte},Qte=te(Ute,[["render",zte],["__cssModules",Hte]]),Gte="v4",Yte=J({name:"PersonalizationModal",mixins:[ut],components:{Modal:Mt},props:{teleported:{type:Boolean,default:!0}},data(){return{isSaving:!1,PERSONALIZATION_MODAL_KEY:zc,otherWorkAreaFieldVisible:!1,otherCompanyIndustryFieldVisible:!1,showAllIndustryQuestions:!0,modalBus:Ze(),formBus:Ze()}},setup(){return{...je()}},computed:{...be(fe,Le,Ee,Ge,js),survey(){return[{name:sP,properties:{label:this.$locale.baseText("personalizationModal.yourEmailAddress"),type:"text",placeholder:this.$locale.baseText("personalizationModal.email")},shouldDisplay:()=>{var t;return this.settingsStore.isDesktopDeployment&&!((t=this.usersStore.currentUser)!=null&&t.firstName)}},{name:Us,properties:{label:this.$locale.baseText("personalizationModal.whatBestDescribesYourCompany"),type:"select",placeholder:this.$locale.baseText("personalizationModal.select"),options:[{label:this.$locale.baseText("personalizationModal.saas"),value:iP},{label:this.$locale.baseText("personalizationModal.eCommerce"),value:AT},{label:this.$locale.baseText("personalizationModal.digitalAgencyOrConsultant"),value:lP},{label:this.$locale.baseText("personalizationModal.systemsIntegrator"),value:uP},{value:rP,label:this.$locale.baseText("personalizationModal.education")},{label:this.$locale.baseText("personalizationModal.other"),value:bp},{label:this.$locale.baseText("personalizationModal.imNotUsingN8nForWork"),value:un}]}},{name:lw,properties:{type:"multi-select",label:this.$locale.baseText("personalizationModal.whichIndustriesIsYourCompanyIn"),placeholder:this.$locale.baseText("personalizationModal.select"),options:[{value:vP,label:this.$locale.baseText("personalizationModal.financeOrInsurance")},{value:hP,label:this.$locale.baseText("personalizationModal.government")},{value:bP,label:this.$locale.baseText("personalizationModal.healthcare")},{value:TP,label:this.$locale.baseText("personalizationModal.it")},{value:mP,label:this.$locale.baseText("personalizationModal.legal")},{value:wP,label:this.$locale.baseText("personalizationModal.managedServiceProvider")},{value:fP,label:this.$locale.baseText("personalizationModal.marketing")},{value:gP,label:this.$locale.baseText("personalizationModal.media")},{value:yP,label:this.$locale.baseText("personalizationModal.manufacturing")},{value:dP,label:this.$locale.baseText("personalizationModal.physicalRetailOrServices")},{value:pP,label:this.$locale.baseText("personalizationModal.realEstateOrConstruction")},{value:SP,label:this.$locale.baseText("personalizationModal.security")},{value:kP,label:this.$locale.baseText("personalizationModal.telecoms")},{value:uw,label:this.$locale.baseText("personalizationModal.otherPleaseSpecify")}]},shouldDisplay(t){return t[Us]===bp}},{name:cP,properties:{placeholder:this.$locale.baseText("personalizationModal.specifyYourCompanysIndustry")},shouldDisplay(t){const s=t[Us],n=t[lw];return s===bp&&!!n&&n.includes(uw)}},{name:Yi,properties:{type:"select",label:this.$locale.baseText("personalizationModal.whichRoleBestDescribesYou"),placeholder:this.$locale.baseText("personalizationModal.select"),options:[{value:i2,label:this.$locale.baseText("personalizationModal.businessOwner")},{value:r2,label:this.$locale.baseText("personalizationModal.customerSupport")},{value:a2,label:this.$locale.baseText("personalizationModal.dataScience")},{value:Op,label:this.$locale.baseText("personalizationModal.devops")},{value:Dp,label:this.$locale.baseText("personalizationModal.it")},{value:Ap,label:this.$locale.baseText("personalizationModal.engineering")},{value:$p,label:this.$locale.baseText("personalizationModal.salesAndMarketing")},{value:l2,label:this.$locale.baseText("personalizationModal.security")},{value:gw,label:this.$locale.baseText("personalizationModal.otherPleaseSpecify")}]},shouldDisplay(t){return t[Us]!==un}},{name:o2,properties:{placeholder:this.$locale.baseText("personalizationModal.specifyYourRole")},shouldDisplay(t){const s=t[Us],n=t[Yi];return s!==un&&n===gw}},{name:mw,properties:{type:"multi-select",label:this.$locale.baseText("personalizationModal.whatAreYouLookingToAutomate"),placeholder:this.$locale.baseText("personalizationModal.select"),options:[{value:XP,label:this.$locale.baseText("personalizationModal.cicd")},{value:KP,label:this.$locale.baseText("personalizationModal.cloudInfrastructureOrchestration")},{value:JP,label:this.$locale.baseText("personalizationModal.dataSynching")},{value:ZP,label:this.$locale.baseText("personalizationModal.incidentResponse")},{value:e2,label:this.$locale.baseText("personalizationModal.monitoringAndAlerting")},{value:t2,label:this.$locale.baseText("personalizationModal.reporting")},{value:s2,label:this.$locale.baseText("personalizationModal.ticketingSystemsIntegrations")},{value:$h,label:this.$locale.baseText("personalizationModal.other")}]},shouldDisplay(t){const s=t[Us],n=t[Yi];return s!==un&&[Op,Ap,Dp].includes(n)}},{name:GP,properties:{placeholder:this.$locale.baseText("personalizationModal.specifyYourAutomationGoal")},shouldDisplay(t){const s=t[Us],n=t[mw],o=t[Yi];return s!==un&&[Op,Ap,Dp].includes(o)&&!!n&&n.includes(YP)}},{name:cw,properties:{type:"multi-select",label:this.$locale.baseText("personalizationModal.specifySalesMarketingGoal"),placeholder:this.$locale.baseText("personalizationModal.select"),options:[{label:this.$locale.baseText("personalizationModal.leadGeneration"),value:DP},{label:this.$locale.baseText("personalizationModal.customerCommunication"),value:AP},{label:this.$locale.baseText("personalizationModal.customerActions"),value:$P},{label:this.$locale.baseText("personalizationModal.adCampaign"),value:NP},{label:this.$locale.baseText("personalizationModal.reporting"),value:_P},{label:this.$locale.baseText("personalizationModal.dataSynching"),value:PP},{label:this.$locale.baseText("personalizationModal.other"),value:dw}]},shouldDisplay(t){const s=t[Us],n=t[Yi];return s!==un&&n===$p}},{name:IP,properties:{placeholder:this.$locale.baseText("personalizationModal.specifyOtherSalesAndMarketingGoal")},shouldDisplay(t){const s=t[Us],n=t[cw],o=t[Yi];return s!==un&&o===$p&&!!n&&n.includes(dw)}},{name:MP,properties:{type:"select",label:this.$locale.baseText("personalizationModal.specifyAutomationBeneficiary"),placeholder:this.$locale.baseText("personalizationModal.select"),options:[{label:this.$locale.baseText("personalizationModal.myself"),value:LP},{label:this.$locale.baseText("personalizationModal.myTeam"),value:FP},{label:this.$locale.baseText("personalizationModal.otherTeams"),value:BP}]},shouldDisplay(t){return t[Us]!==un}},{name:Ym,properties:{type:"select",label:this.$locale.baseText("personalizationModal.howBigIsYourCompany"),placeholder:this.$locale.baseText("personalizationModal.select"),options:[{label:this.$locale.baseText("personalizationModal.lessThan20People"),value:EP},{label:`20-99 ${this.$locale.baseText("personalizationModal.people")}`,value:xP},{label:`100-499 ${this.$locale.baseText("personalizationModal.people")}`,value:CP},{label:`500-999 ${this.$locale.baseText("personalizationModal.people")}`,value:Xm},{label:`1000+ ${this.$locale.baseText("personalizationModal.people")}`,value:Km},{label:this.$locale.baseText("personalizationModal.imNotUsingN8nForWork"),value:OP}]},shouldDisplay(t){return t[Us]!==un}},{name:pw,properties:{type:"select",label:this.$locale.baseText("personalizationModal.howDidYouHearAboutN8n"),placeholder:this.$locale.baseText("personalizationModal.select"),options:[{label:"Google",value:VP},{label:"Twitter",value:UP},{label:"LinkedIn",value:WP},{label:"YouTube",value:jP},{label:this.$locale.baseText("personalizationModal.friendWordOfMouth"),value:qP},{label:this.$locale.baseText("personalizationModal.podcast"),value:zP},{label:this.$locale.baseText("personalizationModal.event"),value:HP},{label:this.$locale.baseText("personalizationModal.otherPleaseSpecify"),value:hw}]}},{name:RP,properties:{placeholder:this.$locale.baseText("personalizationModal.specifyReportedSource")},shouldDisplay(t){return t[pw]===hw}}]}},methods:{closeDialog(){this.modalBus.emit("close"),this.$route.name!==ee.NEW_WORKFLOW&&this.$router.replace({name:ee.NEW_WORKFLOW})},onSave(){this.formBus.emit("submit")},async onSubmit(e){this.isSaving=!0;try{const t={...e,version:Gte,personalization_survey_submitted_at:new Date().toISOString(),personalization_survey_n8n_version:this.rootStore.versionCli};await this.$externalHooks().run("personalizationModal.onSubmit",t),await this.usersStore.submitPersonalizationSurvey(t),this.posthogStore.setMetadata(t,"user"),Object.keys(e).length===0&&this.closeDialog(),await this.fetchOnboardingPrompt()}catch(t){this.showError(t,"Error while submitting results")}this.isSaving=!1,this.closeDialog()},async fetchOnboardingPrompt(){if(this.settingsStore.onboardingCallPromptEnabled&&DS(this.usersStore.currentUser||{})<=PT){const e=await this.uiStore.getNextOnboardingPrompt(),t=e.toast_sequence_number===1?IT:1e3;e.title&&e.description&&setTimeout(async()=>{this.showToast({type:"info",title:e.title,message:e.description,duration:0,customClass:"clickable",closeOnClick:!0,onClick:()=>{this.$telemetry.track("user clicked onboarding toast",{seq_num:e.toast_sequence_number,title:e.title,description:e.description}),this.uiStore.openModal(pl)}})},t)}}}}),Xte="_container_1n08t_5",Kte={container:Xte};function Jte(e,t,s,n,o,i){const r=E("n8n-form-inputs"),l=E("n8n-button"),m=E("Modal");return y(),R(m,{name:e.PERSONALIZATION_MODAL_KEY,title:e.$locale.baseText("personalizationModal.customizeN8n"),subtitle:e.$locale.baseText("personalizationModal.theseQuestionsHelpUs"),centerTitle:!0,showClose:!1,eventBus:e.modalBus,closeOnClickModal:!1,closeOnPressEscape:!1,width:"460px","data-test-id":"personalization-form",onEnter:e.onSave},{content:v(()=>[D("div",{class:$(e.$style.container)},[b(r,{inputs:e.survey,columnView:!0,eventBus:e.formBus,teleported:e.teleported,tagSize:"small",onSubmit:e.onSubmit},null,8,["inputs","eventBus","teleported","onSubmit"])],2)]),footer:v(()=>[D("div",null,[b(l,{onClick:e.onSave,loading:e.isSaving,label:e.$locale.baseText("personalizationModal.getStarted"),float:"right"},null,8,["onClick","loading","label"])])]),_:1},8,["name","title","subtitle","eventBus","onEnter"])}const Zte={$style:Kte},ese=te(Yte,[["render",Jte],["__cssModules",Zte]]),tse=J({props:{disabled:{default:!1},search:{default:""}},data(){return{maxLength:qm}},methods:{onAddNew(){this.$emit("createEnable")},onSearchChange(e){this.$emit("searchChange",e)}}});function sse(e,t,s,n,o,i){const r=E("font-awesome-icon"),l=E("n8n-input"),m=E("el-col"),c=E("n8n-button"),h=E("el-row");return y(),R(h,{class:"tags-header"},{default:v(()=>[b(m,{span:10},{default:v(()=>[b(l,{placeholder:e.$locale.baseText("tagsTableHeader.searchTags"),modelValue:e.search,disabled:e.disabled,maxlength:e.maxLength,clearable:"","onUpdate:modelValue":e.onSearchChange},{prefix:v(()=>[b(r,{icon:"search"})]),_:1},8,["placeholder","modelValue","disabled","maxlength","onUpdate:modelValue"])]),_:1}),b(m,{span:14},{default:v(()=>[b(c,{onClick:e.onAddNew,disabled:e.disabled,icon:"plus",label:e.$locale.baseText("tagsTableHeader.addNew"),size:"large",float:"right"},null,8,["onClick","disabled","label"])]),_:1})]),_:1})}const nse=te(tse,[["render",sse],["__scopeId","data-v-bb14f1f1"]]),ose=350,ise=100,rse=J({name:"TagsTable",props:["rows","isLoading","newName","isSaving"],data(){return{maxLength:qm}},mounted(){this.rows.length===1&&this.rows[0].create&&this.focusOnInput()},methods:{getRowClasses:({row:e})=>e.disable?"disabled":"",getSpan({row:e,columnIndex:t}){return t===0&&e.tag&&e.delete?[1,2]:t===1&&e.tag&&e.delete?[0,0]:1},enableUpdate(e){e.tag&&(this.$emit("updateEnable",e.tag.id),this.$emit("newNameChange",e.tag.name),this.focusOnInput())},enableDelete(e){e.tag&&(this.$emit("deleteEnable",e.tag.id),this.focusOnDelete())},cancel(){this.$emit("cancelOperation")},apply(){this.$emit("applyOperation")},onNewNameChange(e){this.$emit("newNameChange",e)},focusOnInput(){setTimeout(()=>{const e=this.$refs.nameInput;e&&e.focus&&e.focus()},ose)},focusOnDelete(){setTimeout(()=>{const e=this.$refs.deleteHiddenInput;e&&e.focus&&e.focus()},ise)},focusOnCreate(){const e=this.$refs.table.$refs.bodyWrapper;e&&(e.scrollTop=0),this.focusOnInput()}},watch:{rows(e){e&&e[0]&&e[0].create&&this.focusOnCreate()}}});const ase={key:1},lse={ref:"deleteHiddenInput",class:"hidden"},use={key:0,class:"ops"},cse={key:1,class:"ops"},dse={key:2,class:"ops"},pse={key:3,class:"ops main"};function hse(e,t,s,n,o,i){const r=E("n8n-input"),l=E("el-table-column"),m=E("n8n-button"),c=E("n8n-icon-button"),h=E("el-table"),p=Ls("loading");return He((y(),R(h,{class:"tags-table",stripe:"","max-height":"450",ref:"table","empty-text":e.$locale.baseText("tagsTable.noMatchingTagsExist"),data:e.rows,"span-method":e.getSpan,"row-class-name":e.getRowClasses},{default:v(()=>[b(l,{label:e.$locale.baseText("tagsTable.name")},{default:v(g=>[(y(),P("div",{class:"name",key:g.row.id,onKeydown:t[0]||(t[0]=Qe(()=>{},["stop"]))},[b(Sa,{name:"fade",mode:"out-in"},{default:v(()=>[g.row.create||g.row.update?(y(),R(r,{key:0,modelValue:e.newName,maxlength:e.maxLength,"onUpdate:modelValue":e.onNewNameChange,ref:"nameInput"},null,8,["modelValue","maxlength","onUpdate:modelValue"])):g.row.delete?(y(),P("span",ase,[D("span",null,N(e.$locale.baseText("tagsTable.areYouSureYouWantToDeleteThisTag")),1),D("input",lse,null,512)])):(y(),P("span",{key:2,class:$({disabled:g.row.disable})},N(g.row.tag.name),3))]),_:2},1024)],32))]),_:1},8,["label"]),b(l,{label:e.$locale.baseText("tagsTable.usage"),width:"150"},{default:v(g=>[b(Sa,{name:"fade",mode:"out-in"},{default:v(()=>[!g.row.create&&!g.row.delete?(y(),P("div",{key:0,class:$({disabled:g.row.disable})},N(g.row.usage),3)):W("",!0)]),_:2},1024)]),_:1},8,["label"]),b(l,null,{default:v(g=>[b(Sa,{name:"fade",mode:"out-in"},{default:v(()=>[g.row.create?(y(),P("div",use,[b(m,{label:e.$locale.baseText("tagsTable.cancel"),onClick:Qe(e.cancel,["stop"]),type:"secondary",disabled:e.isSaving},null,8,["label","onClick","disabled"]),b(m,{label:e.$locale.baseText("tagsTable.createTag"),onClick:Qe(e.apply,["stop"]),loading:e.isSaving},null,8,["label","onClick","loading"])])):g.row.update?(y(),P("div",cse,[b(m,{label:e.$locale.baseText("tagsTable.cancel"),onClick:Qe(e.cancel,["stop"]),type:"secondary",disabled:e.isSaving},null,8,["label","onClick","disabled"]),b(m,{label:e.$locale.baseText("tagsTable.saveChanges"),onClick:Qe(e.apply,["stop"]),loading:e.isSaving},null,8,["label","onClick","loading"])])):g.row.delete?(y(),P("div",dse,[b(m,{label:e.$locale.baseText("tagsTable.cancel"),onClick:Qe(e.cancel,["stop"]),type:"secondary",disabled:e.isSaving},null,8,["label","onClick","disabled"]),b(m,{label:e.$locale.baseText("tagsTable.deleteTag"),onClick:Qe(e.apply,["stop"]),loading:e.isSaving},null,8,["label","onClick","loading"])])):g.row.disable?W("",!0):(y(),P("div",pse,[b(c,{title:e.$locale.baseText("tagsTable.editTag"),onClick:Qe(w=>e.enableUpdate(g.row),["stop"]),icon:"pen","data-test-id":"edit-tag-button"},null,8,["title","onClick"]),g.row.canDelete?(y(),R(c,{key:0,title:e.$locale.baseText("tagsTable.deleteTag"),onClick:Qe(w=>e.enableDelete(g.row),["stop"]),icon:"trash","data-test-id":"delete-tag-button"},null,8,["title","onClick"])):W("",!0)]))]),_:2},1024)]),_:1})]),_:1},8,["empty-text","data","span-method","row-class-name"])),[[p,e.isLoading]])}const mse=te(rse,[["render",hse],["__scopeId","data-v-4e9f2486"]]),fse=(e,t)=>e.toLowerCase().trim().includes(t.toLowerCase().trim()),gse=J({name:"TagsView",components:{TagsTableHeader:nse,TagsTable:mse},props:["tags","isLoading"],data(){return{createEnabled:!1,deleteId:"",updateId:"",search:"",newName:"",stickyIds:new Set,isSaving:!1}},computed:{...be(Ge),isCreateEnabled(){return(this.tags||[]).length===0||this.createEnabled},rows(){const e=n=>n&&n>0?this.$locale.baseText("tagsView.inUse",{adjustToNumber:n}):this.$locale.baseText("tagsView.notBeingUsed"),t=this.isCreateEnabled||this.updateId||this.deleteId,s=(this.tags||[]).filter(n=>this.stickyIds.has(n.id)||fse(n.name,this.search)).map(n=>({tag:n,usage:e(n.usageCount),disable:t&&n.id!==this.deleteId&&n.id!==this.updateId,update:t&&n.id===this.updateId,delete:t&&n.id===this.deleteId,canDelete:this.usersStore.canUserDeleteTags}));return this.isCreateEnabled?[{create:!0},...s]:s}},methods:{onNewNameChange(e){this.newName=e},onSearchChange(e){this.stickyIds.clear(),this.search=e},isHeaderDisabled(){return this.isLoading||!!(this.isCreateEnabled||this.updateId||this.deleteId)},onUpdateEnable(e){this.updateId=e},disableUpdate(){this.updateId="",this.newName=""},updateTag(){this.isSaving=!0;const e=this.newName.trim(),t=s=>{this.isSaving=!1,s&&(this.stickyIds.add(this.updateId),this.disableUpdate())};this.$emit("update",this.updateId,e,t)},onDeleteEnable(e){this.deleteId=e},disableDelete(){this.deleteId=""},deleteTag(){this.isSaving=!0;const e=t=>{t&&this.disableDelete(),this.isSaving=!1};this.$emit("delete",this.deleteId,e)},onCreateEnable(){this.createEnabled=!0,this.newName=""},disableCreate(){this.createEnabled=!1,this.$emit("disableCreate")},createTag(){this.isSaving=!0;const e=this.newName.trim(),t=(s,n)=>{s&&(this.stickyIds.add(s.id),this.disableCreate()),this.isSaving=!1};this.$emit("create",e,t)},applyOperation(){this.isSaving||(this.isCreateEnabled?this.createTag():this.updateId?this.updateTag():this.deleteId&&this.deleteTag())},cancelOperation(){this.isSaving||(this.isCreateEnabled?this.disableCreate():this.updateId?this.disableUpdate():this.deleteId&&this.disableDelete())}}});function yse(e,t,s,n,o,i){const r=E("TagsTableHeader"),l=E("TagsTable");return y(),P("div",{onKeyup:[t[0]||(t[0]=Ts((...m)=>e.applyOperation&&e.applyOperation(...m),["enter"])),t[1]||(t[1]=Ts((...m)=>e.cancelOperation&&e.cancelOperation(...m),["esc"]))]},[b(r,{search:e.search,disabled:e.isHeaderDisabled(),onSearchChange:e.onSearchChange,onCreateEnable:e.onCreateEnable},null,8,["search","disabled","onSearchChange","onCreateEnable"]),b(l,{rows:e.rows,isLoading:e.isLoading,isSaving:e.isSaving,newName:e.newName,onNewNameChange:e.onNewNameChange,onUpdateEnable:e.onUpdateEnable,onDeleteEnable:e.onDeleteEnable,onCancelOperation:e.cancelOperation,onApplyOperation:e.applyOperation,ref:"tagsTable","data-test-id":"tags-table"},null,8,["rows","isLoading","isSaving","newName","onNewNameChange","onUpdateEnable","onDeleteEnable","onCancelOperation","onApplyOperation"])],32)}const wse=te(gse,[["render",yse]]),bse=J({name:"NoTagsView"});const vse=e=>(_c("data-v-6fd9b73f"),e=e(),Pc(),e),Tse={class:"container"},Sse=vse(()=>D("div",{class:"icon"},"🗄️",-1)),kse={class:"headline"},Ese={class:"description"};function xse(e,t,s,n,o,i){const r=E("n8n-button"),l=E("el-col");return y(),P("div",Tse,[b(l,{class:"notags",span:16},{default:v(()=>[Sse,D("div",null,[D("div",kse,N(e.$locale.baseText("noTagsView.readyToOrganizeYourWorkflows")),1),D("div",Ese,N(e.$locale.baseText("noTagsView.withWorkflowTagsYouReFree")),1)]),b(r,{label:"Create a tag",size:"large",onClick:t[0]||(t[0]=m=>e.$emit("enableCreate"))})]),_:1})])}const Cse=te(bse,[["render",xse],["__scopeId","data-v-6fd9b73f"]]),Ose=J({name:"TagsManager",setup(){return{...je()}},created(){this.tagsStore.fetchAll({force:!0,withUsageCount:!0})},data(){return{tagIds:yi().allTags.map(t=>t.id),isCreating:!1,modalBus:Ze(),TAGS_MANAGER_MODAL_KEY:qc}},components:{TagsView:wse,NoTagsView:Cse,Modal:Mt},computed:{...be(yi),isLoading(){return this.tagsStore.isLoading},tags(){return this.tagIds.map(e=>this.tagsStore.getTagById(e)).filter(Boolean)},hasTags(){return this.tags.length>0}},methods:{onEnableCreate(){this.isCreating=!0},onDisableCreate(){this.isCreating=!1},async onCreate(e,t){try{if(!e)throw new Error(this.$locale.baseText("tagsManager.tagNameCannotBeEmpty"));const s=await this.tagsStore.create(e);this.tagIds=[s.id].concat(this.tagIds),t(s)}catch(s){const n=escape(e);this.showError(s,this.$locale.baseText("tagsManager.showError.onCreate.title"),this.$locale.baseText("tagsManager.showError.onCreate.message",{interpolate:{escapedName:n}})+":"),t(null,s)}},async onUpdate(e,t,s){const o=this.tagsStore.getTagById(e).name;try{if(!t)throw new Error(this.$locale.baseText("tagsManager.tagNameCannotBeEmpty"));if(t===o){s(!0);return}const i=await this.tagsStore.rename({id:e,name:t});s(!!i),this.showMessage({title:this.$locale.baseText("tagsManager.showMessage.onUpdate.title"),type:"success"})}catch(i){const r=escape(o);this.showError(i,this.$locale.baseText("tagsManager.showError.onUpdate.title"),this.$locale.baseText("tagsManager.showError.onUpdate.message",{interpolate:{escapedName:r}})+":"),s(!1,i)}},async onDelete(e,t){const n=this.tagsStore.getTagById(e).name;try{const o=await this.tagsStore.delete(e);if(!o)throw new Error(this.$locale.baseText("tagsManager.couldNotDeleteTag"));this.tagIds=this.tagIds.filter(i=>i!==e),t(o),this.showMessage({title:this.$locale.baseText("tagsManager.showMessage.onDelete.title"),type:"success"})}catch(o){const i=escape(n);this.showError(o,this.$locale.baseText("tagsManager.showError.onDelete.title"),this.$locale.baseText("tagsManager.showError.onDelete.message",{interpolate:{escapedName:i}})+":"),t(!1,o)}},onEnter(){this.isLoading||(this.hasTags?this.modalBus.emit("close"):this.onEnableCreate())}}});function Dse(e,t,s,n,o,i){const r=E("TagsView"),l=E("NoTagsView"),m=E("el-row"),c=E("n8n-button"),h=E("Modal");return y(),R(h,{id:"tags-manager-modal",title:e.$locale.baseText("tagsManager.manageTags"),name:e.TAGS_MANAGER_MODAL_KEY,eventBus:e.modalBus,onEnter:e.onEnter,minWidth:"620px",minHeight:"420px"},{content:v(()=>[b(m,null,{default:v(()=>[e.hasTags||e.isCreating?(y(),R(r,{key:0,isLoading:e.isLoading,tags:e.tags,onCreate:e.onCreate,onUpdate:e.onUpdate,onDelete:e.onDelete,onDisableCreate:e.onDisableCreate},null,8,["isLoading","tags","onCreate","onUpdate","onDelete","onDisableCreate"])):(y(),R(l,{key:1,onEnableCreate:e.onEnableCreate},null,8,["onEnableCreate"]))]),_:1})]),footer:v(({close:p})=>[b(c,{label:e.$locale.baseText("tagsManager.done"),onClick:p,float:"right"},null,8,["label","onClick"])]),_:1},8,["title","name","eventBus","onEnter"])}const Ase=te(Ose,[["render",Dse]]),$se=J({name:"ModalDrawer",components:{ElDrawer:hD},props:{name:{type:String},beforeClose:{type:Function},eventBus:{type:Object},direction:{type:String,required:!0},modal:{type:Boolean,default:!0},width:{type:String},wrapperClosable:{type:Boolean,default:!0}},mounted(){var t;window.addEventListener("keydown",this.onWindowKeydown),(t=this.eventBus)==null||t.on("close",this.close);const e=document.activeElement;e&&e.blur()},beforeUnmount(){var e;(e=this.eventBus)==null||e.off("close",this.close),window.removeEventListener("keydown",this.onWindowKeydown)},computed:{...be(Ee)},methods:{onWindowKeydown(e){this.uiStore.isModalActive(this.name)&&e&&e.keyCode===13&&this.handleEnter()},handleEnter(){this.uiStore.isModalActive(this.name)&&this.$emit("enter")},async close(){this.beforeClose&&await this.beforeClose()===!1||this.uiStore.closeModal(this.name)}}});function Nse(e,t,s,n,o,i){const r=E("el-drawer");return y(),R(r,{direction:e.direction,modelValue:e.uiStore.isModalOpen(this.name),size:e.width,"before-close":e.close,modal:e.modal,wrapperClosable:e.wrapperClosable},{header:v(()=>[Ke(e.$slots,"header")]),default:v(()=>[D("span",{onKeydown:t[0]||(t[0]=Qe(()=>{},["stop"]))},[Ke(e.$slots,"content")],32)]),_:3},8,["direction","modelValue","size","before-close","modal","wrapperClosable"])}const R0=te($se,[["render",Nse]]),_se={props:["text","type"]},Pse="_badge_umgei_5",Ise="_danger_umgei_15 _badge_umgei_5",Mse="_warning_umgei_22 _badge_umgei_5",Lse={badge:Pse,danger:Ise,warning:Mse};function Fse(e,t,s,n,o,i){const r=E("el-tag");return s.type==="danger"?(y(),R(r,{key:0,type:"danger",size:"small",class:$(e.$style.danger),"disable-transitions":!0},{default:v(()=>[V(N(s.text),1)]),_:1},8,["class"])):s.type==="warning"?(y(),R(r,{key:1,size:"small",class:$(e.$style.warning),"disable-transitions":!0},{default:v(()=>[V(N(s.text),1)]),_:1},8,["class"])):W("",!0)}const Bse={$style:Lse},Rse=te(_se,[["render",Fse],["__cssModules",Bse]]),Vse="_icon_keahr_5",Use={icon:Vse},Wse={};function jse(e,t){const s=E("font-awesome-icon"),n=E("n8n-tooltip");return y(),P("span",null,[b(n,{content:" ",placement:"top"},{content:v(()=>[Ke(e.$slots,"default")]),default:v(()=>[b(s,{class:$(e.$style.icon),icon:"exclamation-triangle"},null,8,["class"])]),_:3})])}const qse={$style:Use},zse=te(Wse,[["render",jse],["__cssModules",qse]]),Hse=J({name:"VersionCard",components:{NodeIcon:Di,TimeAgo:Vi,Badge:Rse,WarningTooltip:zse},props:{version:{type:Object,required:!0}},nodeName(e){return e!==null?e.displayName:this.$locale.baseText("versionCard.unknown")}}),Qse="_card_43khx_5",Gse="_header_43khx_17",Yse="_name_43khx_32",Xse="_divider_43khx_39",Kse="_description_43khx_45",Jse="_nodes_43khx_59",Zse={card:Qse,header:Gse,name:Yse,divider:Xse,description:Kse,"release-date":"_release-date_43khx_52",nodes:Jse},ene=["href"],tne=["innerHTML"],sne=["innerHTML"];function nne(e,t,s,n,o,i){const r=E("WarningTooltip"),l=E("Badge"),m=E("TimeAgo"),c=E("NodeIcon");return e.version?(y(),P("a",{key:0,href:e.version.documentationUrl,target:"_blank",class:$(e.$style.card)},[D("div",{class:$(e.$style.header)},[D("div",null,[D("div",{class:$(e.$style.name)},N(`${e.$locale.baseText("versionCard.version")} ${e.version.name}`),3),e.version.hasSecurityIssue?(y(),R(r,{key:0},{default:v(()=>[D("span",{innerHTML:e.$locale.baseText("versionCard.thisVersionHasASecurityIssue")},null,8,tne)]),_:1})):W("",!0),e.version.hasSecurityFix?(y(),R(l,{key:1,text:e.$locale.baseText("versionCard.securityUpdate"),type:"danger"},null,8,["text"])):W("",!0),e.version.hasBreakingChange?(y(),R(l,{key:2,text:e.$locale.baseText("versionCard.breakingChanges"),type:"warning"},null,8,["text"])):W("",!0)]),D("div",{class:$(e.$style["release-date"])},[V(N(e.$locale.baseText("versionCard.released"))+" ",1),b(m,{date:e.version.createdAt},null,8,["date"])],2)],2),e.version.description||e.version.nodes&&e.version.nodes.length?(y(),P("div",{key:0,class:$(e.$style.divider)},null,2)):W("",!0),D("div",null,[e.version.description?(y(),P("div",{key:0,innerHTML:e.version.description,class:$(e.$style.description)},null,10,sne)):W("",!0),e.version.nodes&&e.version.nodes.length>0?(y(),P("div",{key:1,class:$(e.$style.nodes)},[(y(!0),P(Ie,null,Re(e.version.nodes,h=>(y(),R(c,{key:h.name,nodeType:h,title:e.$options.nodeName(h)},null,8,["nodeType","title"]))),128))],2)):W("",!0)])],10,ene)):W("",!0)}const one={$style:Zse},ine=te(Hse,[["render",nne],["__cssModules",one]]),rne=J({name:"UpdatesPanel",components:{ModalDrawer:R0,VersionCard:ine,TimeAgo:Vi},computed:{...be(Kc),nextVersions(){return this.versionsStore.nextVersions},currentVersion(){return this.versionsStore.currentVersion},infoUrl(){return this.versionsStore.infoUrl}},data(){return{VERSIONS_MODAL_KEY:gi}}}),ane="_title_1nrb8_5",lne="_description_1nrb8_13",une="_versions_1nrb8_29",cne={title:ane,description:lne,versions:une,"versions-card":"_versions-card_1nrb8_38"},dne={key:0};function pne(e,t,s,n,o,i){const r=E("TimeAgo"),l=E("font-awesome-icon"),m=E("n8n-link"),c=E("VersionCard"),h=E("ModalDrawer");return y(),R(h,{name:e.VERSIONS_MODAL_KEY,direction:"ltr",width:"520px"},{header:v(()=>[D("span",{class:$(e.$style.title)},N(e.$locale.baseText("updatesPanel.weVeBeenBusy")),3)]),content:v(()=>[D("section",{class:$(e.$style.description)},[e.currentVersion?(y(),P("p",dne,[V(N(e.$locale.baseText("updatesPanel.youReOnVersion",{interpolate:{currentVersionName:e.currentVersion.name}}))+" ",1),D("strong",null,[b(r,{date:e.currentVersion.createdAt},null,8,["date"])]),V(" "+N(e.$locale.baseText("updatesPanel.andIs"))+" ",1),D("strong",null,N(e.$locale.baseText("updatesPanel.version",{interpolate:{numberOfVersions:e.nextVersions.length,howManySuffix:e.nextVersions.length>1?"s":""}})),1),V(" "+N(e.$locale.baseText("updatesPanel.behindTheLatest")),1)])):W("",!0),e.infoUrl?(y(),R(m,{key:1,to:e.infoUrl,bold:!0},{default:v(()=>[b(l,{icon:"info-circle"}),D("span",null,N(e.$locale.baseText("updatesPanel.howToUpdateYourN8nVersion")),1)]),_:1},8,["to"])):W("",!0)],2),D("section",{class:$(e.$style.versions)},[(y(!0),P(Ie,null,Re(e.nextVersions,p=>(y(),P("div",{key:p.name,class:$(e.$style["versions-card"])},[b(c,{version:p},null,8,["version"])],2))),128))],2)]),_:1},8,["name"])}const hne={$style:cne},mne=te(rne,[["render",pne],["__cssModules",hne]]),fne="How likely are you to recommend n8n to a friend or colleague?",gne="Great to hear! Can we reach out to see how we can make n8n even better for you?",yne="Thanks for your feedback! We'd love to understand how we can improve. Can we reach out?",wne=J({name:"ValueSurvey",mixins:[ut],props:["isActive"],components:{ModalDrawer:R0},setup(){return{...je()}},watch:{isActive(e){e&&this.$telemetry.track("User shown value survey",{instance_id:this.rootStore.instanceId})}},computed:{...be(fe,Le),getTitle(){return this.form.value!==""?Number(this.form.value)>7?gne:yne:fne},isEmailValid(){return Gc.test(String(this.form.email).toLowerCase())}},data(){return{form:{email:"",value:""},showButtons:!0,VALUE_SURVEY_MODAL_KEY:Hc,modalBus:Ze()}},methods:{closeDialog(){this.form.value===""&&this.$telemetry.track("User responded value survey score",{instance_id:this.rootStore.instanceId,nps:""}),this.form.value!==""&&this.form.email===""&&this.$telemetry.track("User responded value survey email",{instance_id:this.rootStore.instanceId,email:""})},onInputChange(e){this.form.email=e},async selectSurveyValue(e){this.form.value=e,this.showButtons=!1;const t=await this.settingsStore.submitValueSurvey({value:this.form.value});t&&t.updated&&this.$telemetry.track("User responded value survey score",{instance_id:this.rootStore.instanceId,nps:this.form.value})},async send(){if(this.isEmailValid){const e=await this.settingsStore.submitValueSurvey({email:this.form.email,value:this.form.value});e&&e.updated&&(this.$telemetry.track("User responded value survey email",{instance_id:this.rootStore.instanceId,email:this.form.email}),this.showMessage({title:"Thanks for your feedback",message:'If you’d like to help even more, leave us a <a target="_blank" href="https://www.g2.com/products/n8n/reviews/start">review on G2</a>.',type:"success",duration:15e3})),setTimeout(()=>{this.form.value="",this.form.email="",this.showButtons=!0},1e3),this.modalBus.emit("close")}}}}),bne="_title_1enzv_5",vne="_content_1enzv_16",Tne="_wrapper_1enzv_26",Sne="_buttons_1enzv_31",kne="_container_1enzv_35",Ene="_text_1enzv_50",xne="_input_1enzv_56",Cne="_button_1enzv_31",One="_disclaimer_1enzv_65",Dne="_valueSurvey_1enzv_69",Ane={title:bne,content:vne,wrapper:Tne,buttons:Sne,container:kne,text:Ene,input:xne,button:Cne,disclaimer:One,valueSurvey:Dne};function $ne(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-button"),m=E("n8n-text"),c=E("n8n-input"),h=E("ModalDrawer");return y(),R(h,{name:e.VALUE_SURVEY_MODAL_KEY,eventBus:e.modalBus,beforeClose:e.closeDialog,modal:!1,wrapperClosable:!1,direction:"btt",width:"120px",class:$(e.$style.valueSurvey)},{header:v(()=>[D("div",{class:$(e.$style.title)},[b(r,{tag:"h2",size:"medium",color:"text-xlight"},{default:v(()=>[V(N(e.getTitle),1)]),_:1})],2)]),content:v(()=>[D("section",{class:$(e.$style.content)},[e.showButtons?(y(),P("div",{key:0,class:$(e.$style.wrapper)},[D("div",{class:$(e.$style.buttons)},[(y(),P(Ie,null,Re(11,p=>D("div",{key:p-1,class:$(e.$style.container)},[b(l,{type:"tertiary",label:(p-1).toString(),onClick:g=>e.selectSurveyValue((p-1).toString()),square:""},null,8,["label","onClick"])],2)),64))],2),D("div",{class:$(e.$style.text)},[b(m,{size:"small",color:"text-xlight"},{default:v(()=>[V("Not likely")]),_:1}),b(m,{size:"small",color:"text-xlight"},{default:v(()=>[V("Very likely")]),_:1})],2)],2)):(y(),P("div",{key:1,class:$(e.$style.email)},[D("div",{class:$(e.$style.input),onKeyup:t[1]||(t[1]=Ts((...p)=>e.send&&e.send(...p),["enter"]))},[b(c,{modelValue:e.form.email,"onUpdate:modelValue":[t[0]||(t[0]=p=>e.form.email=p),e.onInputChange],placeholder:"Your email address"},null,8,["modelValue","onUpdate:modelValue"]),D("div",{class:$(e.$style.button)},[b(l,{label:"Send",float:"right",onClick:e.send,disabled:!e.isEmailValid},null,8,["onClick","disabled"])],2)],34),D("div",{class:$(e.$style.disclaimer)},[b(m,{size:"small",color:"text-xlight"},{default:v(()=>[V(" David from our product team will get in touch personally ")]),_:1})],2)],2))],2)]),_:1},8,["name","eventBus","beforeClose","class"])}const Nne={$style:Ane},_ne=te(wne,[["render",$ne],["__cssModules",Nne]]),Pne=J({name:"WorkflowSettings",mixins:[Ft,Nt],components:{Modal:Mt},setup(){return{...je()}},data(){return{isLoading:!0,helpTexts:{errorWorkflow:this.$locale.baseText("workflowSettings.helpTexts.errorWorkflow"),timezone:this.$locale.baseText("workflowSettings.helpTexts.timezone"),saveDataErrorExecution:this.$locale.baseText("workflowSettings.helpTexts.saveDataErrorExecution"),saveDataSuccessExecution:this.$locale.baseText("workflowSettings.helpTexts.saveDataSuccessExecution"),saveExecutionProgress:this.$locale.baseText("workflowSettings.helpTexts.saveExecutionProgress"),saveManualExecutions:this.$locale.baseText("workflowSettings.helpTexts.saveManualExecutions"),executionTimeoutToggle:this.$locale.baseText("workflowSettings.helpTexts.executionTimeoutToggle"),executionTimeout:this.$locale.baseText("workflowSettings.helpTexts.executionTimeout"),workflowCallerPolicy:this.$locale.baseText("workflowSettings.helpTexts.workflowCallerPolicy"),workflowCallerIds:this.$locale.baseText("workflowSettings.helpTexts.workflowCallerIds")},defaultValues:{timezone:"America/New_York",saveDataErrorExecution:"all",saveDataSuccessExecution:"all",saveExecutionProgress:!1,saveManualExecutions:!1,workflowCallerPolicy:"workflowsFromSameOwner"},workflowCallerPolicyOptions:[],saveDataErrorExecutionOptions:[],saveDataSuccessExecutionOptions:[],saveExecutionProgressOptions:[],saveManualOptions:[],executionOrderOptions:[{key:"v0",value:"v0 (legacy)"},{key:"v1",value:"v1 (recommended)"}],timezones:[],workflowSettings:{},workflows:[],executionOrder:"v0",executionTimeout:0,maxExecutionTimeout:0,timeoutHMS:{hours:0,minutes:0,seconds:0},modalBus:Ze(),WORKFLOW_SETTINGS_MODAL_KEY:Pn}},computed:{...be(fe,Ge,Le,_e,yl),workflowName(){return this.workflowsStore.workflowName},workflowId(){return this.workflowsStore.workflowId},workflow(){return this.workflowsStore.workflow},currentUser(){return this.usersStore.currentUser},isSharingEnabled(){return this.settingsStore.isEnterpriseFeatureEnabled(ot.Sharing)},workflowOwnerName(){const e=this.$locale.baseText("workflowSettings.callerPolicy.options.workflowsFromSameOwner.fallback");return this.workflowsEEStore.getWorkflowOwnerName(`${this.workflowId}`,e)}},async mounted(){if(this.executionTimeout=this.rootStore.executionTimeout,this.maxExecutionTimeout=this.rootStore.maxExecutionTimeout,!this.workflowId||this.workflowId===lt){this.showMessage({title:"No workflow active",message:"No workflow active to display settings of.",type:"error",duration:0}),this.closeDialog();return}this.defaultValues.saveDataErrorExecution=this.settingsStore.saveDataErrorExecution,this.defaultValues.saveDataSuccessExecution=this.settingsStore.saveDataSuccessExecution,this.defaultValues.saveManualExecutions=this.settingsStore.saveManualExecutions,this.defaultValues.timezone=this.rootStore.timezone,this.defaultValues.workflowCallerPolicy=this.settingsStore.workflowCallerPolicyDefaultOption,this.isLoading=!0;const e=[];e.push(this.loadWorkflows()),e.push(this.loadSaveDataErrorExecutionOptions()),e.push(this.loadSaveDataSuccessExecutionOptions()),e.push(this.loadSaveExecutionProgressOptions()),e.push(this.loadSaveManualOptions()),e.push(this.loadTimezones()),e.push(this.loadWorkflowCallerPolicyOptions());try{await Promise.all(e)}catch(s){this.showError(s,"Problem loading settings","The following error occurred loading the data:")}const t=at(this.workflowsStore.workflowSettings);t.timezone===void 0&&(t.timezone="DEFAULT"),t.saveDataErrorExecution===void 0&&(t.saveDataErrorExecution="DEFAULT"),t.saveDataSuccessExecution===void 0&&(t.saveDataSuccessExecution="DEFAULT"),t.saveExecutionProgress===void 0&&(t.saveExecutionProgress="DEFAULT"),t.saveManualExecutions===void 0&&(t.saveManualExecutions=this.defaultValues.saveManualExecutions),t.callerPolicy===void 0&&(t.callerPolicy=this.defaultValues.workflowCallerPolicy),t.executionTimeout===void 0&&(t.executionTimeout=this.rootStore.executionTimeout),t.maxExecutionTimeout===void 0&&(t.maxExecutionTimeout=this.rootStore.maxExecutionTimeout),t.executionOrder===void 0&&(t.executionOrder="v0"),this.workflowSettings=t,this.timeoutHMS=this.convertToHMS(t.executionTimeout),this.isLoading=!1,this.$externalHooks().run("workflowSettings.dialogVisibleChanged",{dialogVisible:!0}),this.$telemetry.track("User opened workflow settings",{workflow_id:this.workflowsStore.workflowId})},methods:{onCallerIdsInput(e){this.workflowSettings.callerIds=/^[0-9,\s]+$/.test(e)?e:e.replace(/[^0-9,\s]/g,"")},closeDialog(){this.modalBus.emit("close"),this.$externalHooks().run("workflowSettings.dialogVisibleChanged",{dialogVisible:!1})},setTimeout(e,t){const s=t?parseInt(t,10):0;this.timeoutHMS={...this.timeoutHMS,[e]:s}},async loadWorkflowCallerPolicyOptions(){var t,s;const e=((t=this.workflow.ownedBy)==null?void 0:t.id)===((s=this.currentUser)==null?void 0:s.id);this.workflowCallerPolicyOptions=[{key:"none",value:this.$locale.baseText("workflowSettings.callerPolicy.options.none")},{key:"workflowsFromSameOwner",value:this.$locale.baseText("workflowSettings.callerPolicy.options.workflowsFromSameOwner",{interpolate:{owner:e?this.$locale.baseText("workflowSettings.callerPolicy.options.workflowsFromSameOwner.owner"):this.workflowOwnerName}})},{key:"workflowsFromAList",value:this.$locale.baseText("workflowSettings.callerPolicy.options.workflowsFromAList")},{key:"any",value:this.$locale.baseText("workflowSettings.callerPolicy.options.any")}]},async loadSaveDataErrorExecutionOptions(){this.saveDataErrorExecutionOptions.length=0,this.saveDataErrorExecutionOptions.push.apply(this.saveDataErrorExecutionOptions,[{key:"DEFAULT",value:this.$locale.baseText("workflowSettings.saveDataErrorExecutionOptions.defaultSave",{interpolate:{defaultValue:this.defaultValues.saveDataErrorExecution==="all"?this.$locale.baseText("workflowSettings.saveDataErrorExecutionOptions.save"):this.$locale.baseText("workflowSettings.saveDataErrorExecutionOptions.doNotSave")}})},{key:"all",value:this.$locale.baseText("workflowSettings.saveDataErrorExecutionOptions.save")},{key:"none",value:this.$locale.baseText("workflowSettings.saveDataErrorExecutionOptions.doNotSave")}])},async loadSaveDataSuccessExecutionOptions(){this.saveDataSuccessExecutionOptions.length=0,this.saveDataSuccessExecutionOptions.push.apply(this.saveDataSuccessExecutionOptions,[{key:"DEFAULT",value:this.$locale.baseText("workflowSettings.saveDataSuccessExecutionOptions.defaultSave",{interpolate:{defaultValue:this.defaultValues.saveDataSuccessExecution==="all"?this.$locale.baseText("workflowSettings.saveDataSuccessExecutionOptions.save"):this.$locale.baseText("workflowSettings.saveDataSuccessExecutionOptions.doNotSave")}})},{key:"all",value:this.$locale.baseText("workflowSettings.saveDataSuccessExecutionOptions.save")},{key:"none",value:this.$locale.baseText("workflowSettings.saveDataSuccessExecutionOptions.doNotSave")}])},async loadSaveExecutionProgressOptions(){this.saveExecutionProgressOptions.length=0,this.saveExecutionProgressOptions.push.apply(this.saveExecutionProgressOptions,[{key:"DEFAULT",value:this.$locale.baseText("workflowSettings.saveExecutionProgressOptions.defaultSave",{interpolate:{defaultValue:this.defaultValues.saveExecutionProgress?this.$locale.baseText("workflowSettings.saveExecutionProgressOptions.yes"):this.$locale.baseText("workflowSettings.saveExecutionProgressOptions.no")}})},{key:!0,value:this.$locale.baseText("workflowSettings.saveExecutionProgressOptions.yes")},{key:!1,value:this.$locale.baseText("workflowSettings.saveExecutionProgressOptions.no")}])},async loadSaveManualOptions(){this.saveManualOptions.length=0,this.saveManualOptions.push({key:"DEFAULT",value:this.$locale.baseText("workflowSettings.saveManualOptions.defaultSave",{interpolate:{defaultValue:this.defaultValues.saveManualExecutions?this.$locale.baseText("workflowSettings.saveManualOptions.yes"):this.$locale.baseText("workflowSettings.saveManualOptions.no")}})}),this.saveManualOptions.push({key:!0,value:this.$locale.baseText("workflowSettings.saveManualOptions.yes")}),this.saveManualOptions.push({key:!1,value:this.$locale.baseText("workflowSettings.saveManualOptions.no")})},async loadTimezones(){if(this.timezones.length!==0)return;const e=await this.settingsStore.getTimezones();let t=e[this.defaultValues.timezone];t===void 0&&(t=this.$locale.baseText("workflowSettings.defaultTimezoneNotValid")),this.timezones.push({key:"DEFAULT",value:this.$locale.baseText("workflowSettings.defaultTimezone",{interpolate:{defaultTimezoneValue:t}})});for(const s of Object.keys(e))this.timezones.push({key:s,value:e[s]})},async loadWorkflows(){const e=await this.workflowsStore.fetchAllWorkflows();e.sort((t,s)=>t.name.toLowerCase()<s.name.toLowerCase()?-1:t.name.toLowerCase()>s.name.toLowerCase()?1:0),e.unshift({id:void 0,name:this.$locale.baseText("workflowSettings.noWorkflow")}),this.workflows=e},async saveSettings(){const e={settings:this.workflowSettings},{hours:t,minutes:s,seconds:n}=this.timeoutHMS;if(e.settings.executionTimeout=e.settings.executionTimeout!==-1?t*3600+s*60+n:-1,e.settings.executionTimeout===0){this.showError(new Error(this.$locale.baseText("workflowSettings.showError.saveSettings1.errorMessage")),this.$locale.baseText("workflowSettings.showError.saveSettings1.title"),this.$locale.baseText("workflowSettings.showError.saveSettings1.message")+":");return}if(e.settings.executionTimeout>this.workflowSettings.maxExecutionTimeout){const{hours:r,minutes:l,seconds:m}=this.convertToHMS(this.workflowSettings.maxExecutionTimeout);this.showError(new Error(this.$locale.baseText("workflowSettings.showError.saveSettings2.errorMessage",{interpolate:{hours:r.toString(),minutes:l.toString(),seconds:m.toString()}})),this.$locale.baseText("workflowSettings.showError.saveSettings2.title"),this.$locale.baseText("workflowSettings.showError.saveSettings2.message")+":");return}delete e.settings.maxExecutionTimeout,this.isLoading=!0,e.versionId=this.workflowsStore.workflowVersionId;try{const r=await this.workflowsStore.updateWorkflow(this.$route.params.name,e);this.workflowsStore.setWorkflowVersionId(r.versionId)}catch(r){this.showError(r,this.$locale.baseText("workflowSettings.showError.saveSettings3.title")),this.isLoading=!1;return}const o={};for(const r of Object.keys(this.workflowSettings))this.workflowSettings[r]!=="DEFAULT"&&(o[r]=this.workflowSettings[r]);const i=at(this.workflowsStore.workflowSettings);this.workflowsStore.setWorkflowSettings(o),this.isLoading=!1,this.showMessage({title:this.$locale.baseText("workflowSettings.showMessage.saveSettings.title"),type:"success"}),this.closeDialog(),this.$externalHooks().run("workflowSettings.saveSettings",{oldSettings:i}),this.$telemetry.track("User updated workflow settings",{workflow_id:this.workflowsStore.workflowId})},toggleTimeout(){this.workflowSettings.executionTimeout=this.workflowSettings.executionTimeout===-1?0:-1},convertToHMS(e){if(e>0){const t=Math.floor(e/3600),s=e%3600,n=Math.floor(s/60),o=s%60;return{hours:t,minutes:n,seconds:o}}return{hours:0,minutes:0,seconds:0}}}});const Ine={class:"workflow-settings","data-test-id":"workflow-settings-dialog"},Mne=["innerHTML"],Lne={key:0},Fne=["textContent"],Bne=["textContent"],Rne=["textContent"],Vne=["textContent"],Une=["textContent"],Wne=["textContent"],jne=["textContent"],qne=["textContent"],zne={key:1,"data-test-id":"workflow-settings-timeout-form"},Hne=["textContent"],Qne={class:"action-buttons","data-test-id":"workflow-settings-save-button"};function Gne(e,t,s,n,o,i){const r=E("el-col"),l=E("n8n-option"),m=E("n8n-select"),c=E("el-row"),h=E("font-awesome-icon"),p=E("n8n-tooltip"),g=E("n8n-input"),w=E("el-switch"),S=E("n8n-button"),k=E("Modal"),O=Ls("loading");return y(),R(k,{name:e.WORKFLOW_SETTINGS_MODAL_KEY,width:"65%",maxHeight:"80%",title:e.$locale.baseText("workflowSettings.settingsFor",{interpolate:{workflowName:e.workflowName,workflowId:e.workflowId}}),eventBus:e.modalBus,scrollable:!0},{content:v(()=>[He((y(),P("div",Ine,[b(c,null,{default:v(()=>[b(r,{span:10,class:"setting-name"},{default:v(()=>[V(N(e.$locale.baseText("workflowSettings.executionOrder")+":"),1)]),_:1}),b(r,{span:14,class:"ignore-key-press"},{default:v(()=>[b(m,{modelValue:e.workflowSettings.executionOrder,"onUpdate:modelValue":t[0]||(t[0]=C=>e.workflowSettings.executionOrder=C),placeholder:"Select Execution Order",size:"medium",filterable:"",disabled:e.readOnlyEnv,"limit-popper-width":!0,"data-test-id":"workflow-settings-execution-order"},{default:v(()=>[(y(!0),P(Ie,null,Re(e.executionOrderOptions,C=>(y(),R(l,{key:C.key,label:C.value,value:C.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),b(c,null,{default:v(()=>[b(r,{span:10,class:"setting-name"},{default:v(()=>[V(N(e.$locale.baseText("workflowSettings.errorWorkflow")+":")+" ",1),b(p,{placement:"top"},{content:v(()=>[D("div",{innerHTML:e.helpTexts.errorWorkflow},null,8,Mne)]),default:v(()=>[b(h,{icon:"question-circle"})]),_:1})]),_:1}),b(r,{span:14,class:"ignore-key-press"},{default:v(()=>[b(m,{modelValue:e.workflowSettings.errorWorkflow,"onUpdate:modelValue":t[1]||(t[1]=C=>e.workflowSettings.errorWorkflow=C),placeholder:"Select Workflow",filterable:"",disabled:e.readOnlyEnv,"limit-popper-width":!0,"data-test-id":"workflow-settings-error-workflow"},{default:v(()=>[(y(!0),P(Ie,null,Re(e.workflows,C=>(y(),R(l,{key:C.id,label:C.name,value:C.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),e.isSharingEnabled?(y(),P("div",Lne,[b(c,null,{default:v(()=>[b(r,{span:10,class:"setting-name"},{default:v(()=>[V(N(e.$locale.baseText("workflowSettings.callerPolicy")+":")+" ",1),b(p,{placement:"top"},{content:v(()=>[D("div",{textContent:N(e.helpTexts.workflowCallerPolicy)},null,8,Fne)]),default:v(()=>[b(h,{icon:"question-circle"})]),_:1})]),_:1}),b(r,{span:14,class:"ignore-key-press"},{default:v(()=>[b(m,{modelValue:e.workflowSettings.callerPolicy,"onUpdate:modelValue":t[2]||(t[2]=C=>e.workflowSettings.callerPolicy=C),disabled:e.readOnlyEnv,placeholder:e.$locale.baseText("workflowSettings.selectOption"),filterable:"","limit-popper-width":!0},{default:v(()=>[(y(!0),P(Ie,null,Re(e.workflowCallerPolicyOptions,C=>(y(),R(l,{key:C.key,label:C.value,value:C.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled","placeholder"])]),_:1})]),_:1}),e.workflowSettings.callerPolicy==="workflowsFromAList"?(y(),R(c,{key:0},{default:v(()=>[b(r,{span:10,class:"setting-name"},{default:v(()=>[V(N(e.$locale.baseText("workflowSettings.callerIds")+":")+" ",1),b(p,{placement:"top"},{content:v(()=>[D("div",{textContent:N(e.helpTexts.workflowCallerIds)},null,8,Bne)]),default:v(()=>[b(h,{icon:"question-circle"})]),_:1})]),_:1}),b(r,{span:14},{default:v(()=>[b(g,{disabled:e.readOnlyEnv,placeholder:e.$locale.baseText("workflowSettings.callerIds.placeholder"),type:"text",modelValue:e.workflowSettings.callerIds,"onUpdate:modelValue":[t[3]||(t[3]=C=>e.workflowSettings.callerIds=C),e.onCallerIdsInput]},null,8,["disabled","placeholder","modelValue","onUpdate:modelValue"])]),_:1})]),_:1})):W("",!0)])):W("",!0),b(c,null,{default:v(()=>[b(r,{span:10,class:"setting-name"},{default:v(()=>[V(N(e.$locale.baseText("workflowSettings.timezone")+":")+" ",1),b(p,{placement:"top"},{content:v(()=>[D("div",{textContent:N(e.helpTexts.timezone)},null,8,Rne)]),default:v(()=>[b(h,{icon:"question-circle"})]),_:1})]),_:1}),b(r,{span:14,class:"ignore-key-press"},{default:v(()=>[b(m,{modelValue:e.workflowSettings.timezone,"onUpdate:modelValue":t[4]||(t[4]=C=>e.workflowSettings.timezone=C),placeholder:"Select Timezone",filterable:"",disabled:e.readOnlyEnv,"limit-popper-width":!0,"data-test-id":"workflow-settings-timezone"},{default:v(()=>[(y(!0),P(Ie,null,Re(e.timezones,C=>(y(),R(l,{key:C.key,label:C.value,value:C.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),b(c,null,{default:v(()=>[b(r,{span:10,class:"setting-name"},{default:v(()=>[V(N(e.$locale.baseText("workflowSettings.saveDataErrorExecution")+":")+" ",1),b(p,{placement:"top"},{content:v(()=>[D("div",{textContent:N(e.helpTexts.saveDataErrorExecution)},null,8,Vne)]),default:v(()=>[b(h,{icon:"question-circle"})]),_:1})]),_:1}),b(r,{span:14,class:"ignore-key-press"},{default:v(()=>[b(m,{modelValue:e.workflowSettings.saveDataErrorExecution,"onUpdate:modelValue":t[5]||(t[5]=C=>e.workflowSettings.saveDataErrorExecution=C),placeholder:e.$locale.baseText("workflowSettings.selectOption"),filterable:"",disabled:e.readOnlyEnv,"limit-popper-width":!0,"data-test-id":"workflow-settings-save-failed-executions"},{default:v(()=>[(y(!0),P(Ie,null,Re(e.saveDataErrorExecutionOptions,C=>(y(),R(l,{key:C.key,label:C.value,value:C.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","disabled"])]),_:1})]),_:1}),b(c,null,{default:v(()=>[b(r,{span:10,class:"setting-name"},{default:v(()=>[V(N(e.$locale.baseText("workflowSettings.saveDataSuccessExecution")+":")+" ",1),b(p,{placement:"top"},{content:v(()=>[D("div",{textContent:N(e.helpTexts.saveDataSuccessExecution)},null,8,Une)]),default:v(()=>[b(h,{icon:"question-circle"})]),_:1})]),_:1}),b(r,{span:14,class:"ignore-key-press"},{default:v(()=>[b(m,{modelValue:e.workflowSettings.saveDataSuccessExecution,"onUpdate:modelValue":t[6]||(t[6]=C=>e.workflowSettings.saveDataSuccessExecution=C),placeholder:e.$locale.baseText("workflowSettings.selectOption"),filterable:"",disabled:e.readOnlyEnv,"limit-popper-width":!0,"data-test-id":"workflow-settings-save-success-executions"},{default:v(()=>[(y(!0),P(Ie,null,Re(e.saveDataSuccessExecutionOptions,C=>(y(),R(l,{key:C.key,label:C.value,value:C.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","disabled"])]),_:1})]),_:1}),b(c,null,{default:v(()=>[b(r,{span:10,class:"setting-name"},{default:v(()=>[V(N(e.$locale.baseText("workflowSettings.saveManualExecutions")+":")+" ",1),b(p,{placement:"top"},{content:v(()=>[D("div",{textContent:N(e.helpTexts.saveManualExecutions)},null,8,Wne)]),default:v(()=>[b(h,{icon:"question-circle"})]),_:1})]),_:1}),b(r,{span:14,class:"ignore-key-press"},{default:v(()=>[b(m,{modelValue:e.workflowSettings.saveManualExecutions,"onUpdate:modelValue":t[7]||(t[7]=C=>e.workflowSettings.saveManualExecutions=C),placeholder:e.$locale.baseText("workflowSettings.selectOption"),filterable:"",disabled:e.readOnlyEnv,"limit-popper-width":!0,"data-test-id":"workflow-settings-save-manual-executions"},{default:v(()=>[(y(!0),P(Ie,null,Re(e.saveManualOptions,C=>(y(),R(l,{key:C.key,label:C.value,value:C.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","disabled"])]),_:1})]),_:1}),b(c,null,{default:v(()=>[b(r,{span:10,class:"setting-name"},{default:v(()=>[V(N(e.$locale.baseText("workflowSettings.saveExecutionProgress")+":")+" ",1),b(p,{placement:"top"},{content:v(()=>[D("div",{textContent:N(e.helpTexts.saveExecutionProgress)},null,8,jne)]),default:v(()=>[b(h,{icon:"question-circle"})]),_:1})]),_:1}),b(r,{span:14,class:"ignore-key-press"},{default:v(()=>[b(m,{modelValue:e.workflowSettings.saveExecutionProgress,"onUpdate:modelValue":t[8]||(t[8]=C=>e.workflowSettings.saveExecutionProgress=C),placeholder:e.$locale.baseText("workflowSettings.selectOption"),filterable:"",disabled:e.readOnlyEnv,"limit-popper-width":!0,"data-test-id":"workflow-settings-save-execution-progress"},{default:v(()=>[(y(!0),P(Ie,null,Re(e.saveExecutionProgressOptions,C=>(y(),R(l,{key:C.key,label:C.value,value:C.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","disabled"])]),_:1})]),_:1}),b(c,null,{default:v(()=>[b(r,{span:10,class:"setting-name"},{default:v(()=>[V(N(e.$locale.baseText("workflowSettings.timeoutWorkflow")+":")+" ",1),b(p,{placement:"top"},{content:v(()=>[D("div",{textContent:N(e.helpTexts.executionTimeoutToggle)},null,8,qne)]),default:v(()=>[b(h,{icon:"question-circle"})]),_:1})]),_:1}),b(r,{span:14},{default:v(()=>[D("div",null,[b(w,{ref:"inputField",disabled:e.readOnlyEnv,modelValue:e.workflowSettings.executionTimeout>-1,"onUpdate:modelValue":e.toggleTimeout,"active-color":"#13ce66","data-test-id":"workflow-settings-timeout-workflow"},null,8,["disabled","modelValue","onUpdate:modelValue"])])]),_:1})]),_:1}),e.workflowSettings.executionTimeout>-1?(y(),P("div",zne,[b(c,null,{default:v(()=>[b(r,{span:10,class:"setting-name"},{default:v(()=>[V(N(e.$locale.baseText("workflowSettings.timeoutAfter")+":")+" ",1),b(p,{placement:"top"},{content:v(()=>[D("div",{textContent:N(e.helpTexts.executionTimeout)},null,8,Hne)]),default:v(()=>[b(h,{icon:"question-circle"})]),_:1})]),_:1}),b(r,{span:4},{default:v(()=>[b(g,{disabled:e.readOnlyEnv,modelValue:e.timeoutHMS.hours,"onUpdate:modelValue":t[9]||(t[9]=C=>e.setTimeout("hours",C)),min:0},{append:v(()=>[V(N(e.$locale.baseText("workflowSettings.hours")),1)]),_:1},8,["disabled","modelValue"])]),_:1}),b(r,{span:4,class:"timeout-input"},{default:v(()=>[b(g,{disabled:e.readOnlyEnv,modelValue:e.timeoutHMS.minutes,min:0,max:60,"onUpdate:modelValue":t[10]||(t[10]=C=>e.setTimeout("minutes",C))},{append:v(()=>[V(N(e.$locale.baseText("workflowSettings.minutes")),1)]),_:1},8,["disabled","modelValue"])]),_:1}),b(r,{span:4,class:"timeout-input"},{default:v(()=>[b(g,{disabled:e.readOnlyEnv,modelValue:e.timeoutHMS.seconds,min:0,max:60,"onUpdate:modelValue":t[11]||(t[11]=C=>e.setTimeout("seconds",C))},{append:v(()=>[V(N(e.$locale.baseText("workflowSettings.seconds")),1)]),_:1},8,["disabled","modelValue"])]),_:1})]),_:1})])):W("",!0)])),[[O,e.isLoading]])]),footer:v(()=>[D("div",Qne,[b(S,{disabled:e.readOnlyEnv,label:e.$locale.baseText("workflowSettings.save"),size:"large",float:"right",onClick:e.saveSettings},null,8,["disabled","label","onClick"])])]),_:1},8,["name","title","eventBus"])}const Yne=te(Pne,[["render",Gne],["__scopeId","data-v-68834c0b"]]),Xne=J({name:"DeleteUserModal",components:{Modal:Mt},props:{modalName:{type:String},activeId:{type:String}},setup(){return{...je()}},data(){return{modalBus:Ze(),loading:!1,operation:"",deleteConfirmText:"",transferId:"",ignoreIds:[this.activeId]}},computed:{...be(Ge),userToDelete(){return this.usersStore.getUserById(this.activeId)},isPending(){return this.userToDelete?this.userToDelete&&!this.userToDelete.firstName:!1},title(){const e=this.userToDelete&&(this.userToDelete.fullName||this.userToDelete.email)||"";return this.$locale.baseText("settings.users.deleteUser",{interpolate:{user:e}})},enabled(){return!!(this.isPending||this.operation==="delete"&&this.deleteConfirmText===this.$locale.baseText("settings.users.deleteConfirmationText")||this.operation==="transfer"&&this.transferId)}},methods:{setOperation(e){this.operation=e,this.transferId=""},setConfirmText(e){this.deleteConfirmText=e},setTransferId(e){this.transferId=e},async onSubmit(){try{if(!this.enabled)return;this.loading=!0;const e={id:this.activeId};this.operation==="transfer"&&(e.transferId=this.transferId),await this.usersStore.deleteUser(e);let t="";if(this.transferId){const s=this.usersStore.getUserById(this.transferId);s&&(t=this.$locale.baseText("settings.users.transferredToUser",{interpolate:{user:s.fullName||""}}))}this.showMessage({type:"success",title:this.$locale.baseText("settings.users.userDeleted"),message:t}),this.modalBus.emit("close")}catch(e){this.showError(e,this.$locale.baseText("settings.users.userDeletedError"))}this.loading=!1}}}),Kne="_content_ebcgq_5",Jne="_innerContent_ebcgq_12",Zne="_optionInput_ebcgq_16",eoe={content:Kne,innerContent:Jne,optionInput:Zne},toe={key:0};function soe(e,t,s,n,o,i){const r=E("n8n-text"),l=E("el-radio"),m=E("n8n-user-select"),c=E("n8n-input-label"),h=E("n8n-input"),p=E("n8n-button"),g=E("Modal");return y(),R(g,{name:e.modalName,onEnter:e.onSubmit,title:e.title,center:!0,width:"460px",eventBus:e.modalBus},{content:v(()=>[D("div",null,[e.isPending?(y(),P("div",toe,[b(r,{color:"text-base"},{default:v(()=>[V(N(e.$locale.baseText("settings.users.confirmUserDeletion")),1)]),_:1})])):(y(),P("div",{key:1,class:$(e.$style.content)},[D("div",null,[b(r,{color:"text-base"},{default:v(()=>[V(N(e.$locale.baseText("settings.users.confirmDataHandlingAfterDeletion")),1)]),_:1})]),b(l,{modelValue:e.operation,label:"transfer","onUpdate:modelValue":t[0]||(t[0]=()=>e.setOperation("transfer"))},{default:v(()=>[b(r,{color:"text-dark"},{default:v(()=>[V(N(e.$locale.baseText("settings.users.transferWorkflowsAndCredentials")),1)]),_:1})]),_:1},8,["modelValue"]),e.operation==="transfer"?(y(),P("div",{key:0,class:$(e.$style.optionInput)},[b(c,{label:e.$locale.baseText("settings.users.userToTransferTo")},{default:v(()=>[b(m,{users:e.usersStore.allUsers,modelValue:e.transferId,ignoreIds:e.ignoreIds,currentUserId:e.usersStore.currentUserId,"onUpdate:modelValue":e.setTransferId},null,8,["users","modelValue","ignoreIds","currentUserId","onUpdate:modelValue"])]),_:1},8,["label"])],2)):W("",!0),b(l,{modelValue:e.operation,label:"delete","onUpdate:modelValue":t[1]||(t[1]=()=>e.setOperation("delete"))},{default:v(()=>[b(r,{color:"text-dark"},{default:v(()=>[V(N(e.$locale.baseText("settings.users.deleteWorkflowsAndCredentials")),1)]),_:1})]),_:1},8,["modelValue"]),e.operation==="delete"?(y(),P("div",{key:1,class:$(e.$style.optionInput),"data-test-id":"delete-data-input"},[b(c,{label:e.$locale.baseText("settings.users.deleteConfirmationMessage")},{default:v(()=>[b(h,{modelValue:e.deleteConfirmText,placeholder:e.$locale.baseText("settings.users.deleteConfirmationText"),"onUpdate:modelValue":e.setConfirmText},null,8,["modelValue","placeholder","onUpdate:modelValue"])]),_:1},8,["label"])],2)):W("",!0)],2))])]),footer:v(()=>[b(p,{loading:e.loading,disabled:!e.enabled,label:e.$locale.baseText("settings.users.delete"),onClick:e.onSubmit,float:"right"},null,8,["loading","disabled","label","onClick"])]),_:1},8,["name","onEnter","title","eventBus"])}const noe={$style:eoe},ooe=te(Xne,[["render",soe],["__cssModules",noe]]),ioe=J({name:"ActivationModal",components:{Modal:Mt},props:["modalName"],data(){return{WORKFLOW_ACTIVE_MODAL_KEY:Ma,checked:!1,modalBus:Ze()}},methods:{async showExecutionsList(){const e=this.workflowsStore.activeWorkflowExecution,t=this.workflowsStore.workflowId;e?this.$router.push({name:ee.EXECUTION_PREVIEW,params:{name:t,executionId:e.id}}).catch(()=>{}):this.$router.push({name:ee.EXECUTION_HOME,params:{name:t}}).catch(()=>{}),this.uiStore.closeModal(Ma)},async showSettings(){this.uiStore.openModal(Pn)},handleCheckboxChange(e){this.checked=e,window.localStorage.setItem(NT,e.toString())}},computed:{...be(it,Ee,_e),triggerContent(){const e=wS(this.workflowsStore.workflowTriggerNodes);if(!e.length)return"";if(e.length>1)return this.$locale.baseText("activationModal.yourTriggersWillNowFire");const t=e[0],s=this.nodeTypesStore.getNodeType(t.type,t.typeVersion);if(s){if(s.activationMessage)return s.activationMessage;const n=hi(s);if(t.webhookId)return this.$locale.baseText("activationModal.yourWorkflowWillNowListenForEvents",{interpolate:{serviceName:n}});if(s.polling)return this.$locale.baseText("activationModal.yourWorkflowWillNowRegularlyCheck",{interpolate:{serviceName:n}})}return this.$locale.baseText("activationModal.yourTriggerWillNowFire")}}}),roe="_spaced_pdqz0_5",aoe="_footer_pdqz0_9",loe={spaced:roe,footer:aoe};function uoe(e,t,s,n,o,i){const r=E("n8n-text"),l=E("el-checkbox"),m=E("n8n-button"),c=E("Modal");return y(),R(c,{name:e.WORKFLOW_ACTIVE_MODAL_KEY,title:e.$locale.baseText("activationModal.workflowActivated"),width:"460px"},{content:v(()=>[D("div",null,[b(r,null,{default:v(()=>[V(N(e.triggerContent),1)]),_:1})]),D("div",{class:$(e.$style.spaced)},[b(r,null,{default:v(()=>[b(r,{bold:!0},{default:v(()=>[V(N(e.$locale.baseText("activationModal.theseExecutionsWillNotShowUp")),1)]),_:1}),V(" "+N(e.$locale.baseText("activationModal.butYouCanSeeThem"))+" ",1),D("a",{onClick:t[0]||(t[0]=(...h)=>e.showExecutionsList&&e.showExecutionsList(...h))},N(e.$locale.baseText("activationModal.executionList")),1),V(" "+N(e.$locale.baseText("activationModal.ifYouChooseTo"))+" ",1),D("a",{onClick:t[1]||(t[1]=(...h)=>e.showSettings&&e.showSettings(...h))},N(e.$locale.baseText("activationModal.saveExecutions")),1)]),_:1})],2)]),footer:v(({close:h})=>[D("div",{class:$(e.$style.footer)},[b(l,{modelValue:e.checked,"onUpdate:modelValue":e.handleCheckboxChange},{default:v(()=>[V(N(e.$locale.baseText("generic.dontShowAgain")),1)]),_:1},8,["modelValue","onUpdate:modelValue"]),b(m,{onClick:h,label:e.$locale.baseText("activationModal.gotIt")},null,8,["onClick","label"])],2)]),_:1},8,["name","title"])}const coe={$style:loe},doe=te(ioe,[["render",uoe],["__cssModules",coe]]),poe=J({name:"ImportCurlModal",components:{Modal:Mt},setup(){return{...je()}},data(){return{IMPORT_CURL_MODAL_KEY:In,curlCommand:"",modalBus:Ze()}},computed:{...be(Xe,Ee),node(){return this.ndvStore.activeNode}},methods:{closeDialog(){this.modalBus.emit("close")},onInput(e){this.curlCommand=e},async importCurlCommand(){const e=this.curlCommand;if(e!=="")try{const t=await this.uiStore.getCurlToJson(e),s=t["parameters.url"],n=g2.find(o=>s.includes(`${o}://`));if(n)if(Tw[n]){const o=Tw[n];this.showProtocolErrorWithSupportedNode(n,o)}else this.showProtocolError(n);else{this.uiStore.setHttpNodeParameters({name:In,parameters:JSON.stringify(t)}),this.closeDialog(),this.sendTelemetry();return}this.sendTelemetry({success:!1,invalidProtocol:!0,protocol:n})}catch{this.showInvalidcURLCommandError(),this.sendTelemetry({success:!1,invalidProtocol:!1})}finally{this.uiStore.setCurlCommand({name:In,command:this.curlCommand})}},showProtocolErrorWithSupportedNode(e,t){this.showToast({title:this.$locale.baseText("importParameter.showError.invalidProtocol1.title",{interpolate:{node:t}}),message:this.$locale.baseText("importParameter.showError.invalidProtocol.message",{interpolate:{protocol:e.toUpperCase()}}),type:"error",duration:0})},showProtocolError(e){this.showToast({title:this.$locale.baseText("importParameter.showError.invalidProtocol2.title"),message:this.$locale.baseText("importParameter.showError.invalidProtocol.message",{interpolate:{protocol:e}}),type:"error",duration:0})},showInvalidcURLCommandError(){this.showToast({title:this.$locale.baseText("importParameter.showError.invalidCurlCommand.title"),message:this.$locale.baseText("importParameter.showError.invalidCurlCommand.message"),type:"error",duration:0})},sendTelemetry(e={success:!0,invalidProtocol:!1,protocol:""}){this.$telemetry.track("User imported curl command",{success:e.success,invalidProtocol:e.invalidProtocol,protocol:e.protocol})}},mounted(){this.curlCommand=this.uiStore.getCurlCommand||"",setTimeout(()=>{this.$refs.input.focus()})}}),hoe="_modalFooter_pri1s_5",moe="_notice_pri1s_11",foe="_container_pri1s_15",goe={modalFooter:hoe,notice:moe,container:foe};function yoe(e,t,s,n,o,i){const r=E("n8n-input"),l=E("n8n-input-label"),m=E("n8n-notice"),c=E("n8n-button"),h=E("Modal");return y(),R(h,{width:"700px",title:e.$locale.baseText("importCurlModal.title"),eventBus:e.modalBus,name:e.IMPORT_CURL_MODAL_KEY,center:!0},{content:v(()=>[D("div",{class:$(e.$style.container)},[b(l,{label:e.$locale.baseText("importCurlModal.input.label"),color:"text-dark"},{default:v(()=>[b(r,{modelValue:e.curlCommand,type:"textarea",rows:5,placeholder:e.$locale.baseText("importCurlModal.input.placeholder"),"onUpdate:modelValue":e.onInput,onFocus:t[0]||(t[0]=p=>p.target.select()),ref:"input"},null,8,["modelValue","placeholder","onUpdate:modelValue"])]),_:1},8,["label"])],2)]),footer:v(()=>[D("div",{class:$(e.$style.modalFooter)},[b(m,{class:$(e.$style.notice),content:e.$locale.baseText("ImportCurlModal.notice.content")},null,8,["class","content"]),D("div",null,[b(c,{onClick:e.importCurlCommand,float:"right",label:e.$locale.baseText("importCurlModal.button.label")},null,8,["onClick","label"])])],2)]),_:1},8,["title","eventBus","name"])}const woe={$style:goe},boe=te(poe,[["render",yoe],["__cssModules",woe]]),voe=J({name:"workflow-share-modal",components:{Modal:Mt},props:{data:{type:Object,default:()=>({})}},setup(){return{...je(),...St()}},data(){const e=_e(),t=this.data.id===lt?e.workflow:e.workflowsById[this.data.id];return{WORKFLOW_SHARE_MODAL_KEY:dl,loading:!0,modalBus:Ze(),sharedWith:[...t.sharedWith||[]],EnterpriseEditionFeature:ot}},computed:{...be(Le,Ee,Ge,Oi,_e,yl),isDefaultUser(){return this.usersStore.isDefaultUser},isSharingEnabled(){return this.settingsStore.isEnterpriseFeatureEnabled(ot.Sharing)},modalTitle(){return this.$locale.baseText(this.isSharingEnabled?this.uiStore.contextBasedTranslationKeys.workflows.sharing.title:this.uiStore.contextBasedTranslationKeys.workflows.sharing.unavailable.title,{interpolate:{name:this.workflow.name}})},usersList(){return this.usersStore.allUsers.filter(e=>{var n;const t=e.id===((n=this.usersStore.currentUser)==null?void 0:n.id),s=(this.sharedWith||[]).find(o=>o.id===e.id);return!t&&!s})},sharedWithList(){return[{...this.workflow&&this.workflow.ownedBy?this.workflow.ownedBy:this.usersStore.currentUser,isOwner:!0}].concat(this.sharedWith||[])},workflow(){return this.data.id===lt?this.workflowsStore.workflow:this.workflowsStore.workflowsById[this.data.id]},currentUser(){return this.usersStore.currentUser},workflowPermissions(){return fl(this.usersStore.currentUser,this.workflow)},workflowOwnerName(){return this.workflowsEEStore.getWorkflowOwnerName(`${this.workflow.id}`)},isDirty(){const e=this.workflow.sharedWith||[];return this.sharedWith.length!==e.length||this.sharedWith.some(t=>!e.find(s=>t.id===s.id))}},methods:{async onSave(){var t;if(this.loading)return;this.loading=!0;const e=async()=>new Promise(s=>{this.workflow.id===lt?as.emit("saveWorkflow",()=>{s(this.workflow.id)}):s(this.workflow.id)});try{const s=this.sharedWith.filter(i=>{var r;return!((r=this.workflow.sharedWith)!=null&&r.find(l=>i.id===l.id))}),n=((t=this.workflow.sharedWith)==null?void 0:t.filter(i=>!this.sharedWith.find(r=>r.id===i.id)))||[],o=await e();await this.workflowsEEStore.saveWorkflowSharedWith({workflowId:o,sharedWith:this.sharedWith}),this.trackTelemetry({user_ids_sharees_added:s.map(i=>i.id),sharees_removed:n.length}),this.showMessage({title:this.$locale.baseText("workflows.shareModal.onSave.success.title"),type:"success"})}catch(s){this.showError(s,this.$locale.baseText("workflows.shareModal.onSave.error.title"))}finally{this.modalBus.emit("close"),this.loading=!1}},async onAddSharee(e){const{id:t,firstName:s,lastName:n,email:o}=this.usersStore.getUserById(e),i={id:t,firstName:s,lastName:n,email:o};this.sharedWith=this.sharedWith.concat(i),this.trackTelemetry({user_id_sharee:e})},async onRemoveSharee(e){const t=this.usersStore.getUserById(e),s=!(this.workflow.sharedWith||[]).find(r=>r.id===e),n=(this.workflow.usedCredentials||[]).reduce((r,l)=>{if(!l.id||!l.ownedBy||!l.sharedWith||!this.workflow.sharedWith)return r;let m=!1;const c=l.ownedBy.id===t.id,h=!!l.sharedWith.find(p=>p.id===t.id);return c?m=!l.sharedWith.some(p=>this.workflow.sharedWith.find(g=>g.id===p.id)):h&&(m=!l.sharedWith.some(p=>this.workflow.sharedWith.find(g=>g.id===p.id))&&!this.workflow.sharedWith.find(p=>p.id===l.ownedBy.id)),r[l.id]=m,r},{}),o=Object.values(n).some(r=>r);let i=!0;!s&&o&&(i=await this.confirm(this.$locale.baseText("workflows.shareModal.list.delete.confirm.lastUserWithAccessToCredentials.message",{interpolate:{name:t.fullName,workflow:this.workflow.name}}),this.$locale.baseText("workflows.shareModal.list.delete.confirm.title",{interpolate:{name:t.fullName}}),{confirmButtonText:this.$locale.baseText("workflows.shareModal.list.delete.confirm.confirmButtonText"),cancelButtonText:this.$locale.baseText("workflows.shareModal.list.delete.confirm.cancelButtonText"),dangerouslyUseHTMLString:!0})===bt),i&&(this.sharedWith=this.sharedWith.filter(r=>r.id!==t.id),this.trackTelemetry({user_id_sharee:e,warning_orphan_credentials:o}))},onRoleAction(e,t){t==="remove"&&this.onRemoveSharee(e.id)},async onCloseModal(){return this.isDirty&&await this.confirm(this.$locale.baseText("workflows.shareModal.saveBeforeClose.message"),this.$locale.baseText("workflows.shareModal.saveBeforeClose.title"),{type:"warning",confirmButtonText:this.$locale.baseText("workflows.shareModal.saveBeforeClose.confirmButtonText"),cancelButtonText:this.$locale.baseText("workflows.shareModal.saveBeforeClose.cancelButtonText")})===bt?this.onSave():!0},async loadUsers(){await this.usersStore.fetchUsers()},goToUsersSettings(){this.$router.push({name:ee.USERS_SETTINGS}).catch(e=>{Lv(e)||console.error(e)}),this.modalBus.emit("close")},trackTelemetry(e){var t;this.$telemetry.track("User selected sharee to remove",{workflow_id:this.workflow.id,user_id_sharer:(t=this.currentUser)==null?void 0:t.id,sub_view:this.$route.name===ee.WORKFLOWS?"Workflows listing":"Workflow editor",...e})},goToUpgrade(){this.uiStore.goToUpgrade("workflow_sharing","upgrade-workflow-sharing")},async initialize(){var e;this.isSharingEnabled&&(await this.loadUsers(),this.workflow.id!==lt&&!((e=this.workflow.sharedWith)!=null&&e.length)&&await this.workflowsStore.fetchWorkflow(this.workflow.id)),this.loading=!1}},mounted(){this.initialize()},watch:{workflow(e){e.sharedWith&&(this.sharedWith=e.sharedWith)}}}),Toe="_container_1p986_5",Soe="_actionButtons_1p986_9",koe="_roleSelect_1p986_15",Eoe="_roleSelectRemoveOption_1p986_19",xoe={container:Toe,actionButtons:Soe,roleSelect:koe,roleSelectRemoveOption:Eoe};function Coe(e,t,s,n,o,i){const r=E("n8n-text"),l=E("n8n-info-tip"),m=E("n8n-icon"),c=E("n8n-user-select"),h=E("n8n-option"),p=E("n8n-select"),g=E("n8n-users-list"),w=E("i18n-t"),S=E("enterprise-edition"),k=E("n8n-button"),O=E("Modal");return y(),R(O,{width:"460px",title:e.modalTitle,eventBus:e.modalBus,name:e.WORKFLOW_SHARE_MODAL_KEY,center:!0,beforeClose:e.onCloseModal},{content:v(()=>[e.isSharingEnabled?e.isDefaultUser?(y(),P("div",{key:1,class:$(e.$style.container)},[b(r,null,{default:v(()=>[V(N(e.$locale.baseText("workflows.shareModal.isDefaultUser.description")),1)]),_:1})],2)):(y(),P("div",{key:2,class:$(e.$style.container)},[e.workflowPermissions.isOwner?W("",!0):(y(),R(l,{key:0,bold:!1,class:"mb-s"},{default:v(()=>[V(N(e.$locale.baseText("workflows.shareModal.info.sharee",{interpolate:{workflowOwnerName:e.workflowOwnerName}})),1)]),_:1})),b(S,{features:[e.EnterpriseEditionFeature.Sharing]},{fallback:v(()=>[b(r,null,{default:v(()=>[b(w,{keypath:e.uiStore.contextBasedTranslationKeys.workflows.sharing.unavailable.description,tag:"span"},{action:v(()=>[]),_:1},8,["keypath"])]),_:1})]),default:v(()=>[e.workflowPermissions.updateSharing?(y(),R(c,{key:0,class:"mb-s",size:"large",users:e.usersList,currentUserId:e.currentUser.id,placeholder:e.$locale.baseText("workflows.shareModal.select.placeholder"),"data-test-id":"workflow-sharing-modal-users-select","onUpdate:modelValue":e.onAddSharee},{prefix:v(()=>[b(m,{icon:"search"})]),_:1},8,["users","currentUserId","placeholder","onUpdate:modelValue"])):W("",!0),b(g,{actions:[],users:e.sharedWithList,currentUserId:e.currentUser.id,"delete-label":e.$locale.baseText("workflows.shareModal.list.delete"),readonly:!e.workflowPermissions.updateSharing},{actions:v(({user:C})=>[b(p,{class:$(e.$style.roleSelect),modelValue:"editor",size:"small","onUpdate:modelValue":A=>e.onRoleAction(C,A)},{default:v(()=>[b(h,{label:e.$locale.baseText("workflows.roles.editor"),value:"editor"},null,8,["label"]),b(h,{class:$(e.$style.roleSelectRemoveOption),value:"remove"},{default:v(()=>[b(r,{color:"danger"},{default:v(()=>[V(N(e.$locale.baseText("workflows.shareModal.list.delete")),1)]),_:1})]),_:1},8,["class"])]),_:2},1032,["class","onUpdate:modelValue"])]),_:1},8,["users","currentUserId","delete-label","readonly"])]),_:1},8,["features"])],2)):(y(),P("div",{key:0,class:$(e.$style.container)},[b(r,null,{default:v(()=>[V(N(e.$locale.baseText(e.uiStore.contextBasedTranslationKeys.workflows.sharing.unavailable.description.modal)),1)]),_:1})],2))]),footer:v(()=>[e.isSharingEnabled?e.isDefaultUser?(y(),P("div",{key:1,class:$(e.$style.actionButtons)},[b(k,{onClick:e.goToUsersSettings},{default:v(()=>[V(N(e.$locale.baseText("workflows.shareModal.isDefaultUser.button")),1)]),_:1},8,["onClick"])],2)):(y(),R(S,{key:2,features:[e.EnterpriseEditionFeature.Sharing],class:$(e.$style.actionButtons)},{default:v(()=>[He(b(r,{color:"text-light",size:"small",class:"mr-xs"},{default:v(()=>[V(N(e.$locale.baseText("workflows.shareModal.changesHint")),1)]),_:1},512),[[nt,e.isDirty]]),He(b(k,{loading:e.loading,disabled:!e.isDirty,"data-test-id":"workflow-sharing-modal-save-button",onClick:e.onSave},{default:v(()=>[V(N(e.$locale.baseText("workflows.shareModal.save")),1)]),_:1},8,["loading","disabled","onClick"]),[[nt,e.workflowPermissions.updateSharing]])]),_:1},8,["features","class"])):(y(),P("div",{key:0,class:$(e.$style.actionButtons)},[b(k,{onClick:e.goToUpgrade},{default:v(()=>[V(N(e.$locale.baseText(e.uiStore.contextBasedTranslationKeys.workflows.sharing.unavailable.button)),1)]),_:1},8,["onClick"])],2))]),_:1},8,["title","eventBus","name","beforeClose"])}const Ooe={$style:xoe},Doe=te(voe,[["render",Coe],["__cssModules",Ooe]]),Aoe=ho(async()=>qn(()=>Promise.resolve().then(()=>_ie),void 0)),$oe=J({name:"CollectionParameter",mixins:[Bs],props:["hideDelete","nodeValues","parameter","path","values","isReadOnly"],components:{ParameterInputList:Aoe},data(){return{selectedOption:void 0}},computed:{...be(Xe),getPlaceholderText(){const e=this.$locale.nodeText().placeholder(this.parameter,this.path);return e||this.$locale.baseText("collectionParameter.choose")},getProperties(){const e=[];let t;for(const s of this.propertyNames)t=this.getOptionProperties(s),t!==void 0&&e.push(...t);return e},filteredOptions(){return this.parameter.options.filter(e=>this.displayNodeParameter(e))},node(){return this.ndvStore.activeNode},parameterOptions(){return this.filteredOptions.filter(e=>!this.propertyNames.includes(e.name))},propertyNames(){return this.values?Object.keys(this.values):[]}},methods:{getArgument(e){if(this.parameter.typeOptions!==void 0&&this.parameter.typeOptions[e]!==void 0)return this.parameter.typeOptions[e]},getOptionProperties(e){const t=[];for(const s of this.parameter.options)s.name===e&&t.push(s);return t},displayNodeParameter(e){return e.displayOptions===void 0?!0:this.displayParameter(this.nodeValues,e,this.path,this.node)},optionSelected(e){const t=this.getOptionProperties(e);if(t.length===0)return;const s=t[0],n=`${this.path}.${s.name}`;let o;if(s.typeOptions!==void 0&&s.typeOptions.multipleValues===!0){let i;s.type==="fixedCollection"?i=jt(this.nodeValues,`${this.path}.${e}`,{}):(i=jt(this.nodeValues,`${this.path}.${e}`,[]),i.push(at(s.default))),o={name:n,value:i}}else o={name:n,value:at(s.default)};this.$emit("valueChanged",o),this.selectedOption=void 0},valueChanged(e){this.$emit("valueChanged",e)}}});const Noe={class:"collection-parameter-wrapper"},_oe={key:0,class:"no-items-exist"},Poe={key:1,class:"param-options"},Ioe={key:1,class:"add-option"};function Moe(e,t,s,n,o,i){const r=E("n8n-text"),l=E("parameter-input-list"),m=E("n8n-button"),c=E("n8n-option"),h=E("n8n-select");return y(),P("div",{onKeydown:t[2]||(t[2]=Qe(()=>{},["stop"])),class:"collection-parameter"},[D("div",Noe,[e.getProperties.length===0?(y(),P("div",_oe,[b(r,{size:"small"},{default:v(()=>[V(N(e.$locale.baseText("collectionParameter.noProperties")),1)]),_:1})])):W("",!0),(y(),R(No,null,{default:v(()=>[b(l,{parameters:e.getProperties,nodeValues:e.nodeValues,path:e.path,hideDelete:e.hideDelete,indent:!0,isReadOnly:e.isReadOnly,onValueChanged:e.valueChanged},null,8,["parameters","nodeValues","path","hideDelete","isReadOnly","onValueChanged"])]),_:1})),e.parameterOptions.length>0&&!e.isReadOnly?(y(),P("div",Poe,[e.parameter.options.length===1?(y(),R(m,{key:0,type:"tertiary",block:"",onClick:t[0]||(t[0]=p=>e.optionSelected(e.parameter.options[0].name)),label:e.getPlaceholderText},null,8,["label"])):(y(),P("div",Ioe,[b(h,{modelValue:e.selectedOption,"onUpdate:modelValue":[t[1]||(t[1]=p=>e.selectedOption=p),e.optionSelected],placeholder:e.getPlaceholderText,size:"small",filterable:""},{default:v(()=>[(y(!0),P(Ie,null,Re(e.parameterOptions,p=>(y(),R(c,{key:p.name,label:e.$locale.nodeText().collectionOptionDisplayName(e.parameter,p,e.path),value:p.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","onUpdate:modelValue"])]))])):W("",!0)])],32)}const V0=te($oe,[["render",Moe]]),Loe=Object.freeze(Object.defineProperty({__proto__:null,default:V0},Symbol.toStringTag,{value:"Module"})),Foe=J({name:"MultipleParameter",components:{CollectionParameter:V0,ParameterInputFull:jd},props:{nodeValues:{type:Object,required:!0},parameter:{type:Object,required:!0},path:{type:String,required:!0},values:{type:Array,default:()=>[]},isReadOnly:{type:Boolean,default:!1}},data(){return{mutableValues:[]}},watch:{values:{handler(e){this.mutableValues=at(e)},deep:!0}},created(){this.mutableValues=at(this.values)},computed:{addButtonText(){return!this.parameter.typeOptions||this.parameter.typeOptions&&!this.parameter.typeOptions.multipleValueButtonText?this.$locale.baseText("multipleParameter.addItem"):this.$locale.nodeText().multipleValueButtonText(this.parameter)},hideDelete(){var e;return((e=this.parameter.options)==null?void 0:e.length)===1},sortable(){var e;return!!((e=this.parameter.typeOptions)!=null&&e.sortable)}},methods:{addItem(){const e=this.getPath(),t=jt(this.nodeValues,e,[]);t.push(at(this.parameter.default));const s={name:e,value:t};this.$emit("valueChanged",s)},deleteItem(e){const t={name:this.getPath(e),value:void 0};this.$emit("valueChanged",t)},getPath(e){return this.path+(e!==void 0?`[${e}]`:"")},moveOptionDown(e){this.mutableValues.splice(e+1,0,this.mutableValues.splice(e,1)[0]);const t={name:this.path,value:this.mutableValues};this.$emit("valueChanged",t)},moveOptionUp(e){this.mutableValues.splice(e-1,0,this.mutableValues.splice(e,1)[0]);const t={name:this.path,value:this.mutableValues};this.$emit("valueChanged",t)},valueChanged(e){this.$emit("valueChanged",e)}}});const Boe={key:0,class:"delete-item clickable"},Roe={key:0},Voe={key:1},Uoe={key:2},Woe={class:"add-item-wrapper"},joe={key:0,class:"no-items-exist"};function qoe(e,t,s,n,o,i){const r=E("n8n-input-label"),l=E("font-awesome-icon"),m=E("collection-parameter"),c=E("parameter-input-full"),h=E("n8n-text"),p=E("n8n-button");return y(),P("div",{onKeydown:t[1]||(t[1]=Qe(()=>{},["stop"])),class:"duplicate-parameter"},[b(r,{label:e.$locale.nodeText().inputLabelDisplayName(e.parameter,e.path),tooltipText:e.$locale.nodeText().inputLabelDescription(e.parameter,e.path),underline:!0,size:"small",color:"text-dark"},null,8,["label","tooltipText"]),(y(!0),P(Ie,null,Re(e.mutableValues,(g,w)=>(y(),P("div",{key:w,class:$(["duplicate-parameter-item",e.parameter.type])},[e.isReadOnly?W("",!0):(y(),P("div",Boe,[b(l,{icon:"trash",title:e.$locale.baseText("multipleParameter.deleteItem"),onClick:S=>e.deleteItem(w)},null,8,["title","onClick"]),e.sortable?(y(),P("div",Roe,[w!==0?(y(),R(l,{key:0,icon:"angle-up",class:"clickable",title:e.$locale.baseText("multipleParameter.moveUp"),onClick:S=>e.moveOptionUp(w)},null,8,["title","onClick"])):W("",!0),w!==e.mutableValues.length-1?(y(),R(l,{key:1,icon:"angle-down",class:"clickable",title:e.$locale.baseText("multipleParameter.moveDown"),onClick:S=>e.moveOptionDown(w)},null,8,["title","onClick"])):W("",!0)])):W("",!0)])),e.parameter.type==="collection"?(y(),P("div",Voe,[b(m,{parameter:e.parameter,values:g,nodeValues:e.nodeValues,path:e.getPath(w),hideDelete:e.hideDelete,isReadOnly:e.isReadOnly,onValueChanged:e.valueChanged},null,8,["parameter","values","nodeValues","path","hideDelete","isReadOnly","onValueChanged"])])):(y(),P("div",Uoe,[b(c,{class:"duplicate-parameter-input-item",parameter:e.parameter,value:g,displayOptions:!0,hideLabel:!0,path:e.getPath(w),onUpdate:e.valueChanged,inputSize:"small",isReadOnly:e.isReadOnly},null,8,["parameter","value","path","onUpdate","isReadOnly"])]))],2))),128)),D("div",Woe,[e.mutableValues&&e.mutableValues.length===0||e.isReadOnly?(y(),P("div",joe,[b(h,{size:"small"},{default:v(()=>[V(N(e.$locale.baseText("multipleParameter.currentlyNoItemsExist")),1)]),_:1})])):W("",!0),e.isReadOnly?W("",!0):(y(),R(p,{key:1,type:"tertiary",block:"",onClick:t[0]||(t[0]=g=>e.addItem()),label:e.addButtonText},null,8,["label"]))])],32)}const zoe=te(Foe,[["render",qoe],["__scopeId","data-v-c7b0ec13"]]),Hoe=J({name:"import-parameter",props:{isReadOnly:{type:Boolean,default:!1}},computed:{...be(Ee)},methods:{onImportCurlClicked(){this.uiStore.openModal(In)}}}),Qoe="_importSection_6gagb_5",Goe={importSection:Qoe};function Yoe(e,t,s,n,o,i){const r=E("n8n-button");return y(),P("div",{class:$(e.$style.importSection)},[b(r,{type:"secondary",label:e.$locale.baseText("importParameter.label"),disabled:e.isReadOnly,size:"mini",onClick:e.onImportCurlClicked},null,8,["label","disabled","onClick"])],2)}const Xoe={$style:Goe},Koe=te(Hoe,[["render",Yoe],["__cssModules",Xoe]]),Joe={"data-test-id":"mapping-mode-select"},Zoe={class:"mt-5xs"},eie={class:"list-option"},tie={class:"option-headline"},sie=["innerHTML"],nie={class:"mt-5xs"},oie=J({__name:"MappingModeSelect",props:{initialValue:{},fieldsToMap:{},inputSize:{},labelSize:{},typeOptions:{},serviceName:{},loading:{type:Boolean},loadingError:{type:Boolean},teleported:{type:Boolean}},emits:["modeChanged","retryFetch"],setup(e,{expose:t,emit:s}){const n=e,{resourceMapperTypeOptions:o,pluralFieldWord:i,singularFieldWord:r}=yf(n.typeOptions),l=[{name:Te.baseText("resourceMapper.mappingMode.defineBelow.name"),value:"defineBelow",description:Te.baseText("resourceMapper.mappingMode.defineBelow.description",{interpolate:{fieldWord:r.value}})},{name:Te.baseText("resourceMapper.mappingMode.autoMapInputData.name"),value:"autoMapInputData",description:Te.baseText("resourceMapper.mappingMode.autoMapInputData.description",{interpolate:{fieldWord:i.value,serviceName:n.serviceName}})}],m=Be(n.initialValue);jn(()=>n.initialValue,()=>{m.value=n.initialValue});const c=we(()=>{var g;return m.value==="defineBelow"?n.loadingError?Te.baseText("resourceMapper.fetchingFields.errorMessage",{interpolate:{fieldWord:i.value}}):n.fieldsToMap.length===0?((g=o.value)==null?void 0:g.noFieldsError)||Te.baseText("resourceMapper.fetchingFields.noFieldsFound",{interpolate:{fieldWord:i.value,serviceName:n.serviceName}}):"":""});function h(g){m.value=g,s("modeChanged",g)}function p(){s("retryFetch")}return t({selected:m,onModeChanged:h,mappingModeOptions:l}),(g,w)=>{const S=E("n8n-option"),k=E("n8n-select"),O=E("n8n-icon"),C=E("n8n-text"),A=E("n8n-link"),T=E("n8n-input-label");return y(),P("div",Joe,[b(T,{label:Z(Te).baseText("resourceMapper.mappingMode.label"),bold:!1,required:!1,size:g.labelSize,color:"text-dark"},{default:v(()=>[D("div",Zoe,[b(k,{modelValue:m.value,teleported:g.teleported,size:n.inputSize,"onUpdate:modelValue":h},{default:v(()=>[(y(),P(Ie,null,Re(l,F=>b(S,{key:F.value,value:F.value,label:F.name,description:"sadasd"},{default:v(()=>[D("div",eie,[D("div",tie,N(F.name),1),D("div",{class:"option-description",innerHTML:F.description},null,8,sie)])]),_:2},1032,["value","label"])),64))]),_:1},8,["modelValue","teleported","size"])]),D("div",nie,[g.loading?(y(),R(C,{key:0,size:"small"},{default:v(()=>[b(O,{icon:"sync-alt",size:"xsmall",spin:!0}),V(" "+N(Z(Te).baseText("resourceMapper.fetchingFields.message",{interpolate:{fieldWord:Z(i)}})),1)]),_:1})):c.value!==""?(y(),R(C,{key:1,size:"small",color:"danger"},{default:v(()=>[b(O,{icon:"exclamation-triangle",size:"xsmall"}),V(" "+N(c.value)+" ",1),b(A,{size:"small",theme:"danger",underline:!0,onClick:p},{default:v(()=>[V(N(Z(Te).baseText("generic.retry")),1)]),_:1})]),_:1})):W("",!0)])]),_:1},8,["label","size"])])}}}),iie={class:"mt-2xs","data-test-id":"matching-column-select"},rie=J({__name:"MatchingColumnsSelect",props:{parameter:{},initialValue:{},fieldsToMap:{},typeOptions:{},labelSize:{},inputSize:{},loading:{type:Boolean},serviceName:{},teleported:{type:Boolean,default:!0},refreshInProgress:{type:Boolean}},emits:["matchingColumnsChanged","refreshFieldList"],setup(e,{expose:t,emit:s}){const n=e,{resourceMapperTypeOptions:o,singularFieldWord:i,singularFieldWordCapitalized:r,pluralFieldWord:l,pluralFieldWordCapitalized:m}=yf(n.typeOptions),c=en({selected:n.initialValue});jn(()=>n.initialValue,()=>{var T;c.selected=((T=o.value)==null?void 0:T.multiKeyMatch)===!0?n.initialValue:n.initialValue[0]});const h=we(()=>n.fieldsToMap.filter(T=>(T.canBeUsedToMatch||T.defaultMatch)&&T.display!==!1)),p=we(()=>{var F,L,I;if((L=(F=o.value)==null?void 0:F.matchingFieldsLabels)!=null&&L.title)return o.value.matchingFieldsLabels.title;const T=((I=o.value)==null?void 0:I.multiKeyMatch)===!0?m.value:r.value;return Te.baseText("resourceMapper.columnsToMatchOn.label",{interpolate:{fieldWord:T}})}),g=we(()=>{var F,L,I,j;if((L=(F=o.value)==null?void 0:F.matchingFieldsLabels)!=null&&L.hint)return o.value.matchingFieldsLabels.hint;const T=((I=o.value)==null?void 0:I.multiKeyMatch)===!0?"resourceMapper.columnsToMatchOn.multi.description":"resourceMapper.columnsToMatchOn.single.description";return Te.baseText(T,{interpolate:{fieldWord:((j=o.value)==null?void 0:j.multiKeyMatch)===!0?`${l.value}`:`${i.value}`}})}),w=we(()=>{var T,F,L;return(F=(T=o.value)==null?void 0:T.matchingFieldsLabels)!=null&&F.description?o.value.matchingFieldsLabels.description:Te.baseText("resourceMapper.columnsToMatchOn.tooltip",{interpolate:{fieldWord:((L=o.value)==null?void 0:L.multiKeyMatch)===!0?`${l.value}`:`${i.value}`}})}),S=we(()=>[{label:Te.baseText("resourceMapper.refreshFieldList",{interpolate:{fieldWord:r.value}}),value:"refreshFieldList"}]),k=we(()=>Te.baseText("resourceMapper.fetchingFields.message",{interpolate:{fieldWord:l.value}}));function O(T){var F;(F=o.value)==null||F.multiKeyMatch,c.selected=T,C()}function C(){c.selected&&s("matchingColumnsChanged",Array.isArray(c.selected)?c.selected:[c.selected])}function A(T){switch(T){case"refreshFieldList":s("refreshFieldList");break}}return t({state:c}),(T,F)=>{const L=E("n8n-option"),I=E("n8n-select"),j=E("n8n-text"),q=E("n8n-input-label"),Q=E("n8n-notice");return y(),P("div",iie,[h.value.length>0?(y(),R(q,{key:0,label:p.value,tooltipText:w.value,bold:!1,required:!1,size:T.labelSize,color:"text-dark"},{options:v(()=>[b(nd,{parameter:T.parameter,customActions:S.value,loading:n.refreshInProgress,loadingMessage:k.value,"onUpdate:modelValue":A},null,8,["parameter","customActions","loading","loadingMessage"])]),default:v(()=>{var X;return[b(I,{multiple:((X=Z(o))==null?void 0:X.multiKeyMatch)===!0,modelValue:c.selected,size:n.inputSize,disabled:T.loading,teleported:T.teleported,"onUpdate:modelValue":O},{default:v(()=>[(y(!0),P(Ie,null,Re(h.value,U=>(y(),R(L,{key:U.id,value:U.id,"data-test-id":`matching-column-option-${U.id}`},{default:v(()=>[V(N(U.displayName),1)]),_:2},1032,["value","data-test-id"]))),128))]),_:1},8,["multiple","modelValue","size","disabled","teleported"]),b(j,{size:"small"},{default:v(()=>[V(N(g.value),1)]),_:1})]}),_:1},8,["label","tooltipText","size"])):(y(),R(Q,{key:1},{default:v(()=>[V(N(Z(Te).baseText("resourceMapper.columnsToMatchOn.noFieldsFound",{interpolate:{fieldWord:Z(i),serviceName:n.serviceName}})),1)]),_:1}))])}}}),aie={class:"mt-xs","data-test-id":"mapping-fields-container"},lie={key:0,class:"mt-3xs mb-xs"},uie={key:1,class:$(["delete-option","clickable","mt-5xs"])},cie=J({__name:"MappingFields",props:{parameter:{},path:{},nodeValues:{},fieldsToMap:{},paramValue:{},labelSize:{},showMatchingColumnsSelector:{type:Boolean},showMappingModeSelect:{type:Boolean},loading:{type:Boolean},refreshInProgress:{type:Boolean},teleported:{type:Boolean,default:!0}},emits:["fieldValueChanged","removeField","addField","refreshFieldList"],setup(e,{expose:t,emit:s}){const n=e,o=["time","object","array"],{resourceMapperTypeOptions:i,singularFieldWord:r,singularFieldWordCapitalized:l,pluralFieldWord:m,pluralFieldWordCapitalized:c}=yf(n.parameter.typeOptions),h=Xe();function p(M){return ya(M.id,n.paramValue.matchingColumns,n.showMatchingColumnsSelector)?!1:M.readOnly||!1}const g=we(()=>n.fieldsToMap.filter(M=>M.display!==!1&&M.removed!==!0).map(M=>({displayName:L(M),name:`value["${M.id}"]`,type:Q(M),default:M.type==="boolean"?!1:"",required:M.required,description:I(M),options:M.options,readOnly:p(M)}))),w=we(()=>(n.paramValue.matchingColumns&&g.value.forEach((M,z)=>{const K=br(M.name);K&&n.paramValue.matchingColumns.includes(K)&&(g.value.splice(z,1),g.value.unshift(M))}),g.value)),S=we(()=>n.fieldsToMap.filter(M=>M.removed===!0&&M.display!==!1)),k=we(()=>S.value.map(M=>({name:M.displayName,value:M.id,disabled:!1}))),O=we(()=>[{label:Te.baseText("resourceMapper.refreshFieldList",{interpolate:{fieldWord:l.value}}),value:"refreshFieldList"},{label:Te.baseText("resourceMapper.addAllFields",{interpolate:{fieldWord:c.value}}),value:"addAllFields",disabled:S.value.length===0},{label:Te.baseText("resourceMapper.removeAllFields",{interpolate:{fieldWord:c.value}}),value:"removeAllFields",disabled:C.value===!1}]),C=we(()=>S.value.length!==n.fieldsToMap.length&&n.fieldsToMap.some(M=>M.removed!==!0&&!ES(M,n.showMatchingColumnsSelector,A.value,n.paramValue.matchingColumns))),A=we(()=>{var M;return(M=i.value)==null?void 0:M.mode}),T=we(()=>A.value&&A.value==="update"?Te.baseText("resourceMapper.valuesToUpdate.label"):Te.baseText("resourceMapper.valuesToSend.label")),F=we(()=>Te.baseText("resourceMapper.fetchingFields.message",{interpolate:{fieldWord:m.value}}));function L(M){if(ya(M.id,n.paramValue.matchingColumns,n.showMatchingColumnsSelector)){const z=Te.baseText("resourceMapper.usingToMatch")||"";return`${M.displayName} ${z}`}return M.displayName}function I(M){return ya(M.id,n.paramValue.matchingColumns,n.showMatchingColumnsSelector)&&Te.baseText("resourceMapper.usingToMatch.description",{interpolate:{fieldWord:r.value}})||""}function j(M){const z=br(M);return z&&n.paramValue.value?n.paramValue.value[z]===void 0||n.paramValue.value[z]===null?"":n.paramValue.value[z]:null}function q(M){if(!h.activeNode)return[];const z=h.activeNode.issues||{},K=br(M.name);if(!K)return[];let oe=[];const ve=`${n.parameter.name}.${K}`;return z.parameters&&ve in z.parameters&&(oe=oe.concat(z.parameters[ve])),oe}function Q(M){return M.type&&!o.includes(M.type)?M.type:"string"}function X(M){s("fieldValueChanged",M)}function U(M){s("removeField",M)}function ne(M){s("addField",M)}function ie(M){switch(M){case"addAllFields":s("addField",M);break;case"removeAllFields":s("removeField",M);break;case"refreshFieldList":s("refreshFieldList");break}}return t({orderedFields:w}),(M,z)=>{const K=E("n8n-input-label"),oe=E("n8n-text"),ve=E("font-awesome-icon"),ae=E("n8n-tooltip"),ce=E("n8n-option"),pe=E("n8n-select");return y(),P("div",aie,[b(K,{label:T.value,underline:!0,size:M.labelSize,showOptions:!0,showExpressionSelector:!1,inputName:"columns",color:"text-dark"},{options:v(()=>[b(nd,{parameter:M.parameter,customActions:O.value,loading:n.refreshInProgress,loadingMessage:F.value,"onUpdate:modelValue":ie},null,8,["parameter","customActions","loading","loadingMessage"])]),_:1},8,["label","size"]),w.value.length===0?(y(),P("div",lie,[b(oe,{size:"small"},{default:v(()=>[V(N(M.$locale.baseText("fixedCollectionParameter.currentlyNoItemsExist")),1)]),_:1})])):W("",!0),(y(!0),P(Ie,null,Re(w.value,ge=>(y(),P("div",{key:ge.name,class:$({"parameter-item":!0,[M.$style.parameterItem]:!0,[M.$style.hasIssues]:q(ge).length>0})},[A.value==="add"&&ge.required?(y(),P("div",{key:0,class:$(["delete-option","mt-5xs",M.$style.parameterTooltipIcon])},[b(ae,{placement:"top"},{content:v(()=>[D("span",null,N(Z(Te).baseText("resourceMapper.mandatoryField.title",{interpolate:{fieldWord:Z(r)}})),1)]),default:v(()=>[b(ve,{icon:"question-circle"})]),_:1})],2)):Z(ya)(ge.name,n.paramValue.matchingColumns,n.showMatchingColumnsSelector)?W("",!0):(y(),P("div",uie,[b(ve,{icon:"trash",title:Z(Te).baseText("resourceMapper.removeField",{interpolate:{fieldWord:Z(l)}}),"data-test-id":"remove-field-button",onClick:Ae=>U(ge.name)},null,8,["title","onClick"])])),D("div",{class:$(M.$style.parameterInput)},[b(jd,{parameter:ge,value:j(ge.name),displayOptions:!0,path:`${n.path}.${ge.name}`,isReadOnly:M.refreshInProgress||ge.readOnly,hideIssues:!0,nodeValues:M.nodeValues,class:$(M.$style.parameterInputFull),onUpdate:X},null,8,["parameter","value","path","isReadOnly","nodeValues","class"])],2),q(ge).length>0?(y(),R(Ef,{key:2,issues:q(ge),class:$([M.$style.parameterIssues,"ml-5xs"])},null,8,["issues","class"])):W("",!0)],2))),128)),D("div",{class:$(["add-option",M.$style.addOption]),"data-test-id":"add-fields-select"},[b(pe,{placeholder:Z(Te).baseText("resourceMapper.addFieldToSend",{interpolate:{fieldWord:Z(l)}}),size:"small",teleported:M.teleported,disabled:k.value.length==0,"onUpdate:modelValue":ne},{default:v(()=>[(y(!0),P(Ie,null,Re(k.value,ge=>(y(),R(ce,{key:ge.value,label:ge.name,value:ge.value,disabled:ge.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["placeholder","teleported","disabled"])],2)])}}}),die="_parameterItem_1d4nq_5",pie="_parameterInput_1d4nq_9",hie="_hasIssues_1d4nq_12",mie="_parameterIssues_1d4nq_12",fie="_parameterTooltipIcon_1d4nq_22",gie="_addOption_1d4nq_26",yie={parameterItem:die,parameterInput:pie,hasIssues:hie,parameterIssues:mie,parameterTooltipIcon:fie,addOption:gie},wie={$style:yie},bie=te(cie,[["__cssModules",wie]]),vie={class:"mt-4xs","data-test-id":"resource-mapper-container"},Tie=J({__name:"ResourceMapper",props:{parameter:{},node:{},path:{},inputSize:{},labelSize:{},dependentParametersValues:{},teleported:{type:Boolean,default:!0}},emits:["valueChanged"],setup(e,{expose:t,emit:s}){const n=e,o=it(),i=Xe(),r=en({paramValue:{mappingMode:"defineBelow",value:{},matchingColumns:[],schema:[]},parameterValues:{},loading:!1,refreshInProgress:!1,loadingError:!1});jn(()=>n.dependentParametersValues,async(M,z)=>{z!==null&&M!==null&&z!==M&&(r.paramValue={...r.paramValue,value:null,schema:[]},ne(),await O(),T(!0))}),Is(async()=>{n.node&&(r.parameterValues={...r.parameterValues,parameters:n.node.parameters});const M=r.parameterValues.parameters,z=n.parameter.name;if(!(z in M))return;let K=!1;const oe=M[z];r.paramValue={...r.paramValue,...oe},r.paramValue.schema?K=r.paramValue.schema.length>0:r.paramValue={...r.paramValue,schema:[]},Object.keys(r.paramValue.value||{}).forEach(ve=>{r.paramValue.value&&r.paramValue.value[ve]===""&&(r.paramValue={...r.paramValue,value:{...r.paramValue.value,[ve]:null}})}),oe.matchingColumns&&(r.paramValue={...r.paramValue,matchingColumns:oe.matchingColumns}),K||await O(),r.paramValue.value||T(),F()});const l=we(()=>{var M,z;return(z=(M=n.parameter.typeOptions)==null?void 0:M.resourceMapper)==null?void 0:z.mode}),m=we(()=>n.node?o.getNodeType(n.node.type,n.node.typeVersion):null),c=we(()=>{var M,z;return((z=(M=n.parameter.typeOptions)==null?void 0:M.resourceMapper)==null?void 0:z.supportAutoMap)!==!1}),h=we(()=>{var M,z;return!r.loading&&((z=(M=n.parameter.typeOptions)==null?void 0:M.resourceMapper)==null?void 0:z.mode)!=="add"&&r.paramValue.schema.length>0}),p=we(()=>r.paramValue.mappingMode==="defineBelow"&&!r.loading&&!r.loadingError&&r.paramValue.schema.length>0&&w.value),g=we(()=>h.value?r.paramValue.matchingColumns?r.paramValue.matchingColumns:S.value:[]),w=we(()=>l.value!=="add"?r.paramValue.schema.filter(M=>(M.canBeUsedToMatch||M.defaultMatch)&&M.display!==!1&&M.removed!==!0).length>0:!0),S=we(()=>r.paramValue.schema.length===1?[r.paramValue.schema[0].id]:r.paramValue.schema.reduce((M,z)=>(z.defaultMatch&&M.push(z.id),M),[])),k=we(()=>{var M,z,K;return((K=(z=(M=n.parameter.typeOptions)==null?void 0:M.resourceMapper)==null?void 0:z.fieldWords)==null?void 0:K.plural)||Te.baseText("generic.fields")});async function O(M=!1){r.loadingError=!1,M?r.refreshInProgress=!0:r.loading=!0;try{await C(),(!r.paramValue.matchingColumns||r.paramValue.matchingColumns.length===0)&&L(S.value)}catch{r.loadingError=!0}finally{r.loading=!1,r.refreshInProgress=!1}}async function C(){var K,oe,ve;if(!n.node)return;const M={nodeTypeAndVersion:{name:(K=n.node)==null?void 0:K.type,version:n.node.typeVersion},currentNodeParameters:wi(n.node.parameters),path:n.path,methodName:(ve=(oe=n.parameter.typeOptions)==null?void 0:oe.resourceMapper)==null?void 0:ve.resourceMapperMethod,credentials:n.node.credentials},z=await o.getResourceMapperFields(M);if(z!==null){const ae=z.fields.map(ce=>{const pe=r.paramValue.schema.find(ge=>ge.id===ce.id);return pe?ce.removed=pe.removed:r.paramValue.value!==null&&!(ce.id in r.paramValue.value)&&(ce.removed=!1),ce});r.paramValue={...r.paramValue,schema:ae},ne()}}async function A(M){r.paramValue.mappingMode=M,M==="defineBelow"?await O():r.loadingError=!1,ne()}function T(M=!1){var K,oe;r.paramValue.value={};const z=((oe=(K=n.parameter.typeOptions)==null?void 0:K.resourceMapper)==null?void 0:oe.addAllFields)===!1;r.paramValue.schema.forEach(ve=>{r.paramValue.value&&(z&&(ve.removed=!ve.required),ve.type==="boolean"?r.paramValue.value={...r.paramValue.value,[ve.id]:!1}:r.paramValue.value={...r.paramValue.value,[ve.id]:null})}),ne(),(!r.paramValue.matchingColumns||M)&&(r.paramValue.matchingColumns=S.value,ne())}function F(){var M;if(n.node){const z=bh(((M=m.value)==null?void 0:M.properties)||[],n.node);z&&i.updateNodeParameterIssues(z)}}function L(M){r.paramValue={...r.paramValue,matchingColumns:M},r.paramValue.schema.forEach(z=>{var K;(K=r.paramValue.matchingColumns)!=null&&K.includes(z.id)&&(z.removed=!1,r.paramValue.schema.splice(r.paramValue.schema.indexOf(z),1,z))}),r.loading||ne()}function I(M){let z=null;M.value!==void 0&&M.value!==""&&M.value!==null&&K8(M.value)&&(z=M.value);const K=br(M.name);K&&r.paramValue.value&&(r.paramValue.value={...r.paramValue.value,[K]:z},ne())}function j(M){if(M==="removeAllFields")return q();const z=br(M);if(z){const K=r.paramValue.schema.find(oe=>oe.id===z);K&&(Q(K),ne())}}function q(){r.paramValue.schema.forEach(M=>{ES(M,h.value,l.value,g.value)||Q(M)}),ne()}function Q(M){r.paramValue.value&&(delete r.paramValue.value[M.id],M.removed=!0,r.paramValue.schema.splice(r.paramValue.schema.indexOf(M),1,M))}function X(M){if(M==="addAllFields")return U();if(M==="removeAllFields")return q();r.paramValue.value={...r.paramValue.value,[M]:null};const z=r.paramValue.schema.find(K=>K.id===M);z&&(z.removed=!1,r.paramValue.schema.splice(r.paramValue.schema.indexOf(z),1,z)),ne()}function U(){const M={};r.paramValue.schema.forEach(z=>{z.display&&z.removed&&(M[z.id]=null,z.removed=!1,r.paramValue.schema.splice(r.paramValue.schema.indexOf(z),1,z))}),r.paramValue.value={...r.paramValue.value,...M},ne()}function ne(){var M;ie(),s("valueChanged",{name:`${n.path}`,value:r.paramValue,node:(M=n.node)==null?void 0:M.name}),F()}function ie(){if(!r.paramValue.value)return;Object.keys(r.paramValue.value).forEach(z=>{r.paramValue.value&&r.paramValue.value[z]===null&&delete r.paramValue.value[z]})}return t({state:r}),(M,z)=>{var ae,ce;const K=E("n8n-icon"),oe=E("n8n-text"),ve=E("n8n-notice");return y(),P("div",vie,[c.value?(y(),R(oie,{key:0,inputSize:M.inputSize,labelSize:M.labelSize,initialValue:r.paramValue.mappingMode||"defineBelow",typeOptions:n.parameter.typeOptions,serviceName:((ae=m.value)==null?void 0:ae.displayName)||Z(Te).baseText("generic.service"),loading:r.loading,loadingError:r.loadingError,fieldsToMap:r.paramValue.schema,teleported:M.teleported,onModeChanged:A,onRetryFetch:O},null,8,["inputSize","labelSize","initialValue","typeOptions","serviceName","loading","loadingError","fieldsToMap","teleported"])):W("",!0),h.value?(y(),R(rie,{key:1,parameter:n.parameter,"label-size":M.labelSize,fieldsToMap:r.paramValue.schema,typeOptions:n.parameter.typeOptions,inputSize:M.inputSize,loading:r.loading,initialValue:g.value,serviceName:((ce=m.value)==null?void 0:ce.displayName)||Z(Te).baseText("generic.service"),teleported:M.teleported,refreshInProgress:r.refreshInProgress,onMatchingColumnsChanged:L,onRefreshFieldList:z[0]||(z[0]=pe=>O(!0))},null,8,["parameter","label-size","fieldsToMap","typeOptions","inputSize","loading","initialValue","serviceName","teleported","refreshInProgress"])):W("",!0),!c.value&&r.loading?(y(),R(oe,{key:2,size:"small"},{default:v(()=>[b(K,{icon:"sync-alt",size:"xsmall",spin:!0}),V(" "+N(Z(Te).baseText("resourceMapper.fetchingFields.message",{interpolate:{fieldWord:k.value}})),1)]),_:1})):W("",!0),p.value?(y(),R(bie,{key:3,parameter:n.parameter,path:n.path,nodeValues:r.parameterValues,fieldsToMap:r.paramValue.schema,paramValue:r.paramValue,labelSize:M.labelSize,showMatchingColumnsSelector:h.value,showMappingModeSelect:c.value,loading:r.loading,teleported:M.teleported,refreshInProgress:r.refreshInProgress,onFieldValueChanged:I,onRemoveField:j,onAddField:X,onRefreshFieldList:z[1]||(z[1]=pe=>O(!0))},null,8,["parameter","path","nodeValues","fieldsToMap","paramValue","labelSize","showMatchingColumnsSelector","showMappingModeSelect","loading","teleported","refreshInProgress"])):W("",!0),r.paramValue.mappingMode==="autoMapInputData"&&w.value?(y(),R(ve,{key:4},{default:v(()=>{var pe;return[V(N(Z(Te).baseText("resourceMapper.autoMappingNotice",{interpolate:{fieldWord:k.value,serviceName:((pe=m.value)==null?void 0:pe.displayName)||Z(Te).baseText("generic.service")}})),1)]}),_:1})):W("",!0)])}}}),Sie=ho(async()=>qn(()=>import("./FixedCollectionParameter-a046f25c.js"),["assets/FixedCollectionParameter-a046f25c.js","assets/n8n-91a817dd.js","assets/luxon-19e1de07.js","assets/esprima-next-8c7e8ff9.js","assets/vendor-c8bad0e4.js","assets/lodash-es-876af2e5.js","assets/@fortawesome/vue-fontawesome-6e8401ca.js","assets/@fortawesome/fontawesome-svg-core-984d6dde.js","assets/n8n-def62baf.css","assets/FixedCollectionParameter-21fa96fe.css"])),kie=ho(async()=>qn(()=>Promise.resolve().then(()=>Loe),void 0)),Eie=J({name:"ParameterInputList",mixins:[ut],components:{MultipleParameter:zoe,ParameterInputFull:jd,FixedCollectionParameter:Sie,CollectionParameter:kie,ImportParameter:Koe,ResourceMapper:Tie},props:{nodeValues:{type:Object,required:!0},parameters:{type:Array,required:!0},path:{type:String,default:""},hideDelete:{type:Boolean,default:!1},indent:{type:Boolean,default:!1},isReadOnly:{type:Boolean,default:!1},hiddenIssuesInputs:{type:Array,default:()=>[]}},computed:{...be(it,Xe),nodeTypeVersion(){return this.node?this.node.typeVersion:null},nodeTypeName(){return this.node?this.node.type:""},nodeType(){return this.node?this.nodeTypesStore.getNodeType(this.node.type,this.node.typeVersion):null},filteredParameters(){return this.parameters.filter(e=>this.displayNodeParameter(e))},filteredParameterNames(){return this.filteredParameters.map(e=>e.name)},node(){return this.ndvStore.activeNode},nodeAuthFields(){return Zc(this.nodeType)},indexToShowSlotAt(){var n;let e=0;const t=_h.includes(((n=this.nodeType)==null?void 0:n.name)||"")?1:0,s=this.getCredentialsDependencies();return this.filteredParameters.forEach((o,i)=>{s.has(o.name)&&(e=i+t)}),e<this.filteredParameters.length?e:this.filteredParameters.length-1},mainNodeAuthField(){return jo(this.nodeType||null)}},methods:{onParameterBlur(e){this.$emit("parameterBlur",e)},getCredentialsDependencies(){var s,n;const e=new Set,t=this.nodeTypesStore.getNodeType(((s=this.node)==null?void 0:s.type)||"",(n=this.node)==null?void 0:n.typeVersion);if(t&&t.credentials)for(const o of t.credentials)o.displayOptions&&o.displayOptions.show&&Object.keys(o.displayOptions.show).forEach(i=>e.add(i));return e},multipleValues(e){return this.getArgument("multipleValues",e)===!0},getArgument(e,t){if(t.typeOptions!==void 0&&t.typeOptions[e]!==void 0)return t.typeOptions[e]},getPath(e){return(this.path?`${this.path}.`:"")+e},deleteOption(e){const t={name:this.getPath(e),value:void 0};this.$emit("valueChanged",t)},mustHideDuringCustomApiCall(e,t){return e&&e.displayOptions&&e.displayOptions.hide?!0:!["authentication","resource","operation",...Object.keys(t)].includes(e.name)},displayNodeParameter(e){var l,m;if(e.type==="hidden"||this.isCustomApiCallSelected(this.nodeValues)&&this.mustHideDuringCustomApiCall(e,this.nodeValues)||!_h.includes(((l=this.node)==null?void 0:l.type)||"")&&this.mainNodeAuthField&&(e.name===((m=this.mainNodeAuthField)==null?void 0:m.name)||this.shouldHideAuthRelatedParameter(e)))return!1;if(e.displayOptions===void 0)return!0;const t={};let s=this.nodeValues;this.path&&(s=jt(this.nodeValues,this.path));const n=Object.keys(s);let o,i=0,r=!1;do{if(o=n.shift(),typeof s[o]=="string"&&s[o].charAt(0)==="=")if(s[o].includes("$parameter")&&n.some(c=>s[o].includes(c))){n.push(o);continue}else{try{t[o]=this.resolveExpression(s[o],t)}catch{t[o]=""}r=!0}else t[o]=s[o];if(i++>50)break}while(n.length!==0);return r===!0?this.path?(s=at(this.nodeValues),Ao(s,this.path,t),this.displayParameter(s,e,this.path,this.node)):this.displayParameter(t,e,"",this.node):this.displayParameter(this.nodeValues,e,this.path,this.node)},valueChanged(e){this.$emit("valueChanged",e)},onNoticeAction(e){e==="activate"&&this.$emit("activate")},isNodeAuthField(e){return this.nodeAuthFields.find(t=>t.name===e)!==void 0},shouldHideAuthRelatedParameter(e){return TS(this.nodeAuthFields,e)},shouldShowOptions(e){return e.type!=="resourceMapper"},getDependentParametersValues(e){var n;const t=this.getArgument("loadOptionsDependsOn",e);if(t===void 0)return null;const s=(n=this.ndvStore.activeNode)==null?void 0:n.parameters;try{const o=this.resolveParameter(s),i=[];for(const r of t)i.push(jt(o,r));return i.join("|")}catch{return null}}},watch:{filteredParameterNames(e,t){var s;if(e!==void 0){for(const n of t)if(!e.includes(n)){const o={name:`${this.path}.${n}`,node:((s=this.ndvStore.activeNode)==null?void 0:s.name)||"",value:void 0};this.$emit("valueChanged",o)}}}}});const xie={class:"parameter-input-list-wrapper"},Cie={key:1,class:"parameter-item"},Oie={key:4,class:"multi-parameter"},Die=["title"],Aie={key:6,class:"parameter-item"},$ie=["title"];function Nie(e,t,s,n,o,i){const r=E("multiple-parameter"),l=E("import-parameter"),m=E("n8n-notice"),c=E("font-awesome-icon"),h=E("n8n-input-label"),p=E("collection-parameter"),g=E("fixed-collection-parameter"),w=E("resource-mapper"),S=E("parameter-input-full");return y(),P("div",xie,[(y(!0),P(Ie,null,Re(e.filteredParameters,(k,O)=>(y(),P("div",{key:k.name,class:$({indent:e.indent}),"data-test-id":"parameter-item"},[e.indexToShowSlotAt===O?Ke(e.$slots,"default",{key:0}):W("",!0),e.multipleValues(k)===!0&&k.type!=="fixedCollection"?(y(),P("div",Cie,[b(r,{parameter:k,values:e.getParameterValue(e.nodeValues,k.name,e.path),nodeValues:e.nodeValues,path:e.getPath(k.name),isReadOnly:e.isReadOnly,onValueChanged:e.valueChanged},null,8,["parameter","values","nodeValues","path","isReadOnly","onValueChanged"])])):k.type==="curlImport"&&e.nodeTypeName==="n8n-nodes-base.httpRequest"&&e.nodeTypeVersion>=3?(y(),R(l,{key:2,isReadOnly:e.isReadOnly,onValueChanged:e.valueChanged},null,8,["isReadOnly","onValueChanged"])):k.type==="notice"?(y(),R(m,{key:3,class:"parameter-item",content:e.$locale.nodeText().inputLabelDisplayName(k,e.path),onAction:e.onNoticeAction},null,8,["content","onAction"])):["collection","fixedCollection"].includes(k.type)?(y(),P("div",Oie,[e.hideDelete!==!0&&!e.isReadOnly?(y(),P("div",{key:0,class:"delete-option clickable",title:e.$locale.baseText("parameterInputList.delete")},[b(c,{icon:"trash",class:"reset-icon clickable",title:e.$locale.baseText("parameterInputList.parameterOptions"),onClick:C=>e.deleteOption(k.name)},null,8,["title","onClick"])],8,Die)):W("",!0),b(h,{label:e.$locale.nodeText().inputLabelDisplayName(k,e.path),tooltipText:e.$locale.nodeText().inputLabelDescription(k,e.path),size:"small",underline:!0,color:"text-dark"},null,8,["label","tooltipText"]),(y(),R(No,null,{default:v(()=>[k.type==="collection"?(y(),R(p,{key:0,parameter:k,values:e.getParameterValue(e.nodeValues,k.name,e.path),nodeValues:e.nodeValues,path:e.getPath(k.name),isReadOnly:e.isReadOnly,onValueChanged:e.valueChanged},null,8,["parameter","values","nodeValues","path","isReadOnly","onValueChanged"])):k.type==="fixedCollection"?(y(),R(g,{key:1,parameter:k,values:e.getParameterValue(e.nodeValues,k.name,e.path),nodeValues:e.nodeValues,path:e.getPath(k.name),isReadOnly:e.isReadOnly,onValueChanged:e.valueChanged},null,8,["parameter","values","nodeValues","path","isReadOnly","onValueChanged"])):W("",!0)]),_:2},1024))])):k.type==="resourceMapper"?(y(),R(w,{key:5,parameter:k,node:e.node,path:e.getPath(k.name),dependentParametersValues:e.getDependentParametersValues(k),inputSize:"small",labelSize:"small",onValueChanged:e.valueChanged},null,8,["parameter","node","path","dependentParametersValues","onValueChanged"])):e.displayNodeParameter(k)?(y(),P("div",Aie,[e.hideDelete!==!0&&!e.isReadOnly?(y(),P("div",{key:0,class:"delete-option clickable",title:e.$locale.baseText("parameterInputList.delete")},[b(c,{icon:"trash",class:"reset-icon clickable",title:e.$locale.baseText("parameterInputList.deleteParameter"),onClick:C=>e.deleteOption(k.name)},null,8,["title","onClick"])],8,$ie)):W("",!0),b(S,{parameter:k,"hide-issues":e.hiddenIssuesInputs.includes(k.name),value:e.getParameterValue(e.nodeValues,k.name,e.path),displayOptions:e.shouldShowOptions(k),path:e.getPath(k.name),isReadOnly:e.isReadOnly,hideLabel:!1,nodeValues:e.nodeValues,onUpdate:e.valueChanged,onBlur:C=>e.onParameterBlur(k.name)},null,8,["parameter","hide-issues","value","displayOptions","path","isReadOnly","nodeValues","onUpdate","onBlur"])])):W("",!0)],2))),128)),e.filteredParameters.length===0?(y(),P("div",{key:0,class:$({indent:e.indent})},[Ke(e.$slots,"default")],2)):W("",!0)])}const Hg=te(Eie,[["render",Nie]]),_ie=Object.freeze(Object.defineProperty({__proto__:null,default:Hg},Symbol.toStringTag,{value:"Module"}));function Cv(e,t="n8n-nodes-base.stickyNote"){return{id:e.id,name:e.id,typeVersion:1,type:t,position:[0,0],credentials:{...e.credentials},parameters:{...e}}}const Pie=[{displayName:"Method",name:"method",noDataExpression:!0,type:"options",options:[{name:"GET",value:"GET"},{name:"POST",value:"POST"},{name:"PUT",value:"PUT"}],default:"POST",description:"The request method to use"},{displayName:"URL",name:"url",type:"string",noDataExpression:!0,default:"",placeholder:"http://example.com/index.html",description:"The URL to make the request to"},{displayName:"Generic Auth Type (OAuth not supported yet)",name:"genericAuthType",type:"credentialsSelect",default:"",credentialTypes:["has:genericAuth"],displayOptions:{show:{authentication:["genericCredentialType"]}}},{displayName:"Add Query Parameters",name:"sendQuery",type:"boolean",default:!1,noDataExpression:!0,description:"Whether the request has query params or not"},{displayName:"Specify Query Parameters",name:"specifyQuery",type:"options",displayOptions:{show:{sendQuery:[!0]}},options:[{name:"Using Fields Below",value:"keypair"},{name:"Using JSON",value:"json"}],default:"keypair"},{displayName:"Add Query Parameters",name:"queryParameters",type:"fixedCollection",displayOptions:{show:{sendQuery:[!0],specifyQuery:["keypair"]}},typeOptions:{multipleValues:!0},placeholder:"Add Parameter",default:{parameters:[{name:"",value:""}]},options:[{name:"parameters",displayName:"Parameter",values:[{displayName:"Name",name:"name",type:"string",default:""},{displayName:"Value",name:"value",type:"string",default:""}]}]},{displayName:"JSON",name:"jsonQuery",type:"json",displayOptions:{show:{sendQuery:[!0],specifyQuery:["json"]}},default:""},{displayName:"Add Headers",name:"sendHeaders",type:"boolean",default:!1,noDataExpression:!0,description:"Whether the request has headers or not"},{displayName:"Specify Headers",name:"specifyHeaders",type:"options",displayOptions:{show:{sendHeaders:[!0]}},options:[{name:"Using Fields Below",value:"keypair"},{name:"Using JSON",value:"json"}],default:"keypair"},{displayName:"Header Parameters",name:"headerParameters",type:"fixedCollection",displayOptions:{show:{sendHeaders:[!0],specifyHeaders:["keypair"]}},typeOptions:{multipleValues:!0},placeholder:"Add Parameter",default:{parameters:[{name:"",value:""}]},options:[{name:"parameters",displayName:"Parameter",values:[{displayName:"Name",name:"name",type:"string",default:""},{displayName:"Value",name:"value",type:"string",default:""}]}]},{displayName:"JSON",name:"jsonHeaders",type:"json",displayOptions:{show:{sendHeaders:[!0],specifyHeaders:["json"]}},default:""},{displayName:"Options",name:"options",type:"collection",placeholder:"Add Option",default:{},options:[{displayName:"Ignore SSL Issues",name:"allowUnauthorizedCerts",type:"boolean",noDataExpression:!0,default:!1,description:"Whether to ignore SSL certificate validation"},{displayName:"Array Format in Query Parameters",name:"queryParameterArrays",type:"options",displayOptions:{show:{"/sendQuery":[!0]}},options:[{name:"No Brackets",value:"repeat",description:"e.g. foo=bar&foo=qux"},{name:"Brackets Only",value:"brackets",description:"e.g. foo[]=bar&foo[]=qux"},{name:"Brackets with Indices",value:"indices",description:"e.g. foo[0]=bar&foo[1]=qux"}],default:"brackets"},{displayName:"Redirects",name:"redirect",placeholder:"Add Redirect",type:"fixedCollection",typeOptions:{multipleValues:!1},default:{redirect:{}},options:[{displayName:"Redirect",name:"redirect",values:[{displayName:"Follow Redirects",name:"followRedirects",type:"boolean",default:!1,noDataExpression:!0,description:"Whether to follow all redirects"},{displayName:"Max Redirects",name:"maxRedirects",type:"number",displayOptions:{show:{followRedirects:[!0]}},default:21,description:"Max number of redirects to follow"}]}]},{displayName:"Proxy",name:"proxy",description:"Add Proxy",type:"fixedCollection",typeOptions:{multipleValues:!1},default:{proxy:{}},options:[{displayName:"Proxy",name:"proxy",values:[{displayName:"Protocol",name:"protocol",type:"options",default:"https",options:[{name:"HTTPS",value:"https"},{name:"HTTP",value:"http"}]},{displayName:"Host",name:"host",type:"string",default:"127.0.0.1",description:"Proxy Host (without protocol or port)"},{displayName:"Port",name:"port",type:"number",default:9e3,description:"Proxy Port"}]}]},{displayName:"Timeout",name:"timeout",type:"number",typeOptions:{minValue:1},default:1e4,description:"Time in ms to wait for the server to send response headers (and start the response body) before aborting the request"}]}],Iie=[{displayName:"Host",name:"host",type:"string",default:"127.0.0.1",placeholder:"127.0.0.1",description:"The IP or host name to make the request to",noDataExpression:!0},{displayName:"Port",name:"port",type:"number",default:"514",placeholder:"514",description:"The port number to make the request to",noDataExpression:!0},{displayName:"Protocol",name:"protocol",type:"options",options:[{name:"TCP",value:"tcp"},{name:"UDP",value:"udp"}],default:"udp",description:"The protocol to use for the connection"},{displayName:"Facility",name:"facility",type:"options",options:[{name:"Kernel",value:0},{name:"User",value:1},{name:"System",value:3},{name:"Audit",value:13},{name:"Alert",value:14},{name:"Local0",value:16},{name:"Local1",value:17},{name:"Local2",value:18},{name:"Local3",value:19},{name:"Local4",value:20},{name:"Local5",value:21},{name:"Local6",value:22},{name:"Local7",value:23}],default:"16",description:"Syslog facility parameter"},{displayName:"App Name",name:"app_name",type:"string",default:"n8n",placeholder:"n8n",noDataExpression:!0,description:"Syslog app name parameter"}],Mie=[{displayName:"DSN",name:"dsn",type:"string",default:"https://",noDataExpression:!0,description:"Your Sentry DSN Client Key"}],Lie={name:"event-selection",props:{destinationId:{type:String,default:"defaultDestinationId"},readonly:Boolean},components:{Checkbox:mD},data(){return{unchanged:!0}},computed:{...be(Jc),anonymizeAuditMessages(){var e;return(e=this.logStreamingStore.items[this.destinationId])==null?void 0:e.destination.anonymizeAuditMessages}},methods:{onInput(){this.$emit("input")},onCheckboxChecked(e,t){this.logStreamingStore.setSelectedInGroup(this.destinationId,e,t),this.$forceUpdate()},anonymizeAuditMessagesChanged(e){this.logStreamingStore.items[this.destinationId].destination.anonymizeAuditMessages=e,this.$emit("change",{name:"anonymizeAuditMessages",node:this.destinationId,value:e}),this.$forceUpdate()},groupLabelName(e){return this.$locale.baseText(`settings.log-streaming.eventGroup.${e}`)??e},groupLabelInfo(e){const t=`settings.log-streaming.eventGroup.${e}.info`,s=this.$locale.baseText(t);if(!(s===t||s===""))return s}}},Fie="_eventListCard_4f4zx_5",Bie="_eventList_4f4zx_5",Rie="_eventListItem_4f4zx_17",Vie="_eventListItemDisabled_4f4zx_25",Uie="_listItem_4f4zx_32",Wie={eventListCard:Fie,eventList:Bie,eventListItem:Rie,eventListItemDisabled:Vie,listItem:Uie};function jie(e,t,s,n,o,i){var c;const r=E("n8n-icon"),l=E("n8n-tooltip"),m=E("checkbox");return y(),P("div",null,[(y(!0),P(Ie,null,Re((c=e.logStreamingStore.items[s.destinationId])==null?void 0:c.eventGroups,h=>{var p;return y(),P("div",{key:h.name,shadow:"never"},[b(m,{modelValue:h.selected,indeterminate:!h.selected&&h.indeterminate,"onUpdate:modelValue":i.onInput,onChange:g=>i.onCheckboxChecked(h.name,g),disabled:s.readonly},{default:v(()=>[D("strong",null,N(i.groupLabelName(h.name)),1),i.groupLabelInfo(h.name)?(y(),R(l,{key:0,placement:"top","popper-class":e.$style.tooltipPopper,class:"ml-xs"},{content:v(()=>[V(N(i.groupLabelInfo(h.name)),1)]),default:v(()=>[b(r,{icon:"question-circle",size:"small",class:"ml-4xs"})]),_:2},1032,["popper-class"])):W("",!0)]),_:2},1032,["modelValue","indeterminate","onUpdate:modelValue","onChange","disabled"]),h.name==="n8n.audit"?(y(),R(m,{key:0,modelValue:(p=e.logStreamingStore.items[s.destinationId])==null?void 0:p.destination.anonymizeAuditMessages,"onUpdate:modelValue":i.onInput,onChange:i.anonymizeAuditMessagesChanged,disabled:s.readonly},{default:v(()=>[V(N(e.$locale.baseText("settings.log-streaming.tab.events.anonymize"))+" ",1),b(l,{placement:"top","popper-class":e.$style.tooltipPopper},{content:v(()=>[V(N(e.$locale.baseText("settings.log-streaming.tab.events.anonymize.info")),1)]),default:v(()=>[b(r,{icon:"question-circle",size:"small",class:"ml-4xs"})]),_:1},8,["popper-class"])]),_:1},8,["modelValue","onUpdate:modelValue","onChange","disabled"])):W("",!0),D("ul",{class:$(e.$style.eventList)},[(y(!0),P(Ie,null,Re(h.children,g=>(y(),P("li",{key:g.name,class:$(`${e.$style.eventListItem} ${h.selected?e.$style.eventListItemDisabled:""}`)},[b(m,{modelValue:g.selected||h.selected,indeterminate:g.indeterminate,disabled:h.selected||s.readonly,"onUpdate:modelValue":i.onInput,onChange:w=>i.onCheckboxChecked(g.name,w)},{default:v(()=>[V(N(g.label)+" ",1),b(l,{placement:"top","popper-class":e.$style.tooltipPopper},{content:v(()=>[V(N(g.name),1)]),_:2},1032,["popper-class"])]),_:2},1032,["modelValue","indeterminate","disabled","onUpdate:modelValue","onChange"])],2))),128))],2)])}),128))])}const qie={$style:Wie},zie=te(Lie,[["render",jie],["__cssModules",qie]]),Hie=J({name:"event-destination-settings-modal",props:{modalName:String,destination:{type:Object,default:()=>at(pi)},isNew:Boolean,eventBus:{type:Object}},components:{Modal:Mt,ParameterInputList:Hg,InlineNameEdit:F0,SaveButton:zg,EventSelection:zie},setup(){return{...St()}},data(){return{unchanged:!this.isNew,activeTab:"settings",hasOnceBeenSaved:!this.isNew,isSaving:!1,isDeleting:!1,loading:!1,showRemoveConfirm:!1,typeSelectValue:"",typeSelectPlaceholder:"Destination Type",nodeParameters:at(pi),webhookDescription:Pie,sentryDescription:Mie,syslogDescription:Iie,modalBus:Ze(),headerLabel:this.destination.label,testMessageSent:!1,testMessageResult:!1,isInstanceOwner:!1,LOG_STREAM_MODAL_KEY:Tr}},computed:{...be(Ee,Ge,Jc,Xe,_e),typeSelectOptions(){const e=[];for(const t of Object.values(Jn))t!==Jn.abstract&&e.push({value:t,label:`settings.log-streaming.${t}`});return e},isTypeAbstract(){return this.nodeParameters.__type===Jn.abstract},isTypeWebhook(){return this.nodeParameters.__type===Jn.webhook},isTypeSyslog(){return this.nodeParameters.__type===Jn.syslog},isTypeSentry(){return this.nodeParameters.__type===Jn.sentry},node(){return Cv(this.nodeParameters)},typeLabelName(){return`settings.log-streaming.${this.nodeParameters.__type}`},sidebarItems(){const e=[{id:"settings",label:this.$locale.baseText("settings.log-streaming.tab.settings"),position:"top"}];return this.isTypeAbstract||e.push({id:"events",label:this.$locale.baseText("settings.log-streaming.tab.events"),position:"top"}),e}},mounted(){var e,t;this.isInstanceOwner=((t=(e=this.usersStore.currentUser)==null?void 0:e.globalRole)==null?void 0:t.name)==="owner",this.setupNode(Object.assign(at(pi),this.destination)),this.workflowsStore.$onAction(({name:s,args:n})=>{if(s==="updateNodeProperties")for(const o of n)o.name===this.destination.id&&"credentials"in o.properties&&(this.unchanged=!1,this.nodeParameters.credentials=o.properties.credentials)})},methods:{onInput(){this.unchanged=!1,this.testMessageSent=!1},onTabSelect(e){this.activeTab=e},onLabelChange(e){this.onInput(),this.headerLabel=e,this.nodeParameters.label=e},setupNode(e){this.workflowsStore.removeNode(this.node),this.ndvStore.activeNodeName=e.id??"thisshouldnothappen",this.workflowsStore.addNode(Cv(e)),this.nodeParameters=e,this.logStreamingStore.items[this.destination.id].destination=e},onTypeSelectInput(e){this.typeSelectValue=e},async onContinueAddClicked(){let e;switch(this.typeSelectValue){case Jn.syslog:e=Object.assign(at(yD),{id:this.destination.id});break;case Jn.sentry:e=Object.assign(at(gD),{id:this.destination.id});break;case Jn.webhook:e=Object.assign(at(fD),{id:this.destination.id});break}e&&(this.headerLabel=(e==null?void 0:e.label)??this.headerLabel,this.setupNode(e))},valueChanged(e){var i;this.unchanged=!1,this.testMessageSent=!1;const t=e.value,s=(i=e.name)!=null&&i.startsWith("parameters.")?e.name.split(".").slice(1).join("."):e.name||"",n=at(this.nodeParameters),o=s.match(/(.*)\[(\d+)\]$/);if(e.value===void 0&&o!==null){const r=o[1],l=o[2],m=jt(n,r);Array.isArray(m)&&(m.splice(parseInt(l,10),1),n[r]=m)}else t===void 0?vh(n,s):Ao(n,s,t);this.nodeParameters=at(n),this.workflowsStore.updateNodeProperties({name:this.node.name,properties:{parameters:this.nodeParameters,position:[0,0]}}),this.hasOnceBeenSaved&&this.logStreamingStore.updateDestination(this.nodeParameters)},async sendTestEvent(){this.testMessageResult=await this.logStreamingStore.sendTestMessage(this.nodeParameters),this.testMessageSent=!0},async removeThis(){await this.confirm(this.$locale.baseText("settings.log-streaming.destinationDelete.message",{interpolate:{destinationName:this.destination.label}}),this.$locale.baseText("settings.log-streaming.destinationDelete.headline"),{type:"warning",confirmButtonText:this.$locale.baseText("settings.log-streaming.destinationDelete.confirmButtonText"),cancelButtonText:this.$locale.baseText("settings.log-streaming.destinationDelete.cancelButtonText")})===bt&&(this.eventBus.emit("remove",this.destination.id),this.uiStore.closeModal(Tr),this.uiStore.stateIsDirty=!1)},onModalClose(){this.hasOnceBeenSaved||(this.workflowsStore.removeNode(this.node),this.logStreamingStore.removeDestination(this.nodeParameters.id)),this.ndvStore.activeNodeName=null,this.eventBus.emit("closing",this.destination.id),this.uiStore.stateIsDirty=!1},async saveDestination(){if(this.unchanged||!this.destination.id)return;await this.logStreamingStore.saveDestination(this.nodeParameters)===!0&&(this.hasOnceBeenSaved=!0,this.testMessageSent=!1,this.unchanged=!0,this.eventBus.emit("destinationWasSaved",this.destination.id),this.uiStore.stateIsDirty=!1)}}}),Qie="_labelMargins_m3fg6_5",Gie="_typeSelector_m3fg6_10",Yie="_sidebarSwitches_m3fg6_16",Xie="_tabbar_m3fg6_24",Kie="_mainContent_m3fg6_28",Jie="_sidebar_m3fg6_16",Zie="_cardTitle_m3fg6_47",ere="_header_m3fg6_52",tre="_headerCreate_m3fg6_57",sre="_container_m3fg6_62",nre="_destinationInfo_m3fg6_67",ore="_destinationActions_m3fg6_75",ire={labelMargins:Qie,typeSelector:Gie,sidebarSwitches:Yie,tabbar:Xie,mainContent:Kie,sidebar:Jie,cardTitle:Zie,header:ere,headerCreate:tre,container:sre,destinationInfo:nre,destinationActions:ore},rre=D("span",null,"Add new destination",-1),are=[rre],lre=D("hr",null,null,-1),ure={class:"mt-m text-right"},cre={class:""};function dre(e,t,s,n,o,i){const r=E("InlineNameEdit"),l=E("n8n-button"),m=E("n8n-icon-button"),c=E("SaveButton"),h=E("n8n-option"),p=E("n8n-select"),g=E("n8n-input-label"),w=E("n8n-menu"),S=E("parameter-input-list"),k=E("event-selection"),O=E("Modal");return y(),R(O,{name:e.modalName,eventBus:e.modalBus,beforeClose:e.onModalClose,scrollable:!0,center:!0,loading:e.loading,minWidth:e.isTypeAbstract?"460px":"70%",maxWidth:e.isTypeAbstract?"460px":"70%",minHeight:e.isTypeAbstract?"160px":"650px",maxHeight:e.isTypeAbstract?"300px":"650px","data-test-id":"destination-modal"},{header:v(()=>[e.isTypeAbstract?(y(),P("div",{key:0,class:$(e.$style.headerCreate)},are,2)):(y(),P(Ie,{key:1},[D("div",{class:$(e.$style.header)},[D("div",{class:$(e.$style.destinationInfo)},[b(r,{modelValue:e.headerLabel,subtitle:e.isTypeAbstract?"Select type":e.$locale.baseText(e.typeLabelName),readonly:e.isTypeAbstract,type:"Credential","data-test-id":"subtitle-showing-type","onUpdate:modelValue":e.onLabelChange},null,8,["modelValue","subtitle","readonly","onUpdate:modelValue"])],2),D("div",{class:$(e.$style.destinationActions)},[e.nodeParameters&&e.hasOnceBeenSaved&&e.unchanged?(y(),R(l,{key:0,icon:e.testMessageSent?e.testMessageResult?"check":"exclamation-triangle":"",title:e.testMessageSent&&e.testMessageResult?"Event sent and returned OK":"Event returned with error",type:"tertiary",label:"Send Test-Event",disabled:!e.hasOnceBeenSaved||!e.unchanged,onClick:e.sendTestEvent,"data-test-id":"destination-test-button"},null,8,["icon","title","disabled","onClick"])):W("",!0),e.isInstanceOwner?(y(),P(Ie,{key:1},[e.nodeParameters&&e.hasOnceBeenSaved?(y(),R(m,{key:0,title:e.$locale.baseText("settings.log-streaming.delete"),icon:"trash",type:"tertiary",disabled:e.isSaving,loading:e.isDeleting,onClick:e.removeThis,"data-test-id":"destination-delete-button"},null,8,["title","disabled","loading","onClick"])):W("",!0),b(c,{saved:e.unchanged&&e.hasOnceBeenSaved,disabled:e.isTypeAbstract||e.unchanged,savingLabel:e.$locale.baseText("settings.log-streaming.saving"),onClick:e.saveDestination,"data-test-id":"destination-save-button"},null,8,["saved","disabled","savingLabel","onClick"])],64)):W("",!0)],2)],2),lre],64))]),content:v(()=>[D("div",{class:$(e.$style.container)},[e.isTypeAbstract?(y(),R(g,{key:0,class:$(e.$style.typeSelector),label:e.$locale.baseText("settings.log-streaming.selecttype"),tooltipText:e.$locale.baseText("settings.log-streaming.selecttypehint"),bold:!1,size:"medium",underline:!1},{default:v(()=>[b(p,{modelValue:e.typeSelectValue,placeholder:e.typeSelectPlaceholder,"onUpdate:modelValue":e.onTypeSelectInput,"data-test-id":"select-destination-type",name:"name",ref:"typeSelectRef"},{default:v(()=>[(y(!0),P(Ie,null,Re(e.typeSelectOptions||[],C=>(y(),R(h,{key:C.value,value:C.value,label:e.$locale.baseText(C.label)},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder","onUpdate:modelValue"]),D("div",ure,[b(l,{size:"large",onClick:e.onContinueAddClicked,"data-test-id":"select-destination-button",disabled:!e.typeSelectValue},{default:v(()=>[V(N(e.$locale.baseText("settings.log-streaming.continue")),1)]),_:1},8,["onClick","disabled"])])]),_:1},8,["class","label","tooltipText"])):(y(),P(Ie,{key:1},[D("div",{class:$(e.$style.sidebar)},[b(w,{mode:"tabs",items:e.sidebarItems,onSelect:e.onTabSelect},null,8,["items","onSelect"])],2),e.activeTab==="settings"?(y(),P("div",{key:0,class:$(e.$style.mainContent),ref:"content"},[e.isTypeWebhook?(y(),R(S,{key:0,parameters:e.webhookDescription,hideDelete:!0,nodeValues:e.nodeParameters,isReadOnly:!e.isInstanceOwner,path:"",onValueChanged:e.valueChanged},null,8,["parameters","nodeValues","isReadOnly","onValueChanged"])):e.isTypeSyslog?(y(),R(S,{key:1,parameters:e.syslogDescription,hideDelete:!0,nodeValues:e.nodeParameters,isReadOnly:!e.isInstanceOwner,path:"",onValueChanged:e.valueChanged},null,8,["parameters","nodeValues","isReadOnly","onValueChanged"])):e.isTypeSentry?(y(),R(S,{key:2,parameters:e.sentryDescription,hideDelete:!0,nodeValues:e.nodeParameters,isReadOnly:!e.isInstanceOwner,path:"",onValueChanged:e.valueChanged},null,8,["parameters","nodeValues","isReadOnly","onValueChanged"])):W("",!0)],2)):W("",!0),e.activeTab==="events"?(y(),P("div",{key:1,class:$(e.$style.mainContent)},[D("div",cre,[b(g,{class:"mb-m mt-m",label:e.$locale.baseText("settings.log-streaming.tab.events.title"),bold:!0,size:"medium",underline:!1},null,8,["label"]),b(k,{destinationId:e.destination.id,onInput:e.onInput,onChange:e.valueChanged,readonly:!e.isInstanceOwner},null,8,["destinationId","onInput","onChange","readonly"])])],2)):W("",!0)],64))],2)]),_:1},8,["name","eventBus","beforeClose","loading","minWidth","maxWidth","minHeight","maxHeight"])}const pre={$style:ire},hre=te(Hie,[["render",dre],["__cssModules",pre]]),mre={key:0},fre={key:0},gre={class:"mt-l mb-2xs"},yre={key:0},wre={key:1},bre={key:2},vre={key:1},Tre=J({__name:"SourceControlPushModal.ee",props:{data:{type:Object,default:()=>({})}},setup(e){const t=e,s=["tags","variables","credential"],n=td(),o=Ee(),i=je(),r=Lt(),l=Fs(),m=Ic(),c=Be({}),h=Be(t.data.status.filter((M,z,K)=>M.location==="remote"&&M.type==="workflow"&&M.status==="created"?!1:K.findIndex(oe=>oe.id===M.id)===z)||[]),p=Be(""),g=Be(!0),w=Be(""),S={created:"success",deleted:"danger",modified:"warning",renamed:"warning"},k=we(()=>!p.value||Object.values(c.value).every(M=>!M)),O=we(()=>w.value==="workflow"?m.params.name:""),C=we(()=>{const M={modified:1,renamed:2,created:3,deleted:4};return[...h.value].sort((z,K)=>{if(w.value==="workflow"){if(z.id===O.value)return-1;if(K.id===O.value)return 1}return M[z.status]<M[K.status]?-1:M[z.status]>M[K.status]||z.updatedAt<K.updatedAt?1:z.updatedAt>K.updatedAt?-1:0})}),A=we(()=>h.value.every(M=>c.value[M.file])),T=we(()=>h.value.filter(M=>M.type==="workflow")),F=we(()=>T.value.filter(M=>c.value[M.file])),L=we(()=>F.value.length>0&&F.value.length<T.value.length);Is(async()=>{w.value=j();try{c.value=q(h.value)}catch(M){i.showError(M,r.baseText("error"))}finally{g.value=!1}});function I(){A.value?h.value.forEach(M=>{s.includes(M.type)||(c.value[M.file]=!1)}):h.value.forEach(M=>{s.includes(M.type)||(c.value[M.file]=!0)})}function j(){return m.fullPath.startsWith("/workflows")?"workflows":m.fullPath.startsWith("/credentials")||o.modals[Ws].open?"credentials":m.fullPath.startsWith("/workflow/")?"workflow":""}function q(M){const z=M.reduce((K,oe)=>(K[oe.file]=!1,K),{});return M.forEach(K=>{s.includes(K.type)&&(z[K.file]=!0),w.value==="workflow"&&K.type==="workflow"&&K.id===O.value&&(z[K.file]=!0)}),z}function Q(M,z){c.value={...c.value,[M.file]:z}}function X(){o.closeModal(Sr)}function U(M){const z=new Date().getFullYear();return r.baseText("settings.sourceControl.lastUpdated",{interpolate:{date:fi(M.updatedAt,`d mmm${M.updatedAt.startsWith(z)?"":", yyyy"}`),time:fi(M.updatedAt,"HH:MM")}})}async function ne(){k.value||await ie()}async function ie(){const M=h.value.filter(z=>c.value[z.file]);n.startLoading(r.baseText("settings.sourceControl.loading.push")),X();try{await l.pushWorkfolder({force:!0,commitMessage:p.value,fileNames:M}),i.showToast({title:r.baseText("settings.sourceControl.modals.push.success.title"),message:r.baseText("settings.sourceControl.modals.push.success.description"),type:"success"})}catch(z){i.showError(z,r.baseText("error"))}finally{n.stopLoading()}}return(M,z)=>{const K=E("n8n-link"),oe=E("n8n-text"),ve=E("n8n-checkbox"),ae=E("n8n-badge"),ce=E("n8n-card"),pe=E("i18n-t"),ge=E("n8n-notice"),Ae=E("n8n-input"),ue=E("n8n-button");return y(),R(Mt,{width:"812px",title:Z(r).baseText("settings.sourceControl.modals.push.title"),eventBus:e.data.eventBus,name:Z(Sr)},{content:v(()=>[D("div",{class:$(M.$style.container)},[h.value.length>0?(y(),P("div",mre,[T.value.length>0?(y(),P("div",fre,[b(oe,null,{default:v(()=>[V(N(Z(r).baseText("settings.sourceControl.modals.push.description"))+" ",1),b(K,{to:Z(r).baseText("settings.sourceControl.docs.using.pushPull.url")},{default:v(()=>[V(N(Z(r).baseText("settings.sourceControl.modals.push.description.learnMore")),1)]),_:1},8,["to"])]),_:1}),D("div",gre,[b(ve,{indeterminate:L.value,modelValue:A.value,"onUpdate:modelValue":I},{default:v(()=>[b(oe,{bold:"",tag:"strong"},{default:v(()=>[V(N(Z(r).baseText("settings.sourceControl.modals.push.workflowsToCommit")),1)]),_:1}),He(b(oe,{tag:"strong"},{default:v(()=>[V(" ("+N(F.value.length)+"/"+N(T.value.length)+") ",1)]),_:1},512),[[nt,T.value.length>0]])]),_:1},8,["indeterminate","modelValue"])]),(y(!0),P(Ie,null,Re(C.value,Ce=>He((y(),R(ce,{key:Ce.file,class:$(M.$style.listItem),onClick:re=>Q(Ce,!c.value[Ce.file])},{default:v(()=>[D("div",{class:$(M.$style.listItemBody)},[b(ve,{modelValue:c.value[Ce.file],class:$(M.$style.listItemCheckbox),"onUpdate:modelValue":re=>Q(Ce,!c.value[Ce.file])},null,8,["modelValue","class","onUpdate:modelValue"]),D("div",null,[Ce.status==="deleted"?(y(),R(oe,{key:0,color:"text-light"},{default:v(()=>[Ce.type==="workflow"?(y(),P("span",yre," Deleted Workflow: ")):W("",!0),Ce.type==="credential"?(y(),P("span",wre," Deleted Credential: ")):W("",!0),D("strong",null,N(Ce.name||Ce.id),1)]),_:2},1024)):(y(),R(oe,{key:1,bold:""},{default:v(()=>[V(N(Ce.name),1)]),_:2},1024)),Ce.updatedAt?(y(),P("div",bre,[b(oe,{color:"text-light",size:"small"},{default:v(()=>[V(N(U(Ce)),1)]),_:2},1024)])):W("",!0)]),D("div",{class:$(M.$style.listItemStatus)},[O.value===Ce.id&&Ce.type==="workflow"?(y(),R(ae,{key:0,class:"mr-2xs"},{default:v(()=>[V(" Current workflow ")]),_:1})):W("",!0),b(ae,{theme:S[Ce.status]||"default"},{default:v(()=>[V(N(Z(r).baseText(`settings.sourceControl.status.${Ce.status}`)),1)]),_:2},1032,["theme"])],2)],2)]),_:2},1032,["class","onClick"])),[[nt,!s.includes(Ce.type)]])),128))])):(y(),R(ge,{key:1,class:"mt-0"},{default:v(()=>[b(pe,{keypath:"settings.sourceControl.modals.push.noWorkflowChanges"},{link:v(()=>[b(K,{size:"small",to:Z(r).baseText("settings.sourceControl.docs.using.url")},{default:v(()=>[V(N(Z(r).baseText("settings.sourceControl.modals.push.noWorkflowChanges.moreInfo")),1)]),_:1},8,["to"])]),_:1})]),_:1})),b(oe,{bold:"",tag:"p",class:"mt-l mb-2xs"},{default:v(()=>[V(N(Z(r).baseText("settings.sourceControl.modals.push.commitMessage")),1)]),_:1}),b(Ae,{type:"text",modelValue:p.value,"onUpdate:modelValue":z[0]||(z[0]=Ce=>p.value=Ce),placeholder:Z(r).baseText("settings.sourceControl.modals.push.commitMessage.placeholder"),onKeydown:Ts(ne,["enter"])},null,8,["modelValue","placeholder","onKeydown"])])):g.value?W("",!0):(y(),P("div",vre,[b(ge,{class:"mt-0 mb-0"},{default:v(()=>[V(N(Z(r).baseText("settings.sourceControl.modals.push.everythingIsUpToDate")),1)]),_:1})]))],2)]),footer:v(()=>[D("div",{class:$(M.$style.footer)},[b(ue,{type:"tertiary",class:"mr-2xs",onClick:X},{default:v(()=>[V(N(Z(r).baseText("settings.sourceControl.modals.push.buttons.cancel")),1)]),_:1}),b(ue,{type:"primary",disabled:k.value,onClick:ie},{default:v(()=>[V(N(Z(r).baseText("settings.sourceControl.modals.push.buttons.save")),1)]),_:1},8,["disabled"])],2)]),_:1},8,["title","eventBus","name"])}}}),Sre="_container_1ud7a_5",kre="_actionButtons_1ud7a_9",Ere="_listItem_1ud7a_15",xre="_listItemBody_1ud7a_32",Cre="_listItemCheckbox_1ud7a_38",Ore="_listItemStatus_1ud7a_44",Dre="_footer_1ud7a_48",Are={container:Sre,actionButtons:kre,listItem:Ere,listItemBody:xre,listItemCheckbox:Cre,listItemStatus:Ore,footer:Dre},$re={$style:Are},Nre=te(Tre,[["__cssModules",$re]]),Ac=Ze(),_re={key:0,class:"mt-l"},Pre=J({__name:"SourceControlPullModal.ee",props:{data:{type:Object,default:()=>({})}},setup(e){const t=e,s=["variables","credential"],n=td(),o=Ee(),i=je(),r=Lt(),l=Fs();Mc(),Ic();const m=Be(t.data.status||[]),c=we(()=>m.value.filter(w=>w.type==="workflow")),h=we(()=>c.value.filter(w=>w.status==="modified"));we(()=>c.value.filter(w=>w.status==="deleted"));function p(){o.closeModal(La)}async function g(){n.startLoading(r.baseText("settings.sourceControl.loading.pull")),p();try{await l.pullWorkfolder(!0);const w=m.value.some(S=>s.includes(S.type));i.showMessage({title:r.baseText("settings.sourceControl.pull.success.title"),type:"success"}),w&&Xs(()=>{i.showMessage({message:r.baseText("settings.sourceControl.pull.oneLastStep.description"),title:r.baseText("settings.sourceControl.pull.oneLastStep.title"),type:"info",duration:0,showClose:!0,offset:0})}),Ac.emit("pull")}catch(w){i.showError(w,"Error")}finally{n.stopLoading()}}return(w,S)=>{const k=E("n8n-link"),O=E("n8n-text"),C=E("n8n-icon"),A=E("n8n-button");return y(),R(Mt,{width:"500px",title:Z(r).baseText("settings.sourceControl.modals.pull.title"),eventBus:e.data.eventBus,name:Z(La)},{content:v(()=>[D("div",{class:$(w.$style.container)},[b(O,null,{default:v(()=>[V(N(Z(r).baseText("settings.sourceControl.modals.pull.description"))+" ",1),b(k,{to:Z(r).baseText("settings.sourceControl.docs.using.pushPull.url")},{default:v(()=>[V(N(Z(r).baseText("settings.sourceControl.modals.pull.description.learnMore")),1)]),_:1},8,["to"])]),_:1}),h.value.length>0?(y(),P("div",_re,[D("ul",{class:$(w.$style.filesList)},[(y(!0),P(Ie,null,Re(h.value,T=>(y(),P("li",{key:T.id},[b(k,{class:$(w.$style.fileLink),"new-window":"",to:`/workflow/${T.id}`},{default:v(()=>[V(N(T.name)+" ",1),b(C,{icon:"external-link-alt"})]),_:2},1032,["class","to"])]))),128))],2)])):W("",!0)],2)]),footer:v(()=>[D("div",{class:$(w.$style.footer)},[b(A,{type:"tertiary",class:"mr-2xs",onClick:p},{default:v(()=>[V(N(Z(r).baseText("settings.sourceControl.modals.pull.buttons.cancel")),1)]),_:1}),b(A,{type:"primary",onClick:g},{default:v(()=>[V(N(Z(r).baseText("settings.sourceControl.modals.pull.buttons.save")),1)]),_:1})],2)]),_:1},8,["title","eventBus","name"])}}}),Ire="_container_1wqxs_5",Mre="_filesList_1wqxs_9",Lre="_fileLink_1wqxs_18",Fre="_footer_1wqxs_26",Bre={container:Ire,filesList:Mre,fileLink:Lre,footer:Fre},Rre={$style:Bre},Vre=te(Pre,[["__cssModules",Rre]]),Ure=J({name:"Modals",components:{AboutModal:WL,ActivationModal:doe,CommunityPackageInstallModal:yF,CommunityPackageManageConfirmModal:rF,ContactPromptModal:NF,ChangePasswordModal:vF,CredentialEdit:hte,CredentialsSelectModal:Ete,DeleteUserModal:ooe,DuplicateWorkflowDialog:Lte,InviteUsersModal:yte,ModalRoot:Vte,OnboardingCallSignupModal:Qte,PersonalizationModal:ese,TagsManager:Ase,UpdatesPanel:mne,ValueSurvey:_ne,WorkflowSettings:Yne,WorkflowShareModal:Doe,ImportCurlModal:boe,EventDestinationSettingsModal:hre,SourceControlPushModal:Nre,SourceControlPullModal:Vre},data:()=>({COMMUNITY_PACKAGE_CONFIRM_MODAL_KEY:so,COMMUNITY_PACKAGE_INSTALL_MODAL_KEY:Qc,CONTACT_PROMPT_MODAL_KEY:zm,CREDENTIAL_EDIT_MODAL_KEY:Ws,CREDENTIAL_SELECT_MODAL_KEY:Uc,ABOUT_MODAL_KEY:cl,CHANGE_PASSWORD_MODAL_KEY:Vc,DELETE_USER_MODAL_KEY:Mu,DUPLICATE_MODAL_KEY:jc,ONBOARDING_CALL_SIGNUP_MODAL_KEY:pl,PERSONALIZATION_MODAL_KEY:zc,INVITE_USER_MODAL_KEY:Wc,TAGS_MANAGER_MODAL_KEY:qc,VERSIONS_MODAL_KEY:gi,WORKFLOW_SETTINGS_MODAL_KEY:Pn,WORKFLOW_SHARE_MODAL_KEY:dl,VALUE_SURVEY_MODAL_KEY:Hc,WORKFLOW_ACTIVE_MODAL_KEY:Ma,IMPORT_CURL_MODAL_KEY:In,LOG_STREAM_MODAL_KEY:Tr,SOURCE_CONTROL_PUSH_MODAL_KEY:Sr,SOURCE_CONTROL_PULL_MODAL_KEY:La})});function Wre(e,t,s,n,o,i){const r=E("ContactPromptModal"),l=E("ModalRoot"),m=E("CredentialEdit"),c=E("AboutModal"),h=E("CredentialsSelectModal"),p=E("DuplicateWorkflowDialog"),g=E("PersonalizationModal"),w=E("TagsManager"),S=E("UpdatesPanel"),k=E("ValueSurvey"),O=E("WorkflowSettings"),C=E("ChangePasswordModal"),A=E("InviteUsersModal"),T=E("DeleteUserModal"),F=E("ActivationModal"),L=E("WorkflowShareModal"),I=E("OnboardingCallSignupModal"),j=E("CommunityPackageInstallModal"),q=E("ImportCurlModal"),Q=E("CommunityPackageManageConfirmModal"),X=E("EventDestinationSettingsModal"),U=E("SourceControlPushModal"),ne=E("SourceControlPullModal");return y(),P("div",null,[b(l,{name:e.CONTACT_PROMPT_MODAL_KEY},{default:v(({modalName:ie})=>[b(r,{modalName:ie},null,8,["modalName"])]),_:1},8,["name"]),b(l,{name:e.CREDENTIAL_EDIT_MODAL_KEY},{default:v(({modalName:ie,activeId:M,mode:z})=>[b(m,{modalName:ie,mode:z,activeId:M},null,8,["modalName","mode","activeId"])]),_:1},8,["name"]),b(l,{name:e.ABOUT_MODAL_KEY},{default:v(()=>[b(c)]),_:1},8,["name"]),b(l,{name:e.CREDENTIAL_SELECT_MODAL_KEY},{default:v(()=>[b(h)]),_:1},8,["name"]),b(l,{name:e.DUPLICATE_MODAL_KEY},{default:v(({modalName:ie,active:M,data:z})=>[b(p,{data:z,isActive:M,modalName:ie},null,8,["data","isActive","modalName"])]),_:1},8,["name"]),b(l,{name:e.PERSONALIZATION_MODAL_KEY},{default:v(()=>[b(g)]),_:1},8,["name"]),b(l,{name:e.TAGS_MANAGER_MODAL_KEY},{default:v(()=>[b(w)]),_:1},8,["name"]),b(l,{name:e.VERSIONS_MODAL_KEY,keepAlive:!0},{default:v(()=>[b(S)]),_:1},8,["name"]),b(l,{name:e.VALUE_SURVEY_MODAL_KEY,keepAlive:!0},{default:v(({active:ie})=>[b(k,{isActive:ie},null,8,["isActive"])]),_:1},8,["name"]),b(l,{name:e.WORKFLOW_SETTINGS_MODAL_KEY},{default:v(()=>[b(O)]),_:1},8,["name"]),b(l,{name:e.CHANGE_PASSWORD_MODAL_KEY},{default:v(()=>[b(C)]),_:1},8,["name"]),b(l,{name:e.INVITE_USER_MODAL_KEY},{default:v(()=>[b(A)]),_:1},8,["name"]),b(l,{name:e.DELETE_USER_MODAL_KEY},{default:v(({modalName:ie,activeId:M})=>[b(T,{modalName:ie,activeId:M},null,8,["modalName","activeId"])]),_:1},8,["name"]),b(l,{name:e.WORKFLOW_ACTIVE_MODAL_KEY},{default:v(()=>[b(F)]),_:1},8,["name"]),b(l,{name:e.WORKFLOW_SHARE_MODAL_KEY},{default:v(({modalName:ie,active:M,data:z})=>[b(L,{data:z,isActive:M,modalName:ie},null,8,["data","isActive","modalName"])]),_:1},8,["name"]),b(l,{name:e.ONBOARDING_CALL_SIGNUP_MODAL_KEY},{default:v(()=>[b(I)]),_:1},8,["name"]),b(l,{name:e.COMMUNITY_PACKAGE_INSTALL_MODAL_KEY},{default:v(()=>[b(j)]),_:1},8,["name"]),b(l,{name:e.IMPORT_CURL_MODAL_KEY},{default:v(()=>[b(q)]),_:1},8,["name"]),b(l,{name:e.COMMUNITY_PACKAGE_CONFIRM_MODAL_KEY},{default:v(({modalName:ie,activeId:M,mode:z})=>[b(Q,{modalName:ie,activePackageName:M,mode:z},null,8,["modalName","activePackageName","mode"])]),_:1},8,["name"]),b(l,{name:e.LOG_STREAM_MODAL_KEY},{default:v(({modalName:ie,data:M})=>[b(X,{modalName:ie,destination:M.destination,isNew:M.isNew,eventBus:M.eventBus},null,8,["modalName","destination","isNew","eventBus"])]),_:1},8,["name"]),b(l,{name:e.SOURCE_CONTROL_PUSH_MODAL_KEY},{default:v(({modalName:ie,data:M})=>[b(U,{modalName:ie,data:M},null,8,["modalName","data"])]),_:1},8,["name"]),b(l,{name:e.SOURCE_CONTROL_PULL_MODAL_KEY},{default:v(({modalName:ie,data:M})=>[b(ne,{modalName:ie,data:M},null,8,["modalName","data"])]),_:1},8,["name"])])}const jre=te(Ure,[["render",Wre]]),qre="_wrapper_1j3bs_5",zre="_spinner_1j3bs_12",Hre={wrapper:qre,spinner:zre},Qre={};function Gre(e,t){const s=E("n8n-spinner");return y(),P("div",{class:$(e.$style.wrapper),"data-test-id":"node-view-loader"},[D("div",{class:$(e.$style.spinner)},[b(s)],2)],2)}const Yre={$style:Hre},Xre=te(Qre,[["render",Gre],["__cssModules",Yre]]),Kre=J({name:"Telemetry",mixins:[Ft],data(){return{isTelemetryInitialized:!1}},computed:{...be(fe,Le,Ge),currentUserId(){return this.usersStore.currentUserId||""},isTelemetryEnabledOnRoute(){return this.$route.meta&&this.$route.meta.telemetry?!this.$route.meta.telemetry.disabled:!0},telemetry(){return this.settingsStore.telemetry},isTelemetryEnabled(){var e;return!!((e=this.telemetry)!=null&&e.enabled)}},mounted(){this.init()},methods:{init(){this.isTelemetryInitialized||!this.isTelemetryEnabledOnRoute||!this.isTelemetryEnabled||(this.$telemetry.init(this.telemetry,{instanceId:this.rootStore.instanceId,userId:this.currentUserId,versionCli:this.rootStore.versionCli}),this.isTelemetryInitialized=!0)}},watch:{telemetry(){this.init()},currentUserId(e){this.isTelemetryEnabled&&this.$telemetry.identify(this.rootStore.instanceId,e)},isTelemetryEnabledOnRoute(e){e&&this.init()}}});function Jre(e,t,s,n,o,i){return He((y(),P("span",null,null,512)),[[nt,!1]])}const Zre=te(Kre,[["render",Jre]]),Qg=J({methods:{canUserAccessRouteByName(e){const t=this.$router.resolve({name:e});return this.canUserAccessRoute(t)},canUserAccessCurrentRoute(){return this.canUserAccessRoute(this.$route)},canUserAccessRoute(e){const t=e.meta&&e.meta.permissions,n=Ge().currentUser;return t&&wa(t,n)}}}),Ou=J({setup(){return{...je()}},computed:{...be(Ee,Kc)},methods:{async checkForNewVersions(){if(!this.versionsStore.areNotificationsEnabled)return;await this.versionsStore.fetchVersions();const t=this.versionsStore.currentVersion,s=this.versionsStore.nextVersions;if(t&&t.hasSecurityIssue&&s.length){const n=t.securityIssueFixVersion;let o="Please update to latest version.";n&&(o=`Please update to version ${n} or higher.`),o=`${o} <a class="primary-color">More info</a>`,this.showToast({title:"Critical update available",message:o,onClick:()=>{this.uiStore.openModal(gi)},closeOnClick:!0,customClass:"clickable",type:"warning",duration:0})}}}}),eae=J({name:"App",components:{BannerStack:CL,LoadingView:Xre,Telemetry:Zre,Modals:jre},mixins:[Ou,Qg],setup(e){var t;return{...$S(),...HL(Ic()),...je(),externalHooks:AS(),...(t=Ou.setup)==null?void 0:t.call(Ou,e)}},computed:{...be(it,fe,Le,Ln,Ee,Ge,Fs,Vn,Oi),defaultLocale(){return this.rootStore.defaultLocale},isDemoMode(){return this.$route.name===ee.DEMO}},data(){return{postAuthenticateDone:!1,settingsInitialized:!1,loading:!0}},methods:{async initSettings(){if(!this.settingsInitialized)try{await this.settingsStore.getSettings(),this.settingsInitialized=!0}catch(e){throw this.showToast({title:this.$locale.baseText("startupError"),message:this.$locale.baseText("startupError.message"),type:"error",duration:0,dangerouslyUseHTMLString:!0}),e}},async loginWithCookie(){try{await this.usersStore.loginWithCookie()}catch{}},async initTemplates(){if(this.settingsStore.isTemplatesEnabled)try{await this.settingsStore.testTemplatesEndpoint()}catch{}},logHiringBanner(){this.settingsStore.isHiringBannerEnabled&&!this.isDemoMode&&console.log(p2)},async initBanners(){return this.uiStore.initBanners()},async checkForCloudPlanData(){return this.cloudPlanStore.checkForCloudPlanData()},async initialize(){await this.initSettings(),await Promise.all([this.loginWithCookie(),this.initTemplates()])},trackPage(){this.uiStore.currentView=this.$route.name||"",this.$route&&this.$route.meta&&this.$route.meta.templatesEnabled?this.templatesStore.setSessionId():this.templatesStore.resetSessionId(),this.$telemetry.page(this.$route)},async authenticate(){if(this.settingsStore.showSetupPage)return this.$route.name===ee.SETUP?void 0:this.$router.replace({name:ee.SETUP});if(this.canUserAccessCurrentRoute())return;if(!this.usersStore.currentUser){const t=this.$route.query.redirect||encodeURIComponent(`${window.location.pathname}${window.location.search}`);return this.$router.replace({name:ee.SIGNIN,query:{redirect:t}})}if(this.$route.name===ee.SIGNIN&&typeof this.$route.query.redirect=="string"){const t=decodeURIComponent(this.$route.query.redirect);if(t.startsWith("/"))return this.$router.replace(t)}return this.$router.replace({name:ee.HOMEPAGE})},async redirectIfNecessary(){const e=this.$route.meta&&typeof this.$route.meta.getRedirect=="function"&&this.$route.meta.getRedirect();if(e)return this.$router.replace(e)},setTheme(){const e=window.localStorage.getItem(c2);e&&window.document.body.classList.add(`theme-${e}`)},async postAuthenticate(){this.postAuthenticateDone||this.usersStore.currentUser&&(this.sourceControlStore.isEnterpriseSourceControlEnabled&&await this.sourceControlStore.getPreferences(),this.postAuthenticateDone=!0)}},async created(){this.setTheme(),await this.initialize(),this.logHiringBanner(),await this.authenticate(),await this.redirectIfNecessary(),this.checkForNewVersions(),await this.checkForCloudPlanData(),this.initBanners(),this.postAuthenticate(),this.loading=!1,this.trackPage(),this.externalHooks.run("app.mount"),this.defaultLocale!=="en"&&await this.nodeTypesStore.getNodeTranslationHeaders()},watch:{"usersStore.currentUser"(e,t){e&&!t&&this.postAuthenticate()},async $route(e){await this.initSettings(),await this.redirectIfNecessary(),this.trackPage()},defaultLocale(e){_8(e)}}}),tae="_app_1r9ke_5",sae="_container_1r9ke_10",nae="_banners_1r9ke_18",oae="_content_1r9ke_23",iae="_header_1r9ke_36",rae="_sidebar_1r9ke_41",aae={app:tae,container:sae,banners:nae,content:oae,header:iae,sidebar:rae};function lae(e,t,s,n,o,i){const r=E("LoadingView"),l=E("banner-stack"),m=E("router-view"),c=E("Modals"),h=E("Telemetry");return y(),P("div",{class:$([e.$style.app,"root-container"])},[e.loading?(y(),R(r,{key:0})):(y(),P("div",{key:1,id:"app",class:$({[e.$style.container]:!0,[e.$style.sidebarCollapsed]:e.uiStore.sidebarMenuCollapsed})},[D("div",{id:"banners",class:$(e.$style.banners)},[e.isDemoMode?W("",!0):(y(),R(l,{key:0}))],2),D("div",{id:"header",class:$(e.$style.header)},[b(m,{name:"header"})],2),D("div",{id:"sidebar",class:$(e.$style.sidebar)},[b(m,{name:"sidebar"})],2),D("div",{id:"content",class:$(e.$style.content)},[b(m,null,{default:v(({Component:p})=>[(y(),R(FO,{include:"NodeView",max:1},[(y(),R(Fv(p)))],1024))]),_:1})],2),b(c),b(h)],2))],2)}const uae={$style:aae},cae=te(eae,[["render",lae],["__cssModules",uae]]),dae=J({computed:{...be(fe),basePath(){return this.rootStore.baseUrl}}}),pae="_img_rbqr8_5",hae={img:pae},mae=["src"];function fae(e,t,s,n,o,i){return y(),P("img",{src:e.basePath+"n8n-logo-expanded.svg",class:$(e.$style.img),alt:"n8n.io"},null,10,mae)}const gae={$style:hae},yae=te(dae,[["render",fae],["__cssModules",gae]]),wae=J({__name:"SSOLogin",setup(e){const t=Lt(),s=wl(),n=je(),o=async()=>{try{window.location.href=await s.getSSORedirectUrl()}catch(i){n.showError(i,"Error",i.message)}};return(i,r)=>{const l=E("n8n-button");return Z(s).showSsoLoginButton?(y(),P("div",{key:0,class:$(i.$style.ssoLogin)},[D("div",{class:$(i.$style.divider)},[D("span",null,N(Z(t).baseText("sso.login.divider")),1)],2),b(l,{onClick:o,size:"large",type:"primary",outline:"",label:Z(t).baseText("sso.login.button")},null,8,["label"])],2)):W("",!0)}}}),bae="_ssoLogin_18bao_5",vae="_divider_18bao_9",Tae={ssoLogin:bae,divider:vae},Sae={$style:Tae},kae=te(wae,[["__cssModules",Sae]]),Eae=J({name:"AuthView",components:{Logo:yae,SSOLogin:kae},props:{form:{},formLoading:{type:Boolean,default:!1},subtitle:{type:String},withSso:{type:Boolean,default:!1}},methods:{onUpdate(e){this.$emit("update",e)},onSubmit(e){this.$emit("submit",e)},onSecondaryClick(){this.$emit("secondaryClick")}}}),xae="_container_13abf_9",Cae="_logoContainer_13abf_20",Oae="_textContainer_13abf_25",Dae="_formContainer_13abf_29",Aae={container:xae,logoContainer:Cae,textContainer:Oae,formContainer:Dae};function $ae(e,t,s,n,o,i){const r=E("Logo"),l=E("n8n-text"),m=E("SSOLogin"),c=E("n8n-form-box");return y(),P("div",{class:$(e.$style.container)},[D("div",{class:$(e.$style.logoContainer)},[b(r)],2),e.subtitle?(y(),P("div",{key:0,class:$(e.$style.textContainer)},[b(l,{size:"large"},{default:v(()=>[V(N(e.subtitle),1)]),_:1})],2)):W("",!0),D("div",{class:$(e.$style.formContainer)},[b(c,Lc(e.form,{"data-test-id":"auth-form",buttonLoading:e.formLoading,onSecondaryClick:e.onSecondaryClick,onSubmit:e.onSubmit,onUpdate:e.onUpdate}),{default:v(()=>[e.withSso?(y(),R(m,{key:0})):W("",!0)]),_:1},16,["buttonLoading","onSecondaryClick","onSubmit","onUpdate"])],2)],2)}const Nae={$style:Aae},Xr=te(Eae,[["render",$ae],["__cssModules",Nae]]),_ae=J({name:"ChangePasswordView",components:{AuthView:Xr},setup(){return{...je()}},data(){return{password:"",loading:!1,config:null}},computed:{...be(Ge)},async mounted(){this.config={title:this.$locale.baseText("auth.changePassword"),buttonText:this.$locale.baseText("auth.changePassword"),redirectText:this.$locale.baseText("auth.signin"),redirectLink:"/signin",inputs:[{name:"password",properties:{label:this.$locale.baseText("auth.newPassword"),type:"password",required:!0,validationRules:[{name:"DEFAULT_PASSWORD_RULES"}],infoText:this.$locale.baseText("auth.defaultPasswordRequirements"),autocomplete:"new-password",capitalize:!0}},{name:"password2",properties:{label:this.$locale.baseText("auth.changePassword.reenterNewPassword"),type:"password",required:!0,validators:{TWO_PASSWORDS_MATCH:{validate:this.passwordsMatch}},validationRules:[{name:"TWO_PASSWORDS_MATCH"}],autocomplete:"new-password",capitalize:!0}}]};const e=this.getResetToken();try{if(!e)throw new Error(this.$locale.baseText("auth.changePassword.missingTokenError"));await this.usersStore.validatePasswordToken({token:e})}catch{this.showMessage({title:this.$locale.baseText("auth.changePassword.tokenValidationError"),type:"error"})}},methods:{passwordsMatch(e){return typeof e!="string"?!1:e!==this.password?{messageKey:"auth.changePassword.passwordsMustMatchError"}:!1},onInput(e){e.name==="password"&&(this.password=e.value)},getResetToken(){return!this.$route.query.token||typeof this.$route.query.token!="string"?null:this.$route.query.token},async onSubmit(){try{this.loading=!0;const e=this.getResetToken();e?(await this.usersStore.changePassword({token:e,password:this.password}),this.showMessage({type:"success",title:this.$locale.baseText("auth.changePassword.passwordUpdated"),message:this.$locale.baseText("auth.changePassword.passwordUpdatedMessage")}),await this.$router.push({name:ee.SIGNIN})):this.showError(new Error(this.$locale.baseText("auth.validation.missingParameters")),this.$locale.baseText("auth.changePassword.error"))}catch(e){this.showError(e,this.$locale.baseText("auth.changePassword.error"))}this.loading=!1}}});function Pae(e,t,s,n,o,i){const r=E("AuthView");return e.config?(y(),R(r,{key:0,form:e.config,formLoading:e.loading,onSubmit:e.onSubmit,onUpdate:e.onInput},null,8,["form","formLoading","onSubmit","onUpdate"])):W("",!0)}const Iae=te(_ae,[["render",Pae]]),Mae=J({name:"ErrorView",props:{messageKey:{type:String,required:!0},errorCode:{type:Number},redirectTextKey:{type:String},redirectPage:{type:String}},methods:{onButtonClick(){this.$router.push({name:this.redirectPage})}}}),Lae="_container_czzk4_5",Fae="_icon_czzk4_14",Bae="_message_czzk4_21",Rae={container:Lae,icon:Fae,message:Bae};function Vae(e,t,s,n,o,i){const r=E("font-awesome-icon"),l=E("n8n-heading"),m=E("n8n-text"),c=E("n8n-button");return y(),P("div",{class:$(e.$style.container)},[b(r,{icon:"exclamation-triangle",class:$(e.$style.icon)},null,8,["class"]),D("div",{class:$(e.$style.message)},[D("div",null,[b(l,{size:"2xlarge"},{default:v(()=>[V(N(e.$locale.baseText(e.messageKey)),1)]),_:1})]),D("div",null,[e.errorCode?(y(),R(m,{key:0,size:"large"},{default:v(()=>[V(N(e.errorCode)+" "+N(e.$locale.baseText("error")),1)]),_:1})):W("",!0)])],2),b(c,{label:e.$locale.baseText(e.redirectTextKey),onClick:e.onButtonClick},null,8,["label","onClick"])],2)}const Uae={$style:Rae},Wae=te(Mae,[["render",Vae],["__cssModules",Uae]]),jae=J({name:"ForgotMyPasswordView",components:{AuthView:Xr},setup(){return{...je()}},data(){return{loading:!1}},computed:{...be(Le,Ge),formConfig(){const e=[{name:"email",properties:{label:this.$locale.baseText("auth.email"),type:"email",required:!0,validationRules:[{name:"VALID_EMAIL"}],autocomplete:"email",capitalize:!0}}],t=[{name:"no-smtp-warning",properties:{label:this.$locale.baseText("forgotPassword.noSMTPToSendEmailWarning"),type:"info"}}],s={title:this.$locale.baseText("forgotPassword.recoverPassword"),redirectText:this.$locale.baseText("forgotPassword.returnToSignIn"),redirectLink:"/signin"};return this.settingsStore.isSmtpSetup?{...s,buttonText:this.$locale.baseText("forgotPassword.getRecoveryLink"),inputs:e}:{...s,inputs:t}}},methods:{async onSubmit(e){try{this.loading=!0,await this.usersStore.sendForgotPasswordEmail(e),this.showMessage({type:"success",title:this.$locale.baseText("forgotPassword.recoveryEmailSent"),message:this.$locale.baseText("forgotPassword.emailSentIfExists",{interpolate:{email:e.email}})})}catch(t){let s=this.$locale.baseText("forgotPassword.smtpErrorContactAdministrator");t.httpStatusCode===422&&(s=this.$locale.baseText(t.message)),this.showMessage({type:"error",title:this.$locale.baseText("forgotPassword.sendingEmailError"),message:s})}this.loading=!1}}});function qae(e,t,s,n,o,i){const r=E("AuthView");return y(),R(r,{form:e.formConfig,formLoading:e.loading,onSubmit:e.onSubmit},null,8,["form","formLoading","onSubmit"])}const zae=te(jae,[["render",qae]]),Io=J({setup(){return{...sd(),...je()}},mixins:[Ft,Bs,ut],data(){return{pushSource:null,reconnectTimeout:null,retryTimeout:null,pushMessageQueue:[],connectRetries:0,lostConnection:!1}},computed:{...be(It,it,Ee,_e,Le,af),sessionId(){return this.rootStore.sessionId}},methods:{attemptReconnect(){this.pushConnect()},pushConnect(){this.pushDisconnect(),this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null);const e=this.settingsStore.pushBackend==="websocket",{getRestUrl:t}=this.rootStore,s=`/push?sessionId=${this.sessionId}`;if(e){const{protocol:n,host:o}=window.location,i=t.startsWith("http")?t.replace(/^http/,"ws"):`${n==="https:"?"wss":"ws"}://${o+t}`;this.pushSource=new WebSocket(`${i}${s}`)}else this.pushSource=new EventSource(`${t}${s}`,{withCredentials:!0});this.pushSource.addEventListener("open",this.onConnectionSuccess,!1),this.pushSource.addEventListener("message",this.pushMessageReceived,!1),this.pushSource.addEventListener(e?"close":"error",this.onConnectionError,!1)},onConnectionSuccess(){var e;this.connectRetries=0,this.lostConnection=!1,this.rootStore.pushConnectionActive=!0,this.clearAllStickyNotifications(),(e=this.pushSource)==null||e.removeEventListener("open",this.onConnectionSuccess)},onConnectionError(){this.pushDisconnect(),this.connectRetries++,this.reconnectTimeout=setTimeout(this.attemptReconnect,Math.min(this.connectRetries*2e3,8e3))},pushDisconnect(){this.pushSource!==null&&(this.pushSource.removeEventListener("error",this.onConnectionError),this.pushSource.removeEventListener("close",this.onConnectionError),this.pushSource.removeEventListener("message",this.pushMessageReceived),this.pushSource.readyState<2&&this.pushSource.close(),this.pushSource=null),this.rootStore.pushConnectionActive=!1},queuePushMessage(e,t){this.pushMessageQueue.push({event:e,retriesLeft:t}),this.retryTimeout===null&&(this.retryTimeout=setTimeout(this.processWaitingPushMessages,20))},processWaitingPushMessages(){this.retryTimeout!==null&&(clearTimeout(this.retryTimeout),this.retryTimeout=null);const e=this.pushMessageQueue.length;for(let t=0;t<e;t++){const s=this.pushMessageQueue.shift();if(this.pushMessageReceived(s.event,!0)===!1){s.retriesLeft-=1,s.retriesLeft>0&&this.pushMessageQueue.unshift(s);break}}this.pushMessageQueue.length!==0&&this.retryTimeout===null&&(this.retryTimeout=setTimeout(this.processWaitingPushMessages,25))},async pushMessageReceived(e,t){var i,r,l,m,c,h,p,g,w,S,k,O,C,A,T,F,L,I,j,q,Q;let n;try{n=JSON.parse(e.data)}catch{return!1}if(n.type==="sendConsoleMessage"){const X=n.data;return console.log(X.source,...X.messages),!0}if(!["testWebhookReceived"].includes(n.type)&&t!==!0&&this.pushMessageQueue.length)return this.queuePushMessage(e,5),!1;if(n.type==="nodeExecuteAfter"||n.type==="nodeExecuteBefore"){if(!this.uiStore.isActionActive("workflowRunning"))return!1;const X=n.data;if(this.workflowsStore.activeExecutionId!==X.executionId)return t!==!0&&this.queuePushMessage(e,5),!1}let o;if(n.type==="executionRecovered"){const X=(i=n.data)==null?void 0:i.executionId;if(this.uiStore.isActionActive("workflowRunning")&&this.workflowsStore.activeExecutionId===X){const ne=await this.workflowsStore.fetchExecutionDataById(this.workflowsStore.activeExecutionId);if(ne!=null&&ne.data){ne.data=Rv(ne.data);const ie={startData:(r=ne.data)==null?void 0:r.startData,resultData:((l=ne.data)==null?void 0:l.resultData)??{runData:{}},executionData:(m=ne.data)==null?void 0:m.executionData};if(((c=this.workflowsStore.workflowExecutionData)==null?void 0:c.workflowId)===ne.workflowId){const z=(g=(p=(h=this.workflowsStore.workflowExecutionData)==null?void 0:h.data)==null?void 0:p.resultData)==null?void 0:g.runData;if(z)for(const K of Object.keys(z))ie.resultData.runData[K]=z[K]}const M={data:ie,finished:ne.finished,mode:ne.mode,waitTill:(w=ne.data)==null?void 0:w.waitTill,startedAt:ne.startedAt,stoppedAt:ne.stoppedAt,status:"crashed"};ne.data&&(o={executionId:ne.id,data:M})}}}if(n.type==="executionFinished"||n.type==="executionRecovered"){let X;if(n.type==="executionRecovered"&&o!==void 0?X=o:X=n.data,this.workflowsStore.activeExecutionId===X.executionId){const oe=(O=(k=(S=this.workflowsStore.workflowExecutionData)==null?void 0:S.data)==null?void 0:k.resultData)==null?void 0:O.runData;if(oe)for(const ve of Object.keys(oe))((j=(I=(L=(F=(T=(A=(C=X.data.data.resultData.runData[ve])==null?void 0:C[0])==null?void 0:A.data)==null?void 0:T.main)==null?void 0:F[0])==null?void 0:L[0])==null?void 0:I.json)==null?void 0:j.isArtificialRecoveredEventItem)===!0&&oe[ve].length>0&&(X.data.data.resultData.runData[ve]=oe[ve]);this.workflowsStore.finishActiveExecution(X)}if(!this.uiStore.isActionActive("workflowRunning"))return!1;if(this.workflowsStore.activeExecutionId!==X.executionId)return t!==!0&&this.queuePushMessage(e,5),!1;const U=X.data;let ne=this.getExecutionError(U.data);X.data.status==="crashed"&&(ne=this.$locale.baseText("pushConnection.executionFailed.message"));const ie=U&&U.data&&U.data.resultData&&U.data.resultData.error&&U.data.resultData.error.lineNumber;oc.emit("error-line-number",ie||"final");const M=this.getCurrentWorkflow();if(U.waitTill!==void 0){const oe=this.workflowsStore.activeExecutionId,ve=this.workflowsStore.workflowSettings,ae=this.rootStore.saveManualExecutions,ce=ve.saveManualExecutions===void 0?ae:ve.saveManualExecutions;let pe;ce?pe=`<a href="/workflow/${M.id}/executions/${oe}">View the execution</a> to see what happened after this node.`:(Ph.emit("registerGlobalLinkAction",{key:"open-settings",action:async()=>{this.workflowsStore.isNewWorkflow&&await this.saveAsNewWorkflow(),this.uiStore.openModal(Pn)}}),pe='<a data-action="open-settings">Turn on saving manual executions</a> and run again to see what happened after this node.'),this.titleSet(M.name,"IDLE"),this.showToast({title:"Workflow started waiting",message:`${pe} <a href="https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.wait/" target="_blank">More info</a>`,type:"success",duration:0})}else if(U.finished!==!0){if(this.titleSet(M.name,"ERROR"),((q=U.data.resultData.error)==null?void 0:q.name)==="ExpressionError"&&U.data.resultData.error.context.functionality==="pairedItem"){const oe=U.data.resultData.error;this.getWorkflowDataToSave().then(ve=>{const ae={caused_by_credential:!1,error_message:oe.description,error_title:oe.message,error_type:oe.context.type,node_graph_string:JSON.stringify(ka(ve,this.getNodeTypes()).nodeGraph),workflow_id:this.workflowsStore.workflowId};if(oe.context.nodeCause&&["no pairing info","invalid pairing info"].includes(oe.context.type)){const ce=M.getNode(oe.context.nodeCause);ce&&(ae.is_pinned=!!M.getPinDataOfNode(ce.name),ae.mode=ce.parameters.mode,ae.node_type=ce.type,ae.operation=ce.parameters.operation,ae.resource=ce.parameters.resource)}this.$telemetry.track("Instance FE emitted paired item error",ae)})}if(((Q=U.data.resultData.error)==null?void 0:Q.name)==="SubworkflowOperationError"){const oe=U.data.resultData.error;this.workflowsStore.subWorkflowExecutionError=oe,this.showMessage({title:oe.message,message:oe.description,type:"error",duration:0})}else{let oe;U.data.resultData.lastNodeExecuted?oe=`Problem in node ‘${U.data.resultData.lastNodeExecuted}‘`:oe="Problem executing workflow",this.showMessage({title:oe,message:ne,type:"error",duration:0,dangerouslyUseHTMLString:!0})}}else{this.titleSet(M.name,"IDLE");const oe=this.workflowsStore.getWorkflowExecution;if(oe&&oe.executedNode){const ve=this.workflowsStore.getNodeByName(oe.executedNode),ae=ve&&this.nodeTypesStore.getNodeType(ve.type,ve.typeVersion),ce=oe&&oe.executedNode&&oe.data&&oe.data.resultData&&oe.data.resultData.runData&&oe.data.resultData.runData[oe.executedNode];ae&&ae.polling&&!ce?this.showMessage({title:this.$locale.baseText("pushConnection.pollingNode.dataNotFound",{interpolate:{service:hi(ae)}}),message:this.$locale.baseText("pushConnection.pollingNode.dataNotFound.message",{interpolate:{service:hi(ae)}}),type:"success"}):this.showMessage({title:this.$locale.baseText("pushConnection.nodeExecutedSuccessfully"),type:"success"})}else this.showMessage({title:this.$locale.baseText("pushConnection.workflowExecutedSuccessfully"),type:"success"})}this.workflowsStore.getWorkflowRunData&&(U.data.resultData.runData=this.workflowsStore.getWorkflowRunData),this.workflowsStore.executingNode=null,this.workflowsStore.setWorkflowExecutionData(U),this.uiStore.removeActiveAction("workflowRunning"),this.updateNodesExecutionIssues();const z=U.data.resultData.lastNodeExecuted;let K=0;z&&U.data.resultData.runData[z]&&!ne&&(K=U.data.resultData.runData[z][0].data.main[0].length),this.$externalHooks().run("pushConnection.executionFinished",{itemsCount:K,nodeName:U.data.resultData.lastNodeExecuted,errorMessage:ne,runDataExecutedStartData:U.data.startData,resultDataError:U.data.resultData.error}),U.data.resultData.error||this.segmentStore.trackSuccessfulWorkflowExecution(U)}else if(n.type==="executionStarted"){const X=n.data,U={id:X.executionId,finished:!1,mode:X.mode,startedAt:X.startedAt,retryOf:X.retryOf,workflowId:X.workflowId,workflowName:X.workflowName};this.workflowsStore.addActiveExecution(U)}else if(n.type==="nodeExecuteAfter"){const X=n.data;this.workflowsStore.addNodeExecutionData(X)}else if(n.type==="nodeExecuteBefore"){const X=n.data;this.workflowsStore.executingNode=X.nodeName}else if(n.type==="testWebhookDeleted")n.data.workflowId===this.workflowsStore.workflowId&&(this.workflowsStore.executionWaitingForWebhook=!1,this.uiStore.removeActiveAction("workflowRunning"));else if(n.type==="testWebhookReceived"){const X=n.data;X.workflowId===this.workflowsStore.workflowId&&(this.workflowsStore.executionWaitingForWebhook=!1,this.workflowsStore.activeExecutionId=X.executionId),this.processWaitingPushMessages()}else if(n.type==="reloadNodeType")await this.nodeTypesStore.getNodeTypes(),await this.nodeTypesStore.getFullNodesProperties([n.data]);else if(n.type==="removeNodeType"){const U=[n.data];await this.credentialsStore.fetchCredentialTypes(!1).then(()=>{this.nodeTypesStore.removeNodeTypes(U)})}else n.type==="nodeDescriptionUpdated"&&(await this.nodeTypesStore.getNodeTypes(),await this.credentialsStore.fetchCredentialTypes(!0));return!0},getExecutionError(e){const t=e.resultData.error;let s;if(e.resultData.lastNodeExecuted&&t)s=t.message||t.description;else if(s=this.$locale.baseText("pushConnection.executionError",{interpolate:{error:"!"}}),t&&t.message){let n;"node"in t&&(n=typeof t.node=="string"?t.node:t.node.name);const o=n?`${n}: ${t.message}`:t.message;s=this.$locale.baseText("pushConnection.executionError",{interpolate:{error:`.${this.$locale.baseText("pushConnection.executionError.details",{interpolate:{details:o}})}`}})}return s}}}),Hae=25,Qae=4,Gae=J({name:"ShortenName",props:["name","limit","testId"],computed:{shortenedName(){return sL(this.name,this.limit||Hae,Qae)}}}),Yae=["title","data-test-id"];function Xae(e,t,s,n,o,i){return y(),P("span",{title:e.name,"data-test-id":e.testId},[Ke(e.$slots,"default",{shortenedName:e.shortenedName})],8,Yae)}const Kae=te(Gae,[["render",Xae]]),Jae=J({name:"IntersectionObserver",props:{threshold:{type:Number,default:0},enabled:{type:Boolean,default:!1},eventBus:{type:Object,default:()=>Ze()}},data(){return{observer:null}},mounted(){if(!this.enabled)return;const e={root:this.$refs.root,rootMargin:"0px",threshold:this.threshold},t=new IntersectionObserver(s=>{s.forEach(({target:n,isIntersecting:o})=>{this.$emit("observed",{el:n,isIntersecting:o})})},e);this.observer=t,this.eventBus.on("observe",s=>{s&&t.observe(s)}),this.eventBus.on("unobserve",s=>{t.unobserve(s)})},beforeUnmount(){this.enabled&&this.observer.disconnect()}}),Zae={ref:"root"};function ele(e,t,s,n,o,i){return y(),P("div",Zae,[Ke(e.$slots,"default")],512)}const tle=te(Jae,[["render",ele]]),sle=J({name:"IntersectionObserved",props:{enabled:{type:Boolean,default:!1},eventBus:{type:Object,default:()=>Ze()}},async mounted(){this.enabled&&(await this.$nextTick(),this.eventBus.emit("observe",this.$refs.observed))},beforeUnmount(){this.enabled&&this.eventBus.emit("unobserve",this.$refs.observed)}}),nle={ref:"observed"};function ole(e,t,s,n,o,i){return y(),P("span",nle,[Ke(e.$slots,"default")],512)}const ile=te(sle,[["render",ole]]),rle=20,ale=J({name:"TagsContainer",components:{IntersectionObserver:tle,IntersectionObserved:ile},props:["tagIds","limit","clickable","responsive","hoverable"],data(){return{maxWidth:320,intersectionEventBus:Ze(),visibility:{},debouncedSetMaxWidth:()=>{}}},created(){this.debouncedSetMaxWidth=ol(this.setMaxWidth,100)},mounted(){this.setMaxWidth(),window.addEventListener("resize",this.debouncedSetMaxWidth)},beforeUnmount(){window.removeEventListener("resize",this.debouncedSetMaxWidth)},computed:{...be(yi),style(){return{"max-width":`${this.maxWidth}px`}},tags(){const e=this.tagIds.map(o=>this.tagsStore.getTagById(o)).filter(Boolean),t=this.limit||rle;let s=t?e.slice(0,t):e;s=s.map(o=>({...o,hidden:this.responsive&&!this.visibility[o.id]}));let n=s.length;if(this.responsive&&(n=Object.values(this.visibility).reduce((o,i)=>i?o+1:o,0)),n<e.length){const o=e.slice(n),i=o.reduce((l,m)=>l?`${l}, ${m.name}`:m.name,""),r={id:"count",name:`+${o.length}`,title:i,isCount:!0};s.splice(n,0,r)}return s}},methods:{setMaxWidth(){const t=this.$refs.tagsContainer.$el.parentNode;t&&(this.maxWidth=0,this.$nextTick(()=>{this.maxWidth=t.clientWidth}))},onObserved({el:e,isIntersecting:t}){e.dataset.id&&(this.visibility={...this.visibility,[e.dataset.id]:t})},onClick(e,t){this.clickable&&e.stopPropagation(),t.hidden||this.$emit("click",t.id)}}});const lle={class:"tags"},ule=["onClick"];function cle(e,t,s,n,o,i){const r=E("el-tag"),l=E("IntersectionObserved"),m=E("IntersectionObserver");return y(),R(m,{threshold:1,onObserved:e.onObserved,class:"tags-container",style:zt(e.style),enabled:e.responsive,"event-bus":e.intersectionEventBus,ref:"tagsContainer"},{default:v(()=>[D("span",lle,[(y(!0),P(Ie,null,Re(e.tags,c=>(y(),P("span",{key:c.id,class:$({clickable:!c.hidden}),onClick:h=>e.onClick(h,c)},[c.isCount?(y(),R(r,{key:0,title:c.title,type:"info",size:"small",class:"count-container","disable-transitions":!0},{default:v(()=>[V(N(c.name),1)]),_:2},1032,["title"])):(y(),R(l,{key:1,class:$({hidden:c.hidden}),"data-id":c.id,enabled:e.responsive,"event-bus":e.intersectionEventBus},{default:v(()=>[b(r,{title:c.name,type:"info",size:"small",class:$({hoverable:e.hoverable}),"disable-transitions":!0},{default:v(()=>[V(N(c.name),1)]),_:2},1032,["title","class"])]),_:2},1032,["class","data-id","enabled","event-bus"]))],10,ule))),128))])]),_:1},8,["onObserved","style","enabled","event-bus"])}const dle=te(ale,[["render",cle],["__scopeId","data-v-2032010a"]]),ple=J({name:"PushConnectionTracker",computed:{...be(fe)}}),hle={key:0,class:"push-connection-lost primary-color"},mle=["innerHTML"];function fle(e,t,s,n,o,i){const r=E("font-awesome-icon"),l=E("n8n-tooltip");return y(),P("span",null,[e.rootStore.pushConnectionActive?Ke(e.$slots,"default",{key:1}):(y(),P("div",hle,[b(l,{placement:"bottom-end"},{content:v(()=>[D("div",{innerHTML:e.$locale.baseText("pushConnectionTracker.cannotConnectToServer")},null,8,mle)]),default:v(()=>[D("span",null,[b(r,{icon:"exclamation-triangle"}),V("  "+N(e.$locale.baseText("pushConnectionTracker.connectionLost")),1)])]),_:1})]))])}const gle=te(ple,[["render",fle]]),Mo=J({mixins:[Ft,ut],setup(){return{...je()}},data(){return{updatingWorkflowActivation:!1}},computed:{...be(Le,Ee,_e)},methods:{async activateCurrentWorkflow(e){const t=this.workflowsStore.workflowId;return this.updateWorkflowActivation(t,!0,e)},async updateWorkflowActivation(e,t,s){this.updatingWorkflowActivation=!0;const n=this.workflowsStore.nodesIssuesExist;let o=e;if(!o||o===lt){if(!await this.saveCurrentWorkflow()){this.updatingWorkflowActivation=!1;return}o=this.workflowsStore.workflowId}const i=o===this.workflowsStore.workflowId,l=this.workflowsStore.activeWorkflows.includes(o),m={workflow_id:o,is_active:t,previous_status:l,ndv_input:s==="ndv"};this.$telemetry.track("User set workflow active status",m),this.$externalHooks().run("workflowActivate.updateWorkflowActivation",m);try{if(l&&t){this.showMessage({title:this.$locale.baseText("workflowActivator.workflowIsActive"),type:"success"}),this.updatingWorkflowActivation=!1;return}if(i&&n&&t===!0){this.showMessage({title:this.$locale.baseText("workflowActivator.showMessage.activeChangedNodesIssuesExistTrue.title"),message:this.$locale.baseText("workflowActivator.showMessage.activeChangedNodesIssuesExistTrue.message"),type:"error"}),this.updatingWorkflowActivation=!1;return}await this.updateWorkflow({workflowId:o,active:t},!this.uiStore.stateIsDirty)}catch(h){const p=t===!0?"activated":"deactivated";this.showError(h,this.$locale.baseText("workflowActivator.showError.title",{interpolate:{newStateName:p}})+":"),this.updatingWorkflowActivation=!1;return}const c=i?"workflow.activeChangeCurrent":"workflow.activeChange";this.$externalHooks().run(c,{workflowId:o,active:t}),this.$emit("workflowActiveChanged",{id:o,active:t}),this.updatingWorkflowActivation=!1,i&&(t&&window.localStorage.getItem(NT)!=="true"?this.uiStore.openModal(Ma):await this.settingsStore.fetchPromptsData())}}}),yle=J({name:"WorkflowActivator",props:["workflowActive","workflowId"],mixins:[Mo],setup(e){var t;return{...je(),...(t=Mo.setup)==null?void 0:t.call(Mo,e)}},computed:{...be(Ee,_e),nodesIssuesExist(){return this.workflowsStore.nodesIssuesExist},isWorkflowActive(){return this.workflowsStore.activeWorkflows.includes(this.workflowId)},couldNotBeStarted(){return this.workflowActive===!0&&this.isWorkflowActive!==this.workflowActive},getActiveColor(){return this.couldNotBeStarted===!0?"#ff4949":"#13ce66"},isCurrentWorkflow(){return this.workflowsStore.workflowId===this.workflowId},disabled(){return!this.workflowId||this.isCurrentWorkflow?!this.workflowActive&&!this.containsTrigger:!1},containsTrigger(){return wS(this.workflowsStore.workflowTriggerNodes).length>0}},methods:{async activeChanged(e){return this.updateWorkflowActivation(this.workflowId,e)},async displayActivationError(){let e;try{const t=await this.workflowsStore.getActivationError(this.workflowId);t===void 0?e=this.$locale.baseText("workflowActivator.showMessage.displayActivationError.message.errorDataUndefined"):e=this.$locale.baseText("workflowActivator.showMessage.displayActivationError.message.errorDataNotUndefined",{interpolate:{message:t.error.message}})}catch{e=this.$locale.baseText("workflowActivator.showMessage.displayActivationError.message.catchBlock")}this.showMessage({title:this.$locale.baseText("workflowActivator.showMessage.displayActivationError.title"),message:e,type:"warning",duration:0,dangerouslyUseHTMLString:!0})}}}),wle="_activeStatusText_1dwsh_5",ble={activeStatusText:wle};const vle={class:"workflow-activator"},Tle={key:0,class:"could-not-be-started"},Sle=["innerHTML"];function kle(e,t,s,n,o,i){const r=E("n8n-text"),l=E("el-switch"),m=E("n8n-tooltip"),c=E("font-awesome-icon"),h=Ls("loading");return y(),P("div",vle,[D("div",{class:$(e.$style.activeStatusText),"data-test-id":"workflow-activator-status"},[e.workflowActive?(y(),R(r,{key:0,color:e.couldNotBeStarted?"danger":"success",size:"small",bold:""},{default:v(()=>[V(N(e.$locale.baseText("workflowActivator.active")),1)]),_:1},8,["color"])):(y(),R(r,{key:1,color:"text-base",size:"small",bold:""},{default:v(()=>[V(N(e.$locale.baseText("workflowActivator.inactive")),1)]),_:1}))],2),b(m,{disabled:!e.disabled,placement:"bottom"},{content:v(()=>[D("div",null,N(e.$locale.baseText("workflowActivator.thisWorkflowHasNoTriggerNodes")),1)]),default:v(()=>[He(b(l,{modelValue:e.workflowActive,"onUpdate:modelValue":e.activeChanged,title:e.workflowActive?e.$locale.baseText("workflowActivator.deactivateWorkflow"):e.$locale.baseText("workflowActivator.activateWorkflow"),disabled:e.disabled||e.updatingWorkflowActivation,"active-color":e.getActiveColor,"inactive-color":"#8899AA","element-loading-spinner":"el-icon-loading","data-test-id":"workflow-activate-switch"},null,8,["modelValue","onUpdate:modelValue","title","disabled","active-color"]),[[h,e.updatingWorkflowActivation]])]),_:1},8,["disabled"]),e.couldNotBeStarted?(y(),P("div",Tle,[b(m,{placement:"top"},{content:v(()=>[D("div",{onClick:t[0]||(t[0]=(...p)=>e.displayActivationError&&e.displayActivationError(...p)),innerHTML:e.$locale.baseText("workflowActivator.theWorkflowIsSetToBeActiveBut")},null,8,Sle)]),default:v(()=>[b(c,{onClick:e.displayActivationError,icon:"exclamation-triangle"},null,8,["onClick"])]),_:1})])):W("",!0)])}const Ele={$style:ble},U0=te(yle,[["render",kle],["__cssModules",Ele],["__scopeId","data-v-8032a0dd"]]),xle=J({name:"ExpandableInputBase",props:["modelValue","placeholder","staticSize"],computed:{hiddenValue(){let e=this.modelValue.replace(/\s/g,".");return e||(e=this.placeholder),`${e}`}}});const Cle=["data-value"];function Ole(e,t,s,n,o,i){return y(),P("div",{class:$({"el-input":!0,"static-size":e.staticSize}),"data-value":e.hiddenValue},[Ke(e.$slots,"default",{},void 0,!0)],10,Cle)}const W0=te(xle,[["render",Ole],["__scopeId","data-v-e0207138"]]),Dle=J({name:"ExpandableInputEdit",components:{ExpandableInputBase:W0},props:{modelValue:{},placeholder:{},maxlength:{},autofocus:{},eventBus:{type:Object}},mounted(){var e;this.autofocus&&this.$refs.input&&this.focus(),(e=this.eventBus)==null||e.on("focus",this.focus)},beforeUnmount(){var e;(e=this.eventBus)==null||e.off("focus",this.focus)},methods:{focus(){this.$refs.input&&this.$refs.input.focus()},onInput(){this.$emit("update:modelValue",this.$refs.input.value)},onEnter(){this.$emit("enter",this.$refs.input.value)},onClickOutside(e){e.type==="click"&&this.$emit("blur",this.$refs.input.value)},onEscape(){this.$emit("esc")}}}),Ale=["value","placeholder","maxlength"];function $le(e,t,s,n,o,i){const r=E("ExpandableInputBase"),l=Ls("on-click-outside");return y(),R(r,{modelValue:e.modelValue,placeholder:e.placeholder},{default:v(()=>[He(D("input",{class:"el-input__inner",value:e.modelValue,placeholder:e.placeholder,maxlength:e.maxlength,onInput:t[0]||(t[0]=(...m)=>e.onInput&&e.onInput(...m)),onKeydown:[t[1]||(t[1]=Ts((...m)=>e.onEnter&&e.onEnter(...m),["enter"])),t[2]||(t[2]=Ts((...m)=>e.onEscape&&e.onEscape(...m),["esc"]))],ref:"input",size:"4"},null,40,Ale),[[l,e.onClickOutside]])]),_:1},8,["modelValue","placeholder"])}const Nle=te(Dle,[["render",$le]]),_le=J({name:"ExpandableInputPreview",components:{ExpandableInputBase:W0},props:["modelValue"]});const Ple=["value"];function Ile(e,t,s,n,o,i){const r=E("ExpandableInputBase");return y(),R(r,{modelValue:e.modelValue,staticSize:!0},{default:v(()=>[D("input",{class:$({"el-input__inner":!0,clickable:!0}),value:e.modelValue,disabled:!0,size:"4"},null,8,Ple)]),_:1},8,["modelValue"])}const Mle=te(_le,[["render",Ile],["__scopeId","data-v-b3d8dcdb"]]),Lle=J({name:"InlineTextEdit",components:{ExpandableInputEdit:Nle,ExpandableInputPreview:Mle},props:{isEditEnabled:{type:Boolean,default:!1},modelValue:{type:String,default:""},placeholder:{type:String,default:""},maxLength:{type:Number,default:0},previewValue:{type:String,default:""},disabled:{type:Boolean,default:!1}},data(){return{isDisabled:this.disabled,newValue:"",escPressed:!1,inputBus:Ze()}},methods:{onInput(e){this.disabled||(this.newValue=e)},onClick(){this.disabled||(this.newValue=this.modelValue,this.$emit("toggle"))},onBlur(){this.disabled||(this.escPressed||this.submit(),this.escPressed=!1)},submit(){if(this.disabled)return;const e=t=>{this.isDisabled=!1,t||this.inputBus.emit("focus")};this.isDisabled=!0,this.$emit("submit",{name:this.newValue,onSubmit:e})},onEscape(){this.disabled||(this.escPressed=!0,this.$emit("toggle"))}},watch:{disabled(e){this.isDisabled=e}}});const Fle={key:0};function Ble(e,t,s,n,o,i){const r=E("ExpandableInputEdit"),l=E("ExpandableInputPreview");return y(),P("span",{onKeydown:t[1]||(t[1]=Qe(()=>{},["stop"])),class:"inline-edit"},[e.isEditEnabled&&!e.isDisabled?(y(),P("span",Fle,[b(r,{placeholder:e.placeholder,modelValue:e.newValue,maxlength:e.maxLength,autofocus:!0,eventBus:e.inputBus,"onUpdate:modelValue":e.onInput,onEsc:e.onEscape,onBlur:e.onBlur,onEnter:e.submit},null,8,["placeholder","modelValue","maxlength","eventBus","onUpdate:modelValue","onEsc","onBlur","onEnter"])])):(y(),P("span",{key:1,onClick:t[0]||(t[0]=(...m)=>e.onClick&&e.onClick(...m)),class:"preview"},[b(l,{modelValue:e.previewValue||e.modelValue},null,8,["modelValue"])]))],32)}const Rle=te(Lle,[["render",Ble],["__scopeId","data-v-8d13aaa6"]]),Vle=J({name:"BreakpointsObserver",mixins:[Nt,kn],props:["valueXS","valueXL","valueLG","valueMD","valueSM","valueDefault"],data(){return{width:window.innerWidth}},created(){window.addEventListener("resize",this.onResize)},beforeUnmount(){window.removeEventListener("resize",this.onResize)},methods:{onResize(){this.callDebounced("onResizeEnd",{debounceTime:50})},async onResizeEnd(){this.width=window.innerWidth,await this.$nextTick();const e=await FT();Ee().updateBannersHeight(e)}},computed:{bp(){return this.width<Jy?"XS":this.width>=tw?"XL":this.width>=ew?"LG":this.width>=Zy?"MD":"SM"},value(){return this.valueXS!==void 0&&this.width<Jy?this.valueXS:this.valueXL!==void 0&&this.width>=tw?this.valueXL:this.valueLG!==void 0&&this.width>=ew?this.valueLG:this.valueMD!==void 0&&this.width>=Zy?this.valueMD:this.valueSM!==void 0?this.valueSM:this.valueDefault}}});function Ule(e,t,s,n,o,i){return y(),P("span",null,[Ke(e.$slots,"default",{bp:e.bp,value:e.value})])}const Wle=te(Vle,[["render",Ule]]),jle=(e,t)=>{if(e.length!==t.length)return!0;const s=new Set(e);return t.reduce((n,o)=>n||!s.has(o),!1)},qle=J({name:"WorkflowDetails",mixins:[ut,Nt],components:{TagsContainer:dle,PushConnectionTracker:gle,ShortenName:Kae,WorkflowActivator:U0,SaveButton:zg,TagsDropdown:qd,InlineTextEdit:Rle,BreakpointsObserver:Wle},props:{readOnly:{type:Boolean,default:!1}},setup(){return{...sd(),...je(),...St()}},data(){return{isTagsEditEnabled:!1,isNameEditEnabled:!1,appliedTagIds:[],tagsEditBus:Ze(),MAX_WORKFLOW_NAME_LENGTH:jm,tagsSaving:!1,eventBus:Ze(),EnterpriseEditionFeature:ot}},computed:{...be(yi,fe,Le,Ee,Oi,_e,Ge,Vn,Fs),currentUser(){return this.usersStore.currentUser},contextBasedTranslationKeys(){return this.uiStore.contextBasedTranslationKeys},isWorkflowActive(){return this.workflowsStore.isWorkflowActive},workflowName(){return this.workflowsStore.workflowName},isDirty(){return this.uiStore.stateIsDirty},readOnlyEnv(){return this.sourceControlStore.preferences.branchReadOnly},currentWorkflowTagIds(){return this.workflowsStore.workflowTags},isNewWorkflow(){return!this.currentWorkflowId||this.currentWorkflowId===lt||this.currentWorkflowId==="new"},isWorkflowSaving(){return this.uiStore.isActionActive("workflowSaving")},workflow(){return this.workflowsStore.workflow},currentWorkflowId(){return this.workflowsStore.workflowId},onWorkflowPage(){return this.$route.meta&&(this.$route.meta.nodeView||this.$route.meta.keepWorkflowAlive===!0)},onExecutionsTab(){return[ee.EXECUTION_HOME.toString(),ee.WORKFLOW_EXECUTIONS.toString(),ee.EXECUTION_PREVIEW].includes(this.$route.name||"")},workflowPermissions(){return fl(this.usersStore.currentUser,this.workflow)},workflowMenuItems(){const e=[{id:rs.DOWNLOAD,label:this.$locale.baseText("menuActions.download"),disabled:!this.onWorkflowPage}];return this.readOnly||(e.unshift({id:rs.DUPLICATE,label:this.$locale.baseText("menuActions.duplicate"),disabled:!this.onWorkflowPage||!this.currentWorkflowId}),e.push({id:rs.IMPORT_FROM_URL,label:this.$locale.baseText("menuActions.importFromUrl"),disabled:!this.onWorkflowPage||this.onExecutionsTab},{id:rs.IMPORT_FROM_FILE,label:this.$locale.baseText("menuActions.importFromFile"),disabled:!this.onWorkflowPage||this.onExecutionsTab})),e.push({id:rs.PUSH,label:this.$locale.baseText("menuActions.push"),disabled:!this.sourceControlStore.isEnterpriseSourceControlEnabled||!this.onWorkflowPage||this.onExecutionsTab||this.readOnlyEnv}),e.push({id:rs.SETTINGS,label:this.$locale.baseText("generic.settings"),disabled:!this.onWorkflowPage||this.isNewWorkflow}),this.workflowPermissions.delete&&!this.readOnly&&e.push({id:rs.DELETE,label:this.$locale.baseText("menuActions.delete"),disabled:!this.onWorkflowPage||this.isNewWorkflow,customClass:this.$style.deleteItem,divided:!0}),e}},methods:{async onSaveButtonClick(){let e;this.currentWorkflowId!==lt?e=this.currentWorkflowId:this.$route.params.name&&this.$route.params.name!=="new"&&(e=this.$route.params.name),await this.saveCurrentWorkflow({id:e,name:this.workflowName,tags:this.currentWorkflowTagIds})&&await this.settingsStore.fetchPromptsData()},onShareButtonClick(){var e;this.uiStore.openModalWithData({name:dl,data:{id:this.currentWorkflowId}}),this.$telemetry.track("User opened sharing modal",{workflow_id:this.currentWorkflowId,user_id_sharer:(e=this.currentUser)==null?void 0:e.id,sub_view:this.$route.name===ee.WORKFLOWS?"Workflows listing":"Workflow editor"})},onTagsEditEnable(){this.appliedTagIds=this.currentWorkflowTagIds,this.isTagsEditEnabled=!0,setTimeout(()=>{this.isNameEditEnabled=!1,this.tagsEditBus.emit("focus")},0)},async onTagsBlur(){const e=this.currentWorkflowTagIds,t=this.appliedTagIds;if(!jle(e,t)){this.isTagsEditEnabled=!1;return}if(this.tagsSaving)return;this.tagsSaving=!0;const s=await this.saveCurrentWorkflow({tags:t});this.$telemetry.track("User edited workflow tags",{workflow_id:this.currentWorkflowId,new_tag_count:t.length}),this.tagsSaving=!1,s&&(this.isTagsEditEnabled=!1)},onTagsEditEsc(){this.isTagsEditEnabled=!1},onNameToggle(){this.isNameEditEnabled=!this.isNameEditEnabled,this.isNameEditEnabled&&(this.isTagsEditEnabled&&this.onTagsBlur(),this.isTagsEditEnabled=!1)},async onNameSubmit({name:e,onSubmit:t}){const s=e.trim();if(!s){this.showMessage({title:this.$locale.baseText("workflowDetails.showMessage.title"),message:this.$locale.baseText("workflowDetails.showMessage.message"),type:"error"}),t(!1);return}if(s===this.workflowName){this.isNameEditEnabled=!1,t(!0);return}const n=await this.saveCurrentWorkflow({name:e});n&&(this.isNameEditEnabled=!1),t(n)},async handleFileImport(){const e=new FileReader;e.onload=s=>{const n=s.target.result;let o;try{o=JSON.parse(n)}catch{this.showMessage({title:this.$locale.baseText("mainSidebar.showMessage.handleFileImport.title"),message:this.$locale.baseText("mainSidebar.showMessage.handleFileImport.message"),type:"error"});return}as.emit("importWorkflowData",{data:o})};const t=this.$refs.importFile;t!=null&&t.files&&t.files.length!==0&&e.readAsText(t.files[0])},async onWorkflowMenuSelect(e){switch(e){case rs.DUPLICATE:{this.uiStore.openModalWithData({name:jc,data:{id:this.workflowsStore.workflowId,name:this.workflowsStore.workflowName,tags:this.workflowsStore.workflowTags}});break}case rs.DOWNLOAD:{const t=await this.getWorkflowDataToSave(),{tags:s,...n}=t,o={...n,meta:{instanceId:this.rootStore.instanceId},tags:(s||[]).map(l=>{const{usageCount:m,...c}=this.tagsStore.getTagById(l);return c})},i=new Blob([JSON.stringify(o,null,2)],{type:"application/json;charset=utf-8"});let r=this.workflowName||"unsaved_workflow";r=r.replace(/[^a-z0-9]/gi,"_"),this.$telemetry.track("User exported workflow",{workflow_id:t.id}),Iu.saveAs(i,r+".json");break}case rs.IMPORT_FROM_URL:{try{const t=await this.prompt(this.$locale.baseText("mainSidebar.prompt.workflowUrl")+":",this.$locale.baseText("mainSidebar.prompt.importWorkflowFromUrl")+":",{confirmButtonText:this.$locale.baseText("mainSidebar.prompt.import"),cancelButtonText:this.$locale.baseText("mainSidebar.prompt.cancel"),inputErrorMessage:this.$locale.baseText("mainSidebar.prompt.invalidUrl"),inputPattern:/^http[s]?:\/\/.*\.json$/i});as.emit("importWorkflowUrl",{url:t.value})}catch{}break}case rs.IMPORT_FROM_FILE:{this.$refs.importFile.click();break}case rs.PUSH:{this.startLoading();try{await this.onSaveButtonClick();const t=await this.sourceControlStore.getAggregatedStatus();this.uiStore.openModalWithData({name:Sr,data:{eventBus:this.eventBus,status:t}})}catch(t){this.showError(t,this.$locale.baseText("error"))}finally{this.stopLoading()}break}case rs.SETTINGS:{this.uiStore.openModal(Pn);break}case rs.DELETE:{if(await this.confirm(this.$locale.baseText("mainSidebar.confirmMessage.workflowDelete.message",{interpolate:{workflowName:this.workflowName}}),this.$locale.baseText("mainSidebar.confirmMessage.workflowDelete.headline"),{type:"warning",confirmButtonText:this.$locale.baseText("mainSidebar.confirmMessage.workflowDelete.confirmButtonText"),cancelButtonText:this.$locale.baseText("mainSidebar.confirmMessage.workflowDelete.cancelButtonText")})!==bt)return;try{await this.workflowsStore.deleteWorkflow(this.currentWorkflowId)}catch(s){this.showError(s,this.$locale.baseText("generic.deleteWorkflowError"));return}this.uiStore.stateIsDirty=!1,this.titleReset(),this.showMessage({title:this.$locale.baseText("mainSidebar.showMessage.handleSelect1.title"),type:"success"}),await this.$router.push({name:ee.NEW_WORKFLOW});break}}},goToUpgrade(){this.uiStore.goToUpgrade("workflow_sharing","upgrade-workflow-sharing")}},watch:{currentWorkflowId(){this.isTagsEditEnabled=!1,this.isNameEditEnabled=!1}}});const zle="_workflowMenuContainer_1qpfn_5",Hle="_hiddenInput_1qpfn_9",Qle="_deleteItem_1qpfn_13",Gle="_disabledShareButton_1qpfn_17",Yle={workflowMenuContainer:zle,hiddenInput:Hle,deleteItem:Qle,disabledShareButton:Gle},Xle={key:0,class:"container"},Kle={key:0,class:"tags","data-test-id":"workflow-tags-container"},Jle={key:1},Zle={key:1,class:"tags"},eue={class:"activator"};function tue(e,t,s,n,o,i){const r=E("InlineTextEdit"),l=E("ShortenName"),m=E("BreakpointsObserver"),c=E("TagsDropdown"),h=E("TagsContainer"),p=E("WorkflowActivator"),g=E("n8n-button"),w=E("i18n-t"),S=E("n8n-tooltip"),k=E("enterprise-edition"),O=E("SaveButton"),C=E("n8n-action-dropdown"),A=E("PushConnectionTracker");return e.workflowName?(y(),P("div",Xle,[b(m,{valueXS:15,valueSM:25,valueMD:50,class:"name-container"},{default:v(({value:T})=>[b(l,{name:e.workflowName,limit:T,custom:!0,testId:"workflow-name-input"},{default:v(({shortenedName:F})=>[b(r,{modelValue:e.workflowName,previewValue:F,isEditEnabled:e.isNameEditEnabled,maxLength:e.MAX_WORKFLOW_NAME_LENGTH,disabled:e.readOnly,onToggle:e.onNameToggle,onSubmit:e.onNameSubmit,placeholder:"Enter workflow name",class:"name"},null,8,["modelValue","previewValue","isEditEnabled","maxLength","disabled","onToggle","onSubmit"])]),_:2},1032,["name","limit"])]),_:1}),e.settingsStore.areTagsEnabled?(y(),P("span",Kle,[e.isTagsEditEnabled&&!e.readOnly?(y(),R(c,{key:0,modelValue:e.appliedTagIds,"onUpdate:modelValue":t[0]||(t[0]=T=>e.appliedTagIds=T),createEnabled:!0,eventBus:e.tagsEditBus,placeholder:e.$locale.baseText("workflowDetails.chooseOrCreateATag"),ref:"dropdown",class:"tags-edit","data-test-id":"workflow-tags-dropdown",onBlur:e.onTagsBlur,onEsc:e.onTagsEditEsc},null,8,["modelValue","eventBus","placeholder","onBlur","onEsc"])):e.currentWorkflowTagIds.length===0&&!e.readOnly?(y(),P("div",Jle,[D("span",{class:"add-tag clickable","data-test-id":"new-tag-link",onClick:t[1]||(t[1]=(...T)=>e.onTagsEditEnable&&e.onTagsEditEnable(...T))}," + "+N(e.$locale.baseText("workflowDetails.addTag")),1)])):(y(),R(h,{tagIds:e.currentWorkflowTagIds,clickable:!0,responsive:!0,key:e.currentWorkflowId,onClick:e.onTagsEditEnable,"data-test-id":"workflow-tags"},null,8,["tagIds","onClick"]))])):(y(),P("span",Zle)),b(A,{class:"actions"},{default:v(()=>[D("span",eue,[b(p,{"workflow-active":e.isWorkflowActive,"workflow-id":e.currentWorkflowId},null,8,["workflow-active","workflow-id"])]),b(k,{features:[e.EnterpriseEditionFeature.Sharing]},{fallback:v(()=>[b(S,null,{content:v(()=>[b(w,{keypath:e.contextBasedTranslationKeys.workflows.sharing.unavailable.description.tooltip,tag:"span"},{action:v(()=>[D("a",{onClick:t[2]||(t[2]=(...T)=>e.goToUpgrade&&e.goToUpgrade(...T))},N(e.$locale.baseText(e.contextBasedTranslationKeys.workflows.sharing.unavailable.button)),1)]),_:1},8,["keypath"])]),default:v(()=>[b(g,{type:"secondary",class:$(["mr-2xs",e.$style.disabledShareButton])},{default:v(()=>[V(N(e.$locale.baseText("workflowDetails.share")),1)]),_:1},8,["class"])]),_:1})]),default:v(()=>[b(g,{type:"secondary",class:"mr-2xs",onClick:e.onShareButtonClick,"data-test-id":"workflow-share-button"},{default:v(()=>[V(N(e.$locale.baseText("workflowDetails.share")),1)]),_:1},8,["onClick"])]),_:1},8,["features"]),b(O,{type:"primary",saved:!this.isDirty&&!this.isNewWorkflow,disabled:e.isWorkflowSaving||e.readOnly,"data-test-id":"workflow-save-button",onClick:e.onSaveButtonClick},null,8,["saved","disabled","onClick"]),D("div",{class:$(e.$style.workflowMenuContainer)},[D("input",{class:$(e.$style.hiddenInput),type:"file",ref:"importFile","data-test-id":"workflow-import-input",onChange:t[3]||(t[3]=T=>e.handleFileImport())},null,34),b(C,{items:e.workflowMenuItems,"data-test-id":"workflow-menu",onSelect:e.onWorkflowMenuSelect},null,8,["items","onSelect"])],2)]),_:1})])):W("",!0)}const sue={$style:Yle},nue=te(qle,[["render",tue],["__cssModules",sue],["__scopeId","data-v-c190a8b0"]]),oue=J({name:"tab-bar",data(){return{MAIN_HEADER_TABS:_t}},props:{items:{type:Array,required:!0},activeTab:{type:String,default:_t.WORKFLOW}},computed:{...be(Ee),mainSidebarCollapsed(){return this.uiStore.sidebarMenuCollapsed}},methods:{onSelect(e,t){this.$emit("select",e,t)}}}),iue="_container_1o2mz_5",rue={container:iue};function aue(e,t,s,n,o,i){const r=E("n8n-radio-buttons");return e.items?(y(),P("div",{key:0,class:$({[e.$style.container]:!0,"tab-bar-container":!0,[e.$style.menuCollapsed]:e.mainSidebarCollapsed})},[b(r,{modelValue:e.activeTab,options:e.items,"onUpdate:modelValue":e.onSelect},null,8,["modelValue","options","onUpdate:modelValue"])],2)):W("",!0)}const lue={$style:rue},uue=te(oue,[["render",aue],["__cssModules",lue]]),cue=J({name:"MainHeader",components:{WorkflowDetails:nue,TabBar:uue},mixins:[Io,ut],setup(e){var t,s;return{...(t=Io.setup)==null?void 0:t.call(Io,e),...(s=ut.setup)==null?void 0:s.call(ut,e)}},data(){return{activeHeaderTab:_t.WORKFLOW,workflowToReturnTo:"",dirtyState:!1}},computed:{...be(Xe,Ee,Fs),tabBarItems(){return[{value:_t.WORKFLOW,label:this.$locale.baseText("generic.editor")},{value:_t.EXECUTIONS,label:this.$locale.baseText("generic.executions")}]},activeNode(){return this.ndvStore.activeNode},hideMenuBar(){return!!(this.activeNode&&this.activeNode.type!==As)},workflowName(){return this.workflowsStore.workflowName},currentWorkflow(){return this.$route.params.name||this.workflowsStore.workflowId},onWorkflowPage(){return this.$route.meta&&(this.$route.meta.nodeView||this.$route.meta.keepWorkflowAlive===!0)},activeExecution(){return this.workflowsStore.activeWorkflowExecution},readOnly(){return this.sourceControlStore.preferences.branchReadOnly}},mounted(){this.dirtyState=this.uiStore.stateIsDirty,this.syncTabsWithRoute(this.$route),this.pushConnect()},beforeUnmount(){this.pushDisconnect()},watch:{$route(e,t){this.syncTabsWithRoute(e)}},methods:{syncTabsWithRoute(e){e.name===ee.EXECUTION_HOME||e.name===ee.WORKFLOW_EXECUTIONS||e.name===ee.EXECUTION_PREVIEW?this.activeHeaderTab=_t.EXECUTIONS:(e.name===ee.WORKFLOW||e.name===ee.NEW_WORKFLOW)&&(this.activeHeaderTab=_t.WORKFLOW);const t=e.params.name;t!=="new"&&(this.workflowToReturnTo=t)},onTabSelected(e,t){switch(e){case _t.WORKFLOW:["","new",lt].includes(this.workflowToReturnTo)?this.$route.name!==ee.NEW_WORKFLOW&&(this.$router.push({name:ee.NEW_WORKFLOW}),this.uiStore.stateIsDirty=this.dirtyState):this.$route.name!==ee.WORKFLOW&&this.$router.push({name:ee.WORKFLOW,params:{name:this.workflowToReturnTo}}),this.activeHeaderTab=_t.WORKFLOW;break;case _t.EXECUTIONS:this.dirtyState=this.uiStore.stateIsDirty,this.workflowToReturnTo=this.currentWorkflow;const s=this.currentWorkflow===lt?"new":this.currentWorkflow;this.activeExecution?this.$router.push({name:ee.EXECUTION_PREVIEW,params:{name:s,executionId:this.activeExecution.id}}).catch(()=>{}):this.$router.push({name:ee.EXECUTION_HOME,params:{name:s}}),this.activeHeaderTab=_t.EXECUTIONS;break}}}});const due={class:"top-menu"};function pue(e,t,s,n,o,i){const r=E("WorkflowDetails"),l=E("tab-bar");return y(),P("div",null,[D("div",{class:$({"main-header":!0,expanded:!this.uiStore.sidebarMenuCollapsed})},[He(D("div",due,[b(r,{readOnly:e.readOnly},null,8,["readOnly"]),e.onWorkflowPage?(y(),R(l,{key:0,items:e.tabBarItems,activeTab:e.activeHeaderTab,onSelect:e.onTabSelected},null,8,["items","activeTab","onSelect"])):W("",!0)],512),[[nt,!e.hideMenuBar]])],2)])}const Du=te(cue,[["render",pue]]),hue="_notification_j2u1w_12",mue={"gift-icon":"_gift-icon_j2u1w_5",notification:hue},fue={},gue=D("div",null,null,-1),yue=[gue];function wue(e,t){const s=E("font-awesome-icon");return y(),P("div",{class:$(e.$style["gift-icon"])},[b(s,{icon:"gift"}),D("div",{class:$(e.$style.notification)},yue,2)],2)}const bue={$style:mue},vue=te(fue,[["render",wue],["__cssModules",bue]]),Ys=J({mixins:[Ft,ut],setup(){return{...sd(),...je()}},computed:{...be(fe,Ee,_e)},methods:{async runWorkflowApi(e){if(this.rootStore.pushConnectionActive===!1)throw new Error(this.$locale.baseText("workflowRun.noActiveConnectionToTheServer"));this.workflowsStore.subWorkflowExecutionError=null,this.uiStore.addActiveAction("workflowRunning");let t;try{t=await this.workflowsStore.runWorkflow(e)}catch(s){throw this.uiStore.removeActiveAction("workflowRunning"),s}return t.executionId!==void 0&&(this.workflowsStore.activeExecutionId=t.executionId),t.waitingForWebhook===!0&&(this.workflowsStore.executionWaitingForWebhook=!0),t},async runWorkflow(e,t){const s=this.getCurrentWorkflow();if(!this.uiStore.isActionActive("workflowRunning")){this.titleSet(s.name,"EXECUTING"),this.clearAllStickyNotifications();try{if(this.workflowsStore.nodesIssuesExist===!0){const S=this.checkReadyForExecution(s,e);if(S!==null){const k=[];let O;const C=[],A=[];for(const T of Object.keys(S)){O=jv(S[T]);let F="UNKNOWN";const L=this.workflowsStore.getNodeByName(T);L&&(F=L.type),A.push(F);const I={node_type:F,error:"",caused_by_credential:!!S[T].credentials};for(const j of O)k.push(`<strong>${T}</strong>: ${j}`),I.error=I.error.concat(", ",j);C.push(I)}this.showMessage({title:this.$locale.baseText("workflowRun.showMessage.title"),message:k.join("<br />"),type:"error",duration:0}),this.titleSet(s.name,"ERROR"),this.$externalHooks().run("workflowRun.runError",{errorMessages:k,nodeName:e}),await this.getWorkflowDataToSave().then(T=>{this.$telemetry.track("Workflow execution preflight failed",{workflow_id:s.id,workflow_name:s.name,execution_type:e?"node":"workflow",node_graph_string:JSON.stringify(ka(T,this.getNodeTypes()).nodeGraph),error_node_types:JSON.stringify(A),errors:JSON.stringify(C)})});return}}let o=[];e!==void 0&&(o=s.getParentNodes(e,"main",1));const i=this.workflowsStore.getWorkflowRunData;let r;const l=[];if(i!==null&&Object.keys(i).length!==0){r={};for(const S of o){const k=s.getParentNodes(S,"main");if(!s.nodes[S].disabled){k.push(S);for(const O of k){if(i[O]===void 0||i[O].length===0){l.push(O);break}r[O]=i[O].slice(0,1)}}}Object.keys(r).length===0&&(r=void 0)}l.length===0&&e!==void 0&&l.push(e);const m=this.workflowsStore.isNewWorkflow,c=this.workflowsStore.currentWorkflowHasWebhookNode;m&&c&&await this.saveCurrentWorkflow();const h=await this.getWorkflowDataToSave(),p={workflowData:h,runData:r,pinData:h.pinData,startNodes:l};e&&(p.destinationNode=e);const g={id:"__IN_PROGRESS__",finished:!1,mode:"manual",startedAt:new Date,stoppedAt:void 0,workflowId:s.id,executedNode:e,data:{resultData:{runData:r||{},pinData:h.pinData,startNodes:l,workflowData:h}},workflowData:{id:this.workflowsStore.workflowId,name:h.name,active:h.active,createdAt:0,updatedAt:0,...h}};this.workflowsStore.setWorkflowExecutionData(g),this.updateNodesExecutionIssues();const w=await this.runWorkflowApi(p);return await this.$externalHooks().run("workflowRun.runWorkflow",{nodeName:e,source:t}),w}catch(n){this.titleSet(s.name,"ERROR"),this.showError(n,this.$locale.baseText("workflowRun.showError.title"));return}}}}}),Tue=["value","max"],Sue=8,kue=J({__name:"ExecutionsUsage",props:{cloudPlanData:{}},setup(e){const t=e,s=Lo.utc(),n=we(()=>{const{days:p=0}=i().diff(s,["days"]).toObject();return Math.ceil(p)}),o=we(()=>{var g;if(!((g=t.cloudPlanData)!=null&&g.expirationDate))return!1;const p=Lo.fromISO(t.cloudPlanData.expirationDate);return s.toMillis()>p.toMillis()}),i=()=>{var p;return Lo.fromISO(((p=t==null?void 0:t.cloudPlanData)==null?void 0:p.expirationDate)??"")},r=we(()=>{var p;return(p=t.cloudPlanData)!=null&&p.usage?t.cloudPlanData.usage.executions<t.cloudPlanData.monthlyExecutionsLimit:0}),l=we(()=>{var w;if(!((w=t.cloudPlanData)!=null&&w.usage))return 0;const p=t.cloudPlanData.usage.executions,g=t.cloudPlanData.monthlyExecutionsLimit;return p>g?g:p}),m=we(()=>{var S;if(!((S=t.cloudPlanData)!=null&&S.usage))return 0;const p=t.cloudPlanData.usage.executions,g=t.cloudPlanData.monthlyExecutionsLimit,w=Sue*g/100;return p<w?w:p}),c=we(()=>{var p;return(p=t.cloudPlanData)!=null&&p.monthlyExecutionsLimit?t.cloudPlanData.monthlyExecutionsLimit:0}),h=()=>{Ee().goToUpgrade("canvas-nav","upgrade-canvas-nav","redirect")};return(p,g)=>{const w=E("n8n-text"),S=E("i18n-t"),k=E("n8n-button");return y(),P("div",{class:$(p.$style.container)},[o.value?(y(),P("div",{key:0,class:$(p.$style.usageText)},[b(w,{size:"small",color:"danger"},{default:v(()=>[V(N(Z(Te).baseText("executionUsage.expired.text")),1)]),_:1})],2)):!o.value&&r.value?(y(),P("div",{key:1,class:$(p.$style.usageText)},[b(S,{tag:"span",keypath:"executionUsage.currentUsage"},{text:v(()=>[b(w,{size:"small",color:"text-dark"},{default:v(()=>[V(N(Z(Te).baseText("executionUsage.currentUsage.text")),1)]),_:1})]),count:v(()=>[b(w,{size:"small",bold:!0,color:"warning"},{default:v(()=>[V(N(Z(Te).baseText("executionUsage.currentUsage.count",{adjustToNumber:n.value||0})),1)]),_:1})]),_:1})],2)):r.value?W("",!0):(y(),P("div",{key:2,class:$(p.$style.usageText)},[b(w,{size:"small"},{default:v(()=>[V(N(Z(Te).baseText("executionUsage.ranOutOfExecutions.text")),1)]),_:1})],2)),o.value?W("",!0):(y(),P("div",{key:3,class:$(p.$style.usageCounter)},[D("div",{class:$(p.$style.progressBarDiv)},[D("progress",{class:$([r.value?p.$style.progressBarSuccess:p.$style.progressBarDanger,p.$style.progressBar]),value:m.value,max:c.value},null,10,Tue)],2),D("div",{class:$(p.$style.executionsCountSection)},[b(w,{size:"xsmall",color:r.value?"text-dark":"danger"},{default:v(()=>[V(N(l.value)+"/"+N(c.value),1)]),_:1},8,["color"]),b(w,{size:"xsmall",color:r.value?"text-dark":"danger"},{default:v(()=>[V(N(Z(Te).baseText("executionUsage.label.executions")),1)]),_:1},8,["color"])],2)],2)),D("div",{class:$(p.$style.upgradeButtonSection)},[b(k,{label:Z(Te).baseText("executionUsage.button.upgrade"),size:"xmini",icon:"gem",type:"success",block:!0,onClick:h},null,8,["label"])],2)],2)}}}),Eue="_container_itrcs_5",xue="_progressBarDiv_itrcs_13",Cue="_progressBar_itrcs_13",Oue="_progressBarSuccess_itrcs_42",Due="_progressBarDanger_itrcs_52",Aue="_usageText_itrcs_61",$ue="_usageCounter_itrcs_68",Nue="_danger_itrcs_77",_ue="_executionsCountSection_itrcs_81",Pue="_upgradeButtonSection_itrcs_85",Iue={container:Eue,progressBarDiv:xue,progressBar:Cue,progressBarSuccess:Oue,progressBarDanger:Due,usageText:Aue,usageCounter:$ue,danger:Nue,executionsCountSection:_ue,upgradeButtonSection:Pue},Mue={$style:Iue},Lue=te(kue,[["__cssModules",Mue]]),Fue=J({__name:"MainSidebarSourceControl",props:{isCollapsed:{type:Boolean}},setup(e){const t=e,s={CONFLICT:409};Mc();const n=td(),o=Ee(),i=Ge(),r=Fs(),l=je(),m=Lt(),c=Ze(),h=Be(300),p=we(()=>r.preferences.branchName),g=we(()=>i.isInstanceOwner);we(()=>t.isCollapsed?"right":"top");async function w(){n.startLoading(),n.setLoadingText(m.baseText("settings.sourceControl.loading.checkingForChanges"));try{const k=await r.getAggregatedStatus();o.openModalWithData({name:Sr,data:{eventBus:c,status:k}})}catch(k){l.showError(k,m.baseText("error"))}finally{n.stopLoading(),n.setLoadingText(m.baseText("genericHelpers.loading"))}}async function S(){n.startLoading(),n.setLoadingText(m.baseText("settings.sourceControl.loading.pull"));try{const k=await r.pullWorkfolder(!1)||[];if(k.filter(C=>!(C.type==="workflow"&&C.status==="created"&&C.location==="local")).length===0)l.showMessage({title:m.baseText("settings.sourceControl.pull.upToDate.title"),message:m.baseText("settings.sourceControl.pull.upToDate.description"),type:"success"});else{l.showMessage({title:m.baseText("settings.sourceControl.pull.success.title"),type:"success"});const C=["variables","credential"];(k||[]).some(T=>C.includes(T.type))&&Xs(()=>{l.showMessage({message:m.baseText("settings.sourceControl.pull.oneLastStep.description"),title:m.baseText("settings.sourceControl.pull.oneLastStep.title"),type:"info",duration:0,showClose:!0,offset:0})})}Ac.emit("pull")}catch(k){const O=k.response;(O==null?void 0:O.status)===s.CONFLICT?o.openModalWithData({name:La,data:{eventBus:c,status:O.data.data}}):l.showError(k,"Error")}finally{n.stopLoading(),n.setLoadingText(m.baseText("genericHelpers.loading"))}}return(k,O)=>{const C=E("n8n-icon"),A=E("n8n-button"),T=E("n8n-tooltip");return Z(r).isEnterpriseSourceControlEnabled&&g.value?(y(),P("div",{key:0,class:$({[k.$style.sync]:!0,[k.$style.collapsed]:k.isCollapsed,[k.$style.isConnected]:Z(r).isEnterpriseSourceControlEnabled}),style:zt({borderLeftColor:Z(r).preferences.branchColor}),"data-test-id":"main-sidebar-source-control"},[Z(r).preferences.connected&&Z(r).preferences.branchName?(y(),P("div",{key:0,class:$(k.$style.connected),"data-test-id":"main-sidebar-source-control-connected"},[D("span",{class:$(k.$style.branchName)},[b(C,{icon:"code-branch"}),V(" "+N(p.value),1)],2),D("div",{class:$({"pt-xs":!k.isCollapsed})},[b(T,{disabled:!k.isCollapsed,"show-after":h.value,placement:"right"},{content:v(()=>[D("div",null,N(Z(m).baseText("settings.sourceControl.button.pull")),1)]),default:v(()=>[b(A,{class:$({"mr-2xs":!k.isCollapsed,"mb-2xs":k.isCollapsed&&!Z(r).preferences.branchReadOnly}),icon:"arrow-down",type:"tertiary",size:"mini",square:k.isCollapsed,label:k.isCollapsed?"":Z(m).baseText("settings.sourceControl.button.pull"),onClick:S},null,8,["class","square","label"])]),_:1},8,["disabled","show-after"]),Z(r).preferences.branchReadOnly?W("",!0):(y(),R(T,{key:0,disabled:!k.isCollapsed,"show-after":h.value,placement:"right"},{content:v(()=>[D("div",null,N(Z(m).baseText("settings.sourceControl.button.push")),1)]),default:v(()=>[b(A,{square:k.isCollapsed,label:k.isCollapsed?"":Z(m).baseText("settings.sourceControl.button.push"),icon:"arrow-up",type:"tertiary",size:"mini",onClick:w},null,8,["square","label"])]),_:1},8,["disabled","show-after"]))],2)],2)):W("",!0)],6)):W("",!0)}}}),Bue="_sync_5r18i_5",Rue="_isConnected_5r18i_12",Vue="_collapsed_5r18i_16",Uue="_branchName_5r18i_29",Wue="_connected_5r18i_39",jue={sync:Bue,isConnected:Rue,collapsed:Vue,branchName:Uue,connected:Wue},que={$style:jue},zue=te(Fue,[["__cssModules",que]]),Hue=J({name:"MainSidebar",components:{GiftNotificationIcon:vue,ExecutionsUsage:Lue,MainSidebarSourceControl:zue},mixins:[Nt,ut,Ys,Qg,kn],setup(e){var t;return{...St(),...(t=Ys.setup)==null?void 0:t.call(Ys,e)}},data(){return{basePath:"",fullyExpanded:!1}},computed:{...be(fe,Le,Ee,Ge,Kc,_e,Vn,Fs),hasVersionUpdates(){return this.versionsStore.hasVersionUpdates},nextVersions(){return this.versionsStore.nextVersions},isCollapsed(){return this.uiStore.sidebarMenuCollapsed},canUserAccessSettings(){return this.findFirstAccessibleSettingsRoute()!==null},showUserArea(){return this.usersStore.canUserAccessSidebarUserInfo&&this.usersStore.currentUser!==null},workflowExecution(){return this.workflowsStore.getWorkflowExecution},userMenuItems(){return[{id:"settings",label:this.$locale.baseText("settings")},{id:"logout",label:this.$locale.baseText("auth.signout")}]},mainMenuItems(){var o;const e=[],t=this.uiStore.sidebarMenuItems,s={id:"workflows",icon:"network-wired",label:this.$locale.baseText("mainSidebar.workflows"),position:"top",activateOnRouteNames:[ee.WORKFLOWS]};if(this.sourceControlStore.preferences.branchReadOnly&&(s.secondaryIcon={name:"lock",tooltip:{content:this.$locale.baseText("mainSidebar.workflows.readOnlyEnv.tooltip")}}),t&&t.length>0)for(const i of t)e.push({id:i.id,icon:i.properties?i.properties.icon:"",label:i.properties?i.properties.title:"",position:i.position,type:(o=i.properties)!=null&&o.href?"link":"regular",properties:i.properties});const n=[s,{id:"templates",icon:"box-open",label:this.$locale.baseText("mainSidebar.templates"),position:"top",available:this.settingsStore.isTemplatesEnabled,activateOnRouteNames:[ee.TEMPLATES]},{id:"credentials",icon:"key",label:this.$locale.baseText("mainSidebar.credentials"),customIconSize:"medium",position:"top",activateOnRouteNames:[ee.CREDENTIALS]},{id:"variables",icon:"variable",label:this.$locale.baseText("mainSidebar.variables"),customIconSize:"medium",position:"top",activateOnRouteNames:[ee.VARIABLES]},{id:"executions",icon:"tasks",label:this.$locale.baseText("mainSidebar.executions"),position:"top",activateOnRouteNames:[ee.EXECUTIONS]},{id:"settings",icon:"cog",label:this.$locale.baseText("settings"),position:"bottom",available:this.canUserAccessSettings&&this.usersStore.currentUser!==null,activateOnRouteNames:[ee.USERS_SETTINGS,ee.API_SETTINGS,ee.PERSONAL_SETTINGS]},{id:"help",icon:"question",label:"Help",position:"bottom",children:[{id:"quickstart",icon:"video",label:this.$locale.baseText("mainSidebar.helpMenuItems.quickstart"),type:"link",properties:{href:"https://www.youtube.com/watch?v=1MwSoB0gnM4",newWindow:!0}},{id:"docs",icon:"book",label:this.$locale.baseText("mainSidebar.helpMenuItems.documentation"),type:"link",properties:{href:"https://docs.n8n.io",newWindow:!0}},{id:"forum",icon:"users",label:this.$locale.baseText("mainSidebar.helpMenuItems.forum"),type:"link",properties:{href:"https://community.n8n.io",newWindow:!0}},{id:"examples",icon:"graduation-cap",label:this.$locale.baseText("mainSidebar.helpMenuItems.course"),type:"link",properties:{href:"https://www.youtube.com/watch?v=1MwSoB0gnM4",newWindow:!0}},{id:"about",icon:"info",label:this.$locale.baseText("mainSidebar.aboutN8n"),position:"bottom"}]}];return[...e,...n]},userIsTrialing(){return this.cloudPlanStore.userIsTrialing},currentPlanAndUsageData(){const e=this.cloudPlanStore.currentPlanData,t=this.cloudPlanStore.currentUsageData;return!e||!t?null:{...e,usage:t}}},mounted(){this.basePath=this.rootStore.baseUrl,this.$refs.user&&this.$externalHooks().run("mainSidebar.mounted",{userRef:this.$refs.user}),this.$nextTick(()=>{window.innerWidth<900||this.uiStore.isNodeView?this.uiStore.sidebarMenuCollapsed=!0:this.uiStore.sidebarMenuCollapsed=!1,this.fullyExpanded=!this.isCollapsed})},created(){window.addEventListener("resize",this.onResize)},beforeUnmount(){window.removeEventListener("resize",this.onResize)},methods:{trackHelpItemClick(e){this.$telemetry.track("User clicked help resource",{type:e,workflow_id:this.workflowsStore.workflowId})},async onUserActionToggle(e){switch(e){case"logout":this.onLogout();break;case"settings":this.$router.push({name:ee.PERSONAL_SETTINGS});break}},onLogout(){this.$router.push({name:ee.SIGNOUT})},toggleCollapse(){this.uiStore.toggleSidebarMenuCollapse(),this.isCollapsed?this.fullyExpanded=!this.isCollapsed:setTimeout(()=>{this.fullyExpanded=!this.isCollapsed},300)},openUpdatesPanel(){this.uiStore.openModal(gi)},async handleSelect(e){switch(e){case"workflows":{this.$router.currentRoute.name!==ee.WORKFLOWS&&this.goToRoute({name:ee.WORKFLOWS});break}case"templates":{this.$router.currentRoute.name!==ee.TEMPLATES&&this.goToRoute({name:ee.TEMPLATES});break}case"credentials":{this.$router.currentRoute.name!==ee.CREDENTIALS&&this.goToRoute({name:ee.CREDENTIALS});break}case"variables":{this.$router.currentRoute.name!==ee.VARIABLES&&this.goToRoute({name:ee.VARIABLES});break}case"executions":{this.$router.currentRoute.name!==ee.EXECUTIONS&&this.goToRoute({name:ee.EXECUTIONS});break}case"settings":{const t=this.findFirstAccessibleSettingsRoute();if(t){const s=this.$router.resolve({name:t});this.$router.currentRoute.name!==t&&this.goToRoute(s.path)}break}case"about":{this.trackHelpItemClick("about"),this.uiStore.openModal(cl);break}case"quickstart":case"docs":case"forum":case"examples":{this.trackHelpItemClick(e);break}}},goToRoute(e){this.$router.push(e).catch(t=>{console.log(t),Lv(t)||console.error(t)})},findFirstAccessibleSettingsRoute(){const e=this.$router.getRoutes().find(s=>s.path==="/settings").children.map(s=>s.name||"");let t=null;for(const s of e)if(this.canUserAccessRouteByName(s)){t=s;break}return t},onResize(e){this.callDebounced("onResizeEnd",{debounceTime:100},e)},async onResizeEnd(e){const t=e.target.outerWidth;await this.checkWidthAndAdjustSidebar(t)},async checkWidthAndAdjustSidebar(e){e<900&&(this.uiStore.sidebarMenuCollapsed=!0,await this.$nextTick(),this.fullyExpanded=!this.isCollapsed)}}}),Que="_sideMenu_q79od_5",Gue="_logo_q79od_12",Yue="_sideMenuCollapsed_q79od_23",Xue="_sideMenuCollapseButton_q79od_30",Kue="_updates_q79od_49",Jue="_expanded_q79od_62",Zue="_userArea_q79od_69",ece="_userName_q79od_76",tce="_userActions_q79od_90",sce={sideMenu:Que,logo:Gue,sideMenuCollapsed:Yue,sideMenuCollapseButton:Xue,updates:Kue,expanded:Jue,userArea:Zue,userName:ece,userActions:tce},nce=["src"],oce={class:"ml-3xs","data-test-id":"main-sidebar-user-menu"};function ice(e,t,s,n,o,i){const r=E("n8n-icon"),l=E("ExecutionsUsage"),m=E("GiftNotificationIcon"),c=E("n8n-text"),h=E("MainSidebarSourceControl"),p=E("n8n-avatar"),g=E("el-dropdown-item"),w=E("el-dropdown-menu"),S=E("el-dropdown"),k=E("n8n-action-dropdown"),O=E("n8n-menu");return y(),P("div",{id:"side-menu",class:$({"side-menu":!0,[e.$style.sideMenu]:!0,[e.$style.sideMenuCollapsed]:e.isCollapsed})},[D("div",{id:"collapse-change-button",class:$(["clickable",e.$style.sideMenuCollapseButton]),onClick:t[0]||(t[0]=(...C)=>e.toggleCollapse&&e.toggleCollapse(...C))},[e.isCollapsed?(y(),R(r,{key:0,icon:"chevron-right",size:"xsmall",class:"ml-5xs"})):(y(),R(r,{key:1,icon:"chevron-left",size:"xsmall",class:"mr-5xs"}))],2),b(O,{items:e.mainMenuItems,collapsed:e.isCollapsed,onSelect:e.handleSelect},Ms({header:v(()=>[D("div",{class:$(e.$style.logo)},[D("img",{src:e.basePath+(e.isCollapsed?"n8n-logo-collapsed.svg":"n8n-logo-expanded.svg"),class:$(e.$style.icon),alt:"n8n"},null,10,nce)],2)]),beforeLowerMenu:v(()=>[e.fullyExpanded&&e.userIsTrialing?(y(),R(l,{key:0,"cloud-plan-data":e.currentPlanAndUsageData},null,8,["cloud-plan-data"])):W("",!0)]),menuSuffix:v(()=>[D("div",null,[e.hasVersionUpdates?(y(),P("div",{key:0,class:$(e.$style.updates),onClick:t[1]||(t[1]=(...C)=>e.openUpdatesPanel&&e.openUpdatesPanel(...C))},[D("div",{class:$(e.$style.giftContainer)},[b(m)],2),b(c,{class:$({"ml-xs":!0,[e.$style.expanded]:e.fullyExpanded}),color:"text-base"},{default:v(()=>[V(N(e.nextVersions.length>99?"99+":e.nextVersions.length)+" update"+N(e.nextVersions.length>1?"s":""),1)]),_:1},8,["class"])],2)):W("",!0),b(h,{"is-collapsed":e.isCollapsed},null,8,["is-collapsed"])])]),_:2},[e.showUserArea?{name:"footer",fn:v(()=>[D("div",{class:$(e.$style.userArea)},[D("div",oce,[b(S,{disabled:!e.isCollapsed,placement:"right-end",trigger:"click",onCommand:e.onUserActionToggle},{dropdown:v(()=>[b(w,null,{default:v(()=>[b(g,{command:"settings"},{default:v(()=>[V(N(e.$locale.baseText("settings")),1)]),_:1}),b(g,{command:"logout"},{default:v(()=>[V(N(e.$locale.baseText("auth.signout")),1)]),_:1})]),_:1})]),default:v(()=>[D("div",{class:$({[e.$style.avatar]:!0,clickable:e.isCollapsed})},[b(p,{firstName:e.usersStore.currentUser.firstName,lastName:e.usersStore.currentUser.lastName,size:"small"},null,8,["firstName","lastName"])],2)]),_:1},8,["disabled","onCommand"])]),D("div",{class:$({"ml-2xs":!0,[e.$style.userName]:!0,[e.$style.expanded]:e.fullyExpanded})},[b(c,{size:"small",bold:!0,color:"text-dark"},{default:v(()=>[V(N(e.usersStore.currentUser.fullName),1)]),_:1})],2),D("div",{class:$({[e.$style.userActions]:!0,[e.$style.expanded]:e.fullyExpanded})},[b(k,{items:e.userMenuItems,placement:"top-start","data-test-id":"user-menu",onSelect:e.onUserActionToggle},null,8,["items","onSelect"])],2)],2)]),key:"0"}:void 0]),1032,["items","collapsed","onSelect"])],2)}const rce={$style:sce},rn=te(Hue,[["render",ice],["__cssModules",rce]]),j0=J({data(){return{isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isMacOs:/(ipad|iphone|ipod|mac)/i.test(navigator.platform)}},computed:{controlKeyCode(){return this.isMacOs?"Meta":"Control"}},methods:{isCtrlKeyPressed(e){return this.isTouchDevice===!0&&e instanceof MouseEvent?!0:this.isMacOs?e.metaKey:e.ctrlKey}}}),ace=J({mixins:[j0],data(){return{moveLastPosition:[0,0]}},computed:{...be(Ee)},methods:{moveWorkflow(e){const t=this.uiStore.nodeViewOffsetPosition,[s,n]=uc(e),o=t[0]+(s-this.moveLastPosition[0]),i=t[1]+(n-this.moveLastPosition[1]);this.uiStore.nodeViewOffsetPosition=[o,i],this.moveLastPosition[0]=s,this.moveLastPosition[1]=n},mouseDownMoveWorkflow(e,t){if(this.isCtrlKeyPressed(e)===!1&&!t||this.uiStore.isActionActive("dragActive"))return;e.button!==1&&(this.uiStore.nodeViewMoveInProgress=!0);const[s,n]=uc(e);this.moveLastPosition[0]=s,this.moveLastPosition[1]=n,this.$el.addEventListener("mousemove",this.mouseMoveNodeWorkflow)},mouseUpMoveWorkflow(e){this.uiStore.nodeViewMoveInProgress!==!1&&(this.$el.removeEventListener("mousemove",this.mouseMoveNodeWorkflow),this.uiStore.nodeViewMoveInProgress=!1)},mouseMoveNodeWorkflow(e){if(!(e.target&&!e.target.id.includes("node-view"))&&!this.uiStore.isActionActive("dragActive")){if(e.buttons===4&&(this.uiStore.nodeViewMoveInProgress=!0),e.buttons===0){this.mouseUp(e);return}this.moveWorkflow(e)}}}});function lce(){function e(){return it().allNodeTypes.reduce((s,n)=>{if(typeof n.defaults.name!="string")throw new Error("Expected node name default to be a string");return/\d$/.test(n.defaults.name)&&s.push(n.defaults.name),s},[])}function t(s,n=[]){var h,p;const{canvasNames:o}=_e();if(!o.has(s)&&!n.includes(s))return s;const r=e().find(g=>s.startsWith(g));if(r){let g="",w=1;const S=s.split(r).pop(),k=S==null?void 0:S[S.length-1];for(k&&Number.isInteger(Number(k))&&(w=parseInt(k,10),s=s.slice(0,-1)),g=s;o.has(g)||n.includes(g);)g=s+w++;return g}if(/^\d+-?\d*$/.test(s)){let g="",w=1;const S=s.match(/(?<base>\d+)-?(?<suffix>\d*)/);if(!(S!=null&&S.groups))throw new Error("Failed to find match for unique name");for(((h=S==null?void 0:S.groups)==null?void 0:h.suffix)!==""&&(w=parseInt(S.groups.suffix,10)),g=S.groups.base;o.has(g)||n.includes(g);)g=S.groups.base+"-"+w++;return g}let l="",m=1;const c=s.match(/(?<base>.*\D+)(?<suffix>\d*)/);if(!(c!=null&&c.groups))throw new Error("Failed to find match for unique name");for(((p=c==null?void 0:c.groups)==null?void 0:p.suffix)!==""&&(m=parseInt(c.groups.suffix,10)),l=c.groups.base;o.has(l)||n.includes(l);)l=c.groups.base+m++;return l}return{uniqueNodeName:t}}const uce=J({name:"NodeTitle",components:{NodeIcon:Di},props:{modelValue:{type:String,default:""},nodeType:{},readOnly:{type:Boolean,default:!1}},data(){return{editName:!1,newName:""}},computed:{editable(){return!this.readOnly&&window===window.parent}},methods:{async onEdit(){this.newName=this.modelValue,this.editName=!0,await this.$nextTick();const e=this.$refs.input;e&&e.focus()},onRename(){this.newName.trim()!==""&&this.$emit("update:modelValue",this.newName.trim()),this.editName=!1}}}),cce="_container_15oh7_5",dce="_title_15oh7_15",pce="_hoverable_15oh7_23",hce="_editIcon_15oh7_26",mce="_iconWrapper_15oh7_30",fce="_editIconContainer_15oh7_43",gce="_editButtons_15oh7_49",yce="_editContainer_15oh7_57",wce={container:cce,title:dce,hoverable:pce,editIcon:hce,iconWrapper:mce,editIconContainer:fce,editButtons:gce,editContainer:yce};function bce(e,t,s,n,o,i){const r=E("NodeIcon"),l=E("n8n-text"),m=E("n8n-input"),c=E("n8n-button"),h=E("font-awesome-icon"),p=E("n8n-popover");return y(),P("span",{class:$(e.$style.container),"data-test-id":"node-title-container",onClick:t[5]||(t[5]=(...g)=>e.onEdit&&e.onEdit(...g))},[D("span",{class:$(e.$style.iconWrapper)},[b(r,{nodeType:e.nodeType,size:18},null,8,["nodeType"])],2),b(p,{placement:"right",width:"200",visible:e.editName,disabled:!e.editable},{reference:v(()=>[D("div",{class:$({[e.$style.title]:!0,[e.$style.hoverable]:e.editable})},[V(N(e.modelValue)+" ",1),D("div",{class:$(e.$style.editIconContainer)},[e.editable?(y(),R(h,{key:0,class:$(e.$style.editIcon),icon:"pencil-alt"},null,8,["class"])):W("",!0)],2)],2)]),default:v(()=>[D("div",{class:$(e.$style.editContainer),onKeydown:[t[2]||(t[2]=Ts((...g)=>e.onRename&&e.onRename(...g),["enter"])),t[3]||(t[3]=Qe(()=>{},["stop"])),t[4]||(t[4]=Ts(g=>e.editName=!1,["esc"]))]},[b(l,{bold:!0,color:"text-base",tag:"div"},{default:v(()=>[V(N(e.$locale.baseText("ndv.title.renameNode")),1)]),_:1}),b(m,{ref:"input",size:"small",modelValue:e.newName,"onUpdate:modelValue":t[0]||(t[0]=g=>e.newName=g),"data-test-id":"node-rename-input"},null,8,["modelValue"]),D("div",{class:$(e.$style.editButtons)},[b(c,{type:"secondary",size:"small",onClick:t[1]||(t[1]=g=>e.editName=!1),label:e.$locale.baseText("ndv.title.cancel")},null,8,["label"]),b(c,{type:"primary",size:"small",onClick:e.onRename,label:e.$locale.baseText("ndv.title.rename")},null,8,["onClick","label"])],2)],34)]),_:1},8,["visible","disabled"])],2)}const vce={$style:wce},Tce=te(uce,[["render",bce],["__cssModules",vce]]),Sce=J({name:"NodeSettingsTabs",mixins:[Ft],props:{modelValue:{type:String,default:""},nodeType:{},sessionId:{type:String}},computed:{...be(Xe,_e),activeNode(){return this.ndvStore.activeNode},documentationUrl(){var n,o,i,r;const e=this.nodeType;if(!e)return"";if(e.documentationUrl&&e.documentationUrl.startsWith("http"))return e.documentationUrl;const t="?utm_source=n8n_app&utm_medium=node_settings_modal-credential_link&utm_campaign="+e.name,s=(r=(i=(o=(n=e.codex)==null?void 0:n.resources)==null?void 0:o.primaryDocumentation)==null?void 0:i[0])==null?void 0:r.url;return s?s+t:this.isCommunityNode?`${yT}${e.name.split(".")[0]}`:w_+t},isCommunityNode(){const e=this.nodeType;return e?cf(e.name):!1},packageName(){return this.nodeType.name.split(".")[0]},options(){const e=[{label:this.$locale.baseText("nodeSettings.parameters"),value:"params"}];this.documentationUrl&&e.push({label:this.$locale.baseText("nodeSettings.docs"),value:"docs",href:this.documentationUrl}),this.isCommunityNode&&e.push({icon:"cube",value:"communityNode",align:"right",tooltip:this.$locale.baseText("generic.communityNode.tooltip",{interpolate:{docUrl:gr,packageName:this.packageName}})});const t=!this.isCommunityNode;return e.push({icon:"cog",value:"settings",align:t?"right":void 0}),e}},methods:{onTabSelect(e){e==="docs"&&this.nodeType&&(this.$externalHooks().run("dataDisplay.onDocumentationUrlClick",{nodeType:this.nodeType,documentationUrl:this.documentationUrl}),this.$telemetry.track("User clicked ndv link",{node_type:this.activeNode.type,workflow_id:this.workflowsStore.workflowId,session_id:this.sessionId,pane:"main",type:"docs"})),e==="settings"&&this.nodeType&&this.$telemetry.track("User viewed node settings",{node_type:this.nodeType.name,workflow_id:this.workflowsStore.workflowId}),(e==="settings"||e==="params")&&this.$emit("update:modelValue",e)},onTooltipClick(e,t){e==="communityNode"&&t.target.localName==="a"&&this.$telemetry.track("user clicked cnr docs link",{source:"node details view"})}}});function kce(e,t,s,n,o,i){const r=E("n8n-tabs");return y(),R(r,{options:e.options,modelValue:e.modelValue,"onUpdate:modelValue":e.onTabSelect,onTooltipClick:e.onTooltipClick},null,8,["options","modelValue","onUpdate:modelValue","onTooltipClick"])}const Ece=te(Sce,[["render",kce]]),xce=J({name:"NodeWebhooks",mixins:[Ai,ut],props:["node","nodeType"],setup(){return{...je()}},data(){return{isMinimized:this.nodeType&&this.nodeType.name!==Ns,showUrlFor:"test"}},computed:{webhooksNode(){return this.nodeType===null||this.nodeType.webhooks===void 0?[]:this.nodeType.webhooks.filter(e=>e.restartWebhook!==!0)}},methods:{copyWebhookUrl(e){const t=this.getWebhookUrlDisplay(e);this.copyToClipboard(t),this.showMessage({title:this.$locale.baseText("nodeWebhooks.showMessage.title"),type:"success"}),this.$telemetry.track("User copied webhook URL",{pane:"parameters",type:`${this.showUrlFor} url`})},getWebhookUrlDisplay(e){return this.node?this.getWebhookUrl(e,this.node,this.showUrlFor):""}},watch:{node(){this.isMinimized=this.nodeType.name!==Ns}}});const q0=e=>(_c("data-v-bdde5559"),e=e(),Pc(),e),Cce={key:0,class:"webhooks"},Oce=["title"],Dce={key:0,class:"node-webhooks"},Ace={class:"url-selection"},$ce={class:"webhook-wrapper"},Nce={class:"http-field"},_ce={class:"http-method"},Pce=q0(()=>D("br",null,null,-1)),Ice={class:"url-field"},Mce=["onClick"],Lce=q0(()=>D("br",null,null,-1));function Fce(e,t,s,n,o,i){const r=E("font-awesome-icon"),l=E("n8n-radio-buttons"),m=E("el-col"),c=E("el-row"),h=E("n8n-tooltip"),p=E("el-collapse-transition");return e.webhooksNode.length?(y(),P("div",Cce,[D("div",{class:$(["clickable headline",{expanded:!e.isMinimized}]),onClick:t[0]||(t[0]=g=>e.isMinimized=!e.isMinimized),title:e.isMinimized?e.$locale.baseText("nodeWebhooks.clickToDisplayWebhookUrls"):e.$locale.baseText("nodeWebhooks.clickToHideWebhookUrls")},[b(r,{icon:"angle-down",class:"minimize-button minimize-icon"}),V(" "+N(e.$locale.baseText("nodeWebhooks.webhookUrls")),1)],10,Oce),b(p,null,{default:v(()=>[e.isMinimized?W("",!0):(y(),P("div",Dce,[D("div",Ace,[b(c,null,{default:v(()=>[b(m,{span:24},{default:v(()=>[b(l,{modelValue:e.showUrlFor,"onUpdate:modelValue":t[1]||(t[1]=g=>e.showUrlFor=g),options:[{label:this.$locale.baseText("nodeWebhooks.testUrl"),value:"test"},{label:this.$locale.baseText("nodeWebhooks.productionUrl"),value:"production"}]},null,8,["modelValue","options"])]),_:1})]),_:1})]),(y(!0),P(Ie,null,Re(e.webhooksNode,(g,w)=>(y(),R(h,{key:w,class:"item",content:e.$locale.baseText("nodeWebhooks.clickToCopyWebhookUrls"),placement:"left"},{default:v(()=>[D("div",$ce,[D("div",Nce,[D("div",_ce,[V(N(e.getWebhookExpressionValue(g,"httpMethod")),1),Pce])]),D("div",Ice,[D("div",{class:"webhook-url left-ellipsis clickable",onClick:S=>e.copyWebhookUrl(g)},[V(N(e.getWebhookUrlDisplay(g)),1),Lce],8,Mce)])])]),_:2},1032,["content"]))),128))]))]),_:1})])):W("",!0)}const Bce=te(xce,[["render",Fce],["__scopeId","data-v-bdde5559"]]),Bl=J({setup(){return{...je()}},computed:{...be(_e),pinData(){return this.node?this.workflowsStore.pinDataByNodeName(this.node.name):void 0},hasPinData(){return!!this.node&&typeof this.pinData<"u"},isPinDataNodeType(){return!!this.node&&!this.isMultipleOutputsNodeType&&!J_.includes(this.node.type)},isMultipleOutputsNodeType(){var e;return((e=this.nodeType)==null?void 0:e.outputs.length)>1}},methods:{isValidPinDataJSON(e){try{return JSON.parse(e),!0}catch(t){const s=this.$locale.baseText("runData.editOutputInvalid"),n=new RegExp(/JSON\.parse:|of the JSON data/,"g"),o=t.message.replace(n,"").trim(),i=/at position (\d+)/,r=t.message.match(i);if(t.message=o.charAt(0).toUpperCase()+o.slice(1),t.message=t.message.replace("Unexpected token ' in JSON",this.$locale.baseText("runData.editOutputInvalid.singleQuote")),r){const l=parseInt(r[1],10),m=(e.slice(0,l).match(/\n/g)||[]).length;t.message=t.message.replace(i,this.$locale.baseText("runData.editOutputInvalid.atPosition",{interpolate:{position:`${l}`}})),t.message=`${this.$locale.baseText("runData.editOutputInvalid.onLine",{interpolate:{line:`${m+1}`}})} ${t.message}`}return this.showError(t,s),!1}},isValidPinDataSize(e){return typeof e=="object"&&(e=JSON.stringify(e)),this.workflowsStore.pinDataSize+xa(e)>m_?(this.showError(new Error(this.$locale.baseText("ndv.pinData.error.tooLarge.description")),this.$locale.baseText("ndv.pinData.error.tooLarge.title")),!1):!0}}}),Rce=J({inheritAttrs:!1,mixins:[Ys,Bl],props:{nodeName:{type:String},disabled:{type:Boolean,default:!1},label:{type:String},type:{type:String},size:{type:String},transparent:{type:Boolean,default:!1},telemetrySource:{type:String}},setup(e){var t;return{...je(),...St(),...(t=Ys.setup)==null?void 0:t.call(Ys,e)}},computed:{...be(it,Xe,_e),node(){return this.workflowsStore.getNodeByName(this.nodeName)},nodeType(){return this.node?this.nodeTypesStore.getNodeType(this.node.type,this.node.typeVersion):null},nodeRunning(){const e=this.workflowsStore.executedNode,t=this.workflowsStore.executingNode;return this.workflowRunning&&(t===this.node.name||e===this.node.name)},workflowRunning(){return this.uiStore.isActionActive("workflowRunning")},isTriggerNode(){return this.nodeTypesStore.isTriggerNode(this.node.type)},isManualTriggerNode(){return!!(this.nodeType&&this.nodeType.name===Bo)},isPollingTypeNode(){return!!(this.nodeType&&this.nodeType.polling)},isScheduleTrigger(){return!!(this.nodeType&&this.nodeType.group.includes("schedule"))},isWebhookNode(){return!!(this.nodeType&&this.nodeType.name===Ns)},isListeningForEvents(){const e=this.workflowsStore.executionWaitingForWebhook,t=this.workflowsStore.executedNode;return this.node&&!this.node.disabled&&this.isTriggerNode&&e&&(!t||t===this.nodeName)},isListeningForWorkflowEvents(){return this.nodeRunning&&this.isTriggerNode&&!this.isScheduleTrigger&&!this.isManualTriggerNode},hasIssues(){return!!(this.node&&this.node.issues&&(this.node.issues.parameters||this.node.issues.credentials))},disabledHint(){if(this.isListeningForEvents)return"";if(this.isTriggerNode&&this.node.disabled)return this.$locale.baseText("ndv.execute.nodeIsDisabled");if(this.isTriggerNode&&this.hasIssues){const e=this.ndvStore.activeNode;return e&&e.name!==this.nodeName?this.$locale.baseText("ndv.execute.fixPrevious"):this.$locale.baseText("ndv.execute.requiredFieldsMissing")}return this.workflowRunning&&!this.nodeRunning?this.$locale.baseText("ndv.execute.workflowAlreadyRunning"):""},buttonLabel(){return this.isListeningForEvents||this.isListeningForWorkflowEvents?this.$locale.baseText("ndv.execute.stopListening"):this.label?this.label:this.isWebhookNode?this.$locale.baseText("ndv.execute.listenForTestEvent"):this.isPollingTypeNode||this.nodeType&&this.nodeType.mockManualExecution?this.$locale.baseText("ndv.execute.fetchEvent"):this.isTriggerNode&&!this.isScheduleTrigger&&!this.isManualTriggerNode?this.$locale.baseText("ndv.execute.listenForEvent"):this.$locale.baseText("ndv.execute.executeNode")}},methods:{async stopWaitingForWebhook(){try{await this.workflowsStore.removeTestWebhook(this.workflowsStore.workflowId)}catch(e){this.showError(e,this.$locale.baseText("ndv.execute.stopWaitingForWebhook.error"));return}},async onClick(){if(this.isListeningForEvents)await this.stopWaitingForWebhook();else if(this.isListeningForWorkflowEvents)this.$emit("stopExecution");else{let e=!1;if(this.hasPinData&&(e=await this.confirm(this.$locale.baseText("ndv.pinData.unpinAndExecute.description"),this.$locale.baseText("ndv.pinData.unpinAndExecute.title"),{confirmButtonText:this.$locale.baseText("ndv.pinData.unpinAndExecute.confirm"),cancelButtonText:this.$locale.baseText("ndv.pinData.unpinAndExecute.cancel")})===bt,e&&(qt.emit("data-unpinning",{source:"unpin-and-execute-modal"}),this.workflowsStore.unpinData({node:this.node}))),!this.hasPinData||e){const t={node_type:this.nodeType?this.nodeType.name:null,workflow_id:this.workflowsStore.workflowId,source:this.telemetrySource};this.$telemetry.track("User clicked execute node button",t),await this.$externalHooks().run("nodeExecuteButton.onClick",t),await this.runWorkflow(this.nodeName,"RunData.ExecuteNodeButton"),this.$emit("execute")}}}}});function Vce(e,t,s,n,o,i){const r=E("n8n-button"),l=E("n8n-tooltip");return y(),P("div",null,[b(l,{placement:"bottom",disabled:!e.disabledHint},{content:v(()=>[D("div",null,N(e.disabledHint),1)]),default:v(()=>[D("div",null,[b(r,Lc(e.$attrs,{loading:e.nodeRunning&&!e.isListeningForEvents&&!e.isListeningForWorkflowEvents,disabled:e.disabled||!!e.disabledHint,label:e.buttonLabel,type:e.type,size:e.size,transparentBackground:e.transparent,onClick:e.onClick}),null,16,["loading","disabled","label","type","size","transparentBackground","onClick"])])]),_:1},8,["disabled"])])}const Gg=te(Rce,[["render",Vce]]),Uce=J({name:"NodeSettings",mixins:[Ft,Bs],components:{NodeTitle:Tce,NodeCredentials:PS,ParameterInputList:Hg,NodeSettingsTabs:Ece,NodeWebhooks:Bce,NodeExecuteButton:Gg},computed:{...be(Fr,it,Xe,Ee,It,_e,yl),isCurlImportModalOpen(){return this.uiStore.isModalOpen(In)},isReadOnly(){return this.readOnly||this.hasForeignCredential},isExecutable(){return this.executable||this.hasForeignCredential},nodeTypeName(){if(this.nodeType){const e=this.$locale.shortNodeType(this.nodeType.name);return this.$locale.headerText({key:`headers.${e}.displayName`,fallback:this.nodeType.name})}return""},nodeTypeDescription(){var e;if((e=this.nodeType)!=null&&e.description){const t=this.$locale.shortNodeType(this.nodeType.name);return this.$locale.headerText({key:`headers.${t}.description`,fallback:this.nodeType.description})}else return this.$locale.baseText("nodeSettings.noDescriptionFound")},headerStyle(){return this.node?{"background-color":this.node.color}:{}},node(){return this.ndvStore.activeNode},parametersSetting(){return this.parameters.filter(e=>e.isNodeSetting)},parametersNoneSetting(){return this.parameters.filter(e=>!e.isNodeSetting)},parameters(){return this.nodeType===null?[]:this.nodeType.properties},outputPanelEditMode(){return this.ndvStore.outputPanelEditMode},isCommunityNode(){var e;return cf((e=this.node)==null?void 0:e.type)},isTriggerNode(){var e;return this.nodeTypesStore.isTriggerNode((e=this.node)==null?void 0:e.type)},workflowOwnerName(){return this.workflowsEEStore.getWorkflowOwnerName(`${this.workflowsStore.workflowId}`)},hasForeignCredential(){return this.foreignCredentials.length>0},usedCredentials(){return Object.values(this.workflowsStore.usedCredentials).filter(e=>{var t;return Object.values(((t=this.node)==null?void 0:t.credentials)||[]).find(s=>s.id===e.id)})},credentialOwnerName(){const e=this.usedCredentials?Object.values(this.usedCredentials).find(t=>t.id===this.foreignCredentials[0]):void 0;return this.credentialsStore.getCredentialOwnerName(e)}},props:{eventBus:{type:Object},dragging:{type:Boolean},sessionId:{type:String},nodeType:{type:Object},readOnly:{type:Boolean,default:!1},foreignCredentials:{type:Array,default:()=>[]},blockUI:{type:Boolean,default:!1},executable:{type:Boolean,default:!0}},data(){return{nodeValid:!0,nodeColor:null,openPanel:"params",nodeValues:{color:"#ff0000",alwaysOutputData:!1,executeOnce:!1,notesInFlow:!1,continueOnFail:!1,retryOnFail:!1,maxTries:3,waitBetweenTries:1e3,notes:"",parameters:{}},nodeValuesInitialized:!1,nodeSettings:[{displayName:this.$locale.baseText("nodeSettings.alwaysOutputData.displayName"),name:"alwaysOutputData",type:"boolean",default:!1,noDataExpression:!0,description:this.$locale.baseText("nodeSettings.alwaysOutputData.description")},{displayName:this.$locale.baseText("nodeSettings.executeOnce.displayName"),name:"executeOnce",type:"boolean",default:!1,noDataExpression:!0,description:this.$locale.baseText("nodeSettings.executeOnce.description")},{displayName:this.$locale.baseText("nodeSettings.retryOnFail.displayName"),name:"retryOnFail",type:"boolean",default:!1,noDataExpression:!0,description:this.$locale.baseText("nodeSettings.retryOnFail.description")},{displayName:this.$locale.baseText("nodeSettings.maxTries.displayName"),name:"maxTries",type:"number",typeOptions:{minValue:2,maxValue:5},default:3,displayOptions:{show:{retryOnFail:[!0]}},noDataExpression:!0,description:this.$locale.baseText("nodeSettings.maxTries.description")},{displayName:this.$locale.baseText("nodeSettings.waitBetweenTries.displayName"),name:"waitBetweenTries",type:"number",typeOptions:{minValue:0,maxValue:5e3},default:1e3,displayOptions:{show:{retryOnFail:[!0]}},noDataExpression:!0,description:this.$locale.baseText("nodeSettings.waitBetweenTries.description")},{displayName:this.$locale.baseText("nodeSettings.continueOnFail.displayName"),name:"continueOnFail",type:"boolean",default:!1,noDataExpression:!0,description:this.$locale.baseText("nodeSettings.continueOnFail.description")},{displayName:this.$locale.baseText("nodeSettings.notes.displayName"),name:"notes",type:"string",typeOptions:{rows:5},default:"",noDataExpression:!0,description:this.$locale.baseText("nodeSettings.notes.description")},{displayName:this.$locale.baseText("nodeSettings.notesInFlow.displayName"),name:"notesInFlow",type:"boolean",default:!1,noDataExpression:!0,description:this.$locale.baseText("nodeSettings.notesInFlow.description")}],COMMUNITY_NODES_INSTALLATION_DOCS_URL:gr,CUSTOM_NODES_DOCS_URL:x_,MAIN_NODE_PANEL_WIDTH:sr,hiddenIssuesInputs:[]}},watch:{node(e,t){this.setNodeValues()},isCurlImportModalOpen(e,t){if(e===!1){let s=this.uiStore.getHttpNodeParameters||"";if(!s)return;try{s=JSON.parse(s),this.valueChanged({node:this.node.name,name:"parameters",value:s}),this.uiStore.setHttpNodeParameters({name:In,parameters:""})}catch{}}}},methods:{populateHiddenIssuesSet(){!this.node||!this.workflowsStore.isNodePristine(this.node.name)||(this.hiddenIssuesInputs.push("credentials"),this.parametersNoneSetting.forEach(e=>{this.hiddenIssuesInputs.push(e.name)}),this.workflowsStore.setNodePristine(this.node.name,!1))},onParameterBlur(e){this.hiddenIssuesInputs=this.hiddenIssuesInputs.filter(t=>t!==e)},onWorkflowActivate(){this.hiddenIssuesInputs=[],this.$emit("activate")},onNodeExecute(){this.hiddenIssuesInputs=[],this.$emit("execute")},setValue(e,t){const s=e.split(".");let n=s.pop(),o=!1;if(n!==void 0&&n.includes("[")){const i=n.match(/(.*)\[(\d+)\]$/);i&&(s.push(i[1]),n=i[2],o=!0)}if(s.length===0)if(t===null){const{[n]:i,...r}=this.nodeValues;this.nodeValues=r}else this.nodeValues={...this.nodeValues,[n]:t};else if(t===null){let i=jt(this.nodeValues,s.join("."));const{[n]:r,...l}=i;if(i=l,o&&i.length===0){n=s.pop(),i=jt(this.nodeValues,s.join("."));const{[n]:m,...c}=i;i=c}}else typeof t=="object"?Ao(jt(this.nodeValues,s.join(".")),n,at(t)):Ao(jt(this.nodeValues,s.join(".")),n,t);this.nodeValues={...this.nodeValues}},credentialSelected(e){this.workflowsStore.updateNodeProperties(e);const t=this.workflowsStore.getNodeByName(e.name);t&&this.updateNodeCredentialIssues(t),this.$externalHooks().run("nodeSettings.credentialSelected",{updateInformation:e})},nameChanged(e){this.node&&this.historyStore.pushCommandToUndo(new ja(this.node.name,e)),this.valueChanged({value:e,name:"name"})},valueChanged(e){var o;let t;e.hasOwnProperty("value")?t=e.value:t=jt(this.nodeValues,e.name);const s=e.node||((o=this.node)==null?void 0:o.name),n=this.workflowsStore.getNodeByName(s);if(n!==null)if(e.name==="name"){const i={value:t,oldValue:s,name:e.name};this.$emit("valueChanged",i)}else if(e.name==="parameters"){const i=this.nodeTypesStore.getNodeType(n.type,n.typeVersion);if(!i)return;let r=An(i.properties,n.parameters,!1,!1,n);const l=Object.assign({},r);r=at(r);for(const m of Object.keys(e.value)){t=e.value[m];const c=m.split(".").slice(1).join("."),h=c.match(/(.*)\[(\d+)\]$/);if(e[m]===void 0&&h!==null){const p=h[1],g=h[2],w=jt(r,p);Array.isArray(w)&&(w.splice(parseInt(g,10),1),Ao(r,p,w))}else t===void 0?vh(r,c):Ao(r,c,t);this.$externalHooks().run("nodeSettings.valueChanged",{parameterPath:c,newValue:t,parameters:this.parameters,oldNodeParameters:l})}r=An(i.properties,r,!0,!1,n);for(const m of Object.keys(r))r&&r[m]!==null&&r[m]!==void 0&&this.setValue(`parameters.${m}`,r[m]);if(r){const m={name:n.name,value:r};this.workflowsStore.setNodeParameters(m),this.updateNodeParameterIssuesByName(n.name),this.updateNodeCredentialIssuesByName(n.name)}}else if(e.name.startsWith("parameters.")){const i=this.nodeTypesStore.getNodeType(n.type,n.typeVersion);if(!i)return;let r=An(i.properties,n.parameters,!1,!1,n);const l=Object.assign({},r);r=at(r);const m=e.name.split(".").slice(1).join("."),c=m.match(/(.*)\[(\d+)\]$/);if(e.value===void 0&&c!==null){const p=c[1],g=c[2],w=jt(r,p);Array.isArray(w)&&(w.splice(parseInt(g,10),1),Ao(r,p,w))}else t===void 0?vh(r,m):Ao(r,m,t);r=An(i.properties,r,!0,!1,n);for(const p of Object.keys(r))r&&r[p]!==null&&r[p]!==void 0&&this.setValue(`parameters.${p}`,r[p]);const h={name:n.name,value:r};this.workflowsStore.setNodeParameters(h),this.$externalHooks().run("nodeSettings.valueChanged",{parameterPath:m,newValue:t,parameters:this.parameters,oldNodeParameters:l}),this.updateNodeParameterIssuesByName(n.name),this.updateNodeCredentialIssuesByName(n.name),this.$telemetry.trackNodeParametersValuesChange(i.name,e)}else{this.nodeValues={...this.nodeValues,[e.name]:t};const i={name:n.name,key:e.name,value:t};this.workflowsStore.setNodeValue(i)}},setNodeValues(){if(!this.node){this.nodeValuesInitialized=!0;return}if(this.nodeType!==null){this.nodeValid=!0;const e=[];this.node.color&&(e.push("color"),this.nodeValues={...this.nodeValues,color:this.node.color}),this.node.notes&&(e.push("notes"),this.nodeValues={...this.nodeValues,notes:this.node.notes}),this.node.alwaysOutputData&&(e.push("alwaysOutputData"),this.nodeValues={...this.nodeValues,alwaysOutputData:this.node.alwaysOutputData}),this.node.executeOnce&&(e.push("executeOnce"),this.nodeValues={...this.nodeValues,executeOnce:this.node.executeOnce}),this.node.continueOnFail&&(e.push("continueOnFail"),this.nodeValues={...this.nodeValues,continueOnFail:this.node.continueOnFail}),this.node.notesInFlow&&(e.push("notesInFlow"),this.nodeValues={...this.nodeValues,notesInFlow:this.node.notesInFlow}),this.node.retryOnFail&&(e.push("retryOnFail"),this.nodeValues={...this.nodeValues,retryOnFail:this.node.retryOnFail}),this.node.maxTries&&(e.push("maxTries"),this.nodeValues={...this.nodeValues,maxTries:this.node.maxTries}),this.node.waitBetweenTries&&(e.push("waitBetweenTries"),this.nodeValues={...this.nodeValues,waitBetweenTries:this.node.waitBetweenTries});for(const t of this.nodeSettings)e.includes(t.name)||(this.nodeValues={...this.nodeValues,[t.name]:t.default});this.nodeValues={...this.nodeValues,parameters:at(this.node.parameters)}}else this.nodeValid=!1;this.nodeValuesInitialized=!0},onMissingNodeTextClick(e){e.target.localName==="a"&&this.$telemetry.track("user clicked cnr browse button",{source:"cnr missing node modal"})},onMissingNodeLearnMoreLinkClick(){var e,t;this.$telemetry.track("user clicked cnr docs link",{source:"missing node modal source",package_name:(e=this.node)==null?void 0:e.type.split(".")[0],node_type:(t=this.node)==null?void 0:t.type})},onStopExecution(){this.$emit("stopExecution")},openSettings(){this.openPanel="settings"}},mounted(){var e;this.populateHiddenIssuesSet(),this.setNodeValues(),(e=this.eventBus)==null||e.on("openSettings",this.openSettings),this.updateNodeParameterIssues(this.node,this.nodeType)},beforeUnmount(){var e;(e=this.eventBus)==null||e.off("openSettings",this.openSettings)}}),Wce="_header_1uxvz_5",jce="_warningIcon_1uxvz_9",qce="_descriptionContainer_1uxvz_14",zce={header:Wce,warningIcon:jce,descriptionContainer:qce};const Hce={class:"header-side-menu"},Qce={key:1},Gce={key:0,class:"node-is-not-valid"},Yce={class:"missingNodeTitleContainer mt-s mb-xs"},Xce={class:"mb-l"},Kce=["href"],Jce=["href","textContent"],Zce={key:1,class:"node-parameters-wrapper","data-test-id":"node-parameters"},ede={key:1,class:"no-parameters"},tde={key:2,class:"parameter-item parameter-notice","data-test-id":"node-parameters-http-notice"};function sde(e,t,s,n,o,i){const r=E("NodeTitle"),l=E("NodeExecuteButton"),m=E("NodeSettingsTabs"),c=E("font-awesome-icon"),h=E("n8n-text"),p=E("i18n-t"),g=E("n8n-link"),w=E("n8n-notice"),S=E("node-webhooks"),k=E("node-credentials"),O=E("parameter-input-list"),C=E("n8n-block-ui");return y(),P("div",{class:$({"node-settings":!0,dragging:e.dragging}),onKeydown:t[1]||(t[1]=Qe(()=>{},["stop"]))},[D("div",{class:$(e.$style.header)},[D("div",Hce,[e.node?(y(),R(r,{key:0,class:"node-name",modelValue:e.node.name,nodeType:e.nodeType,readOnly:e.isReadOnly,"onUpdate:modelValue":e.nameChanged},null,8,["modelValue","nodeType","readOnly","onUpdate:modelValue"])):W("",!0),e.isExecutable?(y(),P("div",Qce,[!e.blockUI&&e.node&&e.nodeValid?(y(),R(l,{key:0,"data-test-id":"node-execute-button",nodeName:e.node.name,disabled:e.outputPanelEditMode.enabled&&!e.isTriggerNode,size:"small",telemetrySource:"parameters",onExecute:e.onNodeExecute,onStopExecution:e.onStopExecution},null,8,["nodeName","disabled","onExecute","onStopExecution"])):W("",!0)])):W("",!0)]),e.node&&e.nodeValid?(y(),R(m,{key:0,modelValue:e.openPanel,"onUpdate:modelValue":t[0]||(t[0]=A=>e.openPanel=A),nodeType:e.nodeType,sessionId:e.sessionId},null,8,["modelValue","nodeType","sessionId"])):W("",!0)],2),e.node&&!e.nodeValid?(y(),P("div",Gce,[D("p",{class:$(e.$style.warningIcon)},[b(c,{icon:"exclamation-triangle"})],2),D("div",Yce,[b(h,{size:"large",color:"text-dark",bold:""},{default:v(()=>[V(N(e.$locale.baseText("nodeSettings.communityNodeUnknown.title")),1)]),_:1})]),e.isCommunityNode?(y(),P("div",{key:0,class:$(e.$style.descriptionContainer)},[D("div",Xce,[b(p,{keypath:"nodeSettings.communityNodeUnknown.description",tag:"span",onClick:e.onMissingNodeTextClick},{action:v(()=>[D("a",{href:`https://www.npmjs.com/package/${e.node.type.split(".")[0]}`,target:"_blank"},N(e.node.type.split(".")[0]),9,Kce)]),_:1},8,["onClick"])]),b(g,{to:e.COMMUNITY_NODES_INSTALLATION_DOCS_URL,onClick:e.onMissingNodeLearnMoreLinkClick},{default:v(()=>[V(N(e.$locale.baseText("nodeSettings.communityNodeUnknown.installLink.text")),1)]),_:1},8,["to","onClick"])],2)):(y(),R(p,{key:1,keypath:"nodeSettings.nodeTypeUnknown.description",tag:"span"},{action:v(()=>[D("a",{href:e.CUSTOM_NODES_DOCS_URL,target:"_blank",textContent:N(e.$locale.baseText("nodeSettings.nodeTypeUnknown.description.customNode"))},null,8,Jce)]),_:1}))])):W("",!0),e.node&&e.nodeValid?(y(),P("div",Zce,[e.hasForeignCredential?(y(),R(w,{key:0,content:e.$locale.baseText("nodeSettings.hasForeignCredential",{interpolate:{owner:e.credentialOwnerName}})},null,8,["content"])):W("",!0),He(D("div",null,[b(S,{node:e.node,nodeType:e.nodeType},null,8,["node","nodeType"]),e.nodeValuesInitialized?(y(),R(O,{key:0,parameters:e.parametersNoneSetting,hideDelete:!0,nodeValues:e.nodeValues,isReadOnly:e.isReadOnly,hiddenIssuesInputs:e.hiddenIssuesInputs,path:"parameters",onValueChanged:e.valueChanged,onActivate:e.onWorkflowActivate,onParameterBlur:e.onParameterBlur},{default:v(()=>[b(k,{node:e.node,readonly:e.isReadOnly,showAll:!0,onCredentialSelected:e.credentialSelected,onValueChanged:e.valueChanged,onBlur:e.onParameterBlur,"hide-issues":e.hiddenIssuesInputs.includes("credentials")},null,8,["node","readonly","onCredentialSelected","onValueChanged","onBlur","hide-issues"])]),_:1},8,["parameters","nodeValues","isReadOnly","hiddenIssuesInputs","onValueChanged","onActivate","onParameterBlur"])):W("",!0),e.parametersNoneSetting.length===0?(y(),P("div",ede,[b(h,null,{default:v(()=>[V(N(e.$locale.baseText("nodeSettings.thisNodeDoesNotHaveAnyParameters")),1)]),_:1})])):W("",!0),e.isCustomApiCallSelected(e.nodeValues)?(y(),P("div",tde,[b(w,{content:e.$locale.baseText("nodeSettings.useTheHttpRequestNode",{interpolate:{nodeTypeDisplayName:e.nodeType.displayName}})},null,8,["content"])])):W("",!0)],512),[[nt,e.openPanel==="params"]]),He(D("div",null,[b(O,{parameters:e.parametersSetting,nodeValues:e.nodeValues,isReadOnly:e.isReadOnly,hiddenIssuesInputs:e.hiddenIssuesInputs,path:"parameters",onValueChanged:e.valueChanged,onParameterBlur:e.onParameterBlur},null,8,["parameters","nodeValues","isReadOnly","hiddenIssuesInputs","onValueChanged","onParameterBlur"]),b(O,{parameters:e.nodeSettings,hideDelete:!0,nodeValues:e.nodeValues,isReadOnly:e.isReadOnly,hiddenIssuesInputs:e.hiddenIssuesInputs,path:"",onValueChanged:e.valueChanged,onParameterBlur:e.onParameterBlur},null,8,["parameters","nodeValues","isReadOnly","hiddenIssuesInputs","onValueChanged","onParameterBlur"])],512),[[nt,e.openPanel==="settings"]])])):W("",!0),b(C,{show:e.blockUI},null,8,["show"])],34)}const nde={$style:zce},ode=te(Uce,[["render",sde],["__cssModules",nde],["__scopeId","data-v-61e1b03e"]]),ide=J({name:"draggable",props:{disabled:{type:Boolean},type:{type:String},data:{type:String},tag:{type:String,default:"div"},targetDataKey:{type:String}},data(){const e={x:-100,y:-100};return{isDragging:!1,draggablePosition:e,draggingEl:null,draggableStyle:{transform:`translate(${e.x}px, ${e.y}px)`},animationFrameId:0}},computed:{...be(Xe),canDrop(){return this.ndvStore.canDraggableDrop},stickyPosition(){return this.ndvStore.draggableStickyPos}},methods:{setDraggableStyle(){this.draggableStyle={transform:`translate(${this.draggablePosition.x}px, ${this.draggablePosition.y}px)`}},onDragStart(e){var s,n,o;if(this.disabled||(this.draggingEl=e.target,this.targetDataKey&&((s=this.draggingEl.dataset)==null?void 0:s.target)!==this.targetDataKey&&(this.draggingEl=this.draggingEl.closest(`[data-target="${this.targetDataKey}"]`)),this.targetDataKey&&((o=(n=this.draggingEl)==null?void 0:n.dataset)==null?void 0:o.target)!==this.targetDataKey))return;e.preventDefault(),e.stopPropagation(),this.isDragging=!1,this.draggablePosition={x:e.pageX,y:e.pageY},this.setDraggableStyle(),window.addEventListener("mousemove",this.onDrag),window.addEventListener("mouseup",this.onDragEnd);const t=document.activeElement;t&&t.blur()},onDrag(e){if(e.preventDefault(),e.stopPropagation(),!this.disabled){if(!this.isDragging){this.isDragging=!0;const t=this.targetDataKey&&this.draggingEl?this.draggingEl.dataset.value:this.data||"";this.ndvStore.draggableStartDragging({type:this.type,data:t||""}),this.$emit("dragstart",this.draggingEl),document.body.style.cursor="grabbing"}this.animationFrameId=window.requestAnimationFrame(()=>{this.canDrop&&this.stickyPosition?this.draggablePosition={x:this.stickyPosition[0],y:this.stickyPosition[1]}:this.draggablePosition={x:e.pageX,y:e.pageY},this.setDraggableStyle(),this.$emit("drag",this.draggablePosition)})}},onDragEnd(){this.disabled||(document.body.style.cursor="unset",window.removeEventListener("mousemove",this.onDrag),window.removeEventListener("mouseup",this.onDragEnd),window.cancelAnimationFrame(this.animationFrameId),setTimeout(()=>{this.$emit("dragend",this.draggingEl),this.isDragging=!1,this.draggingEl=null,this.ndvStore.draggableStopDragging()},0))}}}),rde="_dragging_bt5wj_5",ade="_draggable_bt5wj_10",lde={dragging:rde,draggable:ade,"draggable-data-transfer":"_draggable-data-transfer_bt5wj_17"};function ude(e,t,s,n,o,i){return y(),R(Fv(e.tag),{class:$({[e.$style.dragging]:e.isDragging}),onMousedown:e.onDragStart,ref:"wrapper"},{default:v(()=>[Ke(e.$slots,"default",{isDragging:e.isDragging}),(y(),R(BO,{to:"body"},[He(D("div",{ref:"draggable",class:$(e.$style.draggable),style:zt(e.draggableStyle)},[Ke(e.$slots,"preview",{canDrop:e.canDrop,el:e.draggingEl})],6),[[nt,e.isDragging]])]))]),_:3},40,["class","onMousedown"])}const cde={$style:lde},dde=te(ide,[["render",ude],["__cssModules",cde]]),pde=J({components:{Draggable:dde},props:{canMoveRight:{type:Boolean},canMoveLeft:{type:Boolean}},methods:{onDrag(e){this.$emit("drag",e)},onDragStart(){this.$emit("dragstart")},onDragEnd(){this.$emit("dragend")}}}),hde="_dragContainer_4rvyw_5",mde="_dragButton_4rvyw_9",fde="_leftArrow_4rvyw_23 _arrow_4rvyw_32",gde="_rightArrow_4rvyw_24 _arrow_4rvyw_32",yde="_visible_4rvyw_28",wde="_arrow_4rvyw_32",bde="_grid_4rvyw_50",vde={dragContainer:hde,dragButton:mde,leftArrow:fde,rightArrow:gde,visible:yde,arrow:wde,grid:bde},Tde=D("div",null,[D("div"),D("div"),D("div"),D("div"),D("div")],-1),Sde=D("div",null,[D("div"),D("div"),D("div"),D("div"),D("div")],-1),kde=[Tde,Sde];function Ede(e,t,s,n,o,i){const r=E("font-awesome-icon"),l=E("Draggable");return y(),R(l,{type:"panel-resize",onDrag:e.onDrag,onDragstart:e.onDragStart,onDragend:e.onDragEnd,class:$(e.$style.dragContainer)},{default:v(({isDragging:m})=>[D("div",{class:$({[e.$style.dragButton]:!0})},[e.canMoveLeft?(y(),P("span",{key:0,class:$({[e.$style.leftArrow]:!0,[e.$style.visible]:m})},[b(r,{icon:"arrow-left"})],2)):W("",!0),e.canMoveRight?(y(),P("span",{key:1,class:$({[e.$style.rightArrow]:!0,[e.$style.visible]:m})},[b(r,{icon:"arrow-right"})],2)):W("",!0),D("div",{class:$(e.$style.grid)},kde,2)],2)]),_:1},8,["onDrag","onDragstart","onDragend","class"])}const xde={$style:vde},Cde=te(pde,[["render",Ede],["__cssModules",xde]]),si=24,Ov=80,tr=280,Ode=320,Dde=420,Ade={regular:sr,dragless:sr,unknown:sr,inputless:sr,wide:sr*2},$de=J({name:"NDVDraggablePanels",mixins:[kn],components:{PanelDragButton:Cde},props:{isDraggable:{type:Boolean},hideInputAndOutput:{type:Boolean},position:{type:Number},nodeType:{type:Object,default:()=>({})}},data(){return{windowWidth:1,isDragging:!1,MIN_PANEL_WIDTH:tr,initialized:!1}},mounted(){this.setTotalWidth(),this.mainPanelDimensions.relativeLeft===1&&this.mainPanelDimensions.relativeRight===1&&(this.setMainPanelWidth(),this.setPositions(this.getInitialLeftPosition(this.mainPanelDimensions.relativeWidth)),this.restorePositionData()),window.addEventListener("resize",this.setTotalWidth),this.$emit("init",{position:this.mainPanelDimensions.relativeLeft}),setTimeout(()=>{this.initialized=!0},0)},beforeUnmount(){window.removeEventListener("resize",this.setTotalWidth)},computed:{...be(Xe),mainPanelDimensions(){return this.ndvStore.getMainPanelDimensions(this.currentNodePaneType)},supportedResizeDirections(){const e=["right"];return this.isDraggable&&e.push("left"),e},currentNodePaneType(){return this.hasInputSlot?this.isDraggable?this.nodeType===null?"unknown":jt(this,"nodeType.parameterPane")||"regular":"dragless":"inputless"},hasInputSlot(){return this.$slots.input!==void 0},inputPanelMargin(){return this.pxToRelativeWidth(Ov)},minWindowWidth(){return 2*(si+Ov)+tr},minimumLeftPosition(){return this.windowWidth<this.minWindowWidth?this.pxToRelativeWidth(1):this.hasInputSlot?this.pxToRelativeWidth(si+20)+this.inputPanelMargin:this.pxToRelativeWidth(si)},maximumRightPosition(){return this.windowWidth<this.minWindowWidth?this.pxToRelativeWidth(1):this.pxToRelativeWidth(si+20)+this.inputPanelMargin},canMoveLeft(){return this.mainPanelDimensions.relativeLeft>this.minimumLeftPosition},canMoveRight(){return this.mainPanelDimensions.relativeRight>this.maximumRightPosition},mainPanelStyles(){return{left:`${this.relativeWidthToPx(this.mainPanelDimensions.relativeLeft)}px`,right:`${this.relativeWidthToPx(this.mainPanelDimensions.relativeRight)}px`}},inputPanelStyles(){return{right:`${this.relativeWidthToPx(this.calculatedPositions.inputPanelRelativeRight)}px`}},outputPanelStyles(){return{left:`${this.relativeWidthToPx(this.calculatedPositions.outputPanelRelativeLeft)}px`,transform:`translateX(-${this.relativeWidthToPx(this.outputPanelRelativeTranslate)}px)`}},calculatedPositions(){const e=this.$slots.input!==void 0,t=this.mainPanelDimensions.relativeLeft+this.mainPanelDimensions.relativeWidth;return{inputPanelRelativeRight:e?1-t+this.mainPanelDimensions.relativeWidth:1-this.pxToRelativeWidth(si),outputPanelRelativeLeft:t}},outputPanelRelativeTranslate(){const e=1-this.pxToRelativeWidth(tr+si),t=this.calculatedPositions.outputPanelRelativeLeft-e;return t>0?t:0},hasDoubleWidth(){return jt(this,"nodeType.parameterPane")==="wide"},fixedPanelWidth(){const e=this.hasDoubleWidth?2:1;return this.windowWidth>1700?Dde*e:Ode*e},isBelowMinWidthMainPanel(){const e=this.pxToRelativeWidth(tr);return this.mainPanelDimensions.relativeWidth<e}},watch:{windowWidth(e){const t=this.pxToRelativeWidth(tr);this.isBelowMinWidthMainPanel&&this.setMainPanelWidth(t);const s=this.minimumLeftPosition>this.mainPanelDimensions.relativeLeft,n=this.maximumRightPosition>this.mainPanelDimensions.relativeRight;e>this.minWindowWidth&&s&&n&&(this.setMainPanelWidth(t),this.setPositions(this.getInitialLeftPosition(this.mainPanelDimensions.relativeWidth))),this.setPositions(this.mainPanelDimensions.relativeLeft)}},methods:{getInitialLeftPosition(e){return this.currentNodePaneType==="dragless"?this.pxToRelativeWidth(si+1+this.fixedPanelWidth):this.hasInputSlot?.5-e/2:this.minimumLeftPosition},setMainPanelWidth(e){const t=e||this.pxToRelativeWidth(Ade[this.currentNodePaneType]);this.ndvStore.setMainPanelDimensions({panelType:this.currentNodePaneType,dimensions:{relativeWidth:t}})},setPositions(e){const t=e||1-this.calculatedPositions.inputPanelRelativeRight,s=1-t-this.mainPanelDimensions.relativeWidth,n=this.maximumRightPosition>s,o=this.minimumLeftPosition>t,i=this.currentNodePaneType==="inputless";if(o){this.ndvStore.setMainPanelDimensions({panelType:this.currentNodePaneType,dimensions:{relativeLeft:this.minimumLeftPosition,relativeRight:1-this.mainPanelDimensions.relativeWidth-this.minimumLeftPosition}});return}if(n){this.ndvStore.setMainPanelDimensions({panelType:this.currentNodePaneType,dimensions:{relativeLeft:1-this.mainPanelDimensions.relativeWidth-this.maximumRightPosition,relativeRight:this.maximumRightPosition}});return}this.ndvStore.setMainPanelDimensions({panelType:this.currentNodePaneType,dimensions:{relativeLeft:i?this.minimumLeftPosition:t,relativeRight:s}})},pxToRelativeWidth(e){return e/this.windowWidth},relativeWidthToPx(e){return e*this.windowWidth},onResizeStart(){this.setTotalWidth()},onResizeEnd(){this.storePositionData()},onResizeDebounced(e){this.initialized&&this.callDebounced("onResize",{debounceTime:10,trailing:!0},e)},onResize({direction:e,x:t,width:s}){const n=this.pxToRelativeWidth(t),o=this.pxToRelativeWidth(s);e==="left"&&n<=this.minimumLeftPosition||e==="right"&&1-n<=this.maximumRightPosition||s<=tr||(this.setMainPanelWidth(o),this.setPositions(e==="left"?n:this.mainPanelDimensions.relativeLeft))},restorePositionData(){const e=window.localStorage.getItem(`${bw}_${this.currentNodePaneType}`);if(e){const t=parseFloat(e);this.setMainPanelWidth(t);const s=this.getInitialLeftPosition(t);return this.setPositions(s),!0}return!1},storePositionData(){window.localStorage.setItem(`${bw}_${this.currentNodePaneType}`,this.mainPanelDimensions.relativeWidth.toString())},onDragStart(){this.isDragging=!0,this.$emit("dragstart",{position:this.mainPanelDimensions.relativeLeft})},onDrag(e){const t=this.pxToRelativeWidth(e.x)-this.mainPanelDimensions.relativeWidth/2;this.setPositions(t)},onDragEnd(){setTimeout(()=>{this.isDragging=!1,this.$emit("dragend",{windowWidth:this.windowWidth,position:this.mainPanelDimensions.relativeLeft})},0),this.storePositionData()},setTotalWidth(){this.windowWidth=window.innerWidth},close(){this.$emit("close")}}}),Nde="_dataPanel_w56ig_5",_de="_inputPanel_w56ig_14 _dataPanel_w56ig_5",Pde="_outputPanel_w56ig_22 _dataPanel_w56ig_5",Ide="_mainPanel_w56ig_30",Mde="_draggable_w56ig_34",Lde="_mainPanelInner_w56ig_38",Fde="_dragging_w56ig_45",Bde="_dragButtonContainer_w56ig_58",Rde="_visible_w56ig_74",Vde={dataPanel:Nde,inputPanel:_de,outputPanel:Pde,mainPanel:Ide,draggable:Mde,mainPanelInner:Lde,dragging:Fde,"double-width":"_double-width_w56ig_54",dragButtonContainer:Bde,visible:Rde};function Ude(e,t,s,n,o,i){const r=E("PanelDragButton"),l=E("n8n-resize-wrapper");return y(),P("div",null,[e.hideInputAndOutput?W("",!0):(y(),P("div",{key:0,class:$(e.$style.inputPanel),style:zt(e.inputPanelStyles)},[Ke(e.$slots,"input")],6)),e.hideInputAndOutput?W("",!0):(y(),P("div",{key:1,class:$(e.$style.outputPanel),style:zt(e.outputPanelStyles)},[Ke(e.$slots,"output")],6)),D("div",{class:$(e.$style.mainPanel),style:zt(e.mainPanelStyles)},[b(l,{isResizingEnabled:e.currentNodePaneType!=="unknown",width:e.relativeWidthToPx(e.mainPanelDimensions.relativeWidth),minWidth:e.MIN_PANEL_WIDTH,gridSize:20,onResize:e.onResizeDebounced,onResizestart:e.onResizeStart,onResizeend:e.onResizeEnd,supportedDirections:e.supportedResizeDirections},{default:v(()=>[D("div",{class:$(e.$style.dragButtonContainer)},[!e.hideInputAndOutput&&e.isDraggable?(y(),R(r,{key:0,class:$({[e.$style.draggable]:!0,[e.$style.visible]:e.isDragging}),canMoveLeft:e.canMoveLeft,canMoveRight:e.canMoveRight,onDragstart:e.onDragStart,onDrag:e.onDrag,onDragend:e.onDragEnd},null,8,["class","canMoveLeft","canMoveRight","onDragstart","onDrag","onDragend"])):W("",!0)],2),D("div",{class:$({[e.$style.mainPanelInner]:!0,[e.$style.dragging]:e.isDragging})},[Ke(e.$slots,"main")],2)]),_:3},8,["isResizingEnabled","width","minWidth","onResize","onResizestart","onResizeend","supportedDirections"])],6)])}const Wde={$style:Vde},jde=te($de,[["render",Ude],["__cssModules",Wde]]),qde=J({name:"BinaryDataDisplayEmbed",components:{VueJsonPretty:pT},props:{binaryData:{type:Object,required:!0}},data(){return{isLoading:!0,embedSource:"",error:!1,jsonData:""}},computed:{...be(_e)},async mounted(){const{id:e,data:t,fileName:s,fileType:n,mimeType:o}=this.binaryData||{},i=n==="json";if(!e)i?this.jsonData=Dm(atob(t)):this.embedSource="data:"+o+";base64,"+t;else try{const r=this.workflowsStore.getBinaryUrl(e,"view",s,o);i?this.jsonData=await(await fetch(r)).json():this.embedSource=r}catch{this.error=!0}this.isLoading=!1},methods:{embedClass(){const{fileType:e}=this.binaryData||{};return[e??"other"]}}});const zde={key:0},Hde={key:1},Qde={key:2},Gde={key:0,controls:"",autoplay:""},Yde=["src","type"],Xde=["src"];function Kde(e,t,s,n,o,i){const r=E("vue-json-pretty");return y(),P("span",null,[e.isLoading?(y(),P("div",zde,"Loading binary data...")):e.error?(y(),P("div",Hde,"Error loading binary data")):(y(),P("span",Qde,[e.binaryData.fileType==="video"?(y(),P("video",Gde,[D("source",{src:e.embedSource,type:e.binaryData.mimeType},null,8,Yde),V(" "+N(e.$locale.baseText("binaryDataDisplay.yourBrowserDoesNotSupport")),1)])):e.binaryData.fileType==="json"?(y(),R(r,{key:1,data:e.jsonData,deep:3,showLength:!0},null,8,["data"])):(y(),P("embed",{key:2,src:e.embedSource,class:$(["binary-data",e.embedClass()])},null,10,Xde))]))])}const Jde=te(qde,[["render",Kde]]),Zde=J({name:"BinaryDataDisplay",mixins:[Bs],components:{BinaryDataDisplayEmbed:Jde},props:["displayData","windowVisible"],computed:{...be(_e),binaryData(){const e=this.getBinaryData(this.workflowRunData,this.displayData.node,this.displayData.runIndex,this.displayData.outputIndex);return e.length===0||this.displayData.index>=e.length||e[this.displayData.index][this.displayData.key]===void 0?null:e[this.displayData.index][this.displayData.key]},workflowRunData(){const e=this.workflowsStore.getWorkflowExecution;if(e===null)return null;const t=e.data;return t?t.resultData.runData:null}},methods:{closeWindow(){return this.$emit("close"),!1}}});const epe={class:"binary-data-window-wrapper"},tpe={key:0};function spe(e,t,s,n,o,i){var m;const r=E("n8n-button"),l=E("BinaryDataDisplayEmbed");return e.windowVisible?(y(),P("div",{key:0,class:$(["binary-data-window",(m=e.binaryData)==null?void 0:m.fileType])},[b(r,{onClick:Qe(e.closeWindow,["stop"]),size:"small",class:"binary-data-window-back",title:e.$locale.baseText("binaryDataDisplay.backToOverviewPage"),icon:"arrow-left",label:e.$locale.baseText("binaryDataDisplay.backToList")},null,8,["onClick","title","label"]),D("div",epe,[e.binaryData?(y(),R(l,{key:1,binaryData:e.binaryData},null,8,["binaryData"])):(y(),P("div",tpe,N(e.$locale.baseText("binaryDataDisplay.noDataFoundToDisplay")),1))])],2)):W("",!0)}const npe=te(Zde,[["render",spe]]),ope=J({name:"NodeErrorView",mixins:[Ai],props:["error"],components:{VueJsonPretty:pT},setup(){return{...je()}},computed:{...be(it,Xe),displayCause(){return JSON.stringify(this.error.cause).length<fT},parameters(){const e=this.ndvStore.activeNode;if(!e)return[];const t=this.nodeTypesStore.getNodeType(e.type,e.typeVersion);return t===null?[]:t.properties}},methods:{replacePlaceholders(e,t){const s=this.parameterDisplayName(e,!1),n=this.parameterDisplayName(e,!0);return t.replace(/%%PARAMETER%%/g,s).replace(/%%PARAMETER_FULL%%/g,n)},getErrorDescription(){if(!this.error.context||!this.error.context.descriptionTemplate)return Fa(this.error.description);const e=this.parameterDisplayName(this.error.context.parameter);return Fa(this.error.context.descriptionTemplate.replace(/%%PARAMETER%%/g,e))},getErrorMessage(){const e=this.$locale.baseText("nodeErrorView.error")+": ";if(!this.error.context||!this.error.context.messageTemplate)return e+this.error.message;const t=this.parameterDisplayName(this.error.context.parameter);return e+this.error.context.messageTemplate.replace(/%%PARAMETER%%/g,t)},parameterDisplayName(e,t=!0){try{const s=this.parameterName(this.parameters,e.split("."));if(!s.length)throw new Error;return t===!1?s.pop().displayName:s.map(n=>n.displayName).join(" > ")}catch{return`Could not find parameter "${e}"`}},parameterName(e,t){let s=t.shift();if(s===void 0)return[];const n=s.match(/(.*)\[([\d])\]$/);n!==null&&n.length>0&&(s=n[1]);const o=e.find(i=>i.name===s);if(o===void 0)throw new Error(`Could not find parameter "${s}"`);return t.length===0?[o]:o.hasOwnProperty("options")?[o,...this.parameterName(o.options,t)]:o.hasOwnProperty("values")?[o,...this.parameterName(o.values,t)]:[o]},copyCause(){this.copyToClipboard(JSON.stringify(this.error.cause)),this.copySuccess()},copySuccess(){this.showMessage({title:this.$locale.baseText("nodeErrorView.showMessage.title"),type:"info"})}}});const ipe={class:"error-header"},rpe={class:"error-message"},ape=["innerHTML"],lpe={class:"error-details__summary"},upe={class:"error-details__content"},cpe={key:0},dpe={key:1},ppe={class:"clearfix box-card__title"},hpe={key:2,class:"el-card box-card is-never-shadow el-card__body"},mpe={class:"error-details__summary"},fpe={key:0},gpe={class:"error-details__summary"},ype={key:1},wpe={class:"error-details__summary"},bpe={key:3},vpe={class:"clearfix box-card__title"},Tpe={key:4},Spe={class:"clearfix box-card__title"},kpe=D("br",null,null,-1),Epe={class:"box-card__subtitle"},xpe={key:0,class:"copy-button"},Cpe={key:2},Ope={key:5},Dpe={class:"clearfix box-card__title"};function Ape(e,t,s,n,o,i){const r=E("font-awesome-icon"),l=E("el-card"),m=E("n8n-icon-button"),c=E("vue-json-pretty");return y(),P("div",null,[D("div",ipe,[D("div",rpe,N(e.getErrorMessage()),1),e.error.description?(y(),P("div",{key:0,class:"error-description",innerHTML:e.getErrorDescription()},null,8,ape)):W("",!0)]),D("details",null,[D("summary",lpe,[b(r,{class:"error-details__icon",icon:"angle-right"}),V(" "+N(e.$locale.baseText("nodeErrorView.details")),1)]),D("div",upe,[e.error.context&&e.error.context.causeDetailed?(y(),P("div",cpe,[b(l,{class:"box-card",shadow:"never"},{default:v(()=>[D("div",null,N(e.error.context.causeDetailed),1)]),_:1})])):W("",!0),e.error.timestamp?(y(),P("div",dpe,[b(l,{class:"box-card",shadow:"never"},{header:v(()=>[D("div",ppe,[D("span",null,N(e.$locale.baseText("nodeErrorView.time")),1)])]),default:v(()=>[D("div",null,N(new Date(e.error.timestamp).toLocaleString()),1)]),_:1})])):W("",!0),e.error.context&&e.error.context.itemIndex!==void 0?(y(),P("div",hpe,[D("span",mpe,N(e.$locale.baseText("nodeErrorView.itemIndex"))+":",1),V(" "+N(e.error.context.itemIndex)+" ",1),e.error.context.runIndex?(y(),P("span",fpe,[V(" | "),D("span",gpe,N(e.$locale.baseText("nodeErrorView.itemIndex"))+":",1),V(" "+N(e.error.context.runIndex),1)])):W("",!0),e.error.context.parameter?(y(),P("span",ype,[V(" | "),D("span",wpe,N(e.$locale.baseText("nodeErrorView.inParameter"))+":",1),V(" "+N(e.parameterDisplayName(e.error.context.parameter)),1)])):W("",!0)])):W("",!0),e.error.httpCode?(y(),P("div",bpe,[b(l,{class:"box-card",shadow:"never"},{header:v(()=>[D("div",vpe,[D("span",null,N(e.$locale.baseText("nodeErrorView.httpCode")),1)])]),default:v(()=>[D("div",null,N(e.error.httpCode),1)]),_:1})])):W("",!0),e.error.cause?(y(),P("div",Tpe,[b(l,{class:"box-card",shadow:"never"},{header:v(()=>[D("div",Spe,[D("span",null,N(e.$locale.baseText("nodeErrorView.cause")),1),kpe,D("span",Epe,N(e.$locale.baseText("nodeErrorView.dataBelowMayContain")),1)])]),default:v(()=>[D("div",null,[e.displayCause?(y(),P("div",xpe,[b(m,{onClick:e.copyCause,title:e.$locale.baseText("nodeErrorView.copyToClipboard"),icon:"copy"},null,8,["onClick","title"])])):W("",!0),e.displayCause?(y(),R(c,{key:1,data:e.error.cause,deep:3,showLength:!0,selectableType:"single",path:"error",class:"json-data"},null,8,["data"])):(y(),P("span",Cpe,[b(r,{icon:"info-circle"}),V(N(e.$locale.baseText("nodeErrorView.theErrorCauseIsTooLargeToBeDisplayed")),1)]))])]),_:1})])):W("",!0),e.error.stack?(y(),P("div",Ope,[b(l,{class:"box-card",shadow:"never"},{header:v(()=>[D("div",Dpe,[D("span",null,N(e.$locale.baseText("nodeErrorView.stack")),1)])]),default:v(()=>[D("div",null,[D("pre",null,[D("code",null,N(e.error.stack),1)])])]),_:1})])):W("",!0)])])])}const $pe=te(ope,[["render",Ape]]),Npe=ho(async()=>qn(()=>import("./RunDataTable-334784d1.js"),["assets/RunDataTable-334784d1.js","assets/pinia-b59a3de7.js","assets/n8n-91a817dd.js","assets/luxon-19e1de07.js","assets/esprima-next-8c7e8ff9.js","assets/vendor-c8bad0e4.js","assets/lodash-es-876af2e5.js","assets/@fortawesome/vue-fontawesome-6e8401ca.js","assets/@fortawesome/fontawesome-svg-core-984d6dde.js","assets/n8n-def62baf.css","assets/axios-706baf85.js","assets/MappingPill-63fb3cab.js","assets/MappingPill-7b9e916c.css","assets/flatted-8b14da7d.js","assets/vue-i18n-6b44b0b1.js","assets/dateformat-ce9c2f3c.js","assets/@jsplumb/browser-ui-70b0a0d6.js","assets/@jsplumb/core-0a463c13.js","assets/@jsplumb/util-98a92a84.js","assets/@jsplumb/common-fe415eb9.js","assets/@jsplumb/connector-bezier-53998944.js","assets/uuid-cf522c50.js","assets/@n8n/codemirror-lang-sql-9a304659.js","assets/codemirror-lang-n8n-expression-47e67c3a.js","assets/codemirror-lang-html-n8n-4223f8c7.js","assets/fast-json-stable-stringify-44009db8.js","assets/prettier-8be78f6f.js","assets/@vueuse/core-5943aedd.js","assets/timeago.js-a9e71aec.js","assets/file-saver-cc6d9044.js","assets/vue-json-pretty-cfc4ef1d.js","assets/humanize-duration-b7379348.js","assets/v3-infinite-loading-ff016886.js","assets/vue-agile-b5edbe38.js","assets/vue-agile-d964f598.css","assets/copy-to-clipboard-4501bff5.js","assets/vue3-touch-events-ee55ce04.js","assets/@fortawesome/free-solid-svg-icons-c96f0de9.js","assets/@fortawesome/free-regular-svg-icons-74cb85f8.js","assets/RunDataTable-2f4ad8d7.css"])),_pe=ho(async()=>qn(()=>import("./RunDataJson-38c38095.js"),["assets/RunDataJson-38c38095.js","assets/n8n-91a817dd.js","assets/luxon-19e1de07.js","assets/esprima-next-8c7e8ff9.js","assets/vendor-c8bad0e4.js","assets/lodash-es-876af2e5.js","assets/@fortawesome/vue-fontawesome-6e8401ca.js","assets/@fortawesome/fontawesome-svg-core-984d6dde.js","assets/n8n-def62baf.css","assets/vue-json-pretty-cfc4ef1d.js","assets/axios-706baf85.js","assets/pinia-b59a3de7.js","assets/MappingPill-63fb3cab.js","assets/MappingPill-7b9e916c.css","assets/flatted-8b14da7d.js","assets/vue-i18n-6b44b0b1.js","assets/dateformat-ce9c2f3c.js","assets/@jsplumb/browser-ui-70b0a0d6.js","assets/@jsplumb/core-0a463c13.js","assets/@jsplumb/util-98a92a84.js","assets/@jsplumb/common-fe415eb9.js","assets/@jsplumb/connector-bezier-53998944.js","assets/uuid-cf522c50.js","assets/@n8n/codemirror-lang-sql-9a304659.js","assets/codemirror-lang-n8n-expression-47e67c3a.js","assets/codemirror-lang-html-n8n-4223f8c7.js","assets/fast-json-stable-stringify-44009db8.js","assets/prettier-8be78f6f.js","assets/@vueuse/core-5943aedd.js","assets/timeago.js-a9e71aec.js","assets/file-saver-cc6d9044.js","assets/humanize-duration-b7379348.js","assets/v3-infinite-loading-ff016886.js","assets/vue-agile-b5edbe38.js","assets/vue-agile-d964f598.css","assets/copy-to-clipboard-4501bff5.js","assets/vue3-touch-events-ee55ce04.js","assets/@fortawesome/free-solid-svg-icons-c96f0de9.js","assets/@fortawesome/free-regular-svg-icons-74cb85f8.js","assets/RunDataJson-fab5d6f6.css"])),Ppe=ho(async()=>qn(()=>import("./RunDataSchema-fe2f1fb0.js"),["assets/RunDataSchema-fe2f1fb0.js","assets/axios-706baf85.js","assets/n8n-91a817dd.js","assets/luxon-19e1de07.js","assets/esprima-next-8c7e8ff9.js","assets/vendor-c8bad0e4.js","assets/lodash-es-876af2e5.js","assets/@fortawesome/vue-fontawesome-6e8401ca.js","assets/@fortawesome/fontawesome-svg-core-984d6dde.js","assets/n8n-def62baf.css","assets/MappingPill-63fb3cab.js","assets/MappingPill-7b9e916c.css","assets/pinia-b59a3de7.js","assets/flatted-8b14da7d.js","assets/vue-i18n-6b44b0b1.js","assets/dateformat-ce9c2f3c.js","assets/@jsplumb/browser-ui-70b0a0d6.js","assets/@jsplumb/core-0a463c13.js","assets/@jsplumb/util-98a92a84.js","assets/@jsplumb/common-fe415eb9.js","assets/@jsplumb/connector-bezier-53998944.js","assets/uuid-cf522c50.js","assets/@n8n/codemirror-lang-sql-9a304659.js","assets/codemirror-lang-n8n-expression-47e67c3a.js","assets/codemirror-lang-html-n8n-4223f8c7.js","assets/fast-json-stable-stringify-44009db8.js","assets/prettier-8be78f6f.js","assets/@vueuse/core-5943aedd.js","assets/timeago.js-a9e71aec.js","assets/file-saver-cc6d9044.js","assets/vue-json-pretty-cfc4ef1d.js","assets/humanize-duration-b7379348.js","assets/v3-infinite-loading-ff016886.js","assets/vue-agile-b5edbe38.js","assets/vue-agile-d964f598.css","assets/copy-to-clipboard-4501bff5.js","assets/vue3-touch-events-ee55ce04.js","assets/@fortawesome/free-solid-svg-icons-c96f0de9.js","assets/@fortawesome/free-regular-svg-icons-74cb85f8.js","assets/RunDataSchema-f2410c09.css"])),Ipe=ho(async()=>qn(()=>import("./RunDataHtml-a85c9b44.js"),["assets/RunDataHtml-a85c9b44.js","assets/n8n-91a817dd.js","assets/luxon-19e1de07.js","assets/esprima-next-8c7e8ff9.js","assets/vendor-c8bad0e4.js","assets/lodash-es-876af2e5.js","assets/@fortawesome/vue-fontawesome-6e8401ca.js","assets/@fortawesome/fontawesome-svg-core-984d6dde.js","assets/n8n-def62baf.css","assets/RunDataHtml-88673a8b.css"])),Mpe=J({name:"RunData",mixins:[Ft,Nt,Bs,Bl],components:{BinaryDataDisplay:npe,NodeErrorView:$pe,CodeNodeEditor:qE,RunDataTable:Npe,RunDataJson:_pe,RunDataSchema:Ppe,RunDataHtml:Ipe},props:{nodeUi:{type:Object},runIndex:{type:Number},linkedRuns:{type:Boolean},canLinkRuns:{type:Boolean},tooMuchDataTitle:{type:String},noDataInBranchMessage:{type:String},isExecuting:{type:Boolean},executingMessage:{type:String},sessionId:{type:String},paneType:{type:String},overrideOutputs:{type:Array},mappingEnabled:{type:Boolean},distanceFromActive:{type:Number},blockUI:{type:Boolean,default:!1},isProductionExecutionPreview:{type:Boolean,default:!1}},setup(){return{...je()}},data(){return{binaryDataPreviewActive:!1,dataSize:0,showData:!1,outputIndex:0,binaryDataDisplayVisible:!1,binaryDataDisplayData:null,MAX_DISPLAY_DATA_SIZE:fT,MAX_DISPLAY_ITEMS_AUTO_ALL:f_,currentPage:1,pageSize:10,pageSizes:[10,25,50,100],pinDataDiscoveryTooltipVisible:!1,isControlledPinDataTooltip:!1}},mounted(){this.init(),this.isPaneTypeInput||(qt.on("data-pinning-error",this.onDataPinningError),qt.on("data-unpinning",this.onDataUnpinning),this.showPinDataDiscoveryTooltip(this.jsonData)),this.ndvStore.setNDVBranchIndex({pane:this.paneType,branchIndex:this.currentOutputIndex}),this.paneType==="output"&&this.setDisplayMode()},beforeUnmount(){this.hidePinDataDiscoveryTooltip(),qt.off("data-pinning-error",this.onDataPinningError),qt.off("data-unpinning",this.onDataUnpinning)},computed:{...be(it,Xe,_e),activeNode(){return this.ndvStore.activeNode},dataPinningDocsUrl(){return v_},dataEditingDocsUrl(){return T_},displayMode(){return this.ndvStore.getPanelDisplayMode(this.paneType)},node(){return this.nodeUi||null},nodeType(){return this.node?this.nodeTypesStore.getNodeType(this.node.type,this.node.typeVersion):null},isSchemaView(){return this.displayMode==="schema"},isTriggerNode(){return this.nodeTypesStore.isTriggerNode(this.node.type)},canPinData(){return!this.isPaneTypeInput&&this.isPinDataNodeType&&!(this.binaryData&&this.binaryData.length>0)},buttons(){var s;const e=[{label:this.$locale.baseText("runData.table"),value:"table"},{label:this.$locale.baseText("runData.json"),value:"json"}];this.binaryData.length&&e.push({label:this.$locale.baseText("runData.binary"),value:"binary"});const t={label:this.$locale.baseText("runData.schema"),value:"schema"};return this.isPaneTypeInput?e.unshift(t):e.push(t),this.isPaneTypeOutput&&((s=this.activeNode)==null?void 0:s.type)===Dh&&this.activeNode.parameters.operation==="generateHtmlTemplate"&&e.unshift({label:"HTML",value:"html"}),e},hasNodeRun(){return!!(!this.isExecuting&&this.node&&(this.workflowRunData&&this.workflowRunData.hasOwnProperty(this.node.name)||this.hasPinData))},isArtificialRecoveredEventItem(){var e,t,s;return((s=(t=(e=this.inputData)==null?void 0:e[0])==null?void 0:t.json)==null?void 0:s.isArtificialRecoveredEventItem)!==void 0},subworkflowExecutionError(){return this.workflowsStore.subWorkflowExecutionError},hasSubworkflowExecutionError(){return!!this.subworkflowExecutionError},hasRunError(){return!!(this.node&&this.workflowRunData&&this.workflowRunData[this.node.name]&&this.workflowRunData[this.node.name][this.runIndex]&&this.workflowRunData[this.node.name][this.runIndex].error)},workflowExecution(){return this.workflowsStore.getWorkflowExecution},workflowRunData(){if(this.workflowExecution===null)return null;const e=this.workflowExecution.data;return e&&e.resultData?e.resultData.runData:null},dataCount(){return this.getDataCount(this.runIndex,this.currentOutputIndex)},dataSizeInMB(){return(this.dataSize/1024/1e3).toLocaleString()},maxOutputIndex(){if(this.node===null)return 0;const e=this.workflowRunData;if(e===null||!e.hasOwnProperty(this.node.name)||e[this.node.name].length<this.runIndex)return 0;if(e[this.node.name][this.runIndex]){const t=e[this.node.name][this.runIndex].data;if(t&&t.main)return t.main.length-1}return 0},currentPageOffset(){return this.pageSize*(this.currentPage-1)},maxRunIndex(){if(this.node===null)return 0;const e=this.workflowRunData;return e===null||!e.hasOwnProperty(this.node.name)?0:e[this.node.name].length?e[this.node.name].length-1:0},rawInputData(){let e=[];return this.node&&(e=this.getNodeInputData(this.node,this.runIndex,this.currentOutputIndex)),e.length===0||!Array.isArray(e)?[]:e},inputData(){let e=this.rawInputData;if(this.node&&this.pinData&&!this.isProductionExecutionPreview&&(e=Array.isArray(this.pinData)?this.pinData.map(s=>({json:s})):[{json:this.pinData}]),this.isSchemaView)return e;const t=this.pageSize*(this.currentPage-1);return e=e.slice(t,t+this.pageSize),e},jsonData(){return Qh(this.inputData)},binaryData(){return this.node?this.getBinaryData(this.workflowRunData,this.node.name,this.runIndex,this.currentOutputIndex).filter(t=>!!(t&&Object.keys(t).length)):[]},currentOutputIndex(){return this.overrideOutputs&&this.overrideOutputs.length&&!this.overrideOutputs.includes(this.outputIndex)?this.overrideOutputs[0]:this.outputIndex},branches(){var s;function e(n){return n.charAt(0).toLocaleUpperCase()+n.slice(1)}const t=[];for(let n=0;n<=this.maxOutputIndex;n++){if(this.overrideOutputs&&!this.overrideOutputs.includes(n))continue;const o=this.getDataCount(this.runIndex,n),i=this.$locale.baseText("ndv.output.items",{adjustToNumber:o});let r=this.getOutputName(n);if(`${r}`==`${n}`)r=`${this.$locale.baseText("ndv.output")} ${r}`;else{const l=v2.includes((s=this.node)==null?void 0:s.type)?"":` ${this.$locale.baseText("ndv.output.branch")}`;r=e(`${this.getOutputName(n)}${l}`)}t.push({label:o?`${r} (${o} ${i})`:r,value:n})}return t},editMode(){return this.isPaneTypeInput?{enabled:!1,value:""}:this.ndvStore.outputPanelEditMode},isPaneTypeInput(){return this.paneType==="input"},isPaneTypeOutput(){return this.paneType==="output"},readOnlyEnv(){return this.sourceControlStore.preferences.branchReadOnly}},methods:{onItemHover(e){if(e===null){this.$emit("itemHover",null);return}this.$emit("itemHover",{outputIndex:this.currentOutputIndex,itemIndex:e})},onClickDataPinningDocsLink(){var e;this.$telemetry.track("User clicked ndv link",{workflow_id:this.workflowsStore.workflowId,session_id:this.sessionId,node_type:(e=this.activeNode)==null?void 0:e.type,pane:"output",type:"data-pinning-docs"})},showPinDataDiscoveryTooltip(e){this.isTriggerNode&&e&&e.length>0&&!this.isReadOnlyRoute&&!localStorage.getItem(yw)&&(this.pinDataDiscoveryComplete(),setTimeout(()=>{this.isControlledPinDataTooltip=!0,this.pinDataDiscoveryTooltipVisible=!0,qt.emit("data-pinning-discovery",{isTooltipVisible:!0})},500))},hidePinDataDiscoveryTooltip(){this.pinDataDiscoveryTooltipVisible&&(this.isControlledPinDataTooltip=!1,this.pinDataDiscoveryTooltipVisible=!1,qt.emit("data-pinning-discovery",{isTooltipVisible:!1}))},pinDataDiscoveryComplete(){localStorage.setItem(yw,"true"),localStorage.setItem(Nh,"true")},enterEditMode({origin:e}){var n;const t=this.pinData?Yw(this.pinData):Qh(this.rawInputData),s=t.length>0?t:m2;this.ndvStore.setOutputPanelEditModeEnabled(!0),this.ndvStore.setOutputPanelEditModeValue(JSON.stringify(s,null,2)),this.$telemetry.track("User opened ndv edit state",{node_type:(n=this.activeNode)==null?void 0:n.type,click_type:e==="editIconButton"?"button":"link",session_id:this.sessionId,run_index:this.runIndex,is_output_present:this.hasNodeRun||this.hasPinData,view:!this.hasNodeRun&&!this.hasPinData?"undefined":this.displayMode,is_data_pinned:this.hasPinData})},onClickCancelEdit(){this.ndvStore.setOutputPanelEditModeEnabled(!1),this.ndvStore.setOutputPanelEditModeValue(""),this.onExitEditMode({type:"cancel"})},onClickSaveEdit(){const{value:e}=this.editMode;if(this.clearAllStickyNotifications(),!this.isValidPinDataSize(e)){this.onDataPinningError({errorType:"data-too-large",source:"save-edit"});return}if(!this.isValidPinDataJSON(e)){this.onDataPinningError({errorType:"invalid-json",source:"save-edit"});return}this.ndvStore.setOutputPanelEditModeEnabled(!1),this.workflowsStore.pinData({node:this.node,data:Yw(e)}),this.onDataPinningSuccess({source:"save-edit"}),this.onExitEditMode({type:"save"})},onExitEditMode({type:e}){var t;this.$telemetry.track("User closed ndv edit state",{node_type:(t=this.activeNode)==null?void 0:t.type,session_id:this.sessionId,run_index:this.runIndex,view:this.displayMode,type:e})},onDataUnpinning({source:e}){var t;this.$telemetry.track("User unpinned ndv data",{node_type:(t=this.activeNode)==null?void 0:t.type,session_id:this.sessionId,run_index:this.runIndex,source:e,data_size:xa(this.pinData)})},onDataPinningSuccess({source:e}){const t={pinning_source:e,node_type:this.activeNode.type,session_id:this.sessionId,data_size:xa(this.pinData),view:this.displayMode,run_index:this.runIndex};this.$externalHooks().run("runData.onDataPinningSuccess",t),this.$telemetry.track("Ndv data pinning success",t)},onDataPinningError({errorType:e,source:t}){this.$telemetry.track("Ndv data pinning failure",{pinning_source:t,node_type:this.activeNode.type,session_id:this.sessionId,data_size:xa(this.pinData),view:this.displayMode,run_index:this.runIndex,error_type:e})},async onTogglePinData({source:e}){if(e==="pin-icon-click"){const t={node_type:this.activeNode.type,session_id:this.sessionId,run_index:this.runIndex,view:!this.hasNodeRun&&!this.hasPinData?"none":this.displayMode};this.$externalHooks().run("runData.onTogglePinData",t),this.$telemetry.track("User clicked pin data icon",t)}if(this.updateNodeParameterIssues(this.node),this.hasPinData){this.onDataUnpinning({source:e}),this.workflowsStore.unpinData({node:this.node});return}if(!this.isValidPinDataSize(this.rawInputData)){this.onDataPinningError({errorType:"data-too-large",source:"pin-icon-click"});return}this.onDataPinningSuccess({source:"pin-icon-click"}),this.workflowsStore.pinData({node:this.node,data:this.rawInputData}),this.maxRunIndex>0&&this.showToast({title:this.$locale.baseText("ndv.pinData.pin.multipleRuns.title",{interpolate:{index:`${this.runIndex}`}}),message:this.$locale.baseText("ndv.pinData.pin.multipleRuns.description"),type:"success",duration:2e3}),this.hidePinDataDiscoveryTooltip(),this.pinDataDiscoveryComplete()},switchToBinary(){this.onDisplayModeChange("binary")},onBranchChange(e){this.outputIndex=e,this.$telemetry.track("User changed ndv branch",{session_id:this.sessionId,branch_index:e,node_type:this.activeNode.type,node_type_input_selection:this.nodeType?this.nodeType.name:"",pane:this.paneType})},showTooMuchData(){this.showData=!0,this.$telemetry.track("User clicked ndv button",{node_type:this.activeNode.type,workflow_id:this.workflowsStore.workflowId,session_id:this.sessionId,pane:this.paneType,type:"showTooMuchData"})},toggleLinkRuns(){this.linkedRuns?this.unlinkRun():this.linkRun()},linkRun(){this.$emit("linkRun")},unlinkRun(){this.$emit("unlinkRun")},onCurrentPageChange(e){var t;this.currentPage=e,this.$telemetry.track("User changed ndv page",{node_type:(t=this.activeNode)==null?void 0:t.type,workflow_id:this.workflowsStore.workflowId,session_id:this.sessionId,pane:this.paneType,page_selected:this.currentPage,page_size:this.pageSize,items_total:this.dataCount})},onPageSizeChange(e){var s;this.pageSize=e;const t=Math.ceil(this.dataCount/this.pageSize);t<this.currentPage&&(this.currentPage=t),this.$telemetry.track("User changed ndv page size",{node_type:(s=this.activeNode)==null?void 0:s.type,workflow_id:this.workflowsStore.workflowId,session_id:this.sessionId,pane:this.paneType,page_selected:this.currentPage,page_size:this.pageSize,items_total:this.dataCount})},onDisplayModeChange(e){const t=this.displayMode;this.ndvStore.setPanelDisplayMode({pane:this.paneType,mode:e});const s=this.$refs.dataContainer;if(s){const n=s.children[0];n&&n.scrollTo(0,0)}this.closeBinaryDataDisplay(),this.$externalHooks().run("runData.displayModeChanged",{newValue:e,oldValue:t}),this.activeNode&&this.$telemetry.track("User changed ndv item view",{previous_view:t,new_view:e,node_type:this.activeNode.type,workflow_id:this.workflowsStore.workflowId,session_id:this.sessionId,pane:this.paneType})},getRunLabel(e){let t=0;for(let o=0;o<=this.maxOutputIndex;o++)t+=this.getDataCount(e-1,o);const s=this.$locale.baseText("ndv.output.items",{adjustToNumber:t}),n=t>0?` (${t} ${s})`:"";return e+this.$locale.baseText("ndv.output.of")+(this.maxRunIndex+1)+n},getDataCount(e,t){if(this.pinData)return this.pinData.length;if(this.node===null)return 0;const s=this.workflowRunData;return s===null||!s.hasOwnProperty(this.node.name)||s[this.node.name].length<=e?0:s[this.node.name][e].hasOwnProperty("error")?1:!s[this.node.name][e].hasOwnProperty("data")||s[this.node.name][e].data===void 0?0:this.getMainInputData(s[this.node.name][e].data,t).length},init(){this.outputIndex=0,this.refreshDataSize(),this.closeBinaryDataDisplay(),this.binaryData.length>0?this.ndvStore.setPanelDisplayMode({pane:this.paneType,mode:"binary"}):this.displayMode==="binary"&&this.ndvStore.setPanelDisplayMode({pane:this.paneType,mode:"table"})},closeBinaryDataDisplay(){this.binaryDataDisplayVisible=!1,this.binaryDataDisplayData=null},clearExecutionData(){this.workflowsStore.setWorkflowExecutionData(null),this.updateNodesExecutionIssues()},isViewable(e,t){const{fileType:s}=this.binaryData[e][t];return!!s&&["image","video","text","json"].includes(s)},isDownloadable(e,t){const{mimeType:s,fileName:n}=this.binaryData[e][t];return!!(s&&n)},async downloadBinaryData(e,t){const{id:s,data:n,fileName:o,fileExtension:i,mimeType:r}=this.binaryData[e][t];if(s){const l=this.workflowsStore.getBinaryUrl(s,"download",o,r);Iu.saveAs(l,[o,i].join("."));return}else{const l="data:"+r+";base64,"+n,m=await fetch(l).then(async c=>c.blob());Iu.saveAs(m,o)}},async downloadJsonData(){const e=this.getNodeInputData(this.node,this.runIndex,this.currentOutputIndex),t=this.node.name.replace(/[^\w\d]/g,"_"),s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"});Iu.saveAs(s,`${t}.json`)},displayBinaryData(e,t){this.binaryDataDisplayVisible=!0,this.binaryDataDisplayData={node:this.node.name,runIndex:this.runIndex,outputIndex:this.currentOutputIndex,index:e,key:t}},getOutputName(e){if(this.node===null)return e+1;const t=this.nodeType;return!t||!t.outputNames||t.outputNames.length<=e?e+1:t.outputNames[e]},refreshDataSize(){this.showData=!1;const e=this.getNodeInputData(this.node,this.runIndex,this.currentOutputIndex),t=this.pageSize*(this.currentPage-1),s=e.slice(t,t+this.pageSize).map(n=>n.json);this.dataSize=JSON.stringify(s).length,this.dataSize<this.MAX_DISPLAY_DATA_SIZE&&(this.showData=!0)},onRunIndexChange(e){this.$emit("runChange",e)},enableNode(){if(this.node){const e={name:this.node.name,properties:{disabled:!this.node.disabled}};this.workflowsStore.updateNodeProperties(e)}},setDisplayMode(){if(!this.activeNode)return;this.activeNode.type===Dh&&this.activeNode.parameters.operation==="generateHtmlTemplate"&&this.ndvStore.setPanelDisplayMode({pane:"output",mode:"html"})}},watch:{node(){this.init()},hasNodeRun(){this.paneType==="output"&&this.setDisplayMode()},inputData:{handler(e){this.paneType&&e&&this.ndvStore.setNDVPanelDataIsEmpty({panel:this.paneType,isEmpty:e.every(t=>Un(t.json))})},immediate:!0,deep:!0},jsonData(e){this.refreshDataSize(),this.showPinDataDiscoveryTooltip(e)},binaryData(e,t){e.length&&!t.length&&this.displayMode!=="binary"?this.switchToBinary():!e.length&&this.displayMode==="binary"&&this.onDisplayModeChange("table")},currentOutputIndex(e){this.ndvStore.setNDVBranchIndex({pane:this.paneType,branchIndex:e})}}}),Lpe="_infoIcon_1dzx1_5",Fpe="_center_1dzx1_9",Bpe="_container_1dzx1_23",Rpe="_pinnedDataCallout_1dzx1_32",Vpe="_header_1dzx1_40",Upe="_dataContainer_1dzx1_54",Wpe="_dataDisplay_1dzx1_62",jpe="_tabs_1dzx1_74",qpe="_itemsCount_1dzx1_78",zpe="_runSelector_1dzx1_83",Hpe="_pagination_1dzx1_94",Qpe="_pageSizeSelector_1dzx1_104",Gpe="_binaryIndex_1dzx1_110",Ype="_binaryRow_1dzx1_127",Xpe="_binaryCell_1dzx1_132",Kpe="_binaryHeader_1dzx1_144",Jpe="_binaryButtonContainer_1dzx1_153",Zpe="_binaryValue_1dzx1_164",ehe="_displayModes_1dzx1_169",the="_tooltipContain_1dzx1_175",she="_pinDataButton_1dzx1_179",nhe="_spinner_1dzx1_183",ohe="_editMode_1dzx1_194",ihe="_editModeBody_1dzx1_204",rhe="_editModeFooter_1dzx1_211",ahe="_editModeFooterInfotip_1dzx1_221",lhe="_editModeActions_1dzx1_227",uhe="_stretchVertically_1dzx1_234",che="_uiBlocker_1dzx1_238",dhe={infoIcon:Lpe,center:Fpe,container:Bpe,pinnedDataCallout:Rpe,header:Vpe,dataContainer:Upe,"actions-group":"_actions-group_1dzx1_58",dataDisplay:Wpe,tabs:jpe,itemsCount:qpe,runSelector:zpe,pagination:Hpe,pageSizeSelector:Qpe,binaryIndex:Gpe,binaryRow:Ype,binaryCell:Xpe,binaryHeader:Kpe,binaryButtonContainer:Jpe,binaryValue:Zpe,displayModes:ehe,tooltipContain:the,pinDataButton:she,spinner:nhe,editMode:ohe,editModeBody:ihe,editModeFooter:rhe,editModeFooterInfotip:ahe,editModeActions:lhe,stretchVertically:uhe,uiBlocker:che};const phe={key:0,class:"ml-4xs"},hhe=["innerHTML"],mhe={key:0},fhe={key:1},ghe={key:2},yhe={key:3},whe={key:4};function bhe(e,t,s,n,o,i){const r=E("n8n-link"),l=E("n8n-callout"),m=E("BinaryDataDisplay"),c=E("n8n-radio-buttons"),h=E("n8n-icon-button"),p=E("n8n-text"),g=E("n8n-tooltip"),w=E("n8n-button"),S=E("n8n-option"),k=E("n8n-select"),O=E("n8n-tabs"),C=E("n8n-spinner"),A=E("code-node-editor"),T=E("n8n-info-tip"),F=E("NodeErrorView"),L=E("run-data-table"),I=E("run-data-json"),j=E("run-data-html"),q=E("run-data-schema"),Q=E("el-pagination"),X=E("n8n-block-ui");return y(),P("div",{class:$(["run-data",e.$style.container])},[e.canPinData&&e.hasPinData&&!e.editMode.enabled&&!e.isProductionExecutionPreview?(y(),R(l,{key:0,theme:"secondary",icon:"thumbtack",class:$(e.$style.pinnedDataCallout)},{trailingContent:v(()=>[b(r,{to:e.dataPinningDocsUrl,size:"small",theme:"secondary",bold:"",underline:"",onClick:e.onClickDataPinningDocsLink},{default:v(()=>[V(N(e.$locale.baseText("runData.pindata.learnMore")),1)]),_:1},8,["to","onClick"])]),default:v(()=>[V(N(e.$locale.baseText("runData.pindata.thisDataIsPinned"))+" ",1),!e.isReadOnlyRoute&&!e.readOnlyEnv?(y(),P("span",phe,[b(r,{theme:"secondary",size:"small",underline:"",bold:"",onClick:t[0]||(t[0]=Qe(U=>e.onTogglePinData({source:"banner-link"}),["stop"]))},{default:v(()=>[V(N(e.$locale.baseText("runData.pindata.unpin")),1)]),_:1})])):W("",!0)]),_:1},8,["class"])):W("",!0),b(m,{windowVisible:e.binaryDataDisplayVisible,displayData:e.binaryDataDisplayData,onClose:e.closeBinaryDataDisplay},null,8,["windowVisible","displayData","onClose"]),D("div",{class:$(e.$style.header)},[Ke(e.$slots,"header",{},void 0,!0),He(D("div",{onClick:t[3]||(t[3]=Qe(()=>{},["stop"])),class:$(e.$style.displayModes),"data-test-id":"run-data-pane-header"},[He(b(c,{modelValue:e.displayMode,options:e.buttons,"data-test-id":"ndv-run-data-display-mode","onUpdate:modelValue":e.onDisplayModeChange},null,8,["modelValue","options","onUpdate:modelValue"]),[[nt,e.hasNodeRun&&(e.jsonData&&e.jsonData.length>0||e.binaryData&&e.binaryData.length>0)&&!e.editMode.enabled]]),e.canPinData&&!e.isReadOnlyRoute&&!e.readOnlyEnv?He((y(),R(h,{key:0,title:e.$locale.baseText("runData.editOutput"),circle:!1,disabled:e.node.disabled,class:"ml-2xs",icon:"pencil-alt",type:"tertiary","data-test-id":"ndv-edit-pinned-data",onClick:t[1]||(t[1]=U=>e.enterEditMode({origin:"editIconButton"}))},null,8,["title","disabled"])),[[nt,!e.editMode.enabled]]):W("",!0),e.canPinData&&e.jsonData&&e.jsonData.length>0?He((y(),R(g,{key:1,placement:"bottom-end",visible:e.isControlledPinDataTooltip?e.isControlledPinDataTooltip&&e.pinDataDiscoveryTooltipVisible:void 0},Ms({default:v(()=>[b(h,{class:$(["ml-2xs",e.$style.pinDataButton]),type:"tertiary",active:e.hasPinData,icon:"thumbtack",disabled:e.editMode.enabled||e.inputData.length===0&&!e.hasPinData||e.isReadOnlyRoute||e.readOnlyEnv,onClick:t[2]||(t[2]=U=>e.onTogglePinData({source:"pin-icon-click"})),"data-test-id":"ndv-pin-data"},null,8,["class","active","disabled"])]),_:2},[e.isControlledPinDataTooltip?{name:"content",fn:v(()=>[D("div",{class:$(e.$style.tooltipContainer)},N(e.$locale.baseText("node.discovery.pinData.ndv")),3)]),key:"1"}:{name:"content",fn:v(()=>[D("div",{class:$(e.$style.tooltipContainer)},[D("strong",null,N(e.$locale.baseText("ndv.pinData.pin.title")),1),b(p,{size:"small",tag:"p"},{default:v(()=>[V(N(e.$locale.baseText("ndv.pinData.pin.description"))+" ",1),b(r,{to:e.dataPinningDocsUrl,size:"small"},{default:v(()=>[V(N(e.$locale.baseText("ndv.pinData.pin.link")),1)]),_:1},8,["to"])]),_:1})],2)]),key:"0"}]),1032,["visible"])),[[nt,!e.editMode.enabled]]):W("",!0),He(D("div",{class:$(e.$style.editModeActions)},[b(w,{type:"tertiary",label:e.$locale.baseText("runData.editor.cancel"),onClick:e.onClickCancelEdit},null,8,["label","onClick"]),b(w,{class:"ml-2xs",type:"primary",label:e.$locale.baseText("runData.editor.save"),onClick:e.onClickSaveEdit},null,8,["label","onClick"])],2),[[nt,e.editMode.enabled]])],2),[[nt,!e.hasRunError]])],2),e.maxRunIndex>0?He((y(),P("div",{key:1,class:$(e.$style.runSelector),"data-test-id":"run-selector"},[b(k,{size:"small",modelValue:e.runIndex,"onUpdate:modelValue":e.onRunIndexChange,onClick:t[4]||(t[4]=Qe(()=>{},["stop"])),teleported:""},{prepend:v(()=>[V(N(e.$locale.baseText("ndv.output.run")),1)]),default:v(()=>[(y(!0),P(Ie,null,Re(e.maxRunIndex+1,U=>(y(),R(S,{label:e.getRunLabel(U),value:U-1,key:U},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"]),e.canLinkRuns?(y(),R(g,{key:0,placement:"right"},{content:v(()=>[V(N(e.$locale.baseText(e.linkedRuns?"runData.unlinking.hint":"runData.linking.hint")),1)]),default:v(()=>[b(h,{icon:e.linkedRuns?"unlink":"link",text:"",type:"tertiary",size:"small",onClick:e.toggleLinkRuns},null,8,["icon","onClick"])]),_:1})):W("",!0),Ke(e.$slots,"run-info",{},void 0,!0)],2)),[[nt,!e.editMode.enabled]]):W("",!0),e.maxOutputIndex>0&&e.branches.length>1?(y(),P("div",{key:2,class:$(e.$style.tabs),"data-test-id":"branches"},[b(O,{modelValue:e.currentOutputIndex,options:e.branches,"onUpdate:modelValue":e.onBranchChange},null,8,["modelValue","options","onUpdate:modelValue"])],2)):e.hasNodeRun&&e.dataCount>0&&e.maxRunIndex===0&&!e.isArtificialRecoveredEventItem?He((y(),P("div",{key:3,class:$(e.$style.itemsCount)},[b(p,null,{default:v(()=>[V(N(e.dataCount)+" "+N(e.$locale.baseText("ndv.output.items",{adjustToNumber:e.dataCount})),1)]),_:1})],2)),[[nt,!e.editMode.enabled]]):W("",!0),D("div",{class:$(e.$style.dataContainer),ref:"dataContainer","data-test-id":"ndv-data-container"},[e.isExecuting?(y(),P("div",{key:0,class:$(e.$style.center),"data-test-id":"ndv-executing"},[D("div",{class:$(e.$style.spinner)},[b(C,{type:"ring"})],2),b(p,null,{default:v(()=>[V(N(e.executingMessage),1)]),_:1})],2)):e.editMode.enabled?(y(),P("div",{key:1,class:$(e.$style.editMode)},[D("div",{class:$([e.$style.editModeBody,"ignore-key-press"])},[b(A,{modelValue:e.editMode.value,language:"json","onUpdate:modelValue":t[5]||(t[5]=U=>e.ndvStore.setOutputPanelEditModeValue(U))},null,8,["modelValue"])],2),D("div",{class:$(e.$style.editModeFooter)},[b(T,{bold:!1,class:$(e.$style.editModeFooterInfotip)},{default:v(()=>[V(N(e.$locale.baseText("runData.editor.copyDataInfo"))+" ",1),b(r,{to:e.dataEditingDocsUrl,size:"small"},{default:v(()=>[V(N(e.$locale.baseText("generic.learnMore")),1)]),_:1},8,["to"])]),_:1},8,["class"])],2)],2)):e.paneType==="output"&&e.hasSubworkflowExecutionError?(y(),P("div",{key:2,class:$(e.$style.stretchVertically)},[b(F,{error:e.subworkflowExecutionError,class:$(e.$style.errorDisplay)},null,8,["error","class"])],2)):e.hasNodeRun?e.paneType==="input"&&e.node.disabled?(y(),P("div",{key:4,class:$(e.$style.center)},[b(p,null,{default:v(()=>[V(N(e.$locale.baseText("ndv.input.disabled",{interpolate:{nodeName:e.node.name}}))+" ",1),b(r,{onClick:e.enableNode},{default:v(()=>[V(N(e.$locale.baseText("ndv.input.disabled.cta")),1)]),_:1},8,["onClick"])]),_:1})],2)):e.hasNodeRun&&e.isArtificialRecoveredEventItem?(y(),P("div",{key:5,class:$(e.$style.center)},[Ke(e.$slots,"recovered-artificial-output-data",{},void 0,!0)],2)):e.hasNodeRun&&e.hasRunError?(y(),P("div",{key:6,class:$(e.$style.stretchVertically)},[e.isPaneTypeInput?(y(),R(p,{key:0,class:$(e.$style.center),size:"large",tag:"p",bold:""},{default:v(()=>[V(N(e.$locale.baseText("nodeErrorView.inputPanel.previousNodeError.title",{interpolate:{nodeName:e.node.name}})),1)]),_:1},8,["class"])):(y(),R(F,{key:1,error:e.workflowRunData[e.node.name][e.runIndex].error,class:$(e.$style.dataDisplay)},null,8,["error","class"]))],2)):e.hasNodeRun&&e.jsonData&&e.jsonData.length===0&&e.branches.length>1?(y(),P("div",{key:7,class:$(e.$style.center)},[b(p,null,{default:v(()=>[V(N(e.noDataInBranchMessage),1)]),_:1})],2)):e.hasNodeRun&&e.jsonData&&e.jsonData.length===0?(y(),P("div",{key:8,class:$(e.$style.center)},[Ke(e.$slots,"no-output-data",{},()=>[V("xxx")],!0)],2)):e.hasNodeRun&&!e.showData?(y(),P("div",{key:9,class:$(e.$style.center)},[b(p,{bold:!0,color:"text-dark",size:"large"},{default:v(()=>[V(N(e.tooMuchDataTitle),1)]),_:1}),b(p,{align:"center",tag:"div"},{default:v(()=>[D("span",{innerHTML:e.$locale.baseText("ndv.output.tooMuchData.message",{interpolate:{size:e.dataSizeInMB}})},null,8,hhe)]),_:1}),b(w,{outline:"",label:e.$locale.baseText("ndv.output.tooMuchData.showDataAnyway"),onClick:e.showTooMuchData},null,8,["label","onClick"]),b(w,{size:"small",label:e.$locale.baseText("runData.downloadBinaryData"),onClick:t[6]||(t[6]=U=>e.downloadJsonData())},null,8,["label"])],2)):e.hasNodeRun&&e.displayMode==="table"&&e.binaryData.length>0&&e.jsonData.length===1&&Object.keys(e.jsonData[0]||{}).length===0?(y(),P("div",{key:10,class:$(e.$style.center)},[b(p,null,{default:v(()=>[V(N(e.$locale.baseText("runData.switchToBinary.info"))+" ",1),D("a",{onClick:t[7]||(t[7]=(...U)=>e.switchToBinary&&e.switchToBinary(...U))},N(e.$locale.baseText("runData.switchToBinary.binary")),1)]),_:1})],2)):e.hasNodeRun&&e.displayMode==="table"?(y(),R(No,{key:11},{default:v(()=>[b(L,{node:e.node,inputData:e.inputData,mappingEnabled:e.mappingEnabled,distanceFromActive:e.distanceFromActive,runIndex:e.runIndex,pageOffset:e.currentPageOffset,totalRuns:e.maxRunIndex,hasDefaultHoverState:e.paneType==="input",onMounted:t[8]||(t[8]=U=>e.$emit("tableMounted",U)),onActiveRowChanged:e.onItemHover,onDisplayModeChange:e.onDisplayModeChange},null,8,["node","inputData","mappingEnabled","distanceFromActive","runIndex","pageOffset","totalRuns","hasDefaultHoverState","onActiveRowChanged","onDisplayModeChange"])]),_:1})):e.hasNodeRun&&e.displayMode==="json"?(y(),R(No,{key:12},{default:v(()=>[b(I,{paneType:e.paneType,editMode:e.editMode,sessioId:e.sessionId,node:e.node,inputData:e.inputData,mappingEnabled:e.mappingEnabled,distanceFromActive:e.distanceFromActive,runIndex:e.runIndex,totalRuns:e.maxRunIndex},null,8,["paneType","editMode","sessioId","node","inputData","mappingEnabled","distanceFromActive","runIndex","totalRuns"])]),_:1})):e.hasNodeRun&&e.isPaneTypeOutput&&e.displayMode==="html"?(y(),R(No,{key:13},{default:v(()=>[b(j,{inputData:e.inputData},null,8,["inputData"])]),_:1})):e.hasNodeRun&&e.isSchemaView?(y(),R(No,{key:14},{default:v(()=>[b(q,{data:e.jsonData,mappingEnabled:e.mappingEnabled,distanceFromActive:e.distanceFromActive,node:e.node,paneType:e.paneType,runIndex:e.runIndex,totalRuns:e.maxRunIndex},null,8,["data","mappingEnabled","distanceFromActive","node","paneType","runIndex","totalRuns"])]),_:1})):e.displayMode==="binary"&&e.binaryData.length===0?(y(),P("div",{key:15,class:$(e.$style.center)},[b(p,{align:"center",tag:"div"},{default:v(()=>[V(N(e.$locale.baseText("runData.noBinaryDataFound")),1)]),_:1})],2)):e.displayMode==="binary"?(y(),P("div",{key:16,class:$(e.$style.dataDisplay)},[(y(!0),P(Ie,null,Re(e.binaryData,(U,ne)=>(y(),P("div",{key:ne},[e.binaryData.length>1?(y(),P("div",{key:0,class:$(e.$style.binaryIndex)},[D("div",null,N(ne+1),1)],2)):W("",!0),D("div",{class:$(e.$style.binaryRow)},[(y(!0),P(Ie,null,Re(U,(ie,M)=>(y(),P("div",{class:$(e.$style.binaryCell),key:ne+"_"+M},[D("div",null,[D("div",{class:$(e.$style.binaryHeader)},N(M),3),ie.fileName?(y(),P("div",mhe,[D("div",null,[b(p,{size:"small",bold:!0},{default:v(()=>[V(N(e.$locale.baseText("runData.fileName"))+": ",1)]),_:1})]),D("div",{class:$(e.$style.binaryValue)},N(ie.fileName),3)])):W("",!0),ie.directory?(y(),P("div",fhe,[D("div",null,[b(p,{size:"small",bold:!0},{default:v(()=>[V(N(e.$locale.baseText("runData.directory"))+": ",1)]),_:1})]),D("div",{class:$(e.$style.binaryValue)},N(ie.directory),3)])):W("",!0),ie.fileExtension?(y(),P("div",ghe,[D("div",null,[b(p,{size:"small",bold:!0},{default:v(()=>[V(N(e.$locale.baseText("runData.fileExtension"))+":",1)]),_:1})]),D("div",{class:$(e.$style.binaryValue)},N(ie.fileExtension),3)])):W("",!0),ie.mimeType?(y(),P("div",yhe,[D("div",null,[b(p,{size:"small",bold:!0},{default:v(()=>[V(N(e.$locale.baseText("runData.mimeType"))+": ",1)]),_:1})]),D("div",{class:$(e.$style.binaryValue)},N(ie.mimeType),3)])):W("",!0),ie.fileSize?(y(),P("div",whe,[D("div",null,[b(p,{size:"small",bold:!0},{default:v(()=>[V(N(e.$locale.baseText("runData.fileSize"))+": ",1)]),_:1})]),D("div",{class:$(e.$style.binaryValue)},N(ie.fileSize),3)])):W("",!0),D("div",{class:$(e.$style.binaryButtonContainer)},[e.isViewable(ne,M)?(y(),R(w,{key:0,size:"small",label:e.$locale.baseText("runData.showBinaryData"),class:"binary-data-show-data-button",onClick:z=>e.displayBinaryData(ne,M)},null,8,["label","onClick"])):W("",!0),e.isDownloadable(ne,M)?(y(),R(w,{key:1,size:"small",type:"secondary",label:e.$locale.baseText("runData.downloadBinaryData"),class:"binary-data-show-data-button",onClick:z=>e.downloadBinaryData(ne,M)},null,8,["label","onClick"])):W("",!0)],2)])],2))),128))],2)]))),128))],2)):W("",!0):(y(),P("div",{key:3,class:$(e.$style.center)},[Ke(e.$slots,"node-not-run",{},void 0,!0)],2))],2),e.hasNodeRun&&!e.hasRunError&&e.binaryData.length===0&&e.dataCount>e.pageSize&&!e.isSchemaView?He((y(),P("div",{key:4,class:$(e.$style.pagination)},[b(Q,{background:"","hide-on-single-page":!0,"current-page":e.currentPage,"pager-count":5,"page-size":e.pageSize,layout:"prev, pager, next","onUpdate:currentPage":e.onCurrentPageChange,total:e.dataCount},null,8,["current-page","page-size","onUpdate:currentPage","total"]),D("div",{class:$(e.$style.pageSizeSelector)},[b(k,{size:"mini",modelValue:e.pageSize,"onUpdate:modelValue":e.onPageSizeChange,teleported:""},{prepend:v(()=>[V(N(e.$locale.baseText("ndv.output.pageSize")),1)]),default:v(()=>[(y(!0),P(Ie,null,Re(e.pageSizes,U=>(y(),R(S,{key:U,label:U,value:U},null,8,["label","value"]))),128)),b(S,{label:e.$locale.baseText("ndv.output.all"),value:e.dataCount},null,8,["label","value"])]),_:1},8,["modelValue","onUpdate:modelValue"])],2)],2)),[[nt,!e.editMode.enabled]]):W("",!0),b(X,{show:e.blockUI,class:$(e.$style.uiBlocker)},null,8,["show","class"])],2)}const vhe={$style:dhe},z0=te(Mpe,[["render",bhe],["__cssModules",vhe],["__scopeId","data-v-8810e613"]]),The=J({props:{taskData:{}},computed:{runTaskData(){return this.taskData},runMetadata(){return this.runTaskData?{executionTime:this.runTaskData.executionTime,startTime:new Date(this.runTaskData.startTime).toLocaleString()}:null}}}),She=D("br",null,null,-1);function khe(e,t,s,n,o,i){const r=E("n8n-text"),l=E("n8n-info-tip");return e.runMetadata?(y(),R(l,{key:0,type:"tooltip",theme:"info-light",tooltipPlacement:"right"},{default:v(()=>[D("div",null,[b(r,{bold:!0,size:"small"},{default:v(()=>[V(N(e.$locale.baseText("runData.startTime")+":"),1)]),_:1}),V(" "+N(e.runMetadata.startTime),1),She,b(r,{bold:!0,size:"small"},{default:v(()=>[V(N(e.$locale.baseText("runData.executionTime")+":"),1)]),_:1}),V(" "+N(e.runMetadata.executionTime)+" "+N(e.$locale.baseText("runData.ms")),1)])]),_:1})):W("",!0)}const Ehe=te(The,[["render",khe]]),xhe=J({name:"OutputPanel",mixins:[Bl],components:{RunData:z0,RunInfo:Ehe},props:{runIndex:{type:Number},isReadOnly:{type:Boolean},linkedRuns:{type:Boolean},canLinkRuns:{type:Boolean},sessionId:{type:String},blockUI:{type:Boolean,default:!1},isProductionExecutionPreview:{type:Boolean,default:!1}},computed:{...be(it,Xe,Ee,_e),node(){return this.ndvStore.activeNode},nodeType(){return this.node?this.nodeTypesStore.getNodeType(this.node.type,this.node.typeVersion):null},isTriggerNode(){return this.nodeTypesStore.isTriggerNode(this.node.type)},isPollingTypeNode(){return!!(this.nodeType&&this.nodeType.polling)},isScheduleTrigger(){return!!(this.nodeType&&this.nodeType.group.includes("schedule"))},isNodeRunning(){const e=this.workflowsStore.executingNode;return this.node&&e===this.node.name},workflowRunning(){return this.uiStore.isActionActive("workflowRunning")},workflowExecution(){return this.workflowsStore.getWorkflowExecution},workflowRunData(){if(this.workflowExecution===null)return null;const e=this.workflowExecution.data;return!e||!e.resultData||!e.resultData.runData?null:e.resultData.runData},hasNodeRun(){return this.workflowsStore.subWorkflowExecutionError?!0:!!(this.node&&this.workflowRunData&&this.workflowRunData.hasOwnProperty(this.node.name))},runTaskData(){if(!this.node||this.workflowExecution===null)return null;const e=this.workflowRunData;return e===null||!e.hasOwnProperty(this.node.name)||e[this.node.name].length<=this.runIndex?null:e[this.node.name][this.runIndex]},runsCount(){if(this.node===null)return 0;const e=this.workflowRunData;return e===null||!e.hasOwnProperty(this.node.name)?0:e[this.node.name].length?e[this.node.name].length:0},staleData(){if(!this.node)return!1;const e=this.workflowsStore.getParametersLastUpdate(this.node.name);if(!e||!this.runTaskData)return!1;const t=this.runTaskData.startTime;return e>t},outputPanelEditMode(){return this.ndvStore.outputPanelEditMode},canPinData(){return this.isPinDataNodeType&&!this.isReadOnly}},methods:{insertTestData(){const e=this.$refs.runData;e&&(e.enterEditMode({origin:"insertTestDataLink"}),this.$telemetry.track("User clicked ndv link",{workflow_id:this.workflowsStore.workflowId,session_id:this.sessionId,node_type:this.node.type,pane:"output",type:"insert-test-data"}))},onLinkRun(){this.$emit("linkRun")},onUnlinkRun(){this.$emit("unlinkRun")},openSettings(){this.$emit("openSettings"),this.$telemetry.track("User clicked ndv link",{node_type:this.node.type,workflow_id:this.workflowsStore.workflowId,session_id:this.sessionId,pane:"output",type:"settings"})},onRunIndexChange(e){this.$emit("runChange",e)}}}),Che="_titleSection_137ul_5",Ohe="_title_137ul_5",Dhe="_noOutputData_137ul_20",Ahe="_recoveredOutputData_137ul_30",$he={titleSection:Che,title:Ohe,noOutputData:Dhe,recoveredOutputData:Ahe},Nhe=["innerHTML"],_he=D("br",null,null,-1);function Phe(e,t,s,n,o,i){const r=E("RunInfo"),l=E("n8n-info-tip"),m=E("n8n-text"),c=E("RunData");return y(),R(c,{nodeUi:e.node,runIndex:e.runIndex,linkedRuns:e.linkedRuns,canLinkRuns:e.canLinkRuns,tooMuchDataTitle:e.$locale.baseText("ndv.output.tooMuchData.title"),noDataInBranchMessage:e.$locale.baseText("ndv.output.noOutputDataInBranch"),isExecuting:e.isNodeRunning,executingMessage:e.$locale.baseText("ndv.output.executing"),sessionId:e.sessionId,blockUI:e.blockUI,isProductionExecutionPreview:e.isProductionExecutionPreview,paneType:"output",onRunChange:e.onRunIndexChange,onLinkRun:e.onLinkRun,onUnlinkRun:e.onUnlinkRun,onTableMounted:t[2]||(t[2]=h=>e.$emit("tableMounted",h)),onItemHover:t[3]||(t[3]=h=>e.$emit("itemHover",h)),ref:"runData"},Ms({header:v(()=>[D("div",{class:$(e.$style.titleSection)},[D("span",{class:$(e.$style.title)},N(e.$locale.baseText(e.outputPanelEditMode.enabled?"ndv.output.edit":"ndv.output")),3),!e.hasPinData&&e.runsCount===1?He((y(),R(r,{key:0,taskData:e.runTaskData},null,8,["taskData"])),[[nt,!e.outputPanelEditMode.enabled]]):W("",!0),e.hasNodeRun&&e.staleData?(y(),R(l,{key:1,theme:"warning",type:"tooltip",tooltipPlacement:"right"},{default:v(()=>[D("span",{innerHTML:e.$locale.baseText(e.hasPinData?"ndv.output.staleDataWarning.pinData":"ndv.output.staleDataWarning.regular")},null,8,Nhe)]),_:1})):W("",!0)],2)]),"node-not-run":v(()=>[e.workflowRunning&&!e.isTriggerNode?(y(),R(m,{key:0,"data-test-id":"ndv-output-waiting"},{default:v(()=>[V(N(e.$locale.baseText("ndv.output.waitingToRun")),1)]),_:1})):W("",!0),e.workflowRunning?W("",!0):(y(),R(m,{key:1,"data-test-id":"ndv-output-run-node-hint"},{default:v(()=>[V(N(e.$locale.baseText("ndv.output.runNodeHint"))+" ",1),e.canPinData?(y(),P("span",{key:0,onClick:t[0]||(t[0]=(...h)=>e.insertTestData&&e.insertTestData(...h))},[_he,V(" "+N(e.$locale.baseText("generic.or"))+" ",1),b(m,{tag:"a",size:"medium",color:"primary"},{default:v(()=>[V(N(e.$locale.baseText("ndv.output.insertTestData")),1)]),_:1})])):W("",!0)]),_:1}))]),"no-output-data":v(()=>[b(m,{bold:!0,color:"text-dark",size:"large"},{default:v(()=>[V(N(e.$locale.baseText("ndv.output.noOutputData.title")),1)]),_:1}),b(m,null,{default:v(()=>[V(N(e.$locale.baseText("ndv.output.noOutputData.message"))+" ",1),D("a",{onClick:t[1]||(t[1]=(...h)=>e.openSettings&&e.openSettings(...h))},N(e.$locale.baseText("ndv.output.noOutputData.message.settings")),1),V(" "+N(e.$locale.baseText("ndv.output.noOutputData.message.settingsOption")),1)]),_:1})]),"recovered-artificial-output-data":v(()=>[D("div",{class:$(e.$style.recoveredOutputData)},[b(m,{tag:"div",bold:!0,color:"text-dark",size:"large"},{default:v(()=>[V(N(e.$locale.baseText("executionDetails.executionFailed.recoveredNodeTitle")),1)]),_:1}),b(m,null,{default:v(()=>[V(N(e.$locale.baseText("executionDetails.executionFailed.recoveredNodeMessage")),1)]),_:1})],2)]),_:2},[!e.hasPinData&&e.runsCount>1?{name:"run-info",fn:v(()=>[b(r,{taskData:e.runTaskData},null,8,["taskData"])]),key:"0"}:void 0]),1032,["nodeUi","runIndex","linkedRuns","canLinkRuns","tooMuchDataTitle","noDataInBranchMessage","isExecuting","executingMessage","sessionId","blockUI","isProductionExecutionPreview","onRunChange","onLinkRun","onUnlinkRun"])}const Ihe={$style:$he},Mhe=te(xhe,[["render",Phe],["__cssModules",Ihe]]),Lhe={},Fhe={width:"112",height:"80",viewBox:"0 0 112 80",fill:"none",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Bhe=RO('<mask id="mask0_489_46042" style="mask-type:alpha;" maskUnits="userSpaceOnUse" x="0" y="0" width="112" height="80"><rect width="112" height="80" fill="url(#paint0_linear_489_46042)"></rect></mask><g mask="url(#mask0_489_46042)"><rect x="-0.5" width="112" height="80" fill="url(#pattern0)" fill-opacity="0.6"></rect></g><defs><pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1"><use xlink:href="#image0_489_46042" transform="scale(0.00357143 0.005)"></use></pattern><linearGradient id="paint0_linear_489_46042" x1="90.5" y1="40.4494" x2="112.5" y2="40.4494" gradientUnits="userSpaceOnUse"><stop></stop><stop offset="1" stop-color="white" stop-opacity="0"></stop></linearGradient><image id="image0_489_46042" width="280" height="200" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAADICAYAAAAzx/4XAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABhdSURBVHgB7d0JcFTVngbw/72d4IYa0Ie4IK2llgpodNwtB9AaxVILF7ZxynkgWupojaRwASXQGEBqEAI8LXfBpZQS9IFabjMFkXFfijCKyqjQqIiKShCUpdP3vvPdpXP7pjtk6dPdSX+/qlPpJX07UfrL/yz3XEOIPJNiswaZkbKBtkiluC0qRB1gCJW86ntmjzYM81YvWIhyhgFTwlCxGJGyBcJKhTQxhUrSpJraKSpcVgjDhTQqEyo5U+6prbVExmV6TnWT6ixbnuxmSZ262xCLVTUIUTsxYEoMKpdM4aKCZV5ZUmIMFMoljsGUkMk1c9RArjE39HBchcuYadVVdUKUYwyYEjEhVhstj8gqdbMi8HA8kpTBqmqJC5EGHOQtEeVlMkXSw6WB4UK6cQymBKB6UYMso4OPWYZMrWG4kGasYEpAmWGHB3Xj0ydVzRUizRgwJcAwjaFpD9gyVYjygAHTxTndo9Bium2WLBWiPGDAdHFlkWT4/KK6uVzrQnnCgOniDNuIBu/blr1aiPKEAdPF2Xba1DQeYfVCecOAISJtGDBEpA0Dhoi0YcAQkTYMGCLShgFDRNowYIhIGwYMEWnDgCEibRgwRKQNA4aItGHAEJE2DBgi0oYBQ0TaMGCISBsGDBFpw4AhIm0YMESkDQOGiLRhwBCRNgwYItKGAUNE2jBgiEgbBgwRacOAISJtGDBEpA0Dhoi0YcAQkTYMGCLShgFDRNowYIhIGwYMEWnDgCEibRgwRKQNA4aItGHAEJE2DBgi0oYBQ0TaMGCISBsGDBFpw4AhIm0YMESkDQOGiLRhwBCRNgwYItKGAUNE2jBgiEgbBgwRacOAISJtGDBEpA0Dhoi0YcAQkTYMGCLShgFDRNowYIhIGwYMEWnDgCEibRgwRKQNA4aItGHAEJE2DBgi0oYBQ0TaMGCISBsGDBFpw4AhIm0YMESkDQOGiLRhwBCRNgwYItKGAUNE2hhCXc7ll19eUVZWNto0zYFGJDLIamys8J+LRMrilpWst217WSKRqFu6dGlciDRhwHQho0aNilqWVavC4/I2vGyhCpqpDBrSISLUJYwcOfJWFS6vq5vHS9tURiKRcf3795c1a9a8JUQ5xAqmk0N3qLy8/O/q5iDpIMMwlu7evXuMqmYahCgHOMjbyalwWSE5CBdA18o7HlFOsIvUiY0YMaJWfWnLeEtr9FbdpQrVXXpDiDqIXaROavjw4aPVlwWiiapmBi9ZsqROiDqAXaTOa4popMZjtIUXlQ4GTCfkVS9R0SvqvQ9RuzFgOqe/Sn7k632oi+IYTCfjTUtvkTxJJBI9OG1N7cUKppMpKyurlDzK9/tR18KA6Xzy+oG3LCsqRO3EgOl8KiSPTNOMClE7MWCISJsyIUcsVlvRGJEVhm3Nq5k8fqEUr3wPuHKAl9qNFYwnFqtqMND9MMwF1TW16yfXzLl1Qqw2KkXGtu245Fe9ELUTAybAaPprHbXFmFsekfXV02oX3BX7r6KZSUkmk3WSR42NjQwYajcGTIBl2aubPWjL6EikfJWqalZU3zN7tBSYtyalTvJAVUt1XANDHcExmDTofmRdezhIdZ8GqaCZYog9d3fSWDYzVhWXwnhScrRFQ0sMw3hSiDqAFUyAZUi8Fd9W8O5TIpFYqr7ERa/44sWLFwpRBzBggiJm28YbCtR9QrfFsqwq0WuqEHUQz0UKwFR1MiIdOc8nns/u01VXXTXXNM1bJcdUeM174YUXxglRBzFgQlQ1goDp+GpZQxYmGxPzZsTu0DYL4534iC0uc9lNq1ddo1OEKAfYRQoYpyoYI1djG6r7ZEbKF+CYogm6Smo8ZjA265YcwHFwPCHKkZKrYPCB31cSUTEjlaYtUSNi9rVtqTTcqiUqOWKLzCtLql5XrCov07zDhg2LqYBo9y53akq6asmSJXOFKIe6ZMDEYvdGG6W80jKNioiYJ6vfUs38qDBxA0T7yYJqNqpq+qSqvH9YceG1xsZGBE1bNorihddIm04ZMMEqJILAMFWI2E5wYCwiKoUTV0E2Zlp1VZ0UEIImmUwOUjeHRiKRSnU76j9nlpU1WI2NdapieUuF0UIupCOdijZgUIXslkhFhq5MVPRWIQ3tOb4KlnrVJboiVrjFdxlNmjo7ZphmqutkW9bUaVPGx4QoDwq6ktfvyhimEVV/W/uiKyNuFVKRVC110SbEoJ2zNGywMZ1sSL2dtLdahlFvGtKgwqEe4aCmqqNqqnp9Ww6Y7/EWos5Ca8Bk6cpExa1CoipEdJVQ6Ko0uCFibbAMM94tIvWSkPieQgAho6aqpbUKNd5C1Bl0OGCaDaiaUpHelSlv+mZbcimuWr1t2RvUoGbcNiSOKkQ91pCDSiIuex7LccZbVLjUhR5vT2bm9r8MUZHYY8CgCqmQnRVZujKpKiTVnclTV0b0QlBFsz2ZZbzFCH0N3w4dIo3Riu/Z0+NERScVMM5Je1nWhiRlb21dGcGHWQWHWLJahVVDa7syOjlVkZn5Nw6Nt4S/yQg0LGJECJ+n2nGqdVPtO9XeUW2lagnZw4+R4bYdeE8GDRW9VMCURcoX2PhA5HhA1WvNujLFNtsSZBjetg12+mfYErtq+uTx86QpQFIvkab/ZOgTnqlajWpniBssQY2qrVJtumornMOK9BQ3jE5XrY9q3VXbodo61d5U7TPVtgeO4QcNQ4aKWipgsNmS+qvdnnNaAl2ZtAHVhmIOkZbYKmCM9HCJJ3bvGjtz2sT/FffDv7e4/+3wTegl7lJtt3f/JHHD5VzVjH333Ve6deuGZfjYHU62b99eZts2gmS+ajHVvlZtjGqjVNsnw4+DkxkfVW2OapuF1Qx1IoExmBY3W1LPFV9XRhcracUjpulUMKq8WP3Lr1uGPzx/Gk6CPFu1gaqdrNrB4lYjP6n2iWr/p9pG1W5X7Z9UM4499li59NJL5ZRTTnFC5ssvv5Tly5fL+++/L7t370alMkO1TaqdYqr36969uxx44IG42Bm2xpStW7fK77//fqAKpPHiVkYIpR+897Wl5WBh6FDBNQWMaSJAFhZgQLXYGNbO5AZzn4gkLWv+199+O23xgr/tpR7/V9VuUK1fhtdcLW43BhXOaart07NnT5kzZ44MGTLECQxABTN06FAZM2aM1NfXI817oyFcEEbnn3++DBgwwAmZbdu2yTvvvCNvvPGGbN68WRVU9s3ijt9sFbdqOki1fcUNEoTfL9I0rhOsbogKJhUw06qrcEZuTs7K7exmzpy49a7qe8feWzPxKXErh39TrVq1ngiLCjWv1qNHD+ybggpDGhoasMtcf/X8ieJ9sC+88EI599xzU+ECuH3MMcfIyJEjETCpxw8++GCpqqqSa665RtCl8g0fPlzuuusuWbRoEaoZHOhKcSumY8Ttgh0pbjWD6ul/xJ39+i3wq7CKoYLinrzpUlPNM9xwwQAtQuM/VeuJILjgggucdvTRRzsVyTfffCPLli2T9957D1VHauD3zDPPdLpFYfvtt5+cdtppTpD8+eefzmP9+vWTgQMHpoULoAq69tpr5e2333a6S8r54obLaaHDXqTaNar9TbUnVPtVguGC8SSDBQ3lHwOmueA0MwZdMRN01D777COnnnqq1NTUON2ZIHRr7rzzTidkfAcddJBEIpHmB1cfdARV37595YsvvnAeQ0X0l7/8JeMPc8IJJ8ghhxwin3/+ObZU6KUe6uUfPxqNyo4dO2TdunXGzp07D1UP/4dq34hbiWJ2Cq8x8J4MGSoEbjjVJLhQLhgwGNB1xkVQuYTDBc444ww5++yz5YADDkg9tv/++zthkgnCChUQIITQ3cLxM8FxjjrqKCkvb1oRjdCZMWOGzJs3zxnnufrqq3ENaTyFMZ1LxR2ANv3fif0kKhRWMOnCC+XQMMDrjJ+EuzC+vfbay+n2YEB2zZo1zmP+1HQme++9t1OV+LdRwQTHasJQ7SBg1MyTc//mm2+W66+/3jk+xoHw3GuvvSabNm3CQfp4zRmLsdWkO+sWKhRWMJkFF9JhdsYZL9m4cWPWF5x++ulOpeGHSksBg0BCFwdQoWTrHvmOOOKIVAWDMBoxYkTq2KhcevXq5by3Zz9xK5iI83uoAEL3yKlibNYylF8MmHTh6sWfoXEGWT/99NPUwGwYxkMwJY1qA10m3M80BgPoEmGGqbKy0hkMRmsJxn4wOIxQwXuEAwlhhuDx74obMs7vkFRjMIwVKhR2kVzBpf7BbhICZr1qW5LJZA/MGK1du9ZZOBeGLs5ll13mTEPj9mGHHeaPizSDQBg8eLAzZoNqpn///tISjPvMmjVLNmzYIIMGDWr2PN4Hx/Eg1RAyTsBgkDdVubCzRHnGgMkcLH4Fg9vbxK1iBm7evNlZhZspYODII4902h7fUH3QES4ImdbA2M+wYcOcGSNUMpkEwsw/uT01yEtUKKXeRco0c4SG2ZgrVLtRtb+KNxGDBXXvvvsuVtZKvmEMBqGUrdsVkgpIO5k0/HMK2FWifCvlCiZT5YJp6RGqjVXtEO++3+Vwzg/CepS6ujpnlW2RMkKNqGBYwTRVLvuLe8byveIurouKGzKYkUktcME09EsvveSvrC16lhAVTqlWMMHqxe9O3CbuuT7OdMzxxx/vnAmNLsknn3wiK1eudNah7Nq1ywmZVatWZRxwLQScsrBz507/LjIFJz2ygqGCK+Uukj8Iiq/YcW6keOFyww03yN133+2sUcHgKaqV5557TqZOnepMU3/77bfO1gvFEjDougWmzxEuu4WoCJRiwGSaLbpANWdxyVlnnSUPPfRQ2gswuDp27Fhn1ezEiROdr63xww8/yPr16+Wcc85ptugOA8aYkcIpAlg3Ex68xZQ0zrg++eSTpU+fPi0O7qKCCXTZEC47hKgIlOoYTDBk8MnFMlhnqewll1yS8QVYeYvl+Y8++qjMnDnTmTZuCVb94gzp8847T6qrq9OeQxg888wzcvHFF8tNN90kL7/8ctrzv/zyi0yYMEGuvPJKufHGG+Wrr75q8b3QbcNrPOgrdY4BIurySrmCQbj660XKvcdSS/gzwXPXXXedtAbGabBXjG3bznYLQVjP8v333zu3f/vtN6fLFYSw2LJli1Mpff3119hms8X3QsD8+uuv/l30lRAwzsw0l2pTIZXav7/wJUX8CuYP8SZc8IHvTBBgCKA//vjDuStuBfO7EBWBUvwDF5xd8cdgUttNrlu3TjqTRCIh8Xg8dVfczaawCTnX1VHBlXIFHewqob/iBAy6NnYnOusYAYOBZA+ql58leOUBNQvGVXdUKFxo58In1Pmrj5W6GP/o8IEDs0aYRtYFa3NwlrcH/SR/TwlWMFRwpV7B+PChxEhrI3bzf/7556WjsGudHzLZtnjoKExPYzr7448/9h/CANL/S9OpR9gvk0FDBVPKARP84KHEeEu89SNPPPFEh09oxJYNfsDoqmAwsPvqq6/6U9T42dHVQ1Cmn9+In4NbNVABlGLAhK/57DcsRomrlvzoo4/kvvvuS21RWawwIP3444/7dzG4i8vMImgwI8YTqKngSi1ggpdd9ZvlNVwxEbvxO4tO8MFdunRpq1ft5hsGonH6gjfrhSTEJWhxWYNguLCLRAVV6l0kS9JD5lVxr87oLFybPXu2rFixQnINXSd/gygERXtCDCdfPvvss/5d9JH+W7Ufpel3SS20S80gsZtEeVaqXaRgwwCJ5X3FwMsDqq3CN+JcICzz/+CDDySXcF6Rv8UlBmrb2hVbvXq1cyVIbxNyTK9jqTACxgo1VjBUUKVawQS7R37I+A19DlwhcR0++NiWAdce+uyzzySXgicvtqWCQWU1efJk5+cS9+fHz/uCuDNIflimmmFGbFYuVCilXMH4H0L/Q9no3cbXD1Wbr9pm7LPyyiuvSG1tbcFX+SKIHnzwQXn99df9hzCw+4i4ewYHQ5KDvFQUSn0Mxg+a4IcTAYM+CwZfZqm2BetYsDYGlcN3333XqoMfeuihqbUwuMJAEK4qgEuXADb0Dp9giX1ounfv7rwWx8HF2QAXV3vssceCXaoHxb3o/W7v5/ZD0g9PB8dfqFBatYN0F5TppMdwQ/g0iLv0/sxEIlGOcEFFc+KJJ2a91KsPwYFrUGNnPGy5cPjhh6eewxoZvB7PY9OqK664wgkVHwIFe9DgciWjRo2Sk046yTkDe/z48c64kKdO3IDBVQ8QLAlJr8KcKmbg4Iv+WQXVoFTA2PZbK+verBOiPCjVHe0QHn6I+GMwqOYS3vP+SZAIl9dU66Vme67fsmVL+YIFC+Tnn3+W6dOnOxdZywZVysiRI51qI3ypEYy/IHjuuOOO8DWNUq+96KKLnMua4Htx//777xesz/HOk8Ks0Qxxt2VISnq4sItERaPUr4sUnk0KngDp38bWB4vFvUb1v2/durUcm36j4sBMznHHHZf14AiOcHgEZbvWNaDK8a9XjbGXxYsXC05j8Dyh2iZp6hZlC5emlbxEBVDKAROsYvzxiuAVHYMnIP+k2jOq7VIVxLXbt2/f++mnn3bOMbrttttkwIABohO23sSWDN5sE6qVl6SpagmHS7ARFVSpn02daU1MIktDyDyl2gMqZLbhPKCnnnpKbr/9dmeLh/ZAcNxyyy3Su3dv6devnzz88MPBKiUF2zFg1zoPRpl/C/1smWaQRNhFogLjpWObPoTBv/jB7pIEvqK7hDUn+LTfotoBb775pnOdJAziBi5Av0c//vijzJ8/Xx544AHn/k8//SRTpkxxFt5hn97gda2xQXjghMmNkh4o4XDh+AsVDW7Zmnm62p+V8S8BEqwWMLD6d9UeVu1nDLouX77cuYxJa2FbTgQTAsZ7b6e7g5BZtGiRfPjhh2lnYKN6CWyCtUOyj70EqxeigmPAuIJdinDQBMPGb9jg5RPVPseLsGQfVUZrYYOoWbNmOVPP4p5cWe8dy8a1r1ER4Zh+qIQueWJK5vEWW9g1oiLDLlKTTFPXRuh5/3vQsO2ds7k2LkPiX4wNMLUcvg4SwgLbW2ItDS7g5p16gLDCiU4LVTtBtR5qILcPVuuiizRkyBBnvQwqG7zWg+s3ZQsXdo2oqDBg0vkBgg+tXymINL9YW3DTcKfL88gjj8iLL77oBAMWygXHUABjK9iKEwHj7aGLY8dVW6baN+IO3PZW7SpVDVXgTO4lS5Y44zp4XWBXvL7e+zJYqOgxYJoLhox4t4NB4y/CA2clNFb34vrVbYBuF1IG+898JE1ncmO7CKzK+xd1zB5r167N1IXtJu51nFi9UNFjwGQWDhlfsILBtDVOisSJRPuGno9I8038cUzMPmHnf8wEYd+ZleKGjR8MOJtyobhbX1aqdqB3LASQf0lY7PD9hzBYqBNgwGQXDBm/e+QP/vrXUkIFgg98T0m/UmQ3aQqi4DQ4ggELXbBvrn/1xeDMD74f4YNFfW94x8WxEt7rMO6zSTKfDsCQoaLDgGlZeLVveJUvQgZBgS5LRJoCxsxwnEzbRPiDyb5gFwxVzEbJvAgwKaxgqBNgwLROOBwQMqb31YcP/Z4CxsrS/IDwqx5T0isgW9L3rOGCOuoUGDB7FuyCBM9bagw8jsf8cMk2/tJSwPiCYzzB2apM+9bwrGkqegyY1guGCzQGHiuTpqom05VagwETDppgQISnws0Mr/cXAPK8Iyp6DJjWC6/2Dd72181ASwETrmQyVR/h7SLCxwhu88kxGCpqDJjWCa/ytaR5WIR3xAu/Pjzj01LA7Cmk2DWiToEB03Z+mJiB28GAEckcMMHbVuhxO/S6TCHlf1+msGLQUFFiwLSeX8X4ty1pHiit2TouU7cmU8BI6Lad5StR0WLAtE0wCMKDs209RkvPtTY8GDJU1Bgw7WNnuW+04TVEXR4DJrcYIkQB3HCKiLRhwBCRNgwYItKGAUNE2jBgiEgbBgwRacOAISJtGDBdnGFI2gWbjIjZV4jyhAHTxdmGHU9/QKJClCcMmC6uLBmpDz1UOS5W2/qLaBN1AAOmi4vFquLiXuDNV7GfaY0WojxgwJQA27KeDN43DXOoEOUBA6YElNnmwtBDg6rvmT1OiDRjwJQAdJNssdOqGDHMKRNitVEh0ogBUyLKkkZMfQlOWVeUR2QFQ4Z0YsCUCGew15CpoYejCJlJNbWDhEiDtmz1SF2ACpOY+p8+pdkThixMNMrUme6sE1FOMGBK0KSaOXMNMW7N8vRSNe20LGkl62fE7qgXog5gwJSorJUMUQ4xYEoYxl7UP4AF6mZUiDRgwJBU31M7Wv1LQDUTFaIcYsBQSmx6bWVjo3W5mOZAww2bqBB1wD8AobUpv0xPqN8AAAAASUVORK5CYII="></image></defs>',3),Rhe=[Bhe];function Vhe(e,t){return y(),P("svg",Fhe,Rhe)}const Uhe=te(Lhe,[["render",Vhe]]),Whe=J({name:"InputPanel",mixins:[ut],components:{RunData:z0,NodeExecuteButton:Gg,WireMeUp:Uhe},props:{currentNodeName:{type:String},runIndex:{type:Number},linkedRuns:{type:Boolean},workflow:{},canLinkRuns:{type:Boolean},sessionId:{type:String},readOnly:{type:Boolean},isProductionExecutionPreview:{type:Boolean,default:!1}},data(){return{showDraggableHintWithDelay:!1,draggableHintShown:!1}},computed:{...be(it,Xe,_e),focusedMappableInput(){return this.ndvStore.focusedMappableInput},isUserOnboarded(){return this.ndvStore.isMappingOnboarded},showDraggableHint(){const e=[Lr,Bo,wT,TT];return!this.currentNode||e.includes(this.currentNode.type)?!1:!!this.focusedMappableInput&&!this.isUserOnboarded},isExecutingPrevious(){if(!this.workflowRunning)return!1;const e=this.workflowsStore.executedNode,t=this.workflowsStore.executingNode;return this.activeNode&&e===this.activeNode.name&&this.activeNode.name!==t?!0:t||e?!!this.parentNodes.find(s=>s.name===t||s.name===e):!1},workflowRunning(){return this.uiStore.isActionActive("workflowRunning")},currentWorkflow(){return this.workflow},activeNode(){return this.ndvStore.activeNode},currentNode(){return this.workflowsStore.getNodeByName(this.currentNodeName)},connectedCurrentNodeOutputs(){const e=this.parentNodes.find(({name:t})=>t===this.currentNodeName);if(e)return e.indicies},parentNodes(){if(!this.activeNode)return[];const e=this.workflow.getParentNodesByDepth(this.activeNode.name);return e.filter(({name:t},s)=>this.activeNode&&t!==this.activeNode.name&&e.findIndex(n=>n.name===t)===s)},currentNodeDepth(){const e=this.parentNodes.find(t=>this.currentNode&&t.name===this.currentNode.name);return e?e.depth:-1},activeNodeType(){return this.activeNode?this.nodeTypesStore.getNodeType(this.activeNode.type,this.activeNode.typeVersion):null},isMultiInputNode(){return this.activeNodeType!==null&&this.activeNodeType.inputs.length>1}},methods:{getMultipleNodesText(e){if(!e||!this.isMultiInputNode||!this.activeNode||this.activeNodeType===null||this.activeNodeType.inputNames===void 0)return"";const n=(this.currentWorkflow.connectionsByDestinationNode[this.activeNode.name].main||[]).reduce((o,i,r)=>i[0]&&i[0].node===e?[...o,r]:o,[]).map(o=>this.activeNodeType&&this.activeNodeType.inputNames&&this.activeNodeType.inputNames[o]);return n.length===0?"":`(${n.join(" & ")})`},onNodeExecute(){this.$emit("execute"),this.activeNode&&this.$telemetry.track("User clicked ndv button",{node_type:this.activeNode.type,workflow_id:this.workflowsStore.workflowId,session_id:this.sessionId,pane:"input",type:"executePrevious"})},onRunIndexChange(e){this.$emit("runChange",e)},onLinkRun(){this.$emit("linkRun")},onUnlinkRun(){this.$emit("unlinkRun")},onSelect(e){const t=this.parentNodes.findIndex(s=>s.name===e)+1;this.$emit("select",e,t)},onConnectionHelpClick(){this.activeNode&&this.$telemetry.track("User clicked ndv link",{node_type:this.activeNode.type,workflow_id:this.workflowsStore.workflowId,session_id:this.sessionId,pane:"input",type:"not-connected-help"})},truncate(e){const t=e.substring(0,30);return t.length<e.length?`${t}...`:t}},watch:{showDraggableHint(e,t){e&&!t?setTimeout(()=>{this.draggableHintShown||(this.showDraggableHintWithDelay=this.showDraggableHint,this.showDraggableHintWithDelay&&(this.draggableHintShown=!0,this.$telemetry.track("User viewed data mapping tooltip",{type:"unexecuted input pane"})))},1e3):e||(this.showDraggableHintWithDelay=!1)}}}),jhe="_titleSection_m3epv_5",qhe="_noOutputData_m3epv_13",zhe="_recoveredOutputData_m3epv_23",Hhe="_notConnected_m3epv_32",Qhe="_title_m3epv_5",Ghe={titleSection:jhe,noOutputData:qhe,recoveredOutputData:zhe,notConnected:Hhe,title:Qhe};const Yhe={key:0},Xhe={key:1},Khe=["innerHTML"];function Jhe(e,t,s,n,o,i){const r=E("n8n-option"),l=E("n8n-select"),m=E("n8n-text"),c=E("NodeExecuteButton"),h=E("n8n-tooltip"),p=E("WireMeUp"),g=E("RunData");return y(),R(g,{nodeUi:e.currentNode,runIndex:e.runIndex,linkedRuns:e.linkedRuns,canLinkRuns:e.canLinkRuns,tooMuchDataTitle:e.$locale.baseText("ndv.input.tooMuchData.title"),noDataInBranchMessage:e.$locale.baseText("ndv.input.noOutputDataInBranch"),isExecuting:e.isExecutingPrevious,executingMessage:e.$locale.baseText("ndv.input.executingPrevious"),sessionId:e.sessionId,overrideOutputs:e.connectedCurrentNodeOutputs,mappingEnabled:!e.readOnly,distanceFromActive:e.currentNodeDepth,isProductionExecutionPreview:e.isProductionExecutionPreview,paneType:"input",onItemHover:t[1]||(t[1]=w=>e.$emit("itemHover",w)),onLinkRun:e.onLinkRun,onUnlinkRun:e.onUnlinkRun,onRunChange:e.onRunIndexChange,onTableMounted:t[2]||(t[2]=w=>e.$emit("tableMounted",w)),"data-test-id":"ndv-input-panel"},{header:v(()=>[D("div",{class:$(e.$style.titleSection)},[e.parentNodes.length?(y(),R(l,{key:0,teleported:"",size:"small",modelValue:e.currentNodeName,"onUpdate:modelValue":e.onSelect,"no-data-text":e.$locale.baseText("ndv.input.noNodesFound"),placeholder:e.$locale.baseText("ndv.input.parentNodes"),filterable:"","data-test-id":"ndv-input-select"},{prepend:v(()=>[D("span",{class:$(e.$style.title)},N(e.$locale.baseText("ndv.input")),3)]),default:v(()=>[(y(!0),P(Ie,null,Re(e.parentNodes,w=>(y(),R(r,{value:w.name,key:w.name,class:"node-option",label:`${e.truncate(w.name)} ${e.getMultipleNodesText(w.name)}`,"data-test-id":"ndv-input-option"},{default:v(()=>[D("span",null,N(e.truncate(w.name))+" ",1),e.getMultipleNodesText(w.name)?(y(),P("span",Yhe,N(e.getMultipleNodesText(w.name)),1)):(y(),P("span",Xhe,N(e.$locale.baseText("ndv.input.nodeDistance",{adjustToNumber:w.depth})),1))]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","no-data-text","placeholder"])):(y(),P("span",{key:1,class:$(e.$style.title)},N(e.$locale.baseText("ndv.input")),3))],2)]),"node-not-run":v(()=>[e.parentNodes.length?(y(),P("div",{key:0,class:$(e.$style.noOutputData)},[b(m,{tag:"div",bold:!0,color:"text-dark",size:"large"},{default:v(()=>[V(N(e.$locale.baseText("ndv.input.noOutputData.title")),1)]),_:1}),e.readOnly?W("",!0):(y(),R(h,{key:0,visible:e.showDraggableHint&&e.showDraggableHintWithDelay},{content:v(()=>[D("div",{innerHTML:e.$locale.baseText("dataMapping.dragFromPreviousHint",{interpolate:{name:e.focusedMappableInput}})},null,8,Khe)]),default:v(()=>[b(c,{type:"secondary",transparent:!0,nodeName:e.currentNodeName,label:e.$locale.baseText("ndv.input.noOutputData.executePrevious"),onExecute:e.onNodeExecute,telemetrySource:"inputs","data-test-id":"execute-previous-node"},null,8,["nodeName","label","onExecute"])]),_:1},8,["visible"])),e.readOnly?W("",!0):(y(),R(m,{key:1,tag:"div",size:"small"},{default:v(()=>[V(N(e.$locale.baseText("ndv.input.noOutputData.hint")),1)]),_:1}))],2)):(y(),P("div",{key:1,class:$(e.$style.notConnected)},[D("div",null,[b(p)]),b(m,{tag:"div",bold:!0,color:"text-dark",size:"large"},{default:v(()=>[V(N(e.$locale.baseText("ndv.input.notConnected.title")),1)]),_:1}),b(m,{tag:"div"},{default:v(()=>[V(N(e.$locale.baseText("ndv.input.notConnected.message"))+" ",1),D("a",{href:"https://docs.n8n.io/workflows/connections/",target:"_blank",onClick:t[0]||(t[0]=(...w)=>e.onConnectionHelpClick&&e.onConnectionHelpClick(...w))},N(e.$locale.baseText("ndv.input.notConnected.learnMore")),1)]),_:1})],2))]),"no-output-data":v(()=>[b(m,{tag:"div",bold:!0,color:"text-dark",size:"large"},{default:v(()=>[V(N(e.$locale.baseText("ndv.input.noOutputData")),1)]),_:1})]),"recovered-artificial-output-data":v(()=>[D("div",{class:$(e.$style.recoveredOutputData)},[b(m,{tag:"div",bold:!0,color:"text-dark",size:"large"},{default:v(()=>[V(N(e.$locale.baseText("executionDetails.executionFailed.recoveredNodeTitle")),1)]),_:1}),b(m,null,{default:v(()=>[V(N(e.$locale.baseText("executionDetails.executionFailed.recoveredNodeMessage")),1)]),_:1})],2)]),_:1},8,["nodeUi","runIndex","linkedRuns","canLinkRuns","tooMuchDataTitle","noDataInBranchMessage","isExecuting","executingMessage","sessionId","overrideOutputs","mappingEnabled","distanceFromActive","isProductionExecutionPreview","onLinkRun","onUnlinkRun","onRunChange"])}const Zhe={$style:Ghe},eme=te(Whe,[["render",Jhe],["__cssModules",Zhe],["__scopeId","data-v-ff7fd471"]]),tme=J({name:"TriggerPanel",mixins:[ut,Ai],components:{NodeExecuteButton:Gg,CopyInput:Dr,NodeIcon:Di},data:()=>({executionsHelpEventBus:Ze()}),props:{nodeName:{type:String},sessionId:{type:String}},computed:{...be(it,Xe,Ee,_e),node(){return this.workflowsStore.getNodeByName(this.nodeName)},nodeType(){return this.node?this.nodeTypesStore.getNodeType(this.node.type,this.node.typeVersion):null},hasIssues(){var e;return!!((e=this.node)!=null&&e.issues&&(this.node.issues.parameters||this.node.issues.credentials))},serviceName(){return this.nodeType?hi(this.nodeType):""},isWebhookNode(){return!!(this.node&&this.node.type===Ns)},webhookHttpMethod(){var e,t;if(!(!this.node||!((t=(e=this.nodeType)==null?void 0:e.webhooks)!=null&&t.length)))return this.getWebhookExpressionValue(this.nodeType.webhooks[0],"httpMethod")},webhookTestUrl(){var e,t;if(!(!this.node||!((t=(e=this.nodeType)==null?void 0:e.webhooks)!=null&&t.length)))return this.getWebhookUrl(this.nodeType.webhooks[0],this.node,"test")},isWebhookBasedNode(){var e,t;return!!((t=(e=this.nodeType)==null?void 0:e.webhooks)!=null&&t.length)},isPollingNode(){return!!(this.nodeType&&this.nodeType.polling)},isListeningForEvents(){const e=this.workflowsStore.executionWaitingForWebhook,t=this.workflowsStore.executedNode;return!!this.node&&!this.node.disabled&&this.isWebhookBasedNode&&e&&(!t||t===this.nodeName)},workflowRunning(){return this.uiStore.isActionActive("workflowRunning")},isActivelyPolling(){const e=this.workflowsStore.executedNode;return this.workflowRunning&&this.isPollingNode&&this.nodeName===e},isWorkflowActive(){return this.workflowsStore.isWorkflowActive},header(){var t;const e=this.nodeType?hi(this.nodeType):"";return this.isActivelyPolling?this.$locale.baseText("ndv.trigger.pollingNode.fetchingEvent"):(t=this.nodeType)!=null&&t.triggerPanel&&typeof this.nodeType.triggerPanel.header=="string"?this.nodeType.triggerPanel.header:this.isWebhookBasedNode?this.$locale.baseText("ndv.trigger.webhookBasedNode.action",{interpolate:{name:e}}):""},subheader(){const e=this.nodeType?hi(this.nodeType):"";return this.isActivelyPolling?this.$locale.baseText("ndv.trigger.pollingNode.fetchingHint",{interpolate:{name:e}}):""},executionsHelp(){var e,t;if(((t=(e=this.nodeType)==null?void 0:e.triggerPanel)==null?void 0:t.executionsHelp)!==void 0){if(typeof this.nodeType.triggerPanel.executionsHelp=="string")return this.nodeType.triggerPanel.executionsHelp;if(!this.isWorkflowActive&&this.nodeType.triggerPanel.executionsHelp.inactive)return this.nodeType.triggerPanel.executionsHelp.inactive;if(this.isWorkflowActive&&this.nodeType.triggerPanel.executionsHelp.active)return this.nodeType.triggerPanel.executionsHelp.active}return this.isWebhookBasedNode?this.isWorkflowActive?this.$locale.baseText("ndv.trigger.webhookBasedNode.executionsHelp.active",{interpolate:{service:this.serviceName}}):this.$locale.baseText("ndv.trigger.webhookBasedNode.executionsHelp.inactive",{interpolate:{service:this.serviceName}}):this.isPollingNode?this.isWorkflowActive?this.$locale.baseText("ndv.trigger.pollingNode.executionsHelp.active",{interpolate:{service:this.serviceName}}):this.$locale.baseText("ndv.trigger.pollingNode.executionsHelp.inactive",{interpolate:{service:this.serviceName}}):""},activationHint(){var e,t;if(this.isActivelyPolling)return"";if((t=(e=this.nodeType)==null?void 0:e.triggerPanel)!=null&&t.activationHint){if(typeof this.nodeType.triggerPanel.activationHint=="string")return this.nodeType.triggerPanel.activationHint;if(!this.isWorkflowActive&&typeof this.nodeType.triggerPanel.activationHint.inactive=="string")return this.nodeType.triggerPanel.activationHint.inactive;if(this.isWorkflowActive&&typeof this.nodeType.triggerPanel.activationHint.active=="string")return this.nodeType.triggerPanel.activationHint.active}return this.isWebhookBasedNode?this.isWorkflowActive?this.$locale.baseText("ndv.trigger.webhookBasedNode.activationHint.active",{interpolate:{service:this.serviceName}}):this.$locale.baseText("ndv.trigger.webhookBasedNode.activationHint.inactive",{interpolate:{service:this.serviceName}}):this.isPollingNode?this.isWorkflowActive?this.$locale.baseText("ndv.trigger.pollingNode.activationHint.active",{interpolate:{service:this.serviceName}}):this.$locale.baseText("ndv.trigger.pollingNode.activationHint.inactive",{interpolate:{service:this.serviceName}}):""}},methods:{expandExecutionHelp(){this.$refs.help&&this.executionsHelpEventBus.emit("expand")},onLinkClick(e){var s;if(!e.target)return;const t=e.target;t.localName==="a"&&(s=t.dataset)!=null&&s.key&&(e.stopPropagation(),e.preventDefault(),t.dataset.key==="activate"?this.$emit("activate"):t.dataset.key==="executions"?(this.$telemetry.track("User clicked ndv link",{workflow_id:this.workflowsStore.workflowId,session_id:this.sessionId,pane:"input",type:"open-executions-log"}),this.ndvStore.activeNodeName=null,this.$router.push({name:ee.EXECUTIONS})):t.dataset.key==="settings"&&this.uiStore.openModal(Pn))},onTestLinkCopied(){this.$telemetry.track("User copied webhook URL",{pane:"inputs",type:"test url"})},onNodeExecute(){this.$emit("execute")}}}),sme="_container_2vg29_5",nme="_header_2vg29_22",ome="_action_2vg29_29",ime="_shake_2vg29_33",rme="_accordion_2vg29_54",ame={container:sme,header:nme,action:ome,shake:ime,accordion:rme};const lme={key:"empty"},ume={key:"listening"},cme={key:0},dme={key:1},pme={key:"default"},hme={key:0,class:"mb-xl"},mme=["textContent"],fme=["innerHTML"];function gme(e,t,s,n,o,i){const r=E("NodeIcon"),l=E("n8n-pulse"),m=E("n8n-text"),c=E("CopyInput"),h=E("NodeExecuteButton"),p=E("n8n-spinner"),g=E("n8n-heading"),w=E("n8n-link"),S=E("n8n-info-accordion");return y(),P("div",{class:$(e.$style.container)},[b(Sa,{name:"fade",mode:"out-in"},{default:v(()=>[e.hasIssues?(y(),P("div",lme)):e.isListeningForEvents?(y(),P("div",ume,[b(l,null,{default:v(()=>[b(r,{nodeType:e.nodeType,size:40},null,8,["nodeType"])]),_:1}),e.isWebhookNode?(y(),P("div",cme,[b(m,{tag:"div",size:"large",color:"text-dark",class:"mb-2xs",bold:""},{default:v(()=>[V(N(e.$locale.baseText("ndv.trigger.webhookNode.listening")),1)]),_:1}),D("div",{class:$([e.$style.shake,"mb-xs"])},[b(m,null,{default:v(()=>[V(N(e.$locale.baseText("ndv.trigger.webhookNode.requestHint",{interpolate:{type:this.webhookHttpMethod}})),1)]),_:1})],2),b(c,{value:e.webhookTestUrl,toastTitle:e.$locale.baseText("ndv.trigger.copiedTestUrl"),class:"mb-2xl",size:"medium",collapse:!0,"copy-button-text":e.$locale.baseText("generic.clickToCopy"),onCopy:e.onTestLinkCopied},null,8,["value","toastTitle","copy-button-text","onCopy"]),b(h,{nodeName:e.nodeName,onExecute:e.onNodeExecute,size:"medium",telemetrySource:"inputs"},null,8,["nodeName","onExecute"])])):(y(),P("div",dme,[b(m,{tag:"div",size:"large",color:"text-dark",class:"mb-2xs",bold:""},{default:v(()=>[V(N(e.$locale.baseText("ndv.trigger.webhookBasedNode.listening")),1)]),_:1}),D("div",{class:$([e.$style.shake,"mb-xs"])},[b(m,{tag:"div"},{default:v(()=>[V(N(e.$locale.baseText("ndv.trigger.webhookBasedNode.serviceHint",{interpolate:{service:e.serviceName}})),1)]),_:1})],2),b(h,{nodeName:e.nodeName,onExecute:e.onNodeExecute,size:"medium",telemetrySource:"inputs"},null,8,["nodeName","onExecute"])]))])):(y(),P("div",pme,[e.isActivelyPolling?(y(),P("div",hme,[b(p,{type:"ring"})])):W("",!0),D("div",{class:$(e.$style.action)},[D("div",{class:$(e.$style.header)},[e.header?(y(),R(g,{key:0,tag:"h1",bold:""},{default:v(()=>[V(N(e.header),1)]),_:1})):W("",!0),e.subheader?(y(),R(m,{key:1},{default:v(()=>[D("span",{textContent:N(e.subheader)},null,8,mme)]),_:1})):W("",!0)],2),b(h,{nodeName:e.nodeName,onExecute:e.onNodeExecute,size:"medium",telemetrySource:"inputs"},null,8,["nodeName","onExecute"])],2),e.activationHint?(y(),R(m,{key:1,size:"small",onClick:e.onLinkClick},{default:v(()=>[D("span",{innerHTML:e.activationHint},null,8,fme),V("  ")]),_:1},8,["onClick"])):W("",!0),e.activationHint&&e.executionsHelp?(y(),R(w,{key:2,size:"small",onClick:e.expandExecutionHelp},{default:v(()=>[V(N(e.$locale.baseText("ndv.trigger.moreInfo")),1)]),_:1},8,["onClick"])):W("",!0),e.executionsHelp?(y(),R(S,{key:3,ref:"help",class:$(e.$style.accordion),title:e.$locale.baseText("ndv.trigger.executionsHint.question"),description:e.executionsHelp,eventBus:e.executionsHelpEventBus,"onClick:body":e.onLinkClick},null,8,["class","title","description","eventBus","onClick:body"])):W("",!0)]))]),_:1})],2)}const yme={$style:ame},wme=te(tme,[["render",gme],["__cssModules",yme],["__scopeId","data-v-a858b902"]]),bme=J({name:"NodeDetailsView",mixins:[Ft,Bs,ut,Mo,Bl],components:{NodeSettings:ode,InputPanel:eme,OutputPanel:Mhe,NDVDraggablePanels:jde,TriggerPanel:wme},props:{readOnly:{type:Boolean},renaming:{type:Boolean},isProductionExecutionPreview:{type:Boolean,default:!1}},setup(e){var t;return{...ff(),...St(),...(t=Mo.setup)==null?void 0:t.call(Mo,e)}},data(){return{settingsEventBus:Ze(),runInputIndex:-1,runOutputIndex:-1,isLinkingEnabled:!0,selectedInput:void 0,triggerWaitingWarningEnabled:!1,isDragging:!1,mainPanelPosition:0,pinDataDiscoveryTooltipVisible:!1,avgInputRowHeight:0,avgOutputRowHeight:0}},mounted(){qt.on("data-pinning-discovery",this.setIsTooltipVisible)},beforeUnmount(){qt.off("data-pinning-discovery",this.setIsTooltipVisible)},computed:{...be(it,Xe,Ee,_e,Le),sessionId(){return this.ndvStore.sessionId},workflowRunning(){return this.uiStore.isActionActive("workflowRunning")},showTriggerWaitingWarning(){return this.triggerWaitingWarningEnabled&&!!this.activeNodeType&&!this.activeNodeType.group.includes("trigger")&&this.workflowRunning&&this.workflowsStore.executionWaitingForWebhook},activeNode(){return this.ndvStore.activeNode},inputNodeName(){return this.selectedInput||this.parentNode},inputNode(){return this.inputNodeName?this.workflowsStore.getNodeByName(this.inputNodeName):null},activeNodeType(){return this.activeNode?this.nodeTypesStore.getNodeType(this.activeNode.type,this.activeNode.typeVersion):null},showTriggerPanel(){var n,o,i,r;const e=!!((o=(n=this.activeNodeType)==null?void 0:n.webhooks)!=null&&o.length),t=(i=this.activeNodeType)==null?void 0:i.polling,s=!!((r=this.activeNodeType)!=null&&r.triggerPanel);return!this.readOnly&&this.isTriggerNode&&(e||t||s)},workflow(){return this.getCurrentWorkflow()},parentNodes(){return this.activeNode?this.workflow.getParentNodesByDepth(this.activeNode.name,1).map(({name:e})=>e)||[]:[]},parentNode(){return this.parentNodes[0]},isExecutableTriggerNode(){return this.activeNodeType?X_.includes(this.activeNodeType.name):!1},isTriggerNode(){return!!this.activeNodeType&&(this.activeNodeType.group.includes("trigger")||this.activeNodeType.name===Lr)},isActiveStickyNode(){return!!this.ndvStore.activeNode&&this.ndvStore.activeNode.type===As},workflowExecution(){return this.workflowsStore.getWorkflowExecution},workflowRunData(){if(this.workflowExecution===null)return null;const e=this.workflowExecution.data;return e&&e.resultData?e.resultData.runData:null},maxOutputRun(){if(this.activeNode===null)return 0;const e=this.workflowRunData;return e===null||!e.hasOwnProperty(this.activeNode.name)?0:e[this.activeNode.name].length?e[this.activeNode.name].length-1:0},outputRun(){return this.runOutputIndex===-1?this.maxOutputRun:Math.min(this.runOutputIndex,this.maxOutputRun)},maxInputRun(){if(this.inputNode===null)return 0;const e=this.workflowRunData;return e===null||!e.hasOwnProperty(this.inputNode.name)?0:e[this.inputNode.name].length?e[this.inputNode.name].length-1:0},inputRun(){return this.isLinkingEnabled&&this.maxOutputRun===this.maxInputRun?this.outputRun:this.runInputIndex===-1?this.maxInputRun:Math.min(this.runInputIndex,this.maxInputRun)},canLinkRuns(){return this.maxOutputRun>0&&this.maxOutputRun===this.maxInputRun},linked(){return this.isLinkingEnabled&&this.canLinkRuns},inputPanelMargin(){return this.isTriggerNode?0:80},featureRequestUrl(){return this.activeNodeType?`${d2}${this.activeNodeType.name}`:""},outputPanelEditMode(){return this.ndvStore.outputPanelEditMode},isWorkflowRunning(){return this.uiStore.isActionActive("workflowRunning")},isExecutionWaitingForWebhook(){return this.workflowsStore.executionWaitingForWebhook},blockUi(){return this.isWorkflowRunning||this.isExecutionWaitingForWebhook},foreignCredentials(){const e=(this.activeNode||{}).credentials,t=this.workflowsStore.usedCredentials,s=[];return e&&this.settingsStore.isEnterpriseFeatureEnabled(ot.Sharing)&&Object.values(e).forEach(n=>{n.id&&t[n.id]&&!t[n.id].currentUserHasAccess&&s.push(n.id)}),s},hasForeignCredential(){return this.foreignCredentials.length>0}},watch:{activeNode(e,t){e&&e.name!==(t==null?void 0:t.name)&&!this.isActiveStickyNode&&(this.runInputIndex=-1,this.runOutputIndex=-1,this.isLinkingEnabled=!0,this.selectedInput=void 0,this.triggerWaitingWarningEnabled=!1,this.avgOutputRowHeight=0,this.avgInputRowHeight=0,setTimeout(()=>this.ndvStore.setNDVSessionId(),0),this.$externalHooks().run("dataDisplay.nodeTypeChanged",{nodeSubtitle:this.getNodeSubtitle(e,this.activeNodeType,this.getCurrentWorkflow())}),setTimeout(()=>{if(this.activeNode){const s=this.workflowsStore.outgoingConnectionsByNodeName(this.activeNode.name);this.$telemetry.track("User opened node modal",{node_type:this.activeNodeType?this.activeNodeType.name:"",workflow_id:this.workflowsStore.workflowId,session_id:this.sessionId,is_editable:!this.hasForeignCredential,parameters_pane_position:this.mainPanelPosition,input_first_connector_runs:this.maxInputRun,output_first_connector_runs:this.maxOutputRun,selected_view_inputs:this.isTriggerNode?"trigger":this.ndvStore.inputPanelDisplayMode,selected_view_outputs:this.ndvStore.outputPanelDisplayMode,input_connectors:this.parentNodes.length,output_connectors:s&&s.main&&s.main.length,input_displayed_run_index:this.inputRun,output_displayed_run_index:this.outputRun,data_pinning_tooltip_presented:this.pinDataDiscoveryTooltipVisible,input_displayed_row_height_avg:this.avgInputRowHeight,output_displayed_row_height_avg:this.avgOutputRowHeight})}},2e3)),window.top&&!this.isActiveStickyNode&&window.top.postMessage(JSON.stringify({command:e?"openNDV":"closeNDV"}),"*")},maxOutputRun(){this.runOutputIndex=-1},maxInputRun(){this.runInputIndex=-1},inputNodeName(e){setTimeout(()=>{this.ndvStore.setInputNodeName(e)},0)},inputRun(){setTimeout(()=>{this.ndvStore.setInputRunIndex(this.inputRun)},0)}},methods:{setIsTooltipVisible({isTooltipVisible:e}){this.pinDataDiscoveryTooltipVisible=e},onKeyDown(e){if(e.key==="s"&&this.isCtrlKeyPressed(e)){if(e.stopPropagation(),e.preventDefault(),this.readOnly)return;this.$emit("saveKeyboardShortcut",e)}},onInputItemHover(e){if(!this.inputNodeName)return;if(e===null){this.ndvStore.setHoveringItem(null);return}const t={nodeName:this.inputNodeName,runIndex:this.inputRun,outputIndex:e.outputIndex,itemIndex:e.itemIndex};this.ndvStore.setHoveringItem(t)},onOutputItemHover(e){if(e===null||!this.activeNode){this.ndvStore.setHoveringItem(null);return}const t={nodeName:this.activeNode.name,runIndex:this.outputRun,outputIndex:e.outputIndex,itemIndex:e.itemIndex};this.ndvStore.setHoveringItem(t)},onInputTableMounted(e){this.avgInputRowHeight=e.avgRowHeight},onOutputTableMounted(e){this.avgOutputRowHeight=e.avgRowHeight},onWorkflowActivate(){this.ndvStore.activeNodeName=null,setTimeout(()=>{this.activateCurrentWorkflow("ndv")},1e3)},onFeatureRequestClick(){window.open(this.featureRequestUrl,"_blank"),this.activeNode&&this.$telemetry.track("User clicked ndv link",{node_type:this.activeNode.type,workflow_id:this.workflowsStore.workflowId,session_id:this.sessionId,pane:"main",type:"i-wish-this-node-would"})},onPanelsInit(e){this.mainPanelPosition=e.position},onDragStart(e){this.isDragging=!0,this.mainPanelPosition=e.position},onDragEnd(e){this.isDragging=!1,this.$telemetry.track("User moved parameters pane",{window_width:e.windowWidth,start_position:this.mainPanelPosition,end_position:e.position,node_type:this.activeNodeType?this.activeNodeType.name:"",session_id:this.sessionId,workflow_id:this.workflowsStore.workflowId}),this.mainPanelPosition=e.position},onLinkRunToInput(){this.runOutputIndex=this.runInputIndex,this.isLinkingEnabled=!0,this.trackLinking("input")},onLinkRunToOutput(){this.isLinkingEnabled=!0,this.trackLinking("output")},onUnlinkRun(e){this.runInputIndex=this.runOutputIndex,this.isLinkingEnabled=!1,this.trackLinking(e)},trackLinking(e){this.$telemetry.track("User changed ndv run linking",{node_type:this.activeNodeType?this.activeNodeType.name:"",session_id:this.sessionId,linked:this.linked,pane:e})},onNodeExecute(){setTimeout(()=>{!this.activeNode||!this.workflowRunning||(this.triggerWaitingWarningEnabled=!0)},1e3)},openSettings(){this.settingsEventBus.emit("openSettings")},valueChanged(e){this.$emit("valueChanged",e)},nodeTypeSelected(e){this.$emit("nodeTypeSelected",e)},async close(){if(!this.isDragging){if(this.outputPanelEditMode.enabled){if(await this.confirm("",this.$locale.baseText("ndv.pinData.beforeClosing.title"),{confirmButtonText:this.$locale.baseText("ndv.pinData.beforeClosing.confirm"),cancelButtonText:this.$locale.baseText("ndv.pinData.beforeClosing.cancel")})===bt){const{value:t}=this.outputPanelEditMode;if(!this.isValidPinDataSize(t)){qt.emit("data-pinning-error",{errorType:"data-too-large",source:"on-ndv-close-modal"});return}if(!this.isValidPinDataJSON(t)){qt.emit("data-pinning-error",{errorType:"invalid-json",source:"on-ndv-close-modal"});return}this.activeNode&&this.workflowsStore.pinData({node:this.activeNode,data:Dm(t)})}this.ndvStore.setOutputPanelEditModeEnabled(!1)}await this.$externalHooks().run("dataDisplay.nodeEditingFinished"),this.$telemetry.track("User closed node modal",{node_type:this.activeNodeType?this.activeNodeType.name:"",session_id:this.sessionId,workflow_id:this.workflowsStore.workflowId}),this.triggerWaitingWarningEnabled=!1,this.ndvStore.activeNodeName=null,this.ndvStore.resetNDVSessionId()}},onRunOutputIndexChange(e){this.runOutputIndex=e,this.trackRunChange(e,"output")},onRunInputIndexChange(e){this.runInputIndex=e,this.linked&&(this.runOutputIndex=e),this.trackRunChange(e,"input")},trackRunChange(e,t){this.$telemetry.track("User changed ndv run dropdown",{session_id:this.sessionId,run_index:e,node_type:this.activeNodeType?this.activeNodeType.name:"",pane:t})},onInputSelect(e,t){this.runInputIndex=-1,this.isLinkingEnabled=!0,this.selectedInput=e,this.$telemetry.track("User changed ndv input dropdown",{node_type:this.activeNode?this.activeNode.type:"",session_id:this.sessionId,workflow_id:this.workflowsStore.workflowId,selection_value:t,input_node_type:this.inputNode?this.inputNode.type:""})},onStopExecution(){this.$emit("stopExecution")}}});const vme="_modalBackground_i710i_5",Tme="_triggerWarning_i710i_10",Sme="_backToCanvas_i710i_14",kme="_featureRequest_i710i_32",Eme={modalBackground:vme,triggerWarning:Tme,backToCanvas:Sme,featureRequest:kme};function xme(e,t,s,n,o,i){const r=E("n8n-icon"),l=E("n8n-text"),m=E("n8n-tooltip"),c=E("TriggerPanel"),h=E("InputPanel"),p=E("OutputPanel"),g=E("NodeSettings"),w=E("font-awesome-icon"),S=E("NDVDraggablePanels"),k=E("el-dialog");return y(),R(k,{modelValue:(!!e.activeNode||e.renaming)&&!e.isActiveStickyNode,"before-close":e.close,"show-close":!1,class:"data-display-wrapper ndv-wrapper","overlay-class":"data-display-overlay",width:"auto","append-to-body":"","data-test-id":"ndv"},{default:v(()=>{var O;return[b(m,{placement:"bottom-start",visible:e.showTriggerWaitingWarning,disabled:!e.showTriggerWaitingWarning},{content:v(()=>[D("div",{class:$(e.$style.triggerWarning)},N(e.$locale.baseText("ndv.backToCanvas.waitingForTriggerWarning")),3)]),default:v(()=>[D("div",{class:$(e.$style.backToCanvas),onClick:t[0]||(t[0]=(...C)=>e.close&&e.close(...C)),"data-test-id":"back-to-canvas"},[b(r,{icon:"arrow-left",color:"text-xlight",size:"medium"}),b(l,{color:"text-xlight",size:"medium",bold:!0},{default:v(()=>[V(N(e.$locale.baseText("ndv.backToCanvas")),1)]),_:1})],2)]),_:1},8,["visible","disabled"]),e.activeNode?(y(),P("div",{key:0,class:"data-display",ref:"container",onKeydownCapture:t[5]||(t[5]=(...C)=>e.onKeyDown&&e.onKeyDown(...C)),tabindex:"0"},[D("div",{onClick:t[1]||(t[1]=(...C)=>e.close&&e.close(...C)),class:$(e.$style.modalBackground)},null,2),b(S,{isTriggerNode:e.isTriggerNode,hideInputAndOutput:e.activeNodeType===null,position:e.isTriggerNode&&!e.showTriggerPanel?0:void 0,isDraggable:!e.isTriggerNode,hasDoubleWidth:((O=e.activeNodeType)==null?void 0:O.parameterPane)==="wide",nodeType:e.activeNodeType,onClose:e.close,onInit:e.onPanelsInit,onDragstart:e.onDragStart,onDragend:e.onDragEnd},Ms({output:v(()=>[b(p,{"data-test-id":"output-panel",canLinkRuns:e.canLinkRuns,runIndex:e.outputRun,linkedRuns:e.linked,sessionId:e.sessionId,isReadOnly:e.readOnly||e.hasForeignCredential,blockUI:e.blockUi&&e.isTriggerNode&&!e.isExecutableTriggerNode,isProductionExecutionPreview:e.isProductionExecutionPreview,onLinkRun:e.onLinkRunToOutput,onUnlinkRun:t[3]||(t[3]=()=>e.onUnlinkRun("output")),onRunChange:e.onRunOutputIndexChange,onOpenSettings:e.openSettings,onTableMounted:e.onOutputTableMounted,onItemHover:e.onOutputItemHover},null,8,["canLinkRuns","runIndex","linkedRuns","sessionId","isReadOnly","blockUI","isProductionExecutionPreview","onLinkRun","onRunChange","onOpenSettings","onTableMounted","onItemHover"])]),main:v(()=>[b(g,{eventBus:e.settingsEventBus,dragging:e.isDragging,sessionId:e.sessionId,nodeType:e.activeNodeType,foreignCredentials:e.foreignCredentials,readOnly:e.readOnly,blockUI:e.blockUi&&e.showTriggerPanel,executable:!e.readOnly,onValueChanged:e.valueChanged,onExecute:e.onNodeExecute,onStopExecution:e.onStopExecution,onActivate:e.onWorkflowActivate},null,8,["eventBus","dragging","sessionId","nodeType","foreignCredentials","readOnly","blockUI","executable","onValueChanged","onExecute","onStopExecution","onActivate"]),e.featureRequestUrl?(y(),P("a",{key:0,onClick:t[4]||(t[4]=(...C)=>e.onFeatureRequestClick&&e.onFeatureRequestClick(...C)),class:$(e.$style.featureRequest),target:"_blank"},[b(w,{icon:"lightbulb"}),V(" "+N(e.$locale.baseText("ndv.featureRequest")),1)],2)):W("",!0)]),_:2},[e.showTriggerPanel||!e.isTriggerNode?{name:"input",fn:v(()=>[e.showTriggerPanel?(y(),R(c,{key:0,nodeName:e.activeNode.name,sessionId:e.sessionId,onExecute:e.onNodeExecute,onActivate:e.onWorkflowActivate},null,8,["nodeName","sessionId","onExecute","onActivate"])):e.isTriggerNode?W("",!0):(y(),R(h,{key:1,workflow:e.workflow,canLinkRuns:e.canLinkRuns,runIndex:e.inputRun,linkedRuns:e.linked,currentNodeName:e.inputNodeName,sessionId:e.sessionId,readOnly:e.readOnly||e.hasForeignCredential,isProductionExecutionPreview:e.isProductionExecutionPreview,onLinkRun:e.onLinkRunToInput,onUnlinkRun:t[2]||(t[2]=()=>e.onUnlinkRun("input")),onRunChange:e.onRunInputIndexChange,onOpenSettings:e.openSettings,onSelect:e.onInputSelect,onExecute:e.onNodeExecute,onTableMounted:e.onInputTableMounted,onItemHover:e.onInputItemHover},null,8,["workflow","canLinkRuns","runIndex","linkedRuns","currentNodeName","sessionId","readOnly","isProductionExecutionPreview","onLinkRun","onRunChange","onOpenSettings","onSelect","onExecute","onTableMounted","onItemHover"]))]),key:"0"}:void 0]),1032,["isTriggerNode","hideInputAndOutput","position","isDraggable","hasDoubleWidth","nodeType","onClose","onInit","onDragstart","onDragend"])],544)):W("",!0)]}),_:1},8,["modelValue","before-close"])}const Cme={$style:Eme},Ome=te(bme,[["render",xme],["__cssModules",Cme]]),H0=J({mixins:[j0],mounted(){if(this.data!==null)try{this.__addNode(this.data)}catch{}},computed:{...be(it,Ee,sf,_e,Fr),data(){return this.workflowsStore.getNodeByName(this.name)},nodeId(){var e;return((e=this.data)==null?void 0:e.id)||""}},props:{name:{type:String},instance:{type:Object},isReadOnly:{type:Boolean},isActive:{type:Boolean},hideActions:{type:Boolean},disableSelecting:{type:Boolean},showCustomTooltip:{type:Boolean}},methods:{__addEndpointTestingData(e,t,s){if(window!=null&&window.Cypress&&"canvas"in e.endpoint){const n=e.endpoint.canvas;this.instance.setAttribute(n,"data-endpoint-name",this.data.name),this.instance.setAttribute(n,"data-input-index",s.toString()),this.instance.setAttribute(n,"data-endpoint-type",t)}},__addInputEndpoints(e,t){let s;const n={};t.inputs.forEach((o,i)=>{var c;n.hasOwnProperty(o)?n[o]++:n[o]=0,s=n[o];const r=Nw.input[t.inputs.length][s],l={uuid:qh(this.nodeId,s),anchor:r,maxConnections:-1,endpoint:"Rectangle",paintStyle:_w(t,"--color-foreground-xdark"),hoverPaintStyle:_w(t,"--color-primary"),source:!1,target:!this.isReadOnly&&t.inputs.length>1,parameters:{nodeId:this.nodeId,type:o,index:s},enabled:!this.isReadOnly,cssClass:"rect-input-endpoint",dragAllowedWhenFull:!0,hoverClass:"dropHover"},m=(c=this.instance)==null?void 0:c.addEndpoint(this.$refs[this.data.name],l);this.__addEndpointTestingData(m,"input",s),t.inputNames&&m.addOverlay(kI(t.inputNames[s])),Array.isArray(m)||(m.__meta={nodeName:e.name,nodeId:this.nodeId,index:i,totalEndpoints:t.inputs.length})}),t.inputs.length===0&&this.instance.manage(this.$refs[this.data.name])},__addOutputEndpoints(e,t){let s;const n={};t.outputs.forEach((o,i)=>{n.hasOwnProperty(o)?n[o]++:n[o]=0,s=n[o];const r=Nw.output[t.outputs.length][s],l={uuid:cc(this.nodeId,s),anchor:r,maxConnections:-1,endpoint:{type:"Dot",options:{radius:t&&t.outputs.length>2?7:9}},paintStyle:Pw(t,"--color-foreground-xdark"),hoverPaintStyle:Pw(t,"--color-primary"),source:!0,target:!1,enabled:!this.isReadOnly,parameters:{nodeId:this.nodeId,type:o,index:s},hoverClass:"dot-output-endpoint-hover",connectionsDirected:!0,cssClass:"dot-output-endpoint",dragAllowedWhenFull:!1},m=this.instance.addEndpoint(this.$refs[this.data.name],l);if(this.__addEndpointTestingData(m,"output",s),t.outputNames){const c=EI(t.outputNames[s]);m.addOverlay(c)}if(Array.isArray(m)||(m.__meta={nodeName:e.name,nodeId:this.nodeId,index:i,totalEndpoints:t.outputs.length}),!this.isReadOnly){const c={uuid:cc(this.nodeId,s),anchor:r,maxConnections:-1,endpoint:{type:"N8nPlus",options:{dimensions:24,connectedEndpoint:m,showOutputLabel:t.outputs.length===1,size:t.outputs.length>=3?"small":"medium",hoverMessage:this.$locale.baseText("nodeBase.clickToAddNodeOrDragToConnect")}},source:!0,target:!1,enabled:!this.isReadOnly,paintStyle:{outlineStroke:"none"},hoverPaintStyle:{outlineStroke:"none"},parameters:{nodeId:this.nodeId,type:o,index:s},cssClass:"plus-draggable-endpoint",dragAllowedWhenFull:!1},h=this.instance.addEndpoint(this.$refs[this.data.name],c);this.__addEndpointTestingData(h,"plus",s),Array.isArray(h)||(h.__meta={nodeName:e.name,nodeId:this.nodeId,index:i,totalEndpoints:t.outputs.length})}})},__addNode(e){const t=this.nodeTypesStore.getNodeType(e.type,e.typeVersion)??this.nodeTypesStore.getNodeType(B_);this.__addInputEndpoints(e,t),this.__addOutputEndpoints(e,t)},touchEnd(e){this.isTouchDevice&&this.uiStore.isActionActive("dragActive")&&this.uiStore.removeActiveAction("dragActive")},mouseLeftClick(e){const t=e.path||e.composedPath&&e.composedPath();for(let s=0;s<t.length;s++)if(t[s].className&&typeof t[s].className=="string"&&t[s].className.includes("no-select-on-click"))return;this.isTouchDevice||(this.uiStore.isActionActive("dragActive")?this.uiStore.removeActiveAction("dragActive"):(this.isCtrlKeyPressed(e)||this.$emit("deselectAllNodes"),this.uiStore.isNodeSelected(this.data.name)?this.$emit("deselectNode",this.name):this.$emit("nodeSelected",this.name)))}}}),Dme=J({name:"Node",mixins:[Ft,H0,Bs,ut,Bl,kn],components:{TitledList:bf,FontAwesomeIcon:zv,NodeIcon:Di},props:{isProductionExecutionPreview:{type:Boolean,default:!1}},computed:{...be(it,Xe,Ee,_e),showPinnedDataInfo(){return this.hasPinData&&!this.isProductionExecutionPreview},isDuplicatable(){return this.nodeType?this.nodeType.maxNodes===void 0||this.sameTypeNodes.length<this.nodeType.maxNodes:!0},isScheduledGroup(){var e;return((e=this.nodeType)==null?void 0:e.group.includes("schedule"))===!0},nodeRunData(){var e;return this.workflowsStore.getWorkflowResultDataByNodeName(((e=this.data)==null?void 0:e.name)||"")||[]},hasIssues(){var e;return this.nodeExecutionStatus&&["crashed","error","failed"].includes(this.nodeExecutionStatus)?!0:this.hasPinData?!1:!!(((e=this.data)==null?void 0:e.issues)!==void 0&&Object.keys(this.data.issues).length)},workflowDataItems(){const e=this.nodeRunData;return e===null?0:e.length},canvasOffsetPosition(){return this.uiStore.nodeViewOffsetPosition},getTriggerNodeTooltip(){if(this.nodeType!==null&&this.nodeType.hasOwnProperty("eventTriggerDescription")){const e=this.$locale.shortNodeType(this.nodeType.name),{eventTriggerDescription:t}=this.nodeType;return this.$locale.nodeText().eventTriggerDescription(e,t||"")}else return this.$locale.baseText("node.waitingForYouToCreateAnEventIn",{interpolate:{nodeType:this.nodeType?hi(this.nodeType):""}})},isPollingTypeNode(){return!!(this.nodeType&&this.nodeType.polling)},isExecuting(){return this.workflowsStore.executingNode===this.data.name},isSingleActiveTriggerNode(){return this.workflowsStore.workflowTriggerNodes.filter(t=>{const s=this.nodeTypesStore.getNodeType(t.type,t.typeVersion);return s&&s.eventTriggerDescription!==""&&!t.disabled}).length===1},isManualTypeNode(){return this.data.type===Bo},isTriggerNode(){var e;return this.nodeTypesStore.isTriggerNode(((e=this.data)==null?void 0:e.type)||"")},isTriggerNodeTooltipEmpty(){return this.nodeType!==null?this.nodeType.eventTriggerDescription==="":!1},isNodeDisabled(){return this.node&&this.node.disabled},nodeType(){return this.data&&this.nodeTypesStore.getNodeType(this.data.type,this.data.typeVersion)},node(){return this.workflowsStore.nodesByName[this.name]},sameTypeNodes(){return this.workflowsStore.allNodes.filter(e=>e.type===this.data.type)},nodeClass(){return{"node-box":!0,disabled:this.data.disabled,executing:this.isExecuting}},nodeExecutionStatus(){var t;const e=(t=this.workflowsStore.getWorkflowRunData)==null?void 0:t[this.name];return e?e[0].executionStatus??"":""},nodeIssues(){var s,n;const e=[],t=(s=this.workflowsStore.getWorkflowRunData)==null?void 0:s[this.name];return t&&t.forEach(o=>{o.error&&e.push(`${o.error.message}${o.error.description?` (${o.error.description})`:""}`)}),((n=this.data)==null?void 0:n.issues)!==void 0&&e.push(...jv(this.data.issues,this.data)),e},nodeDisabledIcon(){return this.data.disabled===!1?"pause":"play"},position(){return this.node?this.node.position:[0,0]},showDisabledLinethrough(){return!!(this.data.disabled&&this.nodeType&&this.nodeType.inputs.length===1&&this.nodeType.outputs.length===1)},nodePosition(){return{left:this.position[0]+"px",top:this.position[1]+"px"}},shortNodeType(){return this.$locale.shortNodeType(this.data.type)},nodeTitle(){return this.data.name==="Start"?this.$locale.headerText({key:"headers.start.displayName",fallback:"Start"}):this.data.name},waiting(){const e=this.workflowsStore.getWorkflowExecution;if(e&&e.waitTill){const t=jt(e,"data.resultData.lastNodeExecuted");if(this.name===t){const s=new Date(e.waitTill);return s.toISOString()===DT?this.$locale.baseText("node.theNodeIsWaitingIndefinitelyForAnIncomingWebhookCall"):this.$locale.baseText("node.nodeIsWaitingTill",{interpolate:{date:s.toLocaleDateString(),time:s.toLocaleTimeString()}})}}},workflowRunning(){return this.uiStore.isActionActive("workflowRunning")},nodeStyle(){let e=gs("--color-foreground-xdark");return this.data.disabled?e=gs("--color-foreground-base"):this.isExecuting||(this.hasIssues?e=gs("--color-danger"):this.waiting||this.showPinnedDataInfo?e=gs("--color-secondary"):this.nodeExecutionStatus==="unknown"?e=gs("--color-foreground-xdark"):this.workflowDataItems&&(e=gs("--color-success"))),{"border-color":e}},isSelected(){return this.uiStore.getSelectedNodes.find(e=>e.name===this.data.name)!==void 0},shiftOutputCount(){return!!(this.nodeType&&this.nodeType.outputs.length>2)},shouldShowTriggerTooltip(){return!!this.node&&this.isTriggerNode&&!this.isPollingTypeNode&&!this.hasPinData&&!this.isNodeDisabled&&this.workflowRunning&&this.workflowDataItems===0&&this.isSingleActiveTriggerNode&&!this.isTriggerNodeTooltipEmpty&&!this.hasIssues&&!this.dragging}},watch:{isActive(e,t){!e&&t&&this.setSubtitle()},canvasOffsetPosition(){this.showTriggerNodeTooltip&&(this.showTriggerNodeTooltip=!1,setTimeout(()=>{this.showTriggerNodeTooltip=this.shouldShowTriggerTooltip},200)),this.pinDataDiscoveryTooltipVisible&&(this.pinDataDiscoveryTooltipVisible=!1,setTimeout(()=>{this.pinDataDiscoveryTooltipVisible=!0},200))},shouldShowTriggerTooltip(e){e?setTimeout(()=>{this.showTriggerNodeTooltip=this.shouldShowTriggerTooltip},2500):this.showTriggerNodeTooltip=!1},nodeRunData(e){this.data&&this.$emit("run",{name:this.data.name,data:e,waiting:!!this.waiting})}},created(){localStorage.getItem(Nh)||(this.unwatchWorkflowDataItems=this.$watch("workflowDataItems",t=>{this.showPinDataDiscoveryTooltip(t)}))},mounted(){setTimeout(()=>{this.setSubtitle()},0),this.nodeRunData&&setTimeout(()=>{this.$emit("run",{name:this.data&&this.data.name,data:this.nodeRunData,waiting:!!this.waiting})},0)},data(){return{isTouchActive:!1,nodeSubtitle:"",showTriggerNodeTooltip:!1,pinDataDiscoveryTooltipVisible:!1,dragging:!1,unwatchWorkflowDataItems:()=>{}}},methods:{showPinDataDiscoveryTooltip(e){!this.isTriggerNode||this.isManualTypeNode||this.isScheduledGroup||e===0||(localStorage.setItem(Nh,"true"),this.pinDataDiscoveryTooltipVisible=!0,this.unwatchWorkflowDataItems())},setSubtitle(){try{const e=this.getNodeSubtitle(this.data,this.nodeType,this.getCurrentWorkflow())||"";this.nodeSubtitle=e.includes(fr)?"":e}catch{}},disableNode(){this.data!==null&&(this.disableNodes([this.data]),this.historyStore.pushCommandToUndo(new Wa(this.data.name,!this.data.disabled,this.data.disabled===!0)),this.$telemetry.track("User clicked node hover button",{node_type:this.data.type,button_name:"disable",workflow_id:this.workflowsStore.workflowId}))},executeNode(){this.$emit("runWorkflow",this.data.name,"Node.executeNode"),this.$telemetry.track("User clicked node hover button",{node_type:this.data.type,button_name:"execute",workflow_id:this.workflowsStore.workflowId})},async deleteNode(){this.$telemetry.track("User clicked node hover button",{node_type:this.data.type,button_name:"delete",workflow_id:this.workflowsStore.workflowId}),await this.$nextTick(),this.$emit("removeNode",this.data.name)},async duplicateNode(){this.$telemetry.track("User clicked node hover button",{node_type:this.data.type,button_name:"duplicate",workflow_id:this.workflowsStore.workflowId}),await this.$nextTick(),this.$emit("duplicateNode",this.data.name)},onClick(e){this.callDebounced("onClickDebounced",{debounceTime:50,trailing:!0},e)},onClickDebounced(e){e.detail>=2?this.setNodeActive():this.mouseLeftClick(e)},setNodeActive(){this.ndvStore.activeNodeName=this.data?this.data.name:"",this.pinDataDiscoveryTooltipVisible=!1},touchStart(){this.isTouchDevice===!0&&this.isMacOs===!1&&this.isTouchActive===!1&&(this.isTouchActive=!0,setTimeout(()=>{this.isTouchActive=!1},2e3))}}});const Q0=e=>(_c("data-v-6ea2e3a7"),e=e(),Pc(),e),Ame=["id","data-name"],$me={class:"select-background"},Nme={key:0,class:"trigger-icon"},_me=["innerHTML"],Pme={key:0,class:"node-issues"},Ime={key:1,class:"waiting"},Mme=["textContent"],Lme={key:2,class:"node-pin-data-icon"},Fme={key:0,class:"items-count"},Bme={key:3},Rme={key:4,class:"data-count"},Vme={key:0,class:"items-count"},Ume=["title"],Wme={class:"node-trigger-tooltip__wrapper"},jme=["textContent"],qme=Q0(()=>D("span",null,null,-1)),zme=Q0(()=>D("span",null,null,-1)),Hme={key:0,class:"node-options no-select-on-click"},Qme=["title"],Gme=["title"],Yme=["title"],Xme=["title"],Kme=["title"],Jme={class:"node-description"},Zme=["title"],efe={"data-test-id":"canvas-node-box-title"},tfe={key:0},sfe=["title"];function nfe(e,t,s,n,o,i){const r=E("font-awesome-icon"),l=E("n8n-tooltip"),m=E("titled-list"),c=E("NodeIcon"),h=Ls("touch");return y(),P("div",{class:$({"node-wrapper":!0,"node-wrapper--trigger":e.isTriggerNode}),style:zt(e.nodePosition),id:e.nodeId,"data-test-id":"canvas-node",ref:e.data.name,"data-name":e.data.name},[He(D("div",$me,null,512),[[nt,e.isSelected]]),D("div",{class:$({"node-default":!0,"touch-active":e.isTouchActive,"is-touch-device":e.isTouchDevice})},[He((y(),P("div",{class:$(e.nodeClass),style:zt(e.nodeStyle),onClick:t[0]||(t[0]=Qe((...p)=>e.onClick&&e.onClick(...p),["left"]))},[e.isTriggerNode?(y(),P("i",Nme,[b(l,{placement:"bottom"},{content:v(()=>[D("span",{innerHTML:e.$locale.baseText("node.thisIsATriggerNode")},null,8,_me)]),default:v(()=>[b(r,{icon:"bolt",size:"lg"})]),_:1})])):W("",!0),e.data.disabled?W("",!0):(y(),P("div",{key:1,class:$({"node-info-icon":!0,"shift-icon":e.shiftOutputCount})},[e.hasIssues?(y(),P("div",Pme,[b(l,{placement:"bottom"},{content:v(()=>[b(m,{title:`${e.$locale.baseText("node.issues")}:`,items:e.nodeIssues},null,8,["title","items"])]),default:v(()=>[b(r,{icon:"exclamation-triangle"})]),_:1})])):e.waiting||e.nodeExecutionStatus==="waiting"?(y(),P("div",Ime,[b(l,{placement:"bottom"},{content:v(()=>[D("div",{textContent:N(e.waiting)},null,8,Mme)]),default:v(()=>[b(r,{icon:"clock"})]),_:1})])):e.showPinnedDataInfo?(y(),P("span",Lme,[b(r,{icon:"thumbtack"}),e.workflowDataItems>1?(y(),P("span",Fme,N(e.workflowDataItems),1)):W("",!0)])):e.nodeExecutionStatus==="unknown"?(y(),P("span",Bme)):e.workflowDataItems?(y(),P("span",Rme,[b(r,{icon:"check"}),e.workflowDataItems>1?(y(),P("span",Vme,N(e.workflowDataItems),1)):W("",!0)])):W("",!0)],2)),D("div",{class:"node-executing-info",title:e.$locale.baseText("node.nodeIsExecuting")},[b(r,{icon:"sync-alt",spin:""})],8,Ume),D("div",Wme,[b(l,{placement:"top",visible:e.showTriggerNodeTooltip,"popper-class":"node-trigger-tooltip__wrapper--item"},{content:v(()=>[D("div",{textContent:N(e.getTriggerNodeTooltip)},null,8,jme)]),default:v(()=>[qme]),_:1},8,["visible"]),e.isTriggerNode?(y(),R(l,{key:0,placement:"top",visible:e.pinDataDiscoveryTooltipVisible,"popper-class":"node-trigger-tooltip__wrapper--item"},{content:v(()=>[V(N(e.$locale.baseText("node.discovery.pinData.canvas")),1)]),default:v(()=>[zme]),_:1},8,["visible"])):W("",!0)]),b(c,{class:"node-icon",nodeType:e.nodeType,size:40,shrink:!1,disabled:this.data.disabled},null,8,["nodeType","disabled"])],6)),[[h,e.touchStart,"start"],[h,e.touchEnd,"end"]]),e.isReadOnly?W("",!0):He((y(),P("div",Hme,[He((y(),P("div",{class:"option",title:e.$locale.baseText("node.deleteNode"),"data-test-id":"delete-node-button"},[b(r,{icon:"trash"})],8,Qme)),[[h,e.deleteNode,"tap"]]),He((y(),P("div",{class:"option",title:e.$locale.baseText("node.activateDeactivateNode"),"data-test-id":"disable-node-button"},[b(r,{icon:e.nodeDisabledIcon},null,8,["icon"])],8,Gme)),[[h,e.disableNode,"tap"]]),e.isDuplicatable?He((y(),P("div",{key:0,class:"option",title:e.$locale.baseText("node.duplicateNode"),"data-test-id":"duplicate-node-button"},[b(r,{icon:"clone"})],8,Yme)),[[h,e.duplicateNode,"tap"]]):W("",!0),He((y(),P("div",{class:"option touch",title:e.$locale.baseText("node.editNode"),"data-test-id":"activate-node-button"},[b(r,{class:"execute-icon",icon:"cog"})],8,Xme)),[[h,e.setNodeActive,"tap"]]),e.workflowRunning?W("",!0):He((y(),P("div",{key:1,class:"option",title:e.$locale.baseText("node.executeNode"),"data-test-id":"execute-node-button"},[b(r,{class:"execute-icon",icon:"play-circle"})],8,Kme)),[[h,e.executeNode,"tap"]])],512)),[[nt,!e.hideActions]]),e.showDisabledLinethrough?(y(),P("div",{key:1,class:$({"disabled-linethrough":!0,success:!["unknown"].includes(e.nodeExecutionStatus)&&e.workflowDataItems>0})},null,2)):W("",!0)],2),D("div",Jme,[D("div",{class:"node-name",title:e.nodeTitle},[D("p",efe,N(e.nodeTitle),1),e.data.disabled?(y(),P("p",tfe,"("+N(e.$locale.baseText("node.disabled"))+")",1)):W("",!0)],8,Zme),e.nodeSubtitle!==void 0?(y(),P("div",{key:0,class:"node-subtitle",title:e.nodeSubtitle},N(e.nodeSubtitle),9,sfe)):W("",!0)])],14,Ame)}const ofe=te(Dme,[["render",nfe],["__scopeId","data-v-6ea2e3a7"]]),ife=J({name:"Sticky",mixins:[Ft,H0,Bs,ut],props:{nodeViewScale:{type:Number},gridSize:{type:Number}},computed:{...be(it,Xe,Ee,_e),defaultText(){if(!this.nodeType)return"";const t=this.nodeType.properties.find(s=>s.name==="content");return t&&Gw(t.default)?t.default:""},isSelected(){return this.uiStore.getSelectedNodes.find(e=>e.name===this.data.name)!==void 0},nodeType(){return this.data&&this.nodeTypesStore.getNodeType(this.data.type,this.data.typeVersion)},node(){return this.workflowsStore.getNodeByName(this.name)},position(){return this.node?this.node.position:[0,0]},height(){return this.node&&hr(this.node.parameters.height)?this.node.parameters.height:0},width(){return this.node&&hr(this.node.parameters.width)?this.node.parameters.width:0},stickySize(){return{height:this.height+"px",width:this.width+"px"}},stickyPosition(){return{left:this.position[0]+"px",top:this.position[1]+"px",zIndex:this.isActive?9999999:-1*Math.floor(this.height*this.width/1e3)}},showActions(){return!(this.hideActions||this.isReadOnly||this.workflowRunning||this.isResizing)},workflowRunning(){return this.uiStore.isActionActive("workflowRunning")}},data(){return{isResizing:!1,isTouchActive:!1}},methods:{async deleteNode(){await this.$nextTick(),this.$emit("removeNode",this.data.name)},onEdit(e){e&&!this.isActive&&this.node?this.ndvStore.activeNodeName=this.node.name:this.isActive&&!e&&(this.ndvStore.activeNodeName=null)},onMarkdownClick(e,t){if(e){const s=this.name===gT,n=e.querySelector('img[alt="n8n quickstart video"'),o=s&&n?"welcome_video":s&&e.getAttribute("href")==="/templates"?"templates":"other";this.$telemetry.track("User clicked note link",{type:o})}},onInputChange(e){this.node.parameters.content=e,this.setParameters({content:e})},onResizeStart(){this.isResizing=!0,!this.isSelected&&this.node&&this.$emit("nodeSelected",this.node.name,!1,!0)},onResize({height:e,width:t,dX:s,dY:n}){this.node&&((s!==0||n!==0)&&this.setPosition([this.node.position[0]+(s||0),this.node.position[1]+(n||0)]),this.setParameters({height:e,width:t}))},onResizeEnd(){this.isResizing=!1},setParameters(e){if(this.node){const t={content:Gw(e.content)?e.content:this.node.parameters.content,height:hr(e.height)?e.height:this.node.parameters.height,width:hr(e.width)?e.width:this.node.parameters.width},s={key:this.node.id,name:this.node.name,value:t};this.workflowsStore.setNodeParameters(s)}},setPosition(e){if(!this.node)return;const t={name:this.node.name,properties:{position:e}};this.workflowsStore.updateNodeProperties(t)},touchStart(){this.isTouchDevice===!0&&this.isMacOs===!1&&this.isTouchActive===!1&&(this.isTouchActive=!0,setTimeout(()=>{this.isTouchActive=!1},2e3))}}});const rfe=["id","data-name"],afe={class:"select-sticky-background"},lfe={class:"sticky-options no-select-on-click"},ufe=["title"];function cfe(e,t,s,n,o,i){const r=E("n8n-sticky"),l=E("font-awesome-icon"),m=Ls("touch");return y(),P("div",{class:"sticky-wrapper",id:e.nodeId,ref:e.data.name,style:zt(e.stickyPosition),"data-name":e.data.name,"data-test-id":"sticky"},[D("div",{class:$({"sticky-default":!0,"touch-active":e.isTouchActive,"is-touch-device":e.isTouchDevice}),style:zt(e.stickySize)},[He(D("div",afe,null,512),[[nt,e.isSelected]]),He((y(),P("div",{class:"sticky-box",onClick:t[0]||(t[0]=Qe((...c)=>e.mouseLeftClick&&e.mouseLeftClick(...c),["left"]))},[b(r,{modelValue:e.node.parameters.content,height:e.node.parameters.height,width:e.node.parameters.width,scale:e.nodeViewScale,id:e.node.id,readOnly:e.isReadOnly,defaultText:e.defaultText,editMode:e.isActive&&!e.isReadOnly,gridSize:e.gridSize,onEdit:e.onEdit,onResizestart:e.onResizeStart,onResize:e.onResize,onResizeend:e.onResizeEnd,onMarkdownClick:e.onMarkdownClick,"onUpdate:modelValue":e.onInputChange},null,8,["modelValue","height","width","scale","id","readOnly","defaultText","editMode","gridSize","onEdit","onResizestart","onResize","onResizeend","onMarkdownClick","onUpdate:modelValue"])])),[[m,e.touchStart,"start"],[m,e.touchEnd,"end"]]),He(D("div",lfe,[He((y(),P("div",{class:"option","data-test-id":"delete-sticky",title:e.$locale.baseText("node.deleteNode")},[b(l,{icon:"trash"})],8,ufe)),[[m,e.deleteNode,"tap"]])],512),[[nt,e.showActions]])],6)],12,rfe)}const dfe=te(ife,[["render",cfe],["__scopeId","data-v-c4079857"]]),pfe=["textContent"],hfe=J({__name:"CanvasAddButton",props:{showTooltip:{type:Boolean},position:{}},setup(e){const t=e,s=Hh(),n=we(()=>({"--trigger-placeholder-left-position":`${t.position[0]}px`,"--trigger-placeholder-top-position":`${t.position[1]}px`}));return(o,i)=>{const r=E("font-awesome-icon"),l=E("n8n-tooltip");return y(),P("div",{class:$(o.$style.canvasAddButton),style:zt(n.value),ref:"container","data-test-id":"canvas-add-button"},[b(l,{placement:"top",visible:o.showTooltip,disabled:Z(s).showScrim,"popper-class":o.$style.tooltip,"show-after":700},{content:v(()=>[V(N(o.$locale.baseText("nodeView.canvasAddButton.addATriggerNodeBeforeExecuting")),1)]),default:v(()=>[D("button",{class:$(o.$style.button),onClick:i[0]||(i[0]=m=>o.$emit("click")),"data-test-id":"canvas-plus-button"},[b(r,{icon:"plus",size:"lg"})],2)]),_:1},8,["visible","disabled","popper-class"]),D("p",{class:$(o.$style.label),textContent:N(o.$locale.baseText("nodeView.canvasAddButton.addFirstStep"))},null,10,pfe)],6)}}}),mfe="_canvasAddButton_mfxxv_5",ffe="_button_mfxxv_17",gfe="_label_mfxxv_38",yfe={canvasAddButton:mfe,button:ffe,label:gfe},wfe={$style:yfe},bfe=te(hfe,[["__cssModules",wfe]]),vfe=ho(async()=>qn(()=>import("./NodeCreation-e440c766.js"),["assets/NodeCreation-e440c766.js","assets/n8n-91a817dd.js","assets/luxon-19e1de07.js","assets/esprima-next-8c7e8ff9.js","assets/vendor-c8bad0e4.js","assets/lodash-es-876af2e5.js","assets/@fortawesome/vue-fontawesome-6e8401ca.js","assets/@fortawesome/fontawesome-svg-core-984d6dde.js","assets/n8n-def62baf.css","assets/pinia-b59a3de7.js","assets/axios-706baf85.js","assets/flatted-8b14da7d.js","assets/vue-i18n-6b44b0b1.js","assets/dateformat-ce9c2f3c.js","assets/@jsplumb/browser-ui-70b0a0d6.js","assets/@jsplumb/core-0a463c13.js","assets/@jsplumb/util-98a92a84.js","assets/@jsplumb/common-fe415eb9.js","assets/@jsplumb/connector-bezier-53998944.js","assets/uuid-cf522c50.js","assets/@n8n/codemirror-lang-sql-9a304659.js","assets/codemirror-lang-n8n-expression-47e67c3a.js","assets/codemirror-lang-html-n8n-4223f8c7.js","assets/fast-json-stable-stringify-44009db8.js","assets/prettier-8be78f6f.js","assets/@vueuse/core-5943aedd.js","assets/timeago.js-a9e71aec.js","assets/file-saver-cc6d9044.js","assets/vue-json-pretty-cfc4ef1d.js","assets/humanize-duration-b7379348.js","assets/v3-infinite-loading-ff016886.js","assets/vue-agile-b5edbe38.js","assets/vue-agile-d964f598.css","assets/copy-to-clipboard-4501bff5.js","assets/vue3-touch-events-ee55ce04.js","assets/@fortawesome/free-solid-svg-icons-c96f0de9.js","assets/@fortawesome/free-regular-svg-icons-74cb85f8.js","assets/NodeCreation-c710a40b.css"])),Tfe=ho(async()=>qn(()=>import("./CanvasControls-da68ea7e.js"),["assets/CanvasControls-da68ea7e.js","assets/pinia-b59a3de7.js","assets/n8n-91a817dd.js","assets/luxon-19e1de07.js","assets/esprima-next-8c7e8ff9.js","assets/vendor-c8bad0e4.js","assets/lodash-es-876af2e5.js","assets/@fortawesome/vue-fontawesome-6e8401ca.js","assets/@fortawesome/fontawesome-svg-core-984d6dde.js","assets/n8n-def62baf.css","assets/axios-706baf85.js","assets/flatted-8b14da7d.js","assets/vue-i18n-6b44b0b1.js","assets/dateformat-ce9c2f3c.js","assets/@jsplumb/browser-ui-70b0a0d6.js","assets/@jsplumb/core-0a463c13.js","assets/@jsplumb/util-98a92a84.js","assets/@jsplumb/common-fe415eb9.js","assets/@jsplumb/connector-bezier-53998944.js","assets/uuid-cf522c50.js","assets/@n8n/codemirror-lang-sql-9a304659.js","assets/codemirror-lang-n8n-expression-47e67c3a.js","assets/codemirror-lang-html-n8n-4223f8c7.js","assets/fast-json-stable-stringify-44009db8.js","assets/prettier-8be78f6f.js","assets/@vueuse/core-5943aedd.js","assets/timeago.js-a9e71aec.js","assets/file-saver-cc6d9044.js","assets/vue-json-pretty-cfc4ef1d.js","assets/humanize-duration-b7379348.js","assets/v3-infinite-loading-ff016886.js","assets/vue-agile-b5edbe38.js","assets/vue-agile-d964f598.css","assets/copy-to-clipboard-4501bff5.js","assets/vue3-touch-events-ee55ce04.js","assets/@fortawesome/free-solid-svg-icons-c96f0de9.js","assets/@fortawesome/free-regular-svg-icons-74cb85f8.js","assets/CanvasControls-28647802.css"])),Sfe=J({name:"NodeView",mixins:[Ai,Ft,Nt,ace,ut,Ys,kn],components:{NodeDetailsView:Ome,Node:ofe,Sticky:dfe,CanvasAddButton:bfe,NodeCreation:vfe,CanvasControls:Tfe},setup(e){var s;return{locale:Lt(),...jL(),...$S(),...sd(),...je(),...St(),...lce(),...(s=Ys.setup)==null?void 0:s.call(Ys,e)}},errorCaptured:(e,t,s)=>{console.error("errorCaptured"),console.error(e)},watch:{$route(e,t){this.readOnlyEnvRouteCheck();const s=Ea(e),n=!this.uiStore.nodeViewInitialized;let o=t.params.name!==e.params.name&&!(t.params.name==="new"&&this.currentWorkflow===lt)&&t.name!==ee.NEW_WORKFLOW&&e.params.action!=="workflowSave";const i=e.name===ee.TEMPLATE_IMPORT;if((s===_t.WORKFLOW||i)&&(o||n||i)){if(this.startLoading(),n){const r=this.uiStore.stateIsDirty;this.resetWorkspace(),this.uiStore.stateIsDirty=r}this.loadCredentials(),this.initView().then(()=>{this.stopLoading(),this.blankRedirect&&(this.blankRedirect=!1)})}s===_t.EXECUTIONS&&(o=t.params.name!==e.params.name&&!(e.params.name==="new"&&t.params.name===void 0),o&&(this.uiStore.nodeViewInitialized=!1))},activeNode(){this.createNodeActive=!1},containsTrigger(e){e===!1&&this.canvasStore.setRecenteredCanvasAddButtonPosition(this.getNodeViewOffsetPosition)},nodeViewScale(e){const t=this.$refs.nodeView;t&&(t.style.transform=`scale(${e})`)}},async beforeRouteLeave(e,t,s){if(Ea(e)===_t.EXECUTIONS||t.name===ee.TEMPLATE_IMPORT){s();return}if(this.uiStore.stateIsDirty&&!this.readOnlyEnv){const n=await this.confirm(this.$locale.baseText("generic.unsavedWork.confirmMessage.message"),{title:this.$locale.baseText("generic.unsavedWork.confirmMessage.headline"),type:"warning",confirmButtonText:this.$locale.baseText("generic.unsavedWork.confirmMessage.confirmButtonText"),cancelButtonText:this.$locale.baseText("generic.unsavedWork.confirmMessage.cancelButtonText"),showClose:!0});n===bt?(this.workflowsStore.setWorkflowId(lt),await this.saveCurrentWorkflow({},!1)&&await this.settingsStore.fetchPromptsData(),this.uiStore.stateIsDirty=!1,t.name===ee.NEW_WORKFLOW?await this.$router.replace({name:ee.WORKFLOW,params:{name:this.currentWorkflow}},()=>{this.$router.push(e)}):s()):n===$T&&(this.workflowsStore.setWorkflowId(lt),this.resetWorkspace(),this.uiStore.stateIsDirty=!1,s())}else s()},computed:{...be(sf,yi,It,Hh,it,Xe,fe,Le,Ln,Ee,_e,Ge,Hh,gl,yl,Fr),nativelyNumberSuffixedDefaults(){return this.nodeTypesStore.nativelyNumberSuffixedDefaults},currentUser(){return this.usersStore.currentUser},activeNode(){return this.ndvStore.activeNode},executionWaitingForWebhook(){return this.workflowsStore.executionWaitingForWebhook},isDemo(){return this.$route.name===ee.DEMO},showCanvasAddButton(){return this.loadingService===null&&!this.containsTrigger&&!this.isDemo&&!this.readOnlyEnv},lastSelectedNode(){return this.uiStore.getLastSelectedNode},nodes(){return this.workflowsStore.allNodes},nodesToRender(){return this.workflowsStore.allNodes.filter(e=>e.type!==As)},stickiesToRender(){return this.workflowsStore.allNodes.filter(e=>e.type===As)},runButtonText(){return this.workflowRunning?this.executionWaitingForWebhook?this.$locale.baseText("nodeView.runButtonText.waitingForTriggerEvent"):this.$locale.baseText("nodeView.runButtonText.executingWorkflow"):this.$locale.baseText("nodeView.runButtonText.executeWorkflow")},workflowStyle(){const e=this.uiStore.nodeViewOffsetPosition;return{left:e[0]+"px",top:e[1]+"px"}},canvasAddButtonStyle(){return{"pointer-events":this.createNodeActive?"none":"all"}},backgroundStyle(){return $I(this.nodeViewScale,this.uiStore.nodeViewOffsetPosition,this.isExecutionPreview)},workflowClasses(){const e=[];return(this.ctrlKeyPressed||this.moveCanvasKeyPressed)&&(this.uiStore.nodeViewMoveInProgress===!0?e.push("move-in-process"):e.push("move-active")),(this.selectActive||this.ctrlKeyPressed||this.moveCanvasKeyPressed)&&e.push("do-not-select"),e},workflowExecution(){return this.workflowsStore.getWorkflowExecution},workflowRunning(){return this.uiStore.isActionActive("workflowRunning")},currentWorkflow(){return this.$route.params.name||this.workflowsStore.workflowId},workflowName(){return this.workflowsStore.workflowName},allTriggersDisabled(){return this.triggerNodes.filter(t=>t.disabled).length===this.triggerNodes.length},triggerNodes(){return this.nodes.filter(e=>e.type===Lr||this.nodeTypesStore.isTriggerNode(e.type))},containsTrigger(){return this.triggerNodes.length>0},isExecutionDisabled(){return!this.containsTrigger||this.allTriggersDisabled},getNodeViewOffsetPosition(){return this.uiStore.nodeViewOffsetPosition},nodeViewScale(){return this.canvasStore.nodeViewScale},instance(){return this.canvasStore.jsPlumbInstance}},data(){return{GRID_SIZE:ys,STICKY_NODE_TYPE:As,createNodeActive:!1,lastClickPosition:[450,450],ctrlKeyPressed:!1,moveCanvasKeyPressed:!1,stopExecutionInProgress:!1,blankRedirect:!1,credentialsUpdated:!1,pullConnActiveNodeName:null,pullConnActive:!1,dropPrevented:!1,renamingActive:!1,showStickyButton:!1,isExecutionPreview:!1,showTriggerMissingTooltip:!1,workflowData:null,activeConnection:null,isProductionExecutionPreview:!1,enterTimer:void 0,exitTimer:void 0,readOnlyNotification:null,suspendRecordingDetachedConnections:!1,NODE_CREATOR_OPEN_SOURCES:ei}},methods:{editAllowedCheck(){var e;if(!((e=this.readOnlyNotification)!=null&&e.visible))return this.isReadOnlyRoute||this.readOnlyEnv?(this.readOnlyNotification=this.showMessage({title:this.$locale.baseText(this.readOnlyEnv?`readOnlyEnv.showMessage.${this.isReadOnlyRoute?"executions":"workflows"}.title`:"readOnly.showMessage.executions.title"),message:this.$locale.baseText(this.readOnlyEnv?`readOnlyEnv.showMessage.${this.isReadOnlyRoute?"executions":"workflows"}.message`:"readOnly.showMessage.executions.message"),type:"info",dangerouslyUseHTMLString:!0}),!1):!0},showTriggerMissingToltip(e){this.showTriggerMissingTooltip=e},onRunNode(e,t){const s=this.workflowsStore.getNodeByName(e),n={node_type:s?s.type:null,workflow_id:this.workflowsStore.workflowId,source:"canvas"};this.$telemetry.track("User clicked execute node button",n),this.$externalHooks().run("nodeView.onRunNode",n),this.runWorkflow(e,t)},async onRunWorkflow(){this.getWorkflowDataToSave().then(e=>{const t={workflow_id:this.workflowsStore.workflowId,node_graph_string:JSON.stringify(ka(e,this.getNodeTypes()).nodeGraph)};this.$telemetry.track("User clicked execute workflow button",t),this.$externalHooks().run("nodeView.onRunWorkflow",t)}),await this.runWorkflow()},onRunContainerClick(){if(this.containsTrigger&&!this.allTriggersDisabled)return;const e=this.containsTrigger&&this.allTriggersDisabled?this.$locale.baseText("nodeView.addOrEnableTriggerNode"):this.$locale.baseText("nodeView.addATriggerNodeFirst");this.registerCustomAction({key:"showNodeCreator",action:()=>this.showTriggerCreator(ei.NO_TRIGGER_EXECUTION_TOOLTIP)});const t=this.showMessage({type:"info",title:this.$locale.baseText("nodeView.cantExecuteNoTrigger"),message:e,duration:3e3,onClick:()=>setTimeout(()=>{this.createNodeActive&&t.close()},0),dangerouslyUseHTMLString:!0})},clearExecutionData(){this.workflowsStore.workflowExecutionData=null,this.updateNodesExecutionIssues()},async onSaveKeyboardShortcut(e){let t=await this.saveCurrentWorkflow();t&&await this.settingsStore.fetchPromptsData(),this.activeNode&&(e.target instanceof HTMLInputElement?t=e.target.readOnly:t=!0,t&&this.showMessage({title:this.$locale.baseText("generic.workflowSaved"),type:"success"}))},showTriggerCreator(e){this.createNodeActive||(this.nodeCreatorStore.setSelectedView(Lu),this.nodeCreatorStore.setShowScrim(!0),this.onToggleNodeCreator({source:e,createNodeActive:!0}))},async openExecution(e){var s,n;this.startLoading(),this.resetWorkspace();let t;try{t=await this.workflowsStore.getExecution(e)}catch(o){this.showError(o,this.$locale.baseText("nodeView.showError.openExecution.title"));return}if(t===void 0)throw new Error(`Execution with id "${e}" could not be found!`);if(this.workflowsStore.setWorkflowName({newName:t.workflowData.name,setStateDirty:!1}),this.workflowsStore.setWorkflowId(lt),this.workflowsStore.setWorkflowExecutionData(t),t.workflowData.pinData&&this.workflowsStore.setWorkflowPinData(t.workflowData.pinData),t.workflowData.ownedBy&&this.workflowsEEStore.setWorkflowOwnedBy({workflowId:t.workflowData.id,ownedBy:t.workflowData.ownedBy}),t.workflowData.sharedWith&&this.workflowsEEStore.setWorkflowSharedWith({workflowId:t.workflowData.id,sharedWith:t.workflowData.sharedWith}),t.workflowData.usedCredentials&&this.workflowsStore.setUsedCredentials(t.workflowData.usedCredentials),await this.addNodes(at(t.workflowData.nodes),at(t.workflowData.connections)),await this.$nextTick(),this.canvasStore.zoomToFit(),this.uiStore.stateIsDirty=!1,this.$externalHooks().run("execution.open",{workflowId:t.workflowData.id,workflowName:t.workflowData.name,executionId:e}),this.$telemetry.track("User opened read-only execution",{workflow_id:t.workflowData.id,execution_mode:t.mode,execution_finished:t.finished}),!t.finished&&((n=(s=t.data)==null?void 0:s.resultData)!=null&&n.error)){let o=!1;if(t.data.resultData.runData){const i=t.data.resultData.runData;e:for(const r of Object.keys(i))for(const l of i[r])if(l.error){o=!0;break e}}!o&&t.data.resultData.error.stack&&(console.error(`Execution ${e} error:`),console.error(t.data.resultData.error.stack),this.showMessage({title:this.$locale.baseText("nodeView.showError.workflowError"),message:t.data.resultData.error.message,type:"error",duration:0}))}t.waitTill&&this.showMessage({title:this.$locale.baseText("nodeView.thisExecutionHasntFinishedYet"),message:`<a data-action="reload">${this.$locale.baseText("nodeView.refresh")}</a> ${this.$locale.baseText("nodeView.toSeeTheLatestStatus")}.<br/> <a href="https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.wait/" target="_blank">${this.$locale.baseText("nodeView.moreInfo")}</a>`,type:"warning",duration:0}),this.stopLoading()},async importWorkflowExact(e){if(!e.workflow.nodes||!e.workflow.connections)throw new Error("Invalid workflow object");this.resetWorkspace(),e.workflow.nodes=Rw(e.workflow.nodes),await this.addNodes(e.workflow.nodes,e.workflow.connections),e.workflow.pinData&&this.workflowsStore.setWorkflowPinData(e.workflow.pinData),await this.$nextTick(),this.canvasStore.zoomToFit()},async openWorkflowTemplate(e){var s;this.startLoading(),this.setLoadingText(this.$locale.baseText("nodeView.loadingTemplate")),this.resetWorkspace(),this.workflowsStore.currentWorkflowExecutions=[],this.workflowsStore.activeWorkflowExecution=null;let t;try{if(this.$externalHooks().run("template.requested",{templateId:e}),t=await this.templatesStore.getWorkflowTemplate(e),!t)throw new Error(this.$locale.baseText("nodeView.workflowTemplateWithIdCouldNotBeFound",{interpolate:{templateId:e}}))}catch(n){this.showError(n,this.$locale.baseText("nodeView.couldntImportWorkflow")),await this.$router.replace({name:ee.NEW_WORKFLOW});return}t.workflow.nodes=Rw(t.workflow.nodes),(s=t.workflow.nodes)==null||s.forEach(n=>{n.credentials&&delete n.credentials}),this.blankRedirect=!0,await this.$router.replace({name:ee.NEW_WORKFLOW,query:{templateId:e}}),await this.addNodes(t.workflow.nodes,t.workflow.connections),this.workflowData=await this.workflowsStore.getNewWorkflowData(t.name)||{},await this.$nextTick(),this.canvasStore.zoomToFit(),this.uiStore.stateIsDirty=!0,this.$externalHooks().run("template.open",{templateId:e,templateName:t.name,workflow:t.workflow}),this.stopLoading()},async openWorkflow(e){this.startLoading();const t=this.workflowsStore.activeWorkflowExecution;this.resetWorkspace(),this.workflowsStore.addWorkflow(e),this.workflowsStore.setActive(e.active||!1),this.workflowsStore.setWorkflowId(e.id),this.workflowsStore.setWorkflowName({newName:e.name,setStateDirty:!1}),this.workflowsStore.setWorkflowSettings(e.settings||{}),this.workflowsStore.setWorkflowPinData(e.pinData||{}),this.workflowsStore.setWorkflowVersionId(e.versionId),e.ownedBy&&this.workflowsEEStore.setWorkflowOwnedBy({workflowId:e.id,ownedBy:e.ownedBy}),e.sharedWith&&this.workflowsEEStore.setWorkflowSharedWith({workflowId:e.id,sharedWith:e.sharedWith}),e.usedCredentials&&this.workflowsStore.setUsedCredentials(e.usedCredentials);const s=e.tags||[],n=s.map(o=>o.id);this.workflowsStore.setWorkflowTagIds(n||[]),this.tagsStore.upsertTags(s),await this.addNodes(e.nodes,e.connections),this.credentialsUpdated||(this.uiStore.stateIsDirty=!1),this.canvasStore.zoomToFit(),this.$externalHooks().run("workflow.open",{workflowId:e.id,workflowName:e.name}),(t==null?void 0:t.workflowId)!==e.id?(this.workflowsStore.activeWorkflowExecution=null,this.workflowsStore.currentWorkflowExecutions=[]):this.workflowsStore.activeWorkflowExecution=t,this.stopLoading()},touchTap(e){this.isTouchDevice&&this.mouseDown(e)},mouseDown(e){this.lastClickPosition=this.getMousePositionWithinNodeView(e),e instanceof MouseEvent&&e.button===1&&(this.moveCanvasKeyPressed=!0),this.mouseDownMouseSelect(e,this.moveCanvasKeyPressed),this.mouseDownMoveWorkflow(e,this.moveCanvasKeyPressed),this.createNodeActive=!1},mouseUp(e){e.button===1&&(this.moveCanvasKeyPressed=!1),this.mouseUpMouseSelect(e),this.mouseUpMoveWorkflow(e)},keyUp(e){e.key===this.controlKeyCode&&(this.ctrlKeyPressed=!1),e.key===" "&&(this.moveCanvasKeyPressed=!1)},async keyDown(e){if(e.key==="s"&&this.isCtrlKeyPressed(e)){if(e.stopPropagation(),e.preventDefault(),this.isReadOnlyRoute||this.readOnlyEnv)return;this.callDebounced("onSaveKeyboardShortcut",{debounceTime:1e3},e);return}const t=e.path||e.composedPath&&e.composedPath();for(const s of t)if(s.className&&typeof s.className=="string"&&s.className.includes("ignore-key-press"))return;if(!window.document.body.classList.contains("el-popup-parent--hidden")){if(e.key==="Escape"){this.createNodeActive=!1,this.activeNode&&(this.$externalHooks().run("dataDisplay.nodeEditingFinished"),this.ndvStore.activeNodeName=null);return}if(!this.activeNode){if(e.key==="d")this.callDebounced("deactivateSelectedNode",{debounceTime:350});else if(e.key==="Delete"||e.key==="Backspace")e.stopPropagation(),e.preventDefault(),this.callDebounced("deleteSelectedNodes",{debounceTime:500});else if(e.key==="Tab")this.onToggleNodeCreator({source:ei.TAB,createNodeActive:!this.createNodeActive&&!this.isReadOnlyRoute&&!this.readOnlyEnv});else if(e.key===this.controlKeyCode)this.ctrlKeyPressed=!0;else if(e.key===" ")this.moveCanvasKeyPressed=!0;else if(e.key==="F2"&&!this.isReadOnlyRoute&&!this.readOnlyEnv){const s=this.lastSelectedNode;s!==null&&s.type!==As&&this.callDebounced("renameNodePrompt",{debounceTime:1500},s.name)}else if(e.key==="a"&&this.isCtrlKeyPressed(e)===!0)e.stopPropagation(),e.preventDefault(),this.callDebounced("selectAllNodes",{debounceTime:1e3});else if(e.key==="c"&&this.isCtrlKeyPressed(e))this.callDebounced("copySelectedNodes",{debounceTime:1e3});else if(e.key==="x"&&this.isCtrlKeyPressed(e))e.stopPropagation(),e.preventDefault(),this.callDebounced("cutSelectedNodes",{debounceTime:1e3});else if(e.key==="n"&&this.isCtrlKeyPressed(e)&&e.altKey){if(e.stopPropagation(),e.preventDefault(),this.isDemo)return;this.$router.currentRoute.name===ee.NEW_WORKFLOW?as.emit("newWorkflow"):this.$router.push({name:ee.NEW_WORKFLOW}),this.showMessage({title:this.$locale.baseText("nodeView.showMessage.keyDown.title"),type:"success"})}else if(e.key==="Enter"){const s=this.lastSelectedNode;if(s!==null){if(s.type===As&&(this.isReadOnlyRoute||this.readOnlyEnv))return;this.ndvStore.activeNodeName=s.name}}else if(e.key==="ArrowRight"&&e.shiftKey)e.stopPropagation(),e.preventDefault(),this.callDebounced("selectDownstreamNodes",{debounceTime:1e3});else if(e.key==="ArrowRight"){const s=this.lastSelectedNode;if(s===null)return;const n=this.workflowsStore.outgoingConnectionsByNodeName(s.name);if(n.main===void 0||n.main.length===0)return;this.callDebounced("nodeSelectedByName",{debounceTime:100},n.main[0][0].node,!1,!0)}else if(e.key==="ArrowLeft"&&e.shiftKey)e.stopPropagation(),e.preventDefault(),this.callDebounced("selectUpstreamNodes",{debounceTime:1e3});else if(e.key==="ArrowLeft"){const s=this.lastSelectedNode;if(s===null)return;const n=this.getCurrentWorkflow();if(!n.connectionsByDestinationNode.hasOwnProperty(s.name))return;const o=n.connectionsByDestinationNode[s.name];if(o.main===void 0||o.main.length===0)return;this.callDebounced("nodeSelectedByName",{debounceTime:100},o.main[0][0].node,!1,!0)}else if(["ArrowUp","ArrowDown"].includes(e.key)){const s=this.lastSelectedNode;if(s===null)return;const n=this.getCurrentWorkflow();if(!n.connectionsByDestinationNode.hasOwnProperty(s.name))return;const o=n.connectionsByDestinationNode[s.name];if(!Array.isArray(o.main)||!o.main.length)return;const i=o.main[0][0].node,r=this.workflowsStore.outgoingConnectionsByNodeName(i);if(!Array.isArray(r.main)||!r.main.length)return;let l,m=e.key==="ArrowUp"?-99999999:99999999,c=null;for(const h of r.main)for(const p of h)p.node!==s.name&&(l=this.workflowsStore.getNodeByName(p.node),l&&(e.key==="ArrowUp"?l.position[1]<=s.position[1]&&l.position[1]>m&&(c=l.name,m=l.position[1]):l.position[1]>=s.position[1]&&l.position[1]<m&&(c=l.name,m=l.position[1])));c!==null&&this.callDebounced("nodeSelectedByName",{debounceTime:100},c,!1,!0)}}}},deactivateSelectedNode(){this.editAllowedCheck()&&this.disableNodes(this.uiStore.getSelectedNodes,!0)},deleteSelectedNodes(){const e=this.uiStore.getSelectedNodes.map(t=>t.name);this.historyStore.startRecordingUndo(),e.forEach(t=>{this.removeNode(t,!0,!1)}),setTimeout(()=>{this.historyStore.stopRecordingUndo()},200)},selectAllNodes(){this.nodes.forEach(e=>{this.nodeSelectedByName(e.name)})},selectUpstreamNodes(){const e=this.lastSelectedNode;if(e===null)return;this.deselectAllNodes();const t=this.getCurrentWorkflow();for(const s of t.getParentNodes(e.name))this.nodeSelectedByName(s);this.nodeSelectedByName(e.name)},selectDownstreamNodes(){const e=this.lastSelectedNode;if(e===null)return;this.deselectAllNodes();const t=this.getCurrentWorkflow();for(const s of t.getChildNodes(e.name))this.nodeSelectedByName(s);this.nodeSelectedByName(e.name)},pushDownstreamNodes(e,t,s=!1){const n=this.workflowsStore.nodesByName[e],i=this.getCurrentWorkflow().getChildNodes(e);for(const r of i){const l=this.workflowsStore.nodesByName[r],m=l.position;if(l.position[0]<n.position[0])continue;const c={name:r,properties:{position:[l.position[0]+t,l.position[1]]}};this.workflowsStore.updateNodeProperties(c),this.onNodeMoved(l),(s&&m[0]!==c.properties.position[0]||m[1]!==c.properties.position[1])&&this.historyStore.pushCommandToUndo(new Va(r,m,c.properties.position),s)}},cutSelectedNodes(){const e=!this.isReadOnlyRoute&&!this.readOnlyEnv;this.copySelectedNodes(e),e&&this.deleteSelectedNodes()},copySelectedNodes(e){this.getSelectedNodesToSave().then(t=>{const s={meta:{instanceId:this.rootStore.instanceId},...t};this.removeForeignCredentialsFromWorkflow(s,this.credentialsStore.allCredentials);const n=JSON.stringify(s,null,2);this.copyToClipboard(n),t.nodes.length>0&&(e||this.showMessage({title:"Copied!",message:"",type:"success"}),this.$telemetry.track("User copied nodes",{node_types:t.nodes.map(o=>o.type),workflow_id:this.workflowsStore.workflowId}))})},async stopExecution(){const e=this.workflowsStore.activeExecutionId;if(e!==null){try{this.stopExecutionInProgress=!0,await this.workflowsStore.stopCurrentExecution(e),this.showMessage({title:this.$locale.baseText("nodeView.showMessage.stopExecutionTry.title"),type:"success"})}catch(t){const s=await this.workflowsStore.getExecution(e);if(s===void 0)this.workflowsStore.finishActiveExecution({executionId:e,data:{finished:!0,stoppedAt:new Date}}),this.workflowsStore.executingNode=null,this.uiStore.removeActiveAction("workflowRunning"),this.titleSet(this.workflowsStore.workflowName,"IDLE"),this.showMessage({title:this.$locale.baseText("nodeView.showMessage.stopExecutionCatch.unsaved.title"),message:this.$locale.baseText("nodeView.showMessage.stopExecutionCatch.unsaved.message"),type:"success"});else if(s!=null&&s.finished){const n={data:s.data,finished:s.finished,mode:s.mode,startedAt:s.startedAt,stoppedAt:s.stoppedAt},o={data:n,executionId:e,retryOf:s.retryOf};this.workflowsStore.finishActiveExecution(o),this.titleSet(s.workflowData.name,"IDLE"),this.workflowsStore.executingNode=null,this.workflowsStore.setWorkflowExecutionData(n),this.uiStore.removeActiveAction("workflowRunning"),this.showMessage({title:this.$locale.baseText("nodeView.showMessage.stopExecutionCatch.title"),message:this.$locale.baseText("nodeView.showMessage.stopExecutionCatch.message"),type:"success"})}else this.showError(t,this.$locale.baseText("nodeView.showError.stopExecution.title"))}this.stopExecutionInProgress=!1,this.getWorkflowDataToSave().then(t=>{const s={workflow_id:this.workflowsStore.workflowId,node_graph_string:JSON.stringify(ka(t,this.getNodeTypes()).nodeGraph)};this.$telemetry.track("User clicked stop workflow execution",s)})}},async stopWaitingForWebhook(){try{await this.workflowsStore.removeTestWebhook(this.workflowsStore.workflowId)}catch(e){this.showError(e,this.$locale.baseText("nodeView.showError.stopWaitingForWebhook.title"));return}},async receivedCopyPasteData(e){if(this.readOnlyEnv)return;if(Ea(this.$route)===_t.WORKFLOW){let s;if(this.editAllowedCheck()===!1)return;if(e.match(/^http[s]?:\/\/.*\.json$/i)){if(!this.editAllowedCheck()||await this.confirm(this.$locale.baseText("nodeView.confirmMessage.receivedCopyPasteData.message",{interpolate:{plainTextData:e}}),this.$locale.baseText("nodeView.confirmMessage.receivedCopyPasteData.headline"),{type:"warning",confirmButtonText:this.$locale.baseText("nodeView.confirmMessage.receivedCopyPasteData.confirmButtonText"),cancelButtonText:this.$locale.baseText("nodeView.confirmMessage.receivedCopyPasteData.cancelButtonText"),dangerouslyUseHTMLString:!0})!==bt||(s=await this.getWorkflowDataFromUrl(e),s===void 0))return}else try{if(s=JSON.parse(e),!this.editAllowedCheck())return}catch{return}return this.importWorkflowData(s,"paste",!1)}},async getWorkflowDataFromUrl(e){let t;this.startLoading();try{t=await this.workflowsStore.getWorkflowFromUrl(e)}catch(s){this.stopLoading(),this.showError(s,this.$locale.baseText("nodeView.showError.getWorkflowDataFromUrl.title"));return}return this.stopLoading(),t},async importWorkflowData(e,t,s=!0){if(!(!e.hasOwnProperty("nodes")||!e.hasOwnProperty("connections")))try{const n={};e.nodes&&e.nodes.forEach(m=>{if(m.id){const c=Ds();n[c]=m.id,m.id=c}else m.id=Ds()});const o=this.rootStore.instanceId,i=JSON.stringify(ka(e,this.getNodeTypes(),{nodeIdMap:n,sourceInstanceId:e.meta&&e.meta.instanceId!==o?e.meta.instanceId:""}).nodeGraph);t==="paste"?this.$telemetry.track("User pasted nodes",{workflow_id:this.workflowsStore.workflowId,node_graph_string:i}):this.$telemetry.track("User imported workflow",{source:t,workflow_id:this.workflowsStore.workflowId,node_graph_string:i}),this.deselectAllNodes(),this.updateNodePositions(e,ni(this.nodes,this.lastClickPosition));const r=await this.addNodesToWorkflow(e);setTimeout(()=>{r.nodes.forEach(m=>{this.nodeSelectedByName(m.name)})}),e.pinData&&this.workflowsStore.setWorkflowPinData(e.pinData);const l=this.settingsStore.areTagsEnabled;if(s&&l&&Array.isArray(e.tags)){const m=await this.tagsStore.fetchAll(),c=new Set(m.map(S=>S.name)),h=e.tags,p=h.filter(S=>!c.has(S.name)),g=[];for(const S of p){const k=this.tagsStore.create(S.name).then(O=>(m.push(O),O));g.push(k)}await Promise.all(g);const w=h.reduce((S,k)=>{const O=m.find(C=>C.name===k.name);return O&&S.push(O.id),S},[]);this.workflowsStore.addWorkflowTagIds(w)}}catch(n){this.showError(n,this.$locale.baseText("nodeView.showError.importWorkflowData.title"))}},onDragOver(e){e.preventDefault()},onDrop(e){if(!e.dataTransfer)return;const t=e.dataTransfer.getData("nodeTypeName").split(",");if(t){const s=this.getMousePositionWithinNodeView(e),n=t.map((o,i)=>({nodeTypeName:o,position:[s[0]-hn/2+hn*i*2+ys,s[1]-hn/2],dragAndDrop:!0}));this.onAddNode(n,!0),this.createNodeActive=!1}},nodeDeselectedByName(e){const t=this.workflowsStore.getNodeByName(e);t&&this.nodeDeselected(t)},nodeSelectedByName(e,t=!1,s){s===!0&&this.deselectAllNodes();const n=this.workflowsStore.getNodeByName(e);n&&(this.nodeSelected(n),this.uiStore.lastSelectedNode=n.name,this.uiStore.lastSelectedNodeOutputIndex=null,this.canvasStore.lastSelectedConnection=null,this.canvasStore.newNodeInsertPosition=null,t&&(this.ndvStore.activeNodeName=n.name))},showMaxNodeTypeError(e){const t=e.maxNodes;this.showMessage({title:this.$locale.baseText("nodeView.showMessage.showMaxNodeTypeError.title"),message:this.$locale.baseText("nodeView.showMessage.showMaxNodeTypeError.message",{adjustToNumber:t,interpolate:{nodeTypeDataDisplayName:e.displayName}}),type:"error",duration:0})},async getNewNodeWithDefaultCredential(e){var o,i,r;let t=e.defaultVersion;t===void 0&&(t=Array.isArray(e.version)?e.version.slice(-1)[0]:e.version);const s={id:Ds(),name:e.defaults.name,type:e.name,typeVersion:t,position:[0,0],parameters:{}},n=e.credentials&&e.credentials.map(l=>this.credentialsStore.getUsableCredentialByType(l.name)).flat();if(n&&n.length===1){const l=n[0],m=this.credentialsStore.getCredentialById(l.id),c={id:m.id,name:m.name},h={[l.type]:c};await this.loadNodesProperties([s].map(w=>({name:w.type,version:w.typeVersion})));const p=this.nodeTypesStore.getNodeType(s.type,s.typeVersion),g=An((p==null?void 0:p.properties)||[],{},!0,!1,s);if(e.credentials){const w=e.credentials.find(k=>k.name===l.type);if((o=w==null?void 0:w.displayOptions)!=null&&o.hide)return s;const S=(i=w==null?void 0:w.displayOptions)==null?void 0:i.show;if(!S)return s.credentials=h,s;if(Object.keys(S).length===1&&S.authentication){s.credentials=h;let k={};for(const O of Object.keys(S)){if(g&&!g[O]){k={},s.credentials=void 0;break}const C=(r=S[O])==null?void 0:r[0];C&&typeof C=="string"&&(k[O]=C),s.parameters={...s.parameters,...k}}}}}return s},async injectNode(e,t={},s=!0,n=!1,o=!1){const i=this.nodeTypesStore.getNodeType(e);if(i===null){this.showMessage({title:this.$locale.baseText("nodeView.showMessage.addNodeButton.title"),message:this.$locale.baseText("nodeView.showMessage.addNodeButton.message",{interpolate:{nodeTypeName:e}}),type:"error"});return}if(i.maxNodes!==void 0&&this.getNodeTypeCount(e)>=i.maxNodes){this.showMaxNodeTypeError(i);return}const r=await this.getNewNodeWithDefaultCredential(i),l=this.lastSelectedNode;if(t.position)r.position=ni(this.canvasStore.getNodesWithPlaceholderNode(),t.position);else if(l){const c=this.canvasStore.lastSelectedConnection;if(c){const[h]=aS(c);h<=gI&&this.pushDownstreamNodes(l.name,$w,n)}if(this.canvasStore.newNodeInsertPosition)r.position=ni(this.nodes,[this.canvasStore.newNodeInsertPosition[0]+ys,this.canvasStore.newNodeInsertPosition[1]-hn/2]),this.canvasStore.newNodeInsertPosition=null;else{let h=0;if(c){const p=this.nodeTypesStore.getNodeType(l.type,l.typeVersion),g=[[-100,100],[-140,0,140],[-240,-100,100,240]];if(p&&p.outputs.length>1){const w=g[p.outputs.length-2],S=c.__meta?c.__meta.sourceOutputIndex:0;h=w[S]}}r.position=ni(this.nodes,[l.position[0]+$w,l.position[1]+h],[100,0])}}else{const c=this.nodeTypesStore.isTriggerNode(e)&&!this.containsTrigger?this.canvasStore.canvasAddButtonPosition:this.lastClickPosition;r.position=ni(this.nodes,c)}const m=this.locale.localizeNodeName(r.name,r.type);if(r.name=this.uniqueNodeName(m),i.webhooks&&i.webhooks.length&&(r.webhookId=Ds()),await this.addNodes([r],void 0,n),this.workflowsStore.setNodePristine(r.name,!0),this.uiStore.stateIsDirty=!0,e===As)this.$telemetry.trackNodesPanel("nodeView.addSticky",{workflow_id:this.workflowsStore.workflowId});else{this.$externalHooks().run("nodeView.addNodeButton",{nodeTypeName:e}),af().trackAddedTrigger(e);const c={node_type:e,is_auto_add:o,workflow_id:this.workflowsStore.workflowId,drag_and_drop:t.dragAndDrop};l&&(c.input_node_type=l.type),this.$telemetry.trackNodesPanel("nodeView.addNodeButton",c)}return n&&(this.deselectAllNodes(),setTimeout(()=>{this.nodeSelectedByName(r.name,s&&e!==As)})),r},getConnection(e,t,s,n){const o=this.workflowsStore.outgoingConnectionsByNodeName(e).main;if(o){const i=o[t];if(i)return i.find(r=>r.node===s&&r.index===n)}},connectTwoNodes(e,t,s,n){if(this.uiStore.stateIsDirty=!0,this.getConnection(e,t,s,n))return;const o=[{node:e,type:"main",index:t},{node:s,type:"main",index:n}];this.__addConnection(o)},async addNode(e,t={},s=!0,n=!1,o=!1){if(!this.editAllowedCheck())return;const i=this.canvasStore.lastSelectedConnection,r=this.lastSelectedNode,l=this.uiStore.lastSelectedNodeOutputIndex;this.historyStore.startRecordingUndo();const m=await this.injectNode(e,t,s,n,o);if(!m)return;const c=l||0;if(r){if(await this.$nextTick(),i&&i.__meta){this.__deleteJSPlumbConnection(i,n);const h=i.__meta.targetNodeName,p=i.__meta.targetOutputIndex;this.connectTwoNodes(m.name,0,h,p)}this.connectTwoNodes(r.name,c,m.name,0)}this.historyStore.stopRecordingUndo()},insertNodeAfterSelected(e){const t=this.workflowsStore.getNodeById(e.sourceId);t&&(this.uiStore.lastSelectedNode=t.name,this.uiStore.lastSelectedNodeOutputIndex=e.index,this.canvasStore.newNodeInsertPosition=null,e.connection&&(this.canvasStore.lastSelectedConnection=e.connection),this.onToggleNodeCreator({source:e.eventSource,createNodeActive:!0}))},onEventConnectionAbort(e){try{if(this.dropPrevented){this.dropPrevented=!1;return}if(this.pullConnActiveNodeName){const t=this.workflowsStore.getNodeById(e.parameters.nodeId);if(t){const s=t.name,n=e.parameters.index;this.connectTwoNodes(s,n,this.pullConnActiveNodeName,0),this.pullConnActiveNodeName=null,this.dropPrevented=!0}return}this.insertNodeAfterSelected({sourceId:e.parameters.nodeId,index:e.parameters.index,eventSource:ei.NODE_CONNECTION_DROP})}catch(t){console.error(t)}},onInterceptBeforeDrop(e){var t,s;try{const n=e.connection.endpoints[0].parameters,o=e.dropEndpoint.parameters,i=((t=this.workflowsStore.getNodeById(n.nodeId))==null?void 0:t.name)||"",r=((s=this.workflowsStore.getNodeById(o.nodeId))==null?void 0:s.name)||"";return this.getConnection(i,n.index,r,o.index)?(this.dropPrevented=!0,this.pullConnActiveNodeName=null,!1):!0}catch(n){return console.error(n),!0}},onEventConnection(e){var t,s;try{const n=e.sourceEndpoint.parameters,o=e.targetEndpoint.parameters,i=(t=this.workflowsStore.getNodeById(n.nodeId))==null?void 0:t.name,r=(s=this.workflowsStore.getNodeById(o.nodeId))==null?void 0:s.name;i&&r&&(e.connection.__meta={sourceNodeName:i,sourceOutputIndex:n.index,targetNodeName:r,targetOutputIndex:o.index}),na(e.connection),FI(e.targetEndpoint);const l=[{node:i,type:n.type,index:n.index},{node:r,type:o.type,index:o.index}];this.dropPrevented=!0,this.workflowsStore.addConnection({connection:l}),this.uiStore.stateIsDirty=!0,this.suspendRecordingDetachedConnections||this.historyStore.pushCommandToUndo(new Yc(l)),!this.isReadOnlyRoute&&!this.readOnlyEnv&&(BI(e.connection,()=>{this.activeConnection=null,this.__deleteJSPlumbConnection(e.connection)},()=>{this.insertNodeAfterSelected({sourceId:e.sourceEndpoint.parameters.nodeId,index:n.index,connection:e.connection,eventSource:ei.NODE_CONNECTION_ACTION})}),setTimeout(()=>{dS(e.source,e.target,"canvas"in e.connection.connector?e.connection.connector.canvas:void 0)},0))}catch(n){console.error(n)}},onDragMove(){var e;(e=this.instance)==null||e.connections.forEach(t=>{lc(t),Cr(t),Object.values(t.overlays).forEach(s=>{var n;s.canvas&&((n=this.instance)==null||n.repaint(s.canvas))})})},isConnectionActive(e){var t,s;return!(e!=null&&e.id)||!((t=this.activeConnection)!=null&&t.id)?!1:((s=this.activeConnection)==null?void 0:s.id)===e.id},onConnectionMouseOver(e){try{if(this.exitTimer!==void 0&&(clearTimeout(this.exitTimer),this.exitTimer=void 0),this.isReadOnlyRoute??this.readOnlyEnv??this.enterTimer??!e??this.isConnectionActive(e))return;this.enterTimer=setTimeout(()=>{this.activeConnection&&!this.isConnectionActive(e)&&Mw(this.activeConnection),this.enterTimer=void 0,e&&(NI(e),this.activeConnection=e)},150)}catch(t){console.error(t)}},onConnectionMouseOut(e){try{if(this.exitTimer||(this.enterTimer&&(clearTimeout(this.enterTimer),this.enterTimer=void 0),this.isReadOnlyRoute??this.readOnlyEnv??!e??!this.isConnectionActive(e)))return;this.exitTimer=setTimeout(()=>{this.exitTimer=void 0,e&&this.isConnectionActive(e)&&(Mw(this.activeConnection),this.activeConnection=null)},500)}catch(t){console.error(t)}},onConnectionMoved(e){var t,s;try{Bw(e.connection);const n=e.connection.parameters,o=e.originalEndpoint.parameters,i=[{node:((t=this.workflowsStore.getNodeById(n.nodeId))==null?void 0:t.name)||"",type:n.type,index:n.index},{node:((s=this.workflowsStore.getNodeById(o.nodeId))==null?void 0:s.name)||"",type:o.type,index:o.index}];this.__removeConnection(i,!1)}catch(n){console.error(n)}},onEndpointMouseOver(e,t){!e.isTarget||t.target!==e.endpoint.canvas||this.instance.setHover(e,!0)},onEndpointMouseOut(e){e.isTarget&&this.instance.setHover(e,!1)},async onConnectionDetached(e){try{const t=Ew(e);if(Bw(e.targetEndpoint),e.connection.removeOverlays(),this.__removeConnectionByConnectionInfo(e,!1,!1),this.pullConnActiveNodeName){this.historyStore.startRecordingUndo();const n=this.workflowsStore.getNodeById(e.connection.parameters.nodeId).name,o=e.connection.parameters.index;t&&this.historyStore.pushCommandToUndo(new ai(t)),this.connectTwoNodes(n,o,this.pullConnActiveNodeName,0),this.pullConnActiveNodeName=null,await this.$nextTick(),this.historyStore.stopRecordingUndo()}else if(!this.historyStore.bulkInProgress&&!this.suspendRecordingDetachedConnections&&t){const s=new ai(t,this);this.historyStore.pushCommandToUndo(s)}}catch(t){console.error(t)}},onConnectionDrag(e){var t;(t=e.overlays["midpoint-arrow"])==null||t.setVisible(!1);try{this.pullConnActiveNodeName=null,this.pullConnActive=!0,this.canvasStore.newNodeInsertPosition=null,na(e);const s=[...document.querySelectorAll(".node-wrapper")],n=i=>{if(!e)return;const r=document.querySelector(".jtk-endpoint.jtk-drag-hover");if(r){const c=r.jtk.endpoint;Fw(e,c);return}const l=24;s.find(c=>{var O;const{top:h,left:p,right:g,bottom:w}=c.getBoundingClientRect(),[S,k]=uc(i);if(h<=k&&w>=k&&p-l<=S&&g>=S){const C=c.dataset.name,A=this.workflowsStore.getNodeByName(C);if(A){const T=this.nodeTypesStore.getNodeType(A.type,A.typeVersion);if(T&&T.inputs&&T.inputs.length===1){this.pullConnActiveNodeName=A.name;const F=this.getInputEndpointUUID(C,0);if(F){const L=(O=this.instance)==null?void 0:O.getEndpoint(F);return Fw(e,L),!0}}}}return!1})||(MI(e),this.pullConnActiveNodeName=null)},o=i=>{this.pullConnActive=!1,this.canvasStore.newNodeInsertPosition=this.getMousePositionWithinNodeView(i),LI(e),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",o)};window.addEventListener("mousemove",n),window.addEventListener("touchmove",n),window.addEventListener("mouseup",o),window.addEventListener("touchend",n)}catch(s){console.error(s)}},onConnectionDragAbortDetached(e){var t;Object.values((t=this.instance)==null?void 0:t.endpointsByElement).flatMap(s=>Object.values(s)).filter(s=>s.endpoint.type==="N8nPlus").forEach(s=>setTimeout(()=>s.instance.revalidate(s.element),0))},onPlusEndpointClick(e){e&&e.__meta&&this.insertNodeAfterSelected({sourceId:e.__meta.nodeId,index:e.__meta.index,eventSource:ei.PLUS_ENDPOINT})},bindCanvasEvents(){this.instance.bind(cr,this.onEventConnectionAbort),this.instance.bind(qy,this.onInterceptBeforeDrop),this.instance.bind(zy,this.onEventConnection),this.instance.bind(jy,this.onDragMove),this.instance.bind(Sh,this.onConnectionMouseOver),this.instance.bind(Th,this.onConnectionMouseOut),this.instance.bind(Hy,this.onConnectionMoved),this.instance.bind(Zu,this.onEndpointMouseOver),this.instance.bind(ec,this.onEndpointMouseOut),this.instance.bind(iu,this.onConnectionDetached),this.instance.bind(ou,this.onConnectionDrag),this.instance.bind([ou,cr,iu],this.onConnectionDragAbortDetached),this.instance.bind(jh,this.onPlusEndpointClick)},unbindCanvasEvents(){this.instance.unbind(cr,this.onEventConnectionAbort),this.instance.unbind(qy,this.onInterceptBeforeDrop),this.instance.unbind(zy,this.onEventConnection),this.instance.unbind(jy,this.onDragMove),this.instance.unbind(Sh,this.onConnectionMouseOver),this.instance.unbind(Th,this.onConnectionMouseOut),this.instance.unbind(Hy,this.onConnectionMoved),this.instance.unbind(Zu,this.onEndpointMouseOver),this.instance.unbind(ec,this.onEndpointMouseOut),this.instance.unbind(iu,this.onConnectionDetached),this.instance.unbind(ou,this.onConnectionDrag),this.instance.unbind(ou,this.onConnectionDragAbortDetached),this.instance.unbind(cr,this.onConnectionDragAbortDetached),this.instance.unbind(iu,this.onConnectionDragAbortDetached),this.instance.unbind(jh,this.onPlusEndpointClick);const e=this.instance.getManagedElements();for(const t of Object.values(e)){const s=t.endpoints;for(const n of s||[]){const o=n==null?void 0:n.endpoint;o&&o.type===JT&&o.unbindEvents()}}},onBeforeUnload(e){if(!(this.isDemo||window.preventNodeViewBeforeUnload))if(this.uiStore.stateIsDirty){const t=this.$locale.baseText("nodeView.itLooksLikeYouHaveBeenEditingSomething");return(e||window.event).returnValue=t,t}else{this.startLoading(this.$locale.baseText("nodeView.redirecting"));return}},async newWorkflow(){this.startLoading(),this.resetWorkspace(),this.workflowData=await this.workflowsStore.getNewWorkflowData(),this.workflowsStore.currentWorkflowExecutions=[],this.workflowsStore.activeWorkflowExecution=null,this.uiStore.stateIsDirty=!1,this.canvasStore.setZoomLevel(1,[0,0]),await this.tryToAddWelcomeSticky(),this.uiStore.nodeViewInitialized=!0,this.historyStore.reset(),this.workflowsStore.activeWorkflowExecution=null,this.stopLoading()},async tryToAddWelcomeSticky(){this.workflowData,this.canvasStore.zoomToFit()},async initView(){var e;if(this.$route.params.action==="workflowSave"){this.uiStore.stateIsDirty=!1;return}if(this.blankRedirect)this.blankRedirect=!1;else if(this.$route.name===ee.TEMPLATE_IMPORT){const t=this.$route.params.id;await this.openWorkflowTemplate(t)}else{if(this.uiStore.stateIsDirty&&!this.readOnlyEnv){const s=await this.confirm(this.$locale.baseText("generic.unsavedWork.confirmMessage.message"),{title:this.$locale.baseText("generic.unsavedWork.confirmMessage.headline"),type:"warning",confirmButtonText:this.$locale.baseText("generic.unsavedWork.confirmMessage.confirmButtonText"),cancelButtonText:this.$locale.baseText("generic.unsavedWork.confirmMessage.cancelButtonText"),showClose:!0});if(s===bt)await this.saveCurrentWorkflow()&&await this.settingsStore.fetchPromptsData();else if(s===u2)return}let t=null;if(this.$route.params.name&&(t=this.$route.params.name),t!==null){let s;try{s=await this.workflowsStore.fetchWorkflow(t)}catch(n){this.showError(n,this.$locale.baseText("openWorkflow.workflowNotFoundError")),this.$router.push({name:ee.NEW_WORKFLOW})}s&&(this.titleSet(s.name,"IDLE"),await this.openWorkflow(s))}else((e=this.$route.meta)==null?void 0:e.nodeView)===!0&&await this.newWorkflow()}this.historyStore.reset(),this.uiStore.nodeViewInitialized=!0,document.addEventListener("keydown",this.keyDown),document.addEventListener("keyup",this.keyUp),window.addEventListener("beforeunload",this.onBeforeUnload)},getOutputEndpointUUID(e,t){const s=this.workflowsStore.getNodeByName(e);return s?cc(s.id,t):null},getInputEndpointUUID(e,t){const s=this.workflowsStore.getNodeByName(e);return s?qh(s.id,t):null},__addConnection(e){var o;const t=this.getOutputEndpointUUID(e[0].node,e[0].index),s=this.getInputEndpointUUID(e[1].node,e[1].index);if(!t||!s)return;const n=[t,s];(o=this.instance)==null||o.connect({uuids:n,detachable:!this.isReadOnlyRoute&&!this.readOnlyEnv}),setTimeout(()=>{this.addPinDataConnections(this.workflowsStore.pinData)})},__removeConnection(e,t=!1){var s;if(t){const n=this.workflowsStore.getNodeByName(e[0].node),o=this.workflowsStore.getNodeByName(e[1].node);if(!n||!o)return;((s=this.instance)==null?void 0:s.getConnections({source:n.id,target:o.id})).forEach(r=>{r.__meta?r.__meta.sourceOutputIndex===e[0].index&&r.__meta.targetOutputIndex===e[1].index&&this.__deleteJSPlumbConnection(r):this.__deleteJSPlumbConnection(r)})}this.workflowsStore.removeConnection({connection:e})},__deleteJSPlumbConnection(e,t=!1){var s,n,o;if(e.removeOverlays(),this.pullConnActiveNodeName=null,(s=this.instance)==null||s.deleteConnection(e),t&&e.__meta){const i=[{index:(n=e.__meta)==null?void 0:n.sourceOutputIndex,node:e.__meta.sourceNodeName,type:"main"},{index:(o=e.__meta)==null?void 0:o.targetOutputIndex,node:e.__meta.targetNodeName,type:"main"}],r=new ai(i,this);this.historyStore.pushCommandToUndo(r)}},__removeConnectionByConnectionInfo(e,t=!1,s=!1){const n=Ew(e);n&&(t?this.__deleteJSPlumbConnection(e.connection,s):s&&this.historyStore.pushCommandToUndo(new ai(n)),this.workflowsStore.removeConnection({connection:n}))},async duplicateNode(e){if(!this.editAllowedCheck())return;const t=this.workflowsStore.getNodeByName(e);if(t){const s=this.nodeTypesStore.getNodeType(t.type,t.typeVersion);if(s&&s.maxNodes!==void 0&&this.getNodeTypeCount(t.type)>=s.maxNodes){this.showMaxNodeTypeError(s);return}const n=at(this.getNodeDataToSave(t));n.id=Ds();const o=this.locale.localizeNodeName(n.name,n.type);if(n.name=this.uniqueNodeName(o),n.position=ni(this.nodes,[t.position[0],t.position[1]+140],[0,140]),n.webhookId&&(n.webhookId=Ds()),n.credentials&&this.settingsStore.isEnterpriseFeatureEnabled(ot.Sharing)){const r=this.workflowsStore.usedCredentials;n.credentials=Object.fromEntries(Object.entries(n.credentials).filter(([l,m])=>{var c;return m.id&&(!r[m.id]||((c=r[m.id])==null?void 0:c.currentUserHasAccess))}))}await this.addNodes([n],[],!0);const i=this.workflowsStore.pinDataByNodeName(e);i&&this.workflowsStore.pinData({node:n,data:i}),this.uiStore.stateIsDirty=!0,this.deselectAllNodes(),setTimeout(()=>{this.nodeSelectedByName(n.name,!1)}),this.$telemetry.track("User duplicated node",{node_type:t.type,workflow_id:this.workflowsStore.workflowId})}},getJSPlumbConnection(e,t,s,n){var p;const o=this.workflowsStore.getNodeByName(e),i=this.workflowsStore.getNodeByName(s);if(!o||!i)return;const r=o.id,l=i.id,m=cc(r,t),c=qh(l,n);return((p=this.instance)==null?void 0:p.getConnections({source:r,target:l})).find(g=>{const w=g.getUuids();return w[0]===m&&w[1]===c})},getJSPlumbEndpoints(e){var o;const t=this.workflowsStore.getNodeByName(e),s=this.instance.getManagedElement(t==null?void 0:t.id);return(o=this.instance)==null?void 0:o.getEndpoints(s)},getPlusEndpoint(e,t){return this.getJSPlumbEndpoints(e).find(n=>{var o;return n.endpoint.type==="N8nPlus"&&((o=n==null?void 0:n.__meta)==null?void 0:o.index)===t})},getIncomingOutgoingConnections(e){var s,n;const t=this.workflowsStore.getNodeByName(e);if(t){const o=(s=this.instance)==null?void 0:s.getConnections({source:t.id});return{incoming:(n=this.instance)==null?void 0:n.getConnections({target:t.id}),outgoing:o}}return{incoming:[],outgoing:[]}},onNodeMoved(e){const{incoming:t,outgoing:s}=this.getIncomingOutgoingConnections(e.name);[...t,...s].forEach(n=>{Cr(n),lc(n)})},onNodeRun({name:e,data:t,waiting:s}){var c;const n=this.workflowsStore.getPinData;if(n&&n[e])return;const o=e,i=this.workflowsStore.getNodeByName(o),r=i!==null?i.id:"";if(t===null||t.length===0||s){((c=this.instance)==null?void 0:c.getConnections({source:r})).forEach(g=>{na(g)}),this.getJSPlumbEndpoints(o).forEach(g=>{g.endpoint.type==="N8nPlus"&&g.endpoint.clearSuccessOutput()});return}const l=this.workflowsStore.outgoingConnectionsByNodeName(o).main,m=_I(t,l||[]);Object.keys(m).forEach(h=>{Object.keys(m[h]).forEach(p=>{Object.keys(m[h][p]).forEach(g=>{if(p){const S=this.getJSPlumbConnection(o,parseInt(h,10),p,parseInt(g,10));if(S){const k=m[h][p][g];k.isArtificialRecoveredEventItem?PI(S):(!k||!k.total)&&!k.isArtificialRecoveredEventItem?na(S):Lw(S,k)}}const w=this.getPlusEndpoint(o,parseInt(h,10));if(w&&w.endpoint){const S=m[h][fa][0];S&&S.total>0?w.endpoint.setSuccessOutput(uS(S)):w.endpoint.clearSuccessOutput()}})})})},removeNode(e,t=!1,s=!0){if(!this.editAllowedCheck())return;const n=this.workflowsStore.getNodeByName(e);if(!n)return;t&&s&&this.historyStore.startRecordingUndo();const o=[];if(o.includes(n.type)){let l=!1;for(const m of this.nodes)if(m.name!==n.name&&o.includes(m.type)){l=!0;break}if(!l)return}n.type===As?this.$telemetry.track("User deleted workflow note",{workflow_id:this.workflowsStore.workflowId,is_welcome_note:n.name===gT}):(this.$externalHooks().run("node.deleteNode",{node:n}),this.$telemetry.track("User deleted node",{node_type:n.type,workflow_id:this.workflowsStore.workflowId}));let i=!1;const r=this.nodeTypesStore.getNodeType(n.type,n.typeVersion);if(r&&r.outputs.length===1&&r.inputs.length===1){const{incoming:l,outgoing:m}=this.getIncomingOutgoingConnections(n.name);if(l.length===1&&m.length===1){const c=l[0],h=m[0];if(c.__meta&&h.__meta){i=!0;const p=c.__meta.sourceNodeName,g=c.__meta.sourceOutputIndex,w=h.__meta.targetNodeName,S=h.__meta.targetOutputIndex;setTimeout(()=>{var k;this.connectTwoNodes(p,g,w,S),i&&((k=this.instance)==null||k.setSuspendDrawing(!1,!0),i=!1)},100)}}}Xs(()=>{var l,m,c;(l=this.instance)==null||l.setSuspendDrawing(!0),(((m=this.instance)==null?void 0:m.endpointsByElement[n.id])||[]).flat().forEach(h=>{var p;return(p=this.instance)==null?void 0:p.deleteEndpoint(h)}),this.workflowsStore.removeAllNodeConnection(n),this.workflowsStore.removeNode(n),this.workflowsStore.clearNodeExecutionData(n.name),i||(c=this.instance)==null||c.setSuspendDrawing(!1,!0),this.uiStore.removeNodeFromSelection(n),t&&this.historyStore.pushCommandToUndo(new eS(n))}),t&&s&&setTimeout(()=>{this.historyStore.stopRecordingUndo()},i?100:0)},valueChanged(e){e.name==="name"&&e.oldValue&&this.renameNode(e.oldValue,e.value)},async renameNodePrompt(e){try{const t=this.prompt(this.$locale.baseText("nodeView.prompt.newName")+":",this.$locale.baseText("nodeView.prompt.renameNode")+`: ${e}`,{customClass:"rename-prompt",confirmButtonText:this.$locale.baseText("nodeView.prompt.rename"),cancelButtonText:this.$locale.baseText("nodeView.prompt.cancel"),inputErrorMessage:this.$locale.baseText("nodeView.prompt.invalidName"),inputValue:e});await this.$nextTick();const s=document.querySelector(".rename-prompt .el-input__inner");s&&(s.focus(),s.select());const n=await t;if((n==null?void 0:n.action)!==bt)return;await this.renameNode(e,n.value,!0)}catch{}},async renameNode(e,t,s=!1){if(e===t)return;this.suspendRecordingDetachedConnections=!0,s&&this.historyStore.startRecordingUndo();const o=(this.activeNode&&this.activeNode.name)===e;o&&(this.renamingActive=!0),t=this.uniqueNodeName(t);const i=this.getCurrentWorkflow(!0);i.renameNode(e,t),s&&this.historyStore.pushCommandToUndo(new ja(e,t)),this.workflowsStore.renameNodeSelectedAndExecution({old:e,new:t}),this.deleteEveryEndpoint(),this.workflowsStore.removeAllConnections({setStateDirty:!1}),this.workflowsStore.removeAllNodes({removePinData:!1,setStateDirty:!0}),await this.$nextTick(),await this.addNodes(Object.values(i.nodes),i.connectionsBySourceNode,!1),this.deselectAllNodes(),this.nodeSelectedByName(t),o&&(this.ndvStore.activeNodeName=t,this.renamingActive=!1),s&&this.historyStore.stopRecordingUndo(),this.suspendRecordingDetachedConnections=!1},deleteEveryEndpoint(){var e,t;this.instance&&((e=this.instance)==null||e.reset(),Object.values((t=this.instance)==null?void 0:t.endpointsByElement).flatMap(s=>s).forEach(s=>s.destroy()),this.instance.deleteEveryConnection({fireEvent:!0}))},matchCredentials(e){e.credentials&&Object.entries(e.credentials).forEach(([t,s])=>{const n=this.credentialsStore.getCredentialsByType(t);if(typeof s=="string"&&(s={id:null,name:s},this.credentialsUpdated=!0),s.id){const i=s.id.toString(),r=n.find(l=>l.id===i);if(r){(r.name!==s.name||typeof s.id=="number")&&(e.credentials[t]={id:r.id,name:r.name},this.credentialsUpdated=!0);return}}e.credentials[t]=s;const o=n.filter(i=>i.name===s.name);o.length===1&&(e.credentials[t].id=o[0].id,this.credentialsUpdated=!0)})},async addNodes(e,t,s=!1){var i,r;if(!e||!e.length)return;await this.loadNodesProperties(e.map(l=>({name:l.type,version:l.typeVersion})));let n,o;if(e.forEach(l=>{if(l.id||(l.id=Ds()),n=this.nodeTypesStore.getNodeType(l.type,l.typeVersion),l.hasOwnProperty("disabled")||(l.disabled=!1),l.hasOwnProperty("parameters")||(l.parameters={}),n!==null){let m=null;try{m=An(n.properties,l.parameters,!0,!1,l)}catch(c){console.error(this.$locale.baseText("nodeView.thereWasAProblemLoadingTheNodeParametersOfNode")+`: "${l.name}"`),console.error(c)}l.parameters=m!==null?m:{},l.type===Ns&&l.parameters.path===""&&(l.parameters.path=l.webhookId)}this.matchCredentials(l),o=this.getNodeIssues(n,l),o!==null&&(l.issues=o),this.workflowsStore.addNode(l),s&&this.historyStore.pushCommandToUndo(new Ua(l))}),await this.$nextTick(),(i=this.instance)==null||i.setSuspendDrawing(!0),t!==void 0){let l;for(const m of Object.keys(t))for(const c of Object.keys(t[m]))for(let h=0;h<t[m][c].length;h++){const p=t[m][c][h];p&&p.forEach(g=>{l=[{node:m,type:c,index:h},{node:g.node,type:g.type,index:g.index}],this.__addConnection(l)})}}(r=this.instance)==null||r.setSuspendDrawing(!1,!0)},async addNodesToWorkflow(e){const t={},s=[];if(!e.nodes)throw new Error(this.$locale.baseText("nodeView.noNodesGivenToAdd"));const n=this.getNodeTypesMaxCount();let o,i;const r=[];await this.loadNodesProperties(e.nodes.map(O=>({name:O.type,version:O.typeVersion}))),e.nodes.forEach(O=>{if(n[O.type]!==void 0)if(n[O.type].exist>=n[O.type].max){t[O.name]=n[O.type].nodeNames[0];return}else n[O.type].exist+=1;o=O.name;const C=this.locale.localizeNodeName(O.name,O.type);i=this.uniqueNodeName(C,s),s.push(i),t[o]=i,r.push(O)});const l={},m=e.connections,c=r.map(O=>O.name);let h,p,g,w,S;for(h of Object.keys(m)){if(!c.includes(h))continue;const O={};for(p of Object.keys(m[h]))for(O[p]=[],g=0;g<m[h][p].length;g++){const C=[];if(m[h][p][g])for(w=0;w<m[h][p][g].length;w++)S=m[h][p][g][w],c.includes(S.node)&&C.push(S);O[p].push(C)}l[h]=O}const k=this.getWorkflow(r,l);for(o in t)o!==t[o]&&k.renameNode(o,t[o]);return this.historyStore.startRecordingUndo(),await this.addNodes(Object.values(k.nodes),k.connectionsBySourceNode,!0),this.historyStore.stopRecordingUndo(),this.uiStore.stateIsDirty=!0,{nodes:Object.values(k.nodes),connections:k.connectionsBySourceNode}},async getSelectedNodesToSave(){const e={nodes:[],connections:{}};let t;const s=[];for(const h of this.uiStore.getSelectedNodes)t=this.getNodeDataToSave(h),s.push(h.name),e.nodes.push(t);let n,o,i,r,l,m,c;return e.nodes.forEach(h=>{if(o=this.workflowsStore.outgoingConnectionsByNodeName(h.name),Object.keys(o).length!==0){c={};for(i of Object.keys(o))for(l=0;l<o[i].length;l++){for(n=[],r=0;r<o[i][l].length;r++)m=o[i][l][r],s.indexOf(m.node)!==-1&&n.push(m);n.length&&(c.hasOwnProperty(i)||(c[i]=[]),c[i][l]=n)}Object.keys(c).length&&(e.connections[h.name]=c)}}),e},resetWorkspace(){if(this.workflowsStore.resetWorkflow(),this.onToggleNodeCreator({createNodeActive:!1}),this.nodeCreatorStore.setShowScrim(!1),this.deleteEveryEndpoint(),this.executionWaitingForWebhook)try{this.workflowsStore.removeTestWebhook(this.workflowsStore.workflowId)}catch{}this.workflowsStore.resetState(),this.uiStore.removeActiveAction("workflowRunning"),this.uiStore.resetSelectedNodes(),this.uiStore.nodeViewOffsetPosition=[0,0],this.credentialsUpdated=!1},async loadActiveWorkflows(){await this.workflowsStore.fetchActiveWorkflows()},async loadNodeTypes(){await this.nodeTypesStore.getNodeTypes()},async loadCredentialTypes(){await this.credentialsStore.fetchCredentialTypes(!0)},async loadCredentials(){await this.credentialsStore.fetchAllCredentials()},async loadVariables(){await this.environmentsStore.fetchAllVariables()},async loadNodesProperties(e){const t=this.nodeTypesStore.allNodeTypes,s=[];t.forEach(n=>{const o=Array.isArray(n.version)?n.version:[n.version];e.find(i=>i.name===n.name&&o.includes(i.version))&&!n.hasOwnProperty("properties")&&s.push({name:n.name,version:Array.isArray(n.version)?n.version.slice(-1)[0]:n.version})}),s.length>0&&(this.startLoading(),await this.nodeTypesStore.getNodesInformation(s),this.stopLoading())},async onPostMessageReceived(e){try{const t=JSON.parse(e.data);if(t&&t.command==="openWorkflow")try{await this.importWorkflowExact(t),this.isExecutionPreview=!1}catch(s){window.top&&window.top.postMessage(JSON.stringify({command:"error",message:this.$locale.baseText("openWorkflow.workflowImportError")}),"*"),this.showMessage({title:this.$locale.baseText("openWorkflow.workflowImportError"),message:s.message,type:"error"})}else if(t&&t.command==="openExecution")try{this.isProductionExecutionPreview=t.executionMode!=="manual",await this.openExecution(t.executionId),this.isExecutionPreview=!0}catch(s){window.top&&window.top.postMessage(JSON.stringify({command:"error",message:this.$locale.baseText("nodeView.showError.openExecution.title")}),"*"),this.showMessage({title:this.$locale.baseText("nodeView.showError.openExecution.title"),message:s.message,type:"error"})}else(t==null?void 0:t.command)==="setActiveExecution"&&(this.workflowsStore.activeWorkflowExecution=t.execution)}catch{}},async onImportWorkflowDataEvent(e){await this.importWorkflowData(e.data,"file")},async onImportWorkflowUrlEvent(e){const t=await this.getWorkflowDataFromUrl(e.url);t!==void 0&&await this.importWorkflowData(t,"url")},addPinDataConnections(e){Object.keys(e).forEach(t=>{var o;const s=this.workflowsStore.getNodeByName(t);if(!s)return;((o=this.instance)==null?void 0:o.getConnections({source:s.id})).forEach(i=>{Lw(i,{total:e[t].length,iterations:0})})})},removePinDataConnections(e){Object.keys(e).forEach(t=>{var o;const s=this.workflowsStore.getNodeByName(t);if(!s)return;const n=(o=this.instance)==null?void 0:o.getConnections({source:s.id});this.instance.setSuspendDrawing(!0),n.forEach(na),this.instance.setSuspendDrawing(!1,!0)})},onToggleNodeCreator({source:e,createNodeActive:t}){if(t===this.createNodeActive)return;this.nodeCreatorStore.setSelectedView(this.containsTrigger?eP:Lu),this.createNodeActive=t;const s=this.nodeCreatorStore.selectedView===Lu?"trigger":"regular";t===!0&&this.nodeCreatorStore.setOpenSource(e),this.$externalHooks().run("nodeView.createNodeActiveChanged",{source:e,mode:s,createNodeActive:t}),this.$telemetry.trackNodesPanel("nodeView.createNodeActiveChanged",{source:e,mode:s,createNodeActive:t,workflow_id:this.workflowsStore.workflowId})},onAddNode(e,t){e.forEach(({nodeTypeName:s,position:n},o)=>{const r=!(s===Bo)&&(e.length===1||o>0);if(this.addNode(s,{position:n,dragAndDrop:t},r,!0,e.length>1&&o<1),o===0)return;const l=this.workflowsStore.$onAction(({name:m,after:c,args:h})=>{m==="addNode"&&h[0].type===s&&c(async()=>{const p=this.nodes[this.nodes.length-1],g=this.nodes[this.nodes.length-2];p.position=[g.position[0]+hn*2+ys,g.position[1]],await this.$nextTick(),this.connectTwoNodes(g.name,0,p.name,0),l()})})})},async saveCurrentWorkflowExternal(e){await this.saveCurrentWorkflow(),e==null||e()},setSuspendRecordingDetachedConnections(e){this.suspendRecordingDetachedConnections=e},onMoveNode({nodeName:e,position:t}){this.workflowsStore.updateNodeProperties({name:e,properties:{position:t}});const s=this.workflowsStore.getNodeByName(e);setTimeout(()=>{var n;s&&((n=this.instance)==null||n.repaintEverything(),this.onNodeMoved(s))},0)},onRevertAddNode({node:e}){this.removeNode(e.name,!1)},async onRevertRemoveNode({node:e}){this.workflowsStore.workflow.nodes.find(s=>s.id===e.id)||(e.id=Ds(),await this.addNodes([e]))},onRevertAddConnection({connection:e}){this.suspendRecordingDetachedConnections=!0,this.__removeConnection(e,!0),this.suspendRecordingDetachedConnections=!1},async onRevertRemoveConnection({connection:e}){this.suspendRecordingDetachedConnections=!0,this.__addConnection(e),this.suspendRecordingDetachedConnections=!1},async onRevertNameChange({currentName:e,newName:t}){await this.renameNode(t,e)},onRevertEnableToggle({nodeName:e,isDisabled:t}){const s=this.workflowsStore.getNodeByName(e);s&&this.disableNodes([s])},onPageShow(e){e.persisted&&this.stopLoading()},readOnlyEnvRouteCheck(){this.readOnlyEnv&&[ee.NEW_WORKFLOW,ee.TEMPLATE_IMPORT].includes(this.$route.name)&&this.$nextTick(async()=>{this.resetWorkspace(),this.uiStore.stateIsDirty=!1,await this.$router.replace({name:ee.WORKFLOWS})})}},async onSourceControlPull(){let e=null;this.$route.params.name&&(e=this.$route.params.name);try{if(await Promise.all([this.loadCredentials(),this.loadVariables(),this.tagsStore.fetchAll()]),e!==null&&!this.uiStore.stateIsDirty){const t=await this.workflowsStore.fetchWorkflow(e);t&&(this.titleSet(t.name,"IDLE"),await this.openWorkflow(t))}}catch(t){console.error(t)}},async mounted(){var t;this.resetWorkspace(),this.canvasStore.initInstance(this.$refs.nodeView),this.titleReset(),window.addEventListener("message",this.onPostMessageReceived),this.startLoading();const e=[this.loadActiveWorkflows(),this.loadCredentials(),this.loadCredentialTypes(),this.loadVariables()];this.nodeTypesStore.allNodeTypes.length===0&&e.push(this.loadNodeTypes());try{await Promise.all(e)}catch(s){this.showError(s,this.$locale.baseText("nodeView.showError.mounted1.title"),this.$locale.baseText("nodeView.showError.mounted1.message")+":");return}if(PD(async()=>{try{try{this.bindCanvasEvents()}catch{}await this.initView(),window.parent&&window.parent.postMessage(JSON.stringify({command:"n8nReady",version:this.rootStore.versionCli}),"*")}catch(s){this.showError(s,this.$locale.baseText("nodeView.showError.mounted2.title"),this.$locale.baseText("nodeView.showError.mounted2.message")+":")}this.stopLoading(),setTimeout(()=>{this.usersStore.showPersonalizationSurvey(),this.addPinDataConnections(this.workflowsStore.getPinData||{})},0)}),this.$externalHooks().run("nodeView.mount").catch(s=>{}),((t=this.currentUser)==null?void 0:t.personalizationAnswers)!==null&&this.settingsStore.onboardingCallPromptEnabled&&this.currentUser&&DS(this.currentUser)<=PT){const s=await this.uiStore.getNextOnboardingPrompt(),n=s.toast_sequence_number===1?IT:1e3;s.title&&s.description&&setTimeout(async()=>{this.showToast({type:"info",title:s.title,message:s.description,duration:0,customClass:"clickable",closeOnClick:!0,onClick:()=>{this.$telemetry.track("user clicked onboarding toast",{seq_num:s.toast_sequence_number,title:s.title,description:s.description}),this.uiStore.openModal(pl)}})},n)}Ac.on("pull",this.onSourceControlPull),this.readOnlyEnvRouteCheck()},activated(){this.uiStore.addFirstStepOnLoad&&this.showTriggerCreator(ei.TRIGGER_PLACEHOLDER_BUTTON),this.uiStore.addFirstStepOnLoad=!1,this.bindCanvasEvents(),document.addEventListener("keydown",this.keyDown),document.addEventListener("keyup",this.keyUp),window.addEventListener("message",this.onPostMessageReceived),window.addEventListener("pageshow",this.onPageShow),as.on("newWorkflow",this.newWorkflow),as.on("importWorkflowData",this.onImportWorkflowDataEvent),as.on("importWorkflowUrl",this.onImportWorkflowUrlEvent),At.on("nodeMove",this.onMoveNode),At.on("revertAddNode",this.onRevertAddNode),At.on("revertRemoveNode",this.onRevertRemoveNode),At.on("revertAddConnection",this.onRevertAddConnection),At.on("revertRemoveConnection",this.onRevertRemoveConnection),At.on("revertRenameNode",this.onRevertNameChange),At.on("enableNodeToggle",this.onRevertEnableToggle),qt.on("pin-data",this.addPinDataConnections),qt.on("unpin-data",this.removePinDataConnections),as.on("saveWorkflow",this.saveCurrentWorkflowExternal),this.canvasStore.isDemo=this.isDemo},deactivated(){this.unbindCanvasEvents(),document.removeEventListener("keydown",this.keyDown),document.removeEventListener("keyup",this.keyUp),window.removeEventListener("message",this.onPostMessageReceived),window.removeEventListener("beforeunload",this.onBeforeUnload),window.removeEventListener("pageshow",this.onPageShow),as.off("newWorkflow",this.newWorkflow),as.off("importWorkflowData",this.onImportWorkflowDataEvent),as.off("importWorkflowUrl",this.onImportWorkflowUrlEvent),At.off("nodeMove",this.onMoveNode),At.off("revertAddNode",this.onRevertAddNode),At.off("revertRemoveNode",this.onRevertRemoveNode),At.off("revertAddConnection",this.onRevertAddConnection),At.off("revertRemoveConnection",this.onRevertRemoveConnection),At.off("revertRenameNode",this.onRevertNameChange),At.off("enableNodeToggle",this.onRevertEnableToggle),qt.off("pin-data",this.addPinDataConnections),qt.off("unpin-data",this.removePinDataConnections),as.off("saveWorkflow",this.saveCurrentWorkflowExternal)},beforeUnmount(){document.removeEventListener("keydown",this.keyDown),document.removeEventListener("keyup",this.keyUp),this.unregisterCustomAction("showNodeCreator"),this.resetWorkspace(),this.instance.unbind(),this.instance.destroy(),this.uiStore.stateIsDirty=!1,window.removeEventListener("message",this.onPostMessageReceived),as.off("newWorkflow",this.newWorkflow),as.off("importWorkflowData",this.onImportWorkflowDataEvent),as.off("importWorkflowUrl",this.onImportWorkflowUrlEvent),this.workflowsStore.setWorkflowId(lt),Ac.off("pull",this.onSourceControlPull)}});const kfe="_content_8gnvh_5",Efe="_shake_8gnvh_13",xfe={content:kfe,shake:Efe},Cfe=["textContent"],Ofe={key:0,class:"workflow-execute-wrapper"};function Dfe(e,t,s,n,o,i){const r=E("canvas-add-button"),l=E("node"),m=E("sticky"),c=E("node-details-view"),h=E("NodeCreation"),p=E("CanvasControls"),g=E("n8n-button"),w=E("n8n-icon-button"),S=Ls("touch");return y(),P("div",{class:$(e.$style.content)},[D("div",{class:"node-view-root do-not-select",id:"node-view-root","data-test-id":"node-view-root",onDragover:t[12]||(t[12]=(...k)=>e.onDragOver&&e.onDragOver(...k)),onDrop:t[13]||(t[13]=(...k)=>e.onDrop&&e.onDrop(...k))},[He((y(),P("div",{class:$(["node-view-wrapper",e.workflowClasses]),onTouchstart:t[3]||(t[3]=(...k)=>e.mouseDown&&e.mouseDown(...k)),onTouchend:t[4]||(t[4]=(...k)=>e.mouseUp&&e.mouseUp(...k)),onTouchmove:t[5]||(t[5]=(...k)=>e.mouseMoveNodeWorkflow&&e.mouseMoveNodeWorkflow(...k)),onMousedown:t[6]||(t[6]=(...k)=>e.mouseDown&&e.mouseDown(...k)),onMouseup:t[7]||(t[7]=(...k)=>e.mouseUp&&e.mouseUp(...k)),onWheel:t[8]||(t[8]=(...k)=>e.canvasStore.wheelScroll&&e.canvasStore.wheelScroll(...k))},[D("div",{id:"node-view-background",class:"node-view-background",style:zt(e.backgroundStyle),"data-test-id":"node-view-background"},null,4),D("div",{id:"node-view",class:"node-view",style:zt(e.workflowStyle),ref:"nodeView","data-test-id":"node-view"},[He(b(r,{style:zt(e.canvasAddButtonStyle),onClick:t[0]||(t[0]=k=>e.showTriggerCreator(e.NODE_CREATOR_OPEN_SOURCES.TRIGGER_PLACEHOLDER_BUTTON)),showTooltip:!e.containsTrigger&&e.showTriggerMissingTooltip,position:e.canvasStore.canvasAddButtonPosition,ref:"canvasAddButton","onHook:mounted":e.canvasStore.setRecenteredCanvasAddButtonPosition,"data-test-id":"canvas-add-button"},null,8,["style","showTooltip","position","onHook:mounted"]),[[nt,e.showCanvasAddButton]]),(y(!0),P(Ie,null,Re(e.nodesToRender,k=>(y(),R(l,{onDuplicateNode:e.duplicateNode,onDeselectAllNodes:e.deselectAllNodes,onDeselectNode:e.nodeDeselectedByName,onNodeSelected:e.nodeSelectedByName,onRemoveNode:t[1]||(t[1]=O=>e.removeNode(O,!0)),onRunWorkflow:e.onRunNode,onMoved:e.onNodeMoved,onRun:e.onNodeRun,key:`${k.id}_node`,name:k.name,isReadOnly:e.isReadOnlyRoute||e.readOnlyEnv,instance:e.instance,isActive:!!e.activeNode&&e.activeNode.name===k.name,hideActions:e.pullConnActive,isProductionExecutionPreview:e.isProductionExecutionPreview},{"custom-tooltip":v(()=>[D("span",{textContent:N(e.$locale.baseText("nodeView.placeholderNode.addTriggerNodeBeforeExecuting"))},null,8,Cfe)]),_:2},1032,["onDuplicateNode","onDeselectAllNodes","onDeselectNode","onNodeSelected","onRunWorkflow","onMoved","onRun","name","isReadOnly","instance","isActive","hideActions","isProductionExecutionPreview"]))),128)),(y(!0),P(Ie,null,Re(e.stickiesToRender,k=>(y(),R(m,{onDeselectAllNodes:e.deselectAllNodes,onDeselectNode:e.nodeDeselectedByName,onNodeSelected:e.nodeSelectedByName,onRemoveNode:t[2]||(t[2]=O=>e.removeNode(O,!0)),key:`${k.id}_sticky`,name:k.name,isReadOnly:e.isReadOnlyRoute||e.readOnlyEnv,instance:e.instance,isActive:!!e.activeNode&&e.activeNode.name===k.name,nodeViewScale:e.nodeViewScale,gridSize:e.GRID_SIZE,hideActions:e.pullConnActive},null,8,["onDeselectAllNodes","onDeselectNode","onNodeSelected","name","isReadOnly","instance","isActive","nodeViewScale","gridSize","hideActions"]))),128))],4)],34)),[[S,e.touchTap,"tap"]]),b(c,{readOnly:e.isReadOnlyRoute||e.readOnlyEnv,renaming:e.renamingActive,isProductionExecutionPreview:e.isProductionExecutionPreview,onValueChanged:e.valueChanged,onStopExecution:e.stopExecution,onSaveKeyboardShortcut:e.onSaveKeyboardShortcut},null,8,["readOnly","renaming","isProductionExecutionPreview","onValueChanged","onStopExecution","onSaveKeyboardShortcut"]),(y(),R(No,null,{default:v(()=>[!e.isReadOnlyRoute&&!e.readOnlyEnv?(y(),R(h,{key:0,"create-node-active":e.createNodeActive,"node-view-scale":e.nodeViewScale,onToggleNodeCreator:e.onToggleNodeCreator,onAddNode:e.onAddNode},null,8,["create-node-active","node-view-scale","onToggleNodeCreator","onAddNode"])):W("",!0)]),_:1})),(y(),R(No,null,{default:v(()=>[b(p)]),_:1})),!e.isReadOnlyRoute&&!e.readOnlyEnv?(y(),P("div",Ofe,[D("span",{onMouseenter:t[9]||(t[9]=k=>e.showTriggerMissingToltip(!0)),onMouseleave:t[10]||(t[10]=k=>e.showTriggerMissingToltip(!1)),onClick:t[11]||(t[11]=(...k)=>e.onRunContainerClick&&e.onRunContainerClick(...k))},[b(g,{onClick:Qe(e.onRunWorkflow,["stop"]),loading:e.workflowRunning,label:e.runButtonText,title:e.$locale.baseText("nodeView.executesTheWorkflowFromATriggerNode"),size:"large",icon:"play-circle",type:"primary",disabled:e.isExecutionDisabled,"data-test-id":"execute-workflow-button"},null,8,["onClick","loading","label","title","disabled"])],32),e.workflowRunning===!0&&!e.executionWaitingForWebhook?(y(),R(w,{key:0,icon:"stop",size:"large",class:"stop-execution",type:"secondary",title:e.stopExecutionInProgress?e.$locale.baseText("nodeView.stoppingCurrentExecution"):e.$locale.baseText("nodeView.stopCurrentExecution"),loading:e.stopExecutionInProgress,onClick:Qe(e.stopExecution,["stop"]),"data-test-id":"stop-execution-button"},null,8,["title","loading","onClick"])):W("",!0),e.workflowRunning===!0&&e.executionWaitingForWebhook===!0?(y(),R(w,{key:1,class:"stop-execution",icon:"stop",size:"large",title:e.$locale.baseText("nodeView.stopWaitingForWebhookCall"),type:"secondary",onClick:Qe(e.stopWaitingForWebhook,["stop"]),"data-test-id":"stop-execution-waiting-for-webhook-button"},null,8,["title","onClick"])):W("",!0),!e.isReadOnlyRoute&&!e.readOnlyEnv&&e.workflowExecution&&!e.workflowRunning&&!e.allTriggersDisabled?(y(),R(w,{key:2,title:e.$locale.baseText("nodeView.deletesTheCurrentExecutionData"),icon:"trash",size:"large",onClick:Qe(e.clearExecutionData,["stop"]),"data-test-id":"clear-execution-data-button"},null,8,["title","onClick"])):W("",!0)])):W("",!0)],32)],2)}const Afe={$style:xfe},Au=te(Sfe,[["render",Dfe],["__cssModules",Afe],["__scopeId","data-v-2cc3ea85"]]),zd=J({mixins:[Nt],computed:{...be(_e),executionId(){return this.$route.params.executionId},workflowName(){return this.workflowsStore.workflowName},currentWorkflow(){return this.$route.params.name||this.workflowsStore.workflowId},executions(){return this.workflowsStore.currentWorkflowExecutions},activeExecution(){return this.workflowsStore.activeWorkflowExecution}},methods:{getExecutionUIDetails(e){const t={name:"unknown",startTime:this.formatDate(e.startedAt),label:"Status unknown",runningTime:""};if(e.status==="waiting"?(t.name="waiting",t.label=this.$locale.baseText("executionsList.waiting")):e.status==="canceled"?t.label=this.$locale.baseText("executionsList.canceled"):e.status==="running"||e.status==="new"?(t.name="running",t.label=this.$locale.baseText("executionsList.running")):e.status==="success"?(t.name="success",t.label=this.$locale.baseText("executionsList.succeeded")):(e.status==="failed"||e.status==="crashed")&&(t.name="error",t.label=this.$locale.baseText("executionsList.error")),e.status||(e.status="unknown"),e.startedAt&&e.stoppedAt){const s=e.stoppedAt?new Date(e.stoppedAt).getTime():Date.now();t.runningTime=this.displayTimer(s-new Date(e.startedAt).getTime(),!0)}return t},formatDate(e){const{date:t,time:s}=this.convertToDisplayDate(e);return Te.baseText("executionsList.started",{interpolate:{time:s,date:t}})}}}),$fe=J({name:"ExecutionTime",mixins:[Nt],props:["startTime"],computed:{time(){if(!this.startTime)return"...";const e=this.nowTime-new Date(this.startTime).getTime();return this.displayTimer(e)}},data(){return{nowTime:-1,intervalTimer:null}},mounted(){this.setNow(),this.intervalTimer=setInterval(()=>{this.setNow()},1e3)},beforeUnmount(){this.intervalTimer!==null&&clearInterval(this.intervalTimer)},methods:{setNow(){this.nowTime=new Date().getTime()}}});function Nfe(e,t,s,n,o,i){return y(),P("span",null,N(e.time),1)}const G0=te($fe,[["render",Nfe]]),_fe=J({name:"execution-card",mixins:[zd],components:{ExecutionTime:G0},data(){return{VIEWS:ee}},props:{execution:{type:Object,required:!0},highlight:{type:Boolean,default:!1},showGap:{type:Boolean,default:!1}},computed:{retryExecutionActions(){return[{id:"current-workflow",label:this.$locale.baseText("executionsList.retryWithCurrentlySavedWorkflow")},{id:"original-workflow",label:this.$locale.baseText("executionsList.retryWithOriginalWorkflow")}]},executionUIDetails(){return this.getExecutionUIDetails(this.execution)},isActive(){return this.execution.id===this.$route.params.executionId}},methods:{onRetryMenuItemSelect(e){this.$emit("retryExecution",{execution:this.execution,command:e})}}}),Pfe="_executionCard_qm254_5",Ife="_active_qm254_10",Mfe="_executionStatus_qm254_13",Lfe="_executionLink_qm254_16",Ffe="_running_qm254_19",Bfe="_spinner_qm254_19",Rfe="_statusLabel_qm254_26",Vfe="_success_qm254_30",Ufe="_waiting_qm254_33",Wfe="_error_qm254_39",jfe="_unknown_qm254_45",qfe="_icon_qm254_61",zfe="_icons_qm254_66",Hfe="_retry_qm254_74",Qfe="_manual_qm254_77",Gfe="_showGap_qm254_85",Yfe={executionCard:Pfe,active:Ife,executionStatus:Mfe,executionLink:Lfe,running:Ffe,spinner:Bfe,statusLabel:Rfe,success:Vfe,waiting:Ufe,error:Wfe,unknown:jfe,icon:qfe,icons:zfe,retry:Hfe,manual:Qfe,showGap:Gfe},Xfe={key:0};function Kfe(e,t,s,n,o,i){const r=E("n8n-text"),l=E("n8n-spinner"),m=E("execution-time"),c=E("n8n-action-dropdown"),h=E("font-awesome-icon"),p=E("n8n-tooltip"),g=E("router-link");return y(),P("div",{class:$({"execution-card":!0,[e.$style.executionCard]:!0,[e.$style.active]:e.isActive,[e.$style[e.executionUIDetails.name]]:!0,[e.$style.highlight]:e.highlight,[e.$style.showGap]:e.showGap})},[b(g,{class:$(e.$style.executionLink),to:{name:e.VIEWS.EXECUTION_PREVIEW,params:{name:e.currentWorkflow,executionId:e.execution.id}},"data-test-execution-status":e.executionUIDetails.name},{default:v(()=>[D("div",{class:$(e.$style.description)},[b(r,{color:"text-dark",bold:!0,size:"medium","data-test-id":"execution-time"},{default:v(()=>[V(N(e.executionUIDetails.startTime),1)]),_:1}),D("div",{class:$(e.$style.executionStatus)},[e.executionUIDetails.name==="running"?(y(),R(l,{key:0,size:"small",class:$([e.$style.spinner,"mr-4xs"])},null,8,["class"])):W("",!0),b(r,{class:$(e.$style.statusLabel),size:"small"},{default:v(()=>[V(N(e.executionUIDetails.label),1)]),_:1},8,["class"]),V(" "+N(" ")+" "),e.executionUIDetails.name==="running"?(y(),R(r,{key:1,color:e.isActive?"text-dark":"text-base",size:"small"},{default:v(()=>[V(N(e.$locale.baseText("executionDetails.runningTimeRunning"))+" ",1),b(m,{"start-time":e.execution.startedAt},null,8,["start-time"])]),_:1},8,["color"])):e.executionUIDetails.runningTime!==""?(y(),R(r,{key:2,color:e.isActive?"text-dark":"text-base",size:"small"},{default:v(()=>{var w;return[V(N(e.$locale.baseText("executionDetails.runningTimeFinished",{interpolate:{time:(w=e.executionUIDetails)==null?void 0:w.runningTime}})),1)]}),_:1},8,["color"])):W("",!0)],2),e.execution.mode==="retry"?(y(),P("div",Xfe,[b(r,{color:e.isActive?"text-dark":"text-base",size:"small"},{default:v(()=>[V(N(e.$locale.baseText("executionDetails.retry"))+" #"+N(e.execution.retryOf),1)]),_:1},8,["color"])])):W("",!0)],2),D("div",{class:$(e.$style.icons)},[e.executionUIDetails.name==="error"?(y(),R(c,{key:0,class:$([e.$style.icon,e.$style.retry]),items:e.retryExecutionActions,activatorIcon:"redo","data-test-id":"retry-execution-button",onSelect:e.onRetryMenuItemSelect},null,8,["class","items","onSelect"])):W("",!0),e.execution.mode==="manual"?(y(),R(p,{key:1,placement:"top"},{content:v(()=>[D("span",null,N(e.$locale.baseText("executionsList.test")),1)]),default:v(()=>[e.execution.mode==="manual"?(y(),R(h,{key:0,class:$([e.$style.icon,e.$style.manual]),icon:"flask"},null,8,["class"])):W("",!0)]),_:1})):W("",!0)],2)]),_:1},8,["class","to","data-test-execution-status"])],2)}const Jfe={$style:Yfe},Zfe=te(_fe,[["render",Kfe],["__cssModules",Jfe]]),ege=J({name:"executions-info-accordion",mixins:[ut],props:{initiallyExpanded:{type:Boolean,default:!1}},data(){return{defaultValues:{saveFailedExecutions:"all",saveSuccessfulExecutions:"all",saveManualExecutions:!1},workflowSaveSettings:{saveFailedExecutions:!1,saveSuccessfulExecutions:!1,saveTestExecutions:!1}}},mounted(){this.defaultValues.saveFailedExecutions=this.settingsStore.saveDataErrorExecution,this.defaultValues.saveSuccessfulExecutions=this.settingsStore.saveDataSuccessExecution,this.defaultValues.saveManualExecutions=this.settingsStore.saveManualExecutions,this.updateSettings(this.workflowSettings)},watch:{workflowSettings(e){this.updateSettings(e)}},computed:{...be(fe,Le,Ee,_e),accordionItems(){return[{id:"productionExecutions",label:this.$locale.baseText("executionsLandingPage.emptyState.accordion.productionExecutions"),icon:this.productionExecutionsIcon.icon,iconColor:this.productionExecutionsIcon.color,tooltip:this.productionExecutionsStatus==="unknown"?this.$locale.baseText("executionsLandingPage.emptyState.accordion.productionExecutionsWarningTooltip"):null},{id:"manualExecutions",label:this.$locale.baseText("executionsLandingPage.emptyState.accordion.testExecutions"),icon:this.workflowSaveSettings.saveTestExecutions?"check":"times",iconColor:this.workflowSaveSettings.saveTestExecutions?"success":"danger"}]},shouldExpandAccordion(){return this.initiallyExpanded===!1?!1:!this.workflowSaveSettings.saveFailedExecutions||!this.workflowSaveSettings.saveSuccessfulExecutions||!this.workflowSaveSettings.saveTestExecutions},productionExecutionsIcon(){return this.productionExecutionsStatus==="saving"?{icon:"check",color:"success"}:this.productionExecutionsStatus==="not-saving"?{icon:"times",color:"danger"}:{icon:"exclamation-triangle",color:"warning"}},productionExecutionsStatus(){return this.workflowSaveSettings.saveSuccessfulExecutions===this.workflowSaveSettings.saveFailedExecutions?this.workflowSaveSettings.saveSuccessfulExecutions?"saving":"not-saving":"unknown"},workflowSettings(){return at(this.workflowsStore.workflowSettings)},accordionIcon(){return!this.workflowSaveSettings.saveTestExecutions||this.productionExecutionsStatus!=="saving"?{icon:"exclamation-triangle",color:"warning"}:null},currentWorkflowId(){return this.workflowsStore.workflowId},isNewWorkflow(){return!this.currentWorkflowId||this.currentWorkflowId===lt||this.currentWorkflowId==="new"},workflowName(){return this.workflowsStore.workflowName},currentWorkflowTagIds(){return this.workflowsStore.workflowTags}},methods:{updateSettings(e){this.workflowSaveSettings.saveFailedExecutions=e.saveDataErrorExecution===void 0?this.defaultValues.saveFailedExecutions==="all":e.saveDataErrorExecution==="all",this.workflowSaveSettings.saveSuccessfulExecutions=e.saveDataSuccessExecution===void 0?this.defaultValues.saveSuccessfulExecutions==="all":e.saveDataSuccessExecution==="all",this.workflowSaveSettings.saveTestExecutions=e.saveManualExecutions===void 0?this.defaultValues.saveManualExecutions:e.saveManualExecutions},onAccordionClick(e){e.target instanceof HTMLAnchorElement&&(e.preventDefault(),this.uiStore.openModal(Pn))},onItemTooltipClick(e,t){e==="productionExecutions"&&t.target instanceof HTMLAnchorElement&&(t.preventDefault(),this.uiStore.openModal(Pn))},openWorkflowSettings(e){this.uiStore.openModal(Pn)},async onSaveWorkflowClick(e){let t;this.currentWorkflowId!==lt?t=this.currentWorkflowId:this.$route.params.name&&this.$route.params.name!=="new"&&(t=this.$route.params.name),await this.saveCurrentWorkflow({id:t,name:this.workflowName,tags:this.currentWorkflowTagIds})&&await this.settingsStore.fetchPromptsData()}}}),tge="_accordion_67fqb_5",sge="_disabled_67fqb_31",nge={accordion:tge,disabled:sge},oge={class:"mt-2xs"};function ige(e,t,s,n,o,i){const r=E("n8n-link"),l=E("n8n-tooltip"),m=E("n8n-info-accordion");return y(),R(m,{class:$([e.$style.accordion,"mt-2xl"]),title:e.$locale.baseText("executionsLandingPage.emptyState.accordion.title"),items:e.accordionItems,initiallyExpanded:e.shouldExpandAccordion,headerIcon:e.accordionIcon,"onClick:body":e.onAccordionClick,onTooltipClick:e.onItemTooltipClick},{customContent:v(()=>[D("footer",oge,[V(N(e.$locale.baseText("executionsLandingPage.emptyState.accordion.footer"))+" ",1),b(l,{disabled:!e.isNewWorkflow},{content:v(()=>[D("div",null,[b(r,{onClick:Qe(e.onSaveWorkflowClick,["prevent"])},{default:v(()=>[V(N(e.$locale.baseText("executionsLandingPage.emptyState.accordion.footer.tooltipLink")),1)]),_:1},8,["onClick"]),V(" "+N(e.$locale.baseText("executionsLandingPage.emptyState.accordion.footer.tooltipText")),1)])]),default:v(()=>[b(r,{onClick:Qe(e.openWorkflowSettings,["prevent"]),class:$({[e.$style.disabled]:e.isNewWorkflow}),size:"small"},{default:v(()=>[V(N(e.$locale.baseText("executionsLandingPage.emptyState.accordion.footer.settingsLink")),1)]),_:1},8,["onClick","class"])]),_:1},8,["disabled"])])]),_:1},8,["class","title","items","initiallyExpanded","headerIcon","onClick:body","onTooltipClick"])}const rge={$style:nge},Y0=te(ege,[["render",ige],["__cssModules",rge]]);var age=wD,lge=function(){return age.Date.now()},uge=lge,cge=/\s/;function dge(e){for(var t=e.length;t--&&cge.test(e.charAt(t)););return t}var pge=dge,hge=pge,mge=/^\s+/;function fge(e){return e&&e.slice(0,hge(e)+1).replace(mge,"")}var gge=fge,yge=gge,Dv=qv,wge=bD,Av=0/0,bge=/^[-+]0x[0-9a-f]+$/i,vge=/^0b[01]+$/i,Tge=/^0o[0-7]+$/i,Sge=parseInt;function kge(e){if(typeof e=="number")return e;if(wge(e))return Av;if(Dv(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Dv(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=yge(e);var s=vge.test(e);return s||Tge.test(e)?Sge(e.slice(2),s?2:8):bge.test(e)?Av:+e}var Ege=kge,xge=qv,fh=uge,$v=Ege,Cge="Expected a function",Oge=Math.max,Dge=Math.min;function Age(e,t,s){var n,o,i,r,l,m,c=0,h=!1,p=!1,g=!0;if(typeof e!="function")throw new TypeError(Cge);t=$v(t)||0,xge(s)&&(h=!!s.leading,p="maxWait"in s,i=p?Oge($v(s.maxWait)||0,t):i,g="trailing"in s?!!s.trailing:g);function w(I){var j=n,q=o;return n=o=void 0,c=I,r=e.apply(q,j),r}function S(I){return c=I,l=setTimeout(C,t),h?w(I):r}function k(I){var j=I-m,q=I-c,Q=t-j;return p?Dge(Q,i-q):Q}function O(I){var j=I-m,q=I-c;return m===void 0||j>=t||j<0||p&&q>=i}function C(){var I=fh();if(O(I))return A(I);l=setTimeout(C,k(I))}function A(I){return l=void 0,g&&n?w(I):(n=o=void 0,r)}function T(){l!==void 0&&clearTimeout(l),c=0,n=m=o=l=void 0}function F(){return l===void 0?r:A(fh())}function L(){var I=fh(),j=O(I);if(n=arguments,o=this,m=I,j){if(l===void 0)return S(m);if(p)return clearTimeout(l),l=setTimeout(C,t),w(m)}return l===void 0&&(l=setTimeout(C,t)),r}return L.cancel=T,L.flush=F,L}var $ge=Age;const Nge=Vv($ge),_ge={"data-test-id":"execution-filter-form"},Pge={for:"execution-filter-workflows"},Ige={for:"execution-filter-tags"},Mge={for:"execution-filter-status"},Lge={for:"execution-filter-start-date"},Fge={target:"_blank",href:"https://docs.n8n.io/workflows/executions/custom-executions-data/"},Bge={for:"execution-filter-saved-data-key"},Rge=["onClick"],Vge={for:"execution-filter-saved-data-value"},Uge=["onClick"],Nv="YYYY-MM-DD HH:mm",Wge=J({__name:"ExecutionFilter",props:{workflows:{},popoverPlacement:{default:"bottom"},teleported:{type:Boolean,default:!0}},emits:["filterChanged"],setup(e,{emit:t}){const s=e,n=Le();Oi();const o=Ee(),i=bl(),r=Nge(t,500),l=Be(!1),m=we(()=>n.isEnterpriseFeatureEnabled(ot.AdvancedExecutionFilters)),c=we(()=>!1),h=()=>({status:"all",workflowId:"all",tags:[],startDate:"",endDate:"",metadata:[{key:"",value:""}]}),p=en(h()),g=en(nL(p).reduce((T,F)=>(T[F]=we({get(){return p[F]},set(L){p[F]=L,t("filterChanged",p)}}),T),{})),w=we(()=>[{id:"all",name:Te.baseText("executionsList.anyStatus")},{id:"error",name:Te.baseText("executionsList.error")},{id:"canceled",name:Te.baseText("executionsList.canceled")},{id:"running",name:Te.baseText("executionsList.running")},{id:"success",name:Te.baseText("executionsList.success")},{id:"waiting",name:Te.baseText("executionsList.waiting")}]),S=we(()=>{let T=0;return p.status!=="all"&&T++,p.workflowId!=="all"&&T++,Un(p.tags)||T++,Un(p.metadata)||T++,p.startDate&&T++,p.endDate&&T++,T}),k=(T,F,L)=>{p.metadata[T]||(p.metadata[T]={key:"",value:""}),p.metadata[T][F]=L,l.value||(i.track("User filtered executions with custom data"),l.value=!0),r("filterChanged",p)},O=T=>{p.tags=T,t("filterChanged",p)},C=()=>{Object.assign(p,h()),t("filterChanged",p)},A=()=>{o.goToUpgrade("custom-data-filter","upgrade-custom-data-filter")};return Bv(()=>{l.value=!1,t("filterChanged",p)}),(T,F)=>{const L=E("n8n-badge"),I=E("n8n-button"),j=E("n8n-option"),q=E("n8n-select"),Q=E("el-date-picker"),X=E("i18n-t"),U=E("n8n-icon"),ne=E("n8n-tooltip"),ie=E("n8n-input"),M=E("n8n-popover");return y(),R(M,{trigger:"click",placement:T.popoverPlacement,width:"440"},{reference:v(()=>[b(I,{icon:"filter",type:"tertiary",active:!!S.value,"data-test-id":"executions-filter-button"},{default:v(()=>[S.value?(y(),R(L,{key:0,theme:"primary",class:"mr-4xs","data-test-id":"execution-filter-badge"},{default:v(()=>[V(N(S.value),1)]),_:1})):W("",!0),V(" "+N(Z(Te).baseText("executionsList.filters")),1)]),_:1},8,["active"])]),default:v(()=>[D("div",_ge,[T.workflows&&T.workflows.length>0?(y(),P("div",{key:0,class:$(T.$style.group)},[D("label",Pge,N(Z(Te).baseText("workflows.heading")),1),b(q,{id:"execution-filter-workflows",modelValue:g.workflowId,"onUpdate:modelValue":F[0]||(F[0]=z=>g.workflowId=z),placeholder:Z(Te).baseText("executionsFilter.selectWorkflow"),filterable:"","data-test-id":"executions-filter-workflows-select",teleported:T.teleported},{default:v(()=>[D("div",null,[(y(!0),P(Ie,null,Re(s.workflows,(z,K)=>(y(),R(j,{key:K,label:z.name,value:z.id},null,8,["label","value"]))),128))])]),_:1},8,["modelValue","placeholder","teleported"])],2)):W("",!0),c.value?(y(),P("div",{key:1,class:$(T.$style.group)},[D("label",Ige,N(Z(Te).baseText("workflows.filters.tags")),1),b(qd,{id:"execution-filter-tags",placeholder:Z(Te).baseText("workflowOpen.filterWorkflows"),modelValue:p.tags,createEnabled:!1,"onUpdate:modelValue":O,"data-test-id":"executions-filter-tags-select"},null,8,["placeholder","modelValue"])],2)):W("",!0),D("div",{class:$(T.$style.group)},[D("label",Mge,N(Z(Te).baseText("executionsList.status")),1),b(q,{id:"execution-filter-status",modelValue:g.status,"onUpdate:modelValue":F[1]||(F[1]=z=>g.status=z),placeholder:Z(Te).baseText("executionsFilter.selectStatus"),filterable:"","data-test-id":"executions-filter-status-select",teleported:T.teleported},{default:v(()=>[(y(!0),P(Ie,null,Re(w.value,(z,K)=>(y(),R(j,{key:K,label:z.name,value:z.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","teleported"])],2),D("div",{class:$(T.$style.group)},[D("label",Lge,N(Z(Te).baseText("executionsFilter.start")),1),D("div",{class:$(T.$style.dates)},[b(Q,{id:"execution-filter-start-date",type:"datetime",teleported:!1,modelValue:g.startDate,"onUpdate:modelValue":F[2]||(F[2]=z=>g.startDate=z),format:Nv,placeholder:Z(Te).baseText("executionsFilter.startDate"),"data-test-id":"executions-filter-start-date-picker"},null,8,["modelValue","placeholder"]),D("span",{class:$(T.$style.divider)},"to",2),b(Q,{id:"execution-filter-end-date",type:"datetime",teleported:!1,modelValue:g.endDate,"onUpdate:modelValue":F[3]||(F[3]=z=>g.endDate=z),format:Nv,placeholder:Z(Te).baseText("executionsFilter.endDate"),"data-test-id":"executions-filter-end-date-picker"},null,8,["modelValue","placeholder"])],2)],2),D("div",{class:$(T.$style.group)},[b(ne,{placement:"right"},{content:v(()=>[b(X,{tag:"span",keypath:"executionsFilter.customData.docsTooltip"},{link:v(()=>[D("a",Fge,N(Z(Te).baseText("executionsFilter.customData.docsTooltip.link")),1)]),_:1})]),default:v(()=>[D("span",{class:$(T.$style.label)},[V(N(Z(Te).baseText("executionsFilter.savedData"))+" ",1),b(U,{class:$(T.$style.tooltipIcon),icon:"question-circle",size:"small"},null,8,["class"])],2)]),_:1}),D("div",{class:$(T.$style.subGroup)},[D("label",Bge,N(Z(Te).baseText("executionsFilter.savedDataKey")),1),b(ne,{disabled:m.value,placement:"top"},{content:v(()=>[b(X,{tag:"span",keypath:"executionsFilter.customData.inputTooltip"},{link:v(()=>[D("a",{href:"#",onClick:Qe(A,["prevent"]),"data-test-id":"executions-filter-view-plans-link"},N(Z(Te).baseText("executionsFilter.customData.inputTooltip.link")),9,Rge)]),_:1})]),default:v(()=>{var z;return[b(ie,{id:"execution-filter-saved-data-key",name:"execution-filter-saved-data-key",type:"text",disabled:!m.value,placeholder:Z(Te).baseText("executionsFilter.savedDataKeyPlaceholder"),modelValue:(z=p.metadata[0])==null?void 0:z.key,"onUpdate:modelValue":F[4]||(F[4]=K=>k(0,"key",K)),"data-test-id":"execution-filter-saved-data-key-input"},null,8,["disabled","placeholder","modelValue"])]}),_:1},8,["disabled"]),D("label",Vge,N(Z(Te).baseText("executionsFilter.savedDataValue")),1),b(ne,{disabled:m.value,placement:"top"},{content:v(()=>[b(X,{tag:"span",keypath:"executionsFilter.customData.inputTooltip"},{link:v(()=>[D("a",{href:"#",onClick:Qe(A,["prevent"])},N(Z(Te).baseText("executionsFilter.customData.inputTooltip.link")),9,Uge)]),_:1})]),default:v(()=>{var z;return[b(ie,{id:"execution-filter-saved-data-value",name:"execution-filter-saved-data-value",type:"text",disabled:!m.value,placeholder:Z(Te).baseText("executionsFilter.savedDataValuePlaceholder"),modelValue:(z=p.metadata[0])==null?void 0:z.value,"onUpdate:modelValue":F[5]||(F[5]=K=>k(0,"value",K)),"data-test-id":"execution-filter-saved-data-value-input"},null,8,["disabled","placeholder","modelValue"])]}),_:1},8,["disabled"])],2)],2),S.value?(y(),R(I,{key:2,class:$(T.$style.resetBtn),onClick:C,size:"large",text:"","data-test-id":"executions-filter-reset-button"},{default:v(()=>[V(N(Z(Te).baseText("executionsFilter.reset")),1)]),_:1},8,["class"])):W("",!0)])]),_:1},8,["placement"])}}}),jge="_group_1153r_5",qge="_label_1153r_6",zge="_subGroup_1153r_12",Hge="_dates_1153r_21",Qge="_divider_1153r_29",Gge="_resetBtn_1153r_34",Yge="_tooltipIcon_1153r_39",Xge={group:jge,label:qge,subGroup:zge,dates:Hge,divider:Qge,resetBtn:Gge,tooltipIcon:Yge};const Kge={$style:Xge},X0=te(Wge,[["__cssModules",Kge],["__scopeId","data-v-0b87f5e6"]]),Jge=J({name:"executions-sidebar",components:{ExecutionCard:Zfe,ExecutionsInfoAccordion:Y0,ExecutionFilter:X0},props:{autoRefresh:{type:Boolean,default:!1},executions:{type:Array,required:!0},loading:{type:Boolean,default:!0},loadingMore:{type:Boolean,default:!1},temporaryExecution:{type:Object,default:null}},data(){return{VIEWS:ee,filter:{}}},computed:{...be(Ee,_e)},watch:{$route(e,t){t.name===ee.EXECUTION_PREVIEW&&e.name===ee.EXECUTION_HOME&&this.$router.go(-1)},"workflowsStore.activeWorkflowExecution"(){this.checkListSize(),this.scrollToActiveCard()}},mounted(){this.checkListSize(),this.scrollToActiveCard()},methods:{loadMore(e=20){if(!this.loading){const t=this.$refs.executionList;if(t){const s=t.offsetHeight-(t.scrollHeight-t.scrollTop);s>-10&&s<10&&this.$emit("loadMore",e)}}},onRetryExecution(e){this.$emit("retryExecution",e)},onRefresh(){this.$emit("refresh")},onFilterChanged(e){this.$emit("filterUpdated",e)},reloadExecutions(){this.$emit("reloadExecutions")},checkListSize(){var s;const e=this.$refs.container,t=this.$refs[`execution-${(s=this.workflowsStore.activeWorkflowExecution)==null?void 0:s.id}`];if(e&&(t!=null&&t.length)){const n=t[0].$el,o=Math.ceil(e.clientHeight/n.clientHeight);o>this.executions.length&&this.$emit("loadMore",o-this.executions.length)}},scrollToActiveCard(){var s;const e=this.$refs.executionList,t=this.$refs[`execution-${(s=this.workflowsStore.activeWorkflowExecution)==null?void 0:s.id}`];if(e&&(t!=null&&t.length)&&this.workflowsStore.activeWorkflowExecution){const o=t[0].$el.getBoundingClientRect(),i=200;o.top>e.offsetHeight&&e.scrollTo({top:o.top-i})}}}}),Zge="_container_5zimt_5",eye="_heading_5zimt_14",tye="_controls_5zimt_21",sye="_executionList_5zimt_33",nye="_infoAccordion_5zimt_51",oye="_noResultsContainer_5zimt_63",iye={container:Zge,heading:eye,controls:tye,executionList:sye,infoAccordion:nye,noResultsContainer:oye};const rye={key:0,class:"mr-l"},aye={key:3,class:"mr-m"};function lye(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("el-checkbox"),m=E("execution-filter"),c=E("n8n-loading"),h=E("n8n-text"),p=E("execution-card"),g=E("executions-info-accordion");return y(),P("div",{class:$(["executions-sidebar",e.$style.container]),ref:"container","data-test-id":"executions-sidebar"},[D("div",{class:$(e.$style.heading)},[b(r,{tag:"h2",size:"medium",color:"text-dark"},{default:v(()=>[V(N(e.$locale.baseText("generic.executions")),1)]),_:1})],2),D("div",{class:$(e.$style.controls)},[b(l,{modelValue:e.autoRefresh,"onUpdate:modelValue":t[0]||(t[0]=w=>e.$emit("update:autoRefresh",w)),"data-test-id":"auto-refresh-checkbox"},{default:v(()=>[V(N(e.$locale.baseText("executionsList.autoRefresh")),1)]),_:1},8,["modelValue"]),b(m,{"popover-placement":"left-start",onFilterChanged:e.onFilterChanged},null,8,["onFilterChanged"])],2),D("div",{class:$(e.$style.executionList),ref:"executionList","data-test-id":"current-executions-list",onScroll:t[1]||(t[1]=w=>e.loadMore(20))},[e.loading?(y(),P("div",rye,[b(c,{variant:"rect"})])):W("",!0),!e.loading&&e.executions.length===0?(y(),P("div",{key:1,class:$(e.$style.noResultsContainer)},[b(h,{color:"text-base",size:"medium",align:"center"},{default:v(()=>[V(N(e.$locale.baseText("executionsLandingPage.noResults")),1)]),_:1})],2)):e.temporaryExecution?(y(),R(p,{key:2,execution:e.temporaryExecution,ref:`execution-${e.temporaryExecution.id}`,"data-test-id":`execution-details-${e.temporaryExecution.id}`,showGap:!0,onRetryExecution:e.onRetryExecution},null,8,["execution","data-test-id","onRetryExecution"])):W("",!0),(y(!0),P(Ie,null,Re(e.executions,w=>(y(),R(p,{key:w.id,execution:w,ref_for:!0,ref:`execution-${w.id}`,"data-test-id":`execution-details-${w.id}`,onRetryExecution:e.onRetryExecution},null,8,["execution","data-test-id","onRetryExecution"]))),128)),e.loadingMore?(y(),P("div",aye,[b(c,{variant:"p",rows:1})])):W("",!0)],34),D("div",{class:$(e.$style.infoAccordion)},[b(g,{initiallyExpanded:!1})],2)],2)}const uye={$style:iye},cye=te(Jge,[["render",lye],["__cssModules",uye],["__scopeId","data-v-77cd9d7e"]]),K0=e=>{const t={};switch(e.workflowId!=="all"&&(t.workflowId=e.workflowId),Un(e.tags)||(t.tags=e.tags),Un(e.metadata)||(t.metadata=e.metadata),e.startDate&&(t.startedAfter=e.startDate),e.endDate&&(t.startedBefore=e.endDate),e.status){case"waiting":t.status=["waiting"];break;case"error":t.status=["failed","crashed","error"];break;case"success":t.status=["success"];break;case"running":t.status=["running","new"];break;case"canceled":t.status=["canceled"];break}return t},dye=5,pye=100,hye=J({name:"executions-list",mixins:[zd,kn,ut],components:{ExecutionsSidebar:cye},data(){return{loading:!1,loadingMore:!1,filter:{},temporaryExecution:null,autoRefresh:!1,autoRefreshTimeout:void 0}},setup(){return{...je(),...St()}},computed:{...be(yi,it,Le,Ee,_e),hidePreview(){const e=this.filterApplied&&!this.executions.find(t=>{var s;return t.id===((s=this.activeExecution)==null?void 0:s.id)});return this.loading||!this.executions.length||e},filterApplied(){return this.filter.status!=="all"},workflowDataNotLoaded(){return this.workflowsStore.workflowId===lt&&this.workflowsStore.workflowName===""},loadedFinishedExecutionsCount(){return this.workflowsStore.getAllLoadedFinishedExecutions.length},totalFinishedExecutionsCount(){return this.workflowsStore.getTotalFinishedExecutionsCount},requestFilter(){return K0({...this.filter,workflowId:this.currentWorkflow})}},watch:{$route(e,t){if(e.params.name){const s=t.params.name!==e.params.name;this.initView(s)}if(e.params.executionId){const s=this.workflowsStore.getExecutionDataById(e.params.executionId);s&&(this.workflowsStore.activeWorkflowExecution=s)}}},async beforeRouteLeave(e,t,s){if(Ea(e)===_t.WORKFLOW){s();return}if(this.uiStore.stateIsDirty){const n=await this.confirm(this.$locale.baseText("generic.unsavedWork.confirmMessage.message"),{title:this.$locale.baseText("generic.unsavedWork.confirmMessage.headline"),type:"warning",confirmButtonText:this.$locale.baseText("generic.unsavedWork.confirmMessage.confirmButtonText"),cancelButtonText:this.$locale.baseText("generic.unsavedWork.confirmMessage.cancelButtonText"),showClose:!0});n===bt?(await this.saveCurrentWorkflow({},!1)&&await this.settingsStore.fetchPromptsData(),this.uiStore.stateIsDirty=!1,s()):n===$T&&(this.uiStore.stateIsDirty=!1,s())}else s()},async mounted(){this.loading=!0;const e=this.$route.params.name!==this.workflowsStore.workflowId,t=this.$route.params.name==="new"&&this.workflowsStore.workflowId===lt,s=e&&!t;if(await this.initView(s),!s)if(this.workflowsStore.currentWorkflowExecutions.length>0){const n=await this.loadExecutions();this.workflowsStore.addToCurrentExecutions(n),await this.setActiveExecution()}else await this.setExecutions();this.autoRefresh=this.uiStore.executionSidebarAutoRefresh===!0,this.startAutoRefreshInterval(),document.addEventListener("visibilitychange",this.onDocumentVisibilityChange),this.loading=!1},beforeUnmount(){this.stopAutoRefreshInterval(),document.removeEventListener("visibilitychange",this.onDocumentVisibilityChange)},methods:{async initView(e){e&&(this.nodeTypesStore.allNodeTypes.length===0&&await this.nodeTypesStore.getNodeTypes(),await this.openWorkflow(this.$route.params.name),this.uiStore.nodeViewInitialized=!1,this.workflowsStore.currentWorkflowExecutions.length===0&&await this.setExecutions(),this.activeExecution&&this.$router.push({name:ee.EXECUTION_PREVIEW,params:{name:this.currentWorkflow,executionId:this.activeExecution.id}}).catch(()=>{}))},async onLoadMore(){this.loadingMore||await this.callDebounced("loadMore",{debounceTime:1e3})},async loadMore(e=20){var o;if(this.filter.status==="running"||this.loadedFinishedExecutionsCount>=this.totalFinishedExecutionsCount)return;this.loadingMore=!0;let t;this.executions.length!==0&&(t=this.executions.slice(-1)[0].id);let s;try{s=await this.workflowsStore.getPastExecutions(this.requestFilter,e,t)}catch(i){this.loadingMore=!1,this.showError(i,this.$locale.baseText("executionsList.showError.loadMore.title"));return}s.results=s.results.map(i=>({...i,mode:i.mode}));const n=[...this.executions];for(const i of s.results)n.find(r=>r.id===i.id)===void 0&&n.push(i),i.id===((o=this.temporaryExecution)==null?void 0:o.id)&&(this.temporaryExecution=null);this.workflowsStore.currentWorkflowExecutions=n,this.loadingMore=!1},async onDeleteCurrentExecution(){var e;this.loading=!0;try{const t=this.executions.findIndex(n=>n.id===this.$route.params.executionId),s=this.executions[t+1]||this.executions[t-1]||this.executions[0];await this.workflowsStore.deleteExecutions({ids:[this.$route.params.executionId]}),((e=this.temporaryExecution)==null?void 0:e.id)===this.$route.params.executionId&&(this.temporaryExecution=null),this.executions.length>0?(await this.$router.push({name:ee.EXECUTION_PREVIEW,params:{name:this.currentWorkflow,executionId:s.id}}).catch(()=>{}),this.workflowsStore.activeWorkflowExecution=s):(this.workflowsStore.activeWorkflowExecution=null,await this.$router.push({name:ee.EXECUTION_HOME,params:{name:this.currentWorkflow}})),await this.setExecutions()}catch(t){this.loading=!1,this.showError(t,this.$locale.baseText("executionsList.showError.handleDeleteSelected.title"));return}this.loading=!1,this.showMessage({title:this.$locale.baseText("executionsList.showMessage.handleDeleteSelected.title"),type:"success"})},async onStopExecution(){const e=this.$route.params.executionId;try{await this.workflowsStore.stopCurrentExecution(e),this.showMessage({title:this.$locale.baseText("executionsList.showMessage.stopExecution.title"),message:this.$locale.baseText("executionsList.showMessage.stopExecution.message",{interpolate:{activeExecutionId:e}}),type:"success"}),await this.loadAutoRefresh()}catch(t){this.showError(t,this.$locale.baseText("executionsList.showError.stopExecution.title"))}},async onFilterUpdated(e){this.filter=e,await this.setExecutions()},async setExecutions(){this.workflowsStore.currentWorkflowExecutions=await this.loadExecutions(),await this.setActiveExecution()},async startAutoRefreshInterval(){this.autoRefresh&&(await this.loadAutoRefresh(),this.autoRefreshTimeout=setTimeout(()=>{this.startAutoRefreshInterval()},4e3))},stopAutoRefreshInterval(){this.autoRefreshTimeout&&(clearTimeout(this.autoRefreshTimeout),this.autoRefreshTimeout=void 0)},onAutoRefreshToggle(e){this.autoRefresh=e,this.uiStore.executionSidebarAutoRefresh=this.autoRefresh,this.stopAutoRefreshInterval(),this.startAutoRefreshInterval()},onDocumentVisibilityChange(){document.visibilityState==="hidden"?this.stopAutoRefreshInterval():this.startAutoRefreshInterval()},async loadAutoRefresh(){var r;const e=await this.loadExecutions();let t=[...this.executions];const s=t.map(l=>parseInt(l.id,10));let n=0;const o=[];let i=null;for(let l=e.length-1;l>=0;l--){const m=e[l],c=parseInt(m.id,10);if(n!==0&&!isNaN(c)&&c-n>1){const g=Hv(n+1,c);o.push(...g)}n=parseInt(m.id,10)||0;const h=s.indexOf(c);if(h!==-1){const g=t.find(k=>k.id===m.id),w=g&&g.finished===!1||(g==null?void 0:g.stoppedAt)===void 0,S=m.finished===!0||m.stoppedAt!==void 0;w&&S&&(t[h]=m,m.id===((r=this.activeExecution)==null?void 0:r.id)&&(i=m));continue}let p;for(p=t.length-1;p>=0;p--)if(c<parseInt(t[p].id,10)){t.splice(p+1,0,m);break}p===-1&&t.unshift(m)}t=t.filter(l=>!o.includes(parseInt(l.id,10))&&n>=parseInt(l.id,10)),this.workflowsStore.currentWorkflowExecutions=t,i!==null?this.workflowsStore.activeWorkflowExecution=i:!t.some(m=>{var c;return m.id===((c=this.activeExecution)==null?void 0:c.id)})&&this.executions.length>0&&!this.temporaryExecution?this.$router.push({name:ee.EXECUTION_PREVIEW,params:{name:this.currentWorkflow,executionId:this.executions[0].id}}).catch(()=>{}):this.executions.length===0&&(this.$router.push({name:ee.EXECUTION_HOME}).catch(()=>{}),this.workflowsStore.activeWorkflowExecution=null)},async loadExecutions(){if(!this.currentWorkflow)return[];try{return await this.workflowsStore.loadCurrentWorkflowExecutions(this.requestFilter)}catch(e){return e.errorCode===hT?this.showMessage({title:this.$locale.baseText("executionsList.showError.refreshData.title"),message:e.message,type:"error",duration:3500},!1):this.showError(e,this.$locale.baseText("executionsList.showError.refreshData.title")),[]}},async setActiveExecution(){const e=this.$route.params.executionId;if(e){const t=this.workflowsStore.getExecutionDataById(e);t?this.workflowsStore.activeWorkflowExecution=t:await this.tryToFindExecution(e)}this.workflowsStore.activeWorkflowExecution===null&&this.executions.length>0&&!this.temporaryExecution&&(this.workflowsStore.activeWorkflowExecution=this.executions[0],this.$route.name===ee.EXECUTION_HOME&&this.$router.push({name:ee.EXECUTION_PREVIEW,params:{name:this.currentWorkflow,executionId:this.executions[0].id}}).catch(()=>{}))},async tryToFindExecution(e,t=0){if(t===0){const n=await this.workflowsStore.fetchExecutionDataById(e);if(n)this.temporaryExecution=n;else{this.workflowsStore.activeWorkflowExecution=null,this.showError(new Error(this.$locale.baseText("executionView.notFound.message",{interpolate:{executionId:e}})),this.$locale.baseText("nodeView.showError.openExecution.title"));return}}if(t>=dye){if(this.temporaryExecution){this.workflowsStore.activeWorkflowExecution=this.temporaryExecution;return}this.workflowsStore.activeWorkflowExecution=null;return}await this.loadMore(pye);const s=this.workflowsStore.getExecutionDataById(e);if(!s)await this.$nextTick(),await this.tryToFindExecution(e,t+1);else{this.workflowsStore.activeWorkflowExecution=s,this.temporaryExecution=null;return}},async openWorkflow(e){await this.loadActiveWorkflows();let t;try{t=await this.workflowsStore.fetchWorkflow(e)}catch(o){this.showError(o,this.$locale.baseText("nodeView.showError.openWorkflow.title"));return}if(t===void 0)throw new Error(this.$locale.baseText("nodeView.workflowWithIdCouldNotBeFound",{interpolate:{workflowId:e}}));await this.addNodes(t.nodes,t.connections),this.workflowsStore.setActive(t.active||!1),this.workflowsStore.setWorkflowId(e),this.workflowsStore.setWorkflowName({newName:t.name,setStateDirty:!1}),this.workflowsStore.setWorkflowSettings(t.settings||{}),this.workflowsStore.setWorkflowPinData(t.pinData||{});const s=t.tags||[],n=s.map(o=>o.id);this.workflowsStore.setWorkflowTagIds(n||[]),this.workflowsStore.setWorkflowVersionId(t.versionId),this.tagsStore.upsertTags(s),this.$externalHooks().run("workflow.open",{workflowId:e,workflowName:t.name}),this.uiStore.stateIsDirty=!1},async addNodes(e,t){if(!e||!e.length)return;await this.loadNodesProperties(e.map(n=>({name:n.type,version:n.typeVersion})));let s;if(e.forEach(n=>{if(n.id||(n.id=Ds()),s=this.nodeTypesStore.getNodeType(n.type,n.typeVersion),n.hasOwnProperty("disabled")||(n.disabled=!1),n.hasOwnProperty("parameters")||(n.parameters={}),s!==null){let o=null;try{o=An(s.properties,n.parameters,!0,!1,n)}catch(i){console.error(this.$locale.baseText("nodeView.thereWasAProblemLoadingTheNodeParametersOfNode")+`: "${n.name}"`),console.error(i)}n.parameters=o!==null?o:{},n.type===Ns&&n.parameters.path===""&&(n.parameters.path=n.webhookId)}this.workflowsStore.addNode(n)}),t!==void 0){let n;for(const o of Object.keys(t))for(const i of Object.keys(t[o]))for(let r=0;r<t[o][i].length;r++){const l=t[o][i][r];l&&l.forEach(m=>{n=[{node:o,type:i,index:r},{node:m.node,type:m.type,index:m.index}],this.workflowsStore.addConnection({connection:n,setStateDirty:!1})})}}},async loadNodesProperties(e){const t=this.nodeTypesStore.allNodeTypes,s=[];t.forEach(n=>{const o=Array.isArray(n.version)?n.version:[n.version];e.find(i=>i.name===n.name&&o.includes(i.version))&&!n.hasOwnProperty("properties")&&s.push({name:n.name,version:Array.isArray(n.version)?n.version.slice(-1)[0]:n.version})}),s.length>0&&await this.nodeTypesStore.getNodesInformation(s)},async loadActiveWorkflows(){await this.workflowsStore.fetchActiveWorkflows()},async onRetryExecution(e){const t=e.command==="current-workflow";this.showMessage({title:this.$locale.baseText("executionDetails.runningMessage"),type:"info",duration:2e3}),await this.retryExecution(e.execution,t),await this.loadAutoRefresh(),this.$telemetry.track("User clicked retry execution button",{workflow_id:this.workflowsStore.workflowId,execution_id:e.execution.id,retry_type:t?"current":"original"})},async retryExecution(e,t){try{await this.workflowsStore.retryExecution(e.id,t)===!0?this.showMessage({title:this.$locale.baseText("executionsList.showMessage.retrySuccessfulTrue.title"),type:"success"}):this.showMessage({title:this.$locale.baseText("executionsList.showMessage.retrySuccessfulFalse.title"),type:"error"})}catch(s){this.showError(s,this.$locale.baseText("executionsList.showError.retryExecution.title"))}}}}),mye="_container_1e18q_5",fye="_content_1e18q_11",gye={container:mye,content:fye};function yye(e,t,s,n,o,i){const r=E("executions-sidebar"),l=E("router-view");return y(),P("div",{class:$(e.$style.container)},[b(r,{executions:e.executions,loading:e.loading&&!e.executions.length,loadingMore:e.loadingMore,temporaryExecution:e.temporaryExecution,"auto-refresh":e.autoRefresh,"onUpdate:autoRefresh":e.onAutoRefreshToggle,onReloadExecutions:e.setExecutions,onFilterUpdated:e.onFilterUpdated,onLoadMore:e.onLoadMore,onRetryExecution:e.onRetryExecution},null,8,["executions","loading","loadingMore","temporaryExecution","auto-refresh","onUpdate:autoRefresh","onReloadExecutions","onFilterUpdated","onLoadMore","onRetryExecution"]),e.hidePreview?W("",!0):(y(),P("div",{key:0,class:$(e.$style.content)},[b(l,{name:"executionPreview",onDeleteCurrentExecution:e.onDeleteCurrentExecution,onRetryExecution:e.onRetryExecution,onStopExecution:e.onStopExecution},null,8,["onDeleteCurrentExecution","onRetryExecution","onStopExecution"])],2))],2)}const wye={$style:gye},bye=te(hye,[["render",yye],["__cssModules",wye]]),vye=J({name:"executions-landing-page",components:{ExecutionsInfoAccordion:Y0},computed:{...be(Ee,_e),executionCount(){return this.workflowsStore.currentWorkflowExecutions.length},containsTrigger(){return this.workflowsStore.workflowTriggerNodes.length>0}},methods:{onSetupFirstStep(e){this.uiStore.addFirstStepOnLoad=!0;const t=this.getWorkflowRoute();this.$router.push(t)},getWorkflowRoute(){const e=this.workflowsStore.workflowId||this.$route.params.name;return e===lt?{name:ee.NEW_WORKFLOW,params:{}}:{name:ee.WORKFLOW,params:{name:e}}}}}),Tye="_container_liidw_5",Sye="_messageContainer_liidw_15",kye="_icon_liidw_26",Eye={container:Tye,messageContainer:Sye,icon:kye},xye={key:0},Cye={key:1};function Oye(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-text"),m=E("n8n-button"),c=E("executions-info-accordion");return y(),P("div",{class:$(["workflow-executions-container",e.$style.container])},[e.executionCount===0?(y(),P("div",{key:0,class:$([e.$style.messageContainer,e.$style.noExecutionsMessage])},[e.containsTrigger?(y(),P("div",Cye,[b(r,{tag:"h2",size:"xlarge",color:"text-dark",class:"mb-2xs"},{default:v(()=>[V(N(e.$locale.baseText("executionsLandingPage.emptyState.heading")),1)]),_:1}),b(c)])):(y(),P("div",xye,[b(r,{tag:"h2",size:"xlarge",color:"text-dark",class:"mb-2xs"},{default:v(()=>[V(N(e.$locale.baseText("executionsLandingPage.emptyState.noTrigger.heading")),1)]),_:1}),b(l,{size:"medium"},{default:v(()=>[V(N(e.$locale.baseText("executionsLandingPage.emptyState.message")),1)]),_:1}),b(m,{class:"mt-l",type:"tertiary",size:"large",onClick:e.onSetupFirstStep},{default:v(()=>[V(N(e.$locale.baseText("executionsLandingPage.emptyState.noTrigger.buttonText")),1)]),_:1},8,["onClick"])]))],2)):W("",!0)],2)}const Dye={$style:Eye},Aye=te(vye,[["render",Oye],["__cssModules",Dye]]),$ye=J({name:"WorkflowPreview",props:{loading:{type:Boolean,default:!1},mode:{type:String,default:"workflow",validator:e=>["workflow","execution"].includes(e)},workflow:{type:Object,required:!1},executionId:{type:String,required:!1},executionMode:{type:String,required:!1},loaderType:{type:String,default:"image",validator:e=>["image","spinner"].includes(e)}},setup(){return{...je()}},data(){return{nodeViewDetailsOpened:!1,ready:!1,insideIframe:!1,scrollX:0,scrollY:0}},computed:{...be(fe,_e),showPreview(){return!this.loading&&(this.mode==="workflow"&&!!this.workflow||this.mode==="execution"&&!!this.executionId)&&this.ready}},methods:{onMouseEnter(){this.insideIframe=!0,this.scrollX=window.scrollX,this.scrollY=window.scrollY},onMouseLeave(){this.insideIframe=!1},loadWorkflow(){try{if(!this.workflow)throw new Error(this.$locale.baseText("workflowPreview.showError.missingWorkflow"));if(!this.workflow.nodes||!Array.isArray(this.workflow.nodes))throw new Error(this.$locale.baseText("workflowPreview.showError.arrayEmpty"));const e=this.$refs.preview_iframe;e!=null&&e.contentWindow&&e.contentWindow.postMessage(JSON.stringify({command:"openWorkflow",workflow:this.workflow}),"*")}catch(e){this.showError(e,this.$locale.baseText("workflowPreview.showError.previewError.title"),this.$locale.baseText("workflowPreview.showError.previewError.message"))}},loadExecution(){try{if(!this.executionId)throw new Error(this.$locale.baseText("workflowPreview.showError.missingExecution"));const e=this.$refs.preview_iframe;e!=null&&e.contentWindow&&(e.contentWindow.postMessage(JSON.stringify({command:"openExecution",executionId:this.executionId,executionMode:this.executionMode||""}),"*"),this.workflowsStore.activeWorkflowExecution&&e.contentWindow.postMessage(JSON.stringify({command:"setActiveExecution",execution:this.workflowsStore.activeWorkflowExecution}),"*"))}catch(e){this.showError(e,this.$locale.baseText("workflowPreview.showError.previewError.title"),this.$locale.baseText("workflowPreview.executionMode.showError.previewError.message"))}},receiveMessage({data:e}){try{const t=JSON.parse(e);t.command==="n8nReady"?this.ready=!0:t.command==="openNDV"?this.nodeViewDetailsOpened=!0:t.command==="closeNDV"?this.nodeViewDetailsOpened=!1:t.command==="error"&&this.$emit("close")}catch{}},onDocumentScroll(){this.insideIframe&&window.scrollTo(this.scrollX,this.scrollY)}},watch:{showPreview(e){e&&(this.mode==="workflow"?this.loadWorkflow():this.mode==="execution"&&this.loadExecution())},executionId(e){this.mode==="execution"&&this.executionId&&this.loadExecution()}},mounted(){window.addEventListener("message",this.receiveMessage),document.addEventListener("scroll",this.onDocumentScroll)},beforeUnmount(){window.removeEventListener("message",this.receiveMessage),document.removeEventListener("scroll",this.onDocumentScroll)}}),Nye="_container_2z8pg_5",_ye="_workflow_2z8pg_12",Pye="_show_2z8pg_18",Iye="_openNDV_2z8pg_24",Mye="_spinner_2z8pg_33",Lye="_imageLoader_2z8pg_41",Fye="_executionPreview_2z8pg_45",Bye={container:Nye,workflow:_ye,show:Pye,openNDV:Iye,spinner:Mye,imageLoader:Lye,executionPreview:Fye},Rye=["src"];function Vye(e,t,s,n,o,i){const r=E("n8n-loading"),l=E("n8n-spinner");return y(),P("div",{class:$(e.$style.container)},[e.loaderType==="image"&&!e.showPreview?(y(),P("div",{key:0,class:$(e.$style.imageLoader)},[b(r,{loading:!e.showPreview,rows:1,variant:"image"},null,8,["loading"])],2)):e.loaderType==="spinner"&&!e.showPreview?(y(),P("div",{key:1,class:$(e.$style.spinner)},[b(l,{type:"dots"})],2)):W("",!0),D("iframe",{class:$({[e.$style.workflow]:!this.nodeViewDetailsOpened,[e.$style.executionPreview]:e.mode==="execution",[e.$style.openNDV]:this.nodeViewDetailsOpened,[e.$style.show]:this.showPreview}),ref:"preview_iframe",src:`${e.rootStore.baseUrl}workflows/demo`,onMouseenter:t[0]||(t[0]=(...m)=>e.onMouseEnter&&e.onMouseEnter(...m)),onMouseleave:t[1]||(t[1]=(...m)=>e.onMouseLeave&&e.onMouseLeave(...m))},null,42,Rye)],2)}const Uye={$style:Bye},J0=te($ye,[["render",Vye],["__cssModules",Uye]]),Wye=J({name:"execution-preview",mixins:[zd],components:{ElDropdown:vD,WorkflowPreview:J0},data(){return{VIEWS:ee}},setup(){return{...St()}},computed:{executionUIDetails(){return this.activeExecution?this.getExecutionUIDetails(this.activeExecution):null},executionMode(){var e;return((e=this.activeExecution)==null?void 0:e.mode)||""}},methods:{async onDeleteExecution(){await this.confirm(this.$locale.baseText("executionDetails.confirmMessage.message"),this.$locale.baseText("executionDetails.confirmMessage.headline"),{type:"warning",confirmButtonText:this.$locale.baseText("executionDetails.confirmMessage.confirmButtonText"),cancelButtonText:""})===bt&&this.$emit("deleteCurrentExecution")},handleRetryClick(e){this.$emit("retryExecution",{execution:this.activeExecution,command:e})},handleStopClick(){this.$emit("stopExecution")},onRetryButtonBlur(e){const t=this.$refs.retryDropdown;t&&e.relatedTarget===null&&t.handleClose()}}}),jye="_previewContainer_1ouci_5",qye="_executionDetails_1ouci_11",zye="_spinner_1ouci_25",Hye="_running_1ouci_31",Qye="_waiting_1ouci_36",Gye="_success_1ouci_40",Yye="_error_1ouci_44",Xye="_runningInfo_1ouci_48",Kye="_runningMessage_1ouci_55",Jye={previewContainer:jye,executionDetails:qye,spinner:zye,running:Hye,waiting:Qye,success:Gye,error:Yye,runningInfo:Xye,runningMessage:Kye},Zye=["data-test-id"],ewe=D("br",null,null,-1),twe=D("br",null,null,-1),swe={class:"retry-button"};function nwe(e,t,s,n,o,i){var k,O,C,A;const r=E("n8n-spinner"),l=E("n8n-text"),m=E("n8n-button"),c=E("router-link"),h=E("n8n-icon-button"),p=E("el-dropdown-item"),g=E("el-dropdown-menu"),w=E("el-dropdown"),S=E("workflow-preview");return((k=e.executionUIDetails)==null?void 0:k.name)==="running"?(y(),P("div",{key:0,class:$(e.$style.runningInfo)},[D("div",{class:$(e.$style.spinner)},[b(r,{type:"ring"})],2),b(l,{class:$(e.$style.runningMessage),color:"text-light"},{default:v(()=>[V(N(e.$locale.baseText("executionDetails.runningMessage")),1)]),_:1},8,["class"]),b(m,{class:"mt-l",type:"tertiary",onClick:e.handleStopClick},{default:v(()=>[V(N(e.$locale.baseText("executionsList.stopExecution")),1)]),_:1},8,["onClick"])],2)):(y(),P("div",{key:1,class:$(e.$style.previewContainer)},[e.activeExecution?(y(),P("div",{key:0,class:$(e.$style.executionDetails),"data-test-id":`execution-preview-details-${e.executionId}`},[D("div",null,[b(l,{size:"large",color:"text-base",bold:!0,"data-test-id":"execution-time"},{default:v(()=>{var T;return[V(N((T=e.executionUIDetails)==null?void 0:T.startTime),1)]}),_:1}),ewe,((O=e.executionUIDetails)==null?void 0:O.name)==="running"?(y(),R(r,{key:0,size:"small",class:$([e.$style.spinner,"mr-4xs"])},null,8,["class"])):W("",!0),b(l,{size:"medium",class:$([e.$style.status,e.$style[e.executionUIDetails.name]]),"data-test-id":"execution-preview-label"},{default:v(()=>[V(N(e.executionUIDetails.label),1)]),_:1},8,["class"]),V(" "+N(" ")+" "),e.executionUIDetails.name==="running"?(y(),R(l,{key:1,color:"text-base",size:"medium"},{default:v(()=>{var T;return[V(N(e.$locale.baseText("executionDetails.runningTimeRunning",{interpolate:{time:(T=e.executionUIDetails)==null?void 0:T.runningTime}}))+" | ID#"+N(e.activeExecution.id),1)]}),_:1})):e.executionUIDetails.name!=="waiting"?(y(),R(l,{key:2,color:"text-base",size:"medium","data-test-id":"execution-preview-id"},{default:v(()=>{var T;return[V(N(e.$locale.baseText("executionDetails.runningTimeFinished",{interpolate:{time:((T=e.executionUIDetails)==null?void 0:T.runningTime)??"unknown"}}))+" | ID#"+N(e.activeExecution.id),1)]}),_:1})):((C=e.executionUIDetails)==null?void 0:C.name)==="waiting"?(y(),R(l,{key:3,color:"text-base",size:"medium"},{default:v(()=>[V(" | ID#"+N(e.activeExecution.id),1)]),_:1})):W("",!0),twe,e.activeExecution.mode==="retry"?(y(),R(l,{key:4,color:"text-base",size:"medium"},{default:v(()=>[V(N(e.$locale.baseText("executionDetails.retry"))+" ",1),b(c,{class:$(e.$style.executionLink),to:{name:e.VIEWS.EXECUTION_PREVIEW,params:{workflowId:e.activeExecution.workflowId,executionId:e.activeExecution.retryOf}}},{default:v(()=>[V(" #"+N(e.activeExecution.retryOf),1)]),_:1},8,["class","to"])]),_:1})):W("",!0)]),D("div",null,[((A=e.executionUIDetails)==null?void 0:A.name)==="error"?(y(),R(w,{key:0,trigger:"click",class:"mr-xs",onCommand:e.handleRetryClick,ref:"retryDropdown"},{dropdown:v(()=>[b(g,null,{default:v(()=>[b(p,{command:"current-workflow"},{default:v(()=>[V(N(e.$locale.baseText("executionsList.retryWithCurrentlySavedWorkflow")),1)]),_:1}),b(p,{command:"original-workflow"},{default:v(()=>[V(N(e.$locale.baseText("executionsList.retryWithOriginalWorkflow")),1)]),_:1})]),_:1})]),default:v(()=>[D("span",swe,[b(h,{size:"large",type:"tertiary",title:e.$locale.baseText("executionsList.retryExecution"),icon:"redo","data-test-id":"execution-preview-retry-button",onBlur:e.onRetryButtonBlur},null,8,["title","onBlur"])])]),_:1},8,["onCommand"])):W("",!0),b(h,{title:e.$locale.baseText("executionDetails.deleteExecution"),icon:"trash",size:"large",type:"tertiary","data-test-id":"execution-preview-delete-button",onClick:e.onDeleteExecution},null,8,["title","onClick"])])],10,Zye)):W("",!0),b(S,{mode:"execution",loaderType:"spinner",executionId:e.executionId,executionMode:e.executionMode},null,8,["executionId","executionMode"])],2))}const owe={$style:Jye},iwe=te(Wye,[["render",nwe],["__cssModules",owe]]),rwe=J({name:"SettingsSidebar",mixins:[Qg],computed:{...be(fe,Le,Ee),settingsFakeDoorFeatures(){return this.uiStore.getFakeDoorByLocation("settings")},sidebarMenuItems(){const e=[{id:"settings-usage-and-plan",icon:"chart-bar",label:this.$locale.baseText("settings.usageAndPlan.title"),position:"top",available:this.canAccessUsageAndPlan(),activateOnRouteNames:[ee.USAGE]},{id:"settings-personal",icon:"user-circle",label:this.$locale.baseText("settings.personal"),position:"top",available:this.canAccessPersonalSettings(),activateOnRouteNames:[ee.PERSONAL_SETTINGS]},{id:"settings-users",icon:"user-friends",label:this.$locale.baseText("settings.users"),position:"top",available:this.canAccessUsersSettings(),activateOnRouteNames:[ee.USERS_SETTINGS]},{id:"settings-api",icon:"plug",label:this.$locale.baseText("settings.n8napi"),position:"top",available:this.canAccessApiSettings(),activateOnRouteNames:[ee.API_SETTINGS]},{id:"settings-audit-logs",icon:"clipboard-list",label:this.$locale.baseText("settings.auditLogs.title"),position:"top",available:this.canAccessAuditLogs(),activateOnRouteNames:[ee.AUDIT_LOGS]},{id:"settings-source-control",icon:"code-branch",label:this.$locale.baseText("settings.sourceControl.title"),position:"top",available:this.canAccessSourceControl(),activateOnRouteNames:[ee.SOURCE_CONTROL]},{id:"settings-sso",icon:"user-lock",label:this.$locale.baseText("settings.sso"),position:"top",available:this.canAccessSso(),activateOnRouteNames:[ee.SSO_SETTINGS]},{id:"settings-ldap",icon:"network-wired",label:this.$locale.baseText("settings.ldap"),position:"top",available:this.canAccessLdapSettings(),activateOnRouteNames:[ee.LDAP_SETTINGS]}];for(const t of this.settingsFakeDoorFeatures)t.uiLocations.includes("settings")&&e.push({id:t.id,icon:t.icon||"question",label:this.$locale.baseText(t.featureName),position:"top",available:!0,activateOnRoutePaths:[`/settings/coming-soon/${t.id}`]});return e.push({id:"settings-log-streaming",icon:"sign-in-alt",label:this.$locale.baseText("settings.log-streaming"),position:"top",available:this.canAccessLogStreamingSettings(),activateOnRouteNames:[ee.LOG_STREAMING_SETTINGS]}),e.push({id:"settings-community-nodes",icon:"cube",label:this.$locale.baseText("settings.communityNodes"),position:"top",available:this.canAccessCommunityNodes(),activateOnRouteNames:[ee.COMMUNITY_NODES]}),e}},methods:{canAccessPersonalSettings(){return this.canUserAccessRouteByName(ee.PERSONAL_SETTINGS)},canAccessUsersSettings(){return this.canUserAccessRouteByName(ee.USERS_SETTINGS)},canAccessCommunityNodes(){return this.canUserAccessRouteByName(ee.COMMUNITY_NODES)},canAccessApiSettings(){return this.canUserAccessRouteByName(ee.API_SETTINGS)},canAccessLdapSettings(){return this.canUserAccessRouteByName(ee.LDAP_SETTINGS)},canAccessLogStreamingSettings(){return this.canUserAccessRouteByName(ee.LOG_STREAMING_SETTINGS)},canAccessUsageAndPlan(){return this.canUserAccessRouteByName(ee.USAGE)},canAccessSourceControl(){return this.canUserAccessRouteByName(ee.SOURCE_CONTROL)},canAccessAuditLogs(){return this.canUserAccessRouteByName(ee.AUDIT_LOGS)},canAccessSso(){return this.canUserAccessRouteByName(ee.SSO_SETTINGS)},onVersionClick(){this.uiStore.openModal(cl)},openUpdatesPanel(){this.uiStore.openModal(gi)},async handleSelect(e){switch(e){case"settings-personal":this.$router.currentRoute.name!==ee.PERSONAL_SETTINGS&&await this.$router.push({name:ee.PERSONAL_SETTINGS});break;case"settings-users":this.$router.currentRoute.name!==ee.USERS_SETTINGS&&await this.$router.push({name:ee.USERS_SETTINGS});break;case"settings-api":this.$router.currentRoute.name!==ee.API_SETTINGS&&await this.$router.push({name:ee.API_SETTINGS});break;case"settings-ldap":this.$router.currentRoute.name!==ee.LDAP_SETTINGS&&this.$router.push({name:ee.LDAP_SETTINGS});break;case"settings-log-streaming":this.$router.currentRoute.name!==ee.LOG_STREAMING_SETTINGS&&this.$router.push({name:ee.LOG_STREAMING_SETTINGS});break;case"users":case"logging":this.$router.push({name:ee.FAKE_DOOR,params:{featureId:e}}).catch(()=>{});break;case"settings-community-nodes":this.$router.currentRoute.name!==ee.COMMUNITY_NODES&&await this.$router.push({name:ee.COMMUNITY_NODES});break;case"settings-usage-and-plan":this.$router.currentRoute.name!==ee.USAGE&&this.$router.push({name:ee.USAGE});break;case"settings-sso":this.$router.currentRoute.name!==ee.SSO_SETTINGS&&this.$router.push({name:ee.SSO_SETTINGS});break;case"settings-source-control":this.$router.currentRoute.name!==ee.SOURCE_CONTROL&&this.$router.push({name:ee.SOURCE_CONTROL});break;case"settings-audit-logs":this.$router.currentRoute.name!==ee.AUDIT_LOGS&&this.$router.push({name:ee.AUDIT_LOGS});break}}}}),awe="_container_1ljnu_5",lwe="_returnButton_1ljnu_14",uwe="_versionContainer_1ljnu_22",cwe={container:awe,returnButton:lwe,versionContainer:uwe},dwe={class:"mr-xs"};function pwe(e,t,s,n,o,i){const r=E("font-awesome-icon"),l=E("n8n-heading"),m=E("n8n-link"),c=E("n8n-menu");return y(),P("div",{class:$(e.$style.container)},[b(c,{items:e.sidebarMenuItems,onSelect:e.handleSelect},{header:v(()=>[D("div",{class:$(e.$style.returnButton),onClick:t[0]||(t[0]=h=>e.$emit("return")),"data-test-id":"settings-back"},[D("i",dwe,[b(r,{icon:"arrow-left"})]),b(l,{size:"large",bold:!0},{default:v(()=>[V(N(e.$locale.baseText("settings")),1)]),_:1})],2)]),menuSuffix:v(()=>[D("div",{class:$(e.$style.versionContainer)},[b(m,{onClick:e.onVersionClick,size:"small"},{default:v(()=>[V(N(e.$locale.baseText("settings.version"))+" "+N(e.rootStore.versionCli),1)]),_:1},8,["onClick"])],2)]),_:1},8,["items","onSelect"])],2)}const hwe={$style:cwe},mwe=te(rwe,[["render",pwe],["__cssModules",hwe]]),fwe=J({name:"SettingsView",components:{SettingsSidebar:mwe},beforeRouteEnter(e,t,s){s(n=>{n.previousRoute=t})},data(){return{previousRoute:null}},methods:{onReturn(){this.$router.push(this.previousRoute?this.previousRoute.path:{name:ee.HOMEPAGE})}}}),gwe="_container_f1dvd_5",ywe="_contentContainer_f1dvd_12 _container_f1dvd_5",wwe="_content_f1dvd_12",bwe={container:gwe,contentContainer:ywe,content:wwe};function vwe(e,t,s,n,o,i){const r=E("SettingsSidebar"),l=E("router-view");return y(),P("div",{class:$(e.$style.container)},[b(r,{onReturn:e.onReturn},null,8,["onReturn"]),D("div",{class:$(e.$style.contentContainer)},[D("div",{class:$(e.$style.content)},[b(l,Lc({name:"settingsView"},e.$attrs),null,16)],2)],2)],2)}const Twe={$style:bwe},Swe=te(fwe,[["render",vwe],["__cssModules",Twe]]),kwe=J({name:"SettingsLdapView",components:{InfiniteLoading:IA,ElTable:TD,ElTableColumn:SD},setup(){return{...je(),...St()}},data(){return{dataTable:[],tableKey:0,adConfig:{},loadingTestConnection:!1,loadingDryRun:!1,loadingLiveRun:!1,loadingTable:!1,hasAnyChanges:!1,formInputs:null,formBus:Ze(),readyToSubmit:!1,page:0,loginEnabled:!1,syncEnabled:!1}},async mounted(){this.isLDAPFeatureEnabled&&await this.getLdapConfig()},computed:{...be(Ge,Le,Ee),currentUser(){return this.usersStore.currentUser},isLDAPFeatureEnabled(){return this.settingsStore.settings.enterprise.ldap===!0}},methods:{goToUpgrade(){this.uiStore.goToUpgrade("ldap","upgrade-ldap")},cellClassStyle({row:e,column:t}){if(t.property==="status"){if(e.status==="Success")return{color:"green"};if(e.status==="Error")return{color:"red"}}if(t.property==="runMode"){if(e.runMode==="Dry")return{color:"orange"};if(e.runMode==="Live")return{color:"blue"}}return{}},onInput(e){e.name==="loginEnabled"&&typeof e.value=="boolean"&&(this.loginEnabled=e.value),e.name==="synchronizationEnabled"&&typeof e.value=="boolean"&&(this.syncEnabled=e.value),this.hasAnyChanges=!0},onReadyToSubmit(e){this.readyToSubmit=e},syncDataMapper(e){const t=new Date(e.startedAt),s=new Date(e.endedAt),n=s.getTime()-t.getTime();return{runTime:PA(n),runMode:xw(e.runMode),status:xw(e.status),endedAt:eL(s.getTime()),details:this.$locale.baseText("settings.ldap.usersScanned",{interpolate:{scanned:e.scanned.toString()}})}},async onSubmit(){const e=this.$refs.ldapConfigForm;if(!this.hasAnyChanges||!e)return;const t={loginEnabled:e.values.loginEnabled,loginLabel:e.values.loginLabel,connectionUrl:e.values.serverAddress,allowUnauthorizedCerts:e.values.allowUnauthorizedCerts,connectionPort:+e.values.port,connectionSecurity:e.values.connectionSecurity,baseDn:e.values.baseDn,bindingAdminDn:e.values.bindingType==="admin"?e.values.adminDn:"",bindingAdminPassword:e.values.bindingType==="admin"?e.values.adminPassword:"",emailAttribute:e.values.email,firstNameAttribute:e.values.firstName,lastNameAttribute:e.values.lastName,loginIdAttribute:e.values.loginId,ldapIdAttribute:e.values.ldapId,userFilter:e.values.userFilter,synchronizationEnabled:e.values.synchronizationEnabled,synchronizationInterval:+e.values.synchronizationInterval,searchPageSize:+e.values.pageSize,searchTimeout:+e.values.searchTimeout};let s=!0;try{this.adConfig.loginEnabled===!0&&t.loginEnabled===!1&&(s=await this.confirm(this.$locale.baseText("settings.ldap.confirmMessage.beforeSaveForm.message"),this.$locale.baseText("settings.ldap.confirmMessage.beforeSaveForm.headline"),{cancelButtonText:this.$locale.baseText("settings.ldap.confirmMessage.beforeSaveForm.cancelButtonText"),confirmButtonText:this.$locale.baseText("settings.ldap.confirmMessage.beforeSaveForm.confirmButtonText")})===bt),s||(this.hasAnyChanges=!0),this.adConfig=await this.settingsStore.updateLdapConfig(t),this.showToast({title:this.$locale.baseText("settings.ldap.updateConfiguration"),message:"",type:"success"})}catch(n){this.showError(n,this.$locale.baseText("settings.ldap.configurationError"))}finally{s&&(this.hasAnyChanges=!1)}},onSaveClick(){this.formBus.emit("submit")},async onTestConnectionClick(){this.loadingTestConnection=!0;try{await this.settingsStore.testLdapConnection(),this.showToast({title:this.$locale.baseText("settings.ldap.connectionTest"),message:this.$locale.baseText("settings.ldap.toast.connection.success"),type:"success"})}catch(e){this.showToast({title:this.$locale.baseText("settings.ldap.connectionTestError"),message:e.message,type:"error"})}finally{this.loadingTestConnection=!1}},async onDryRunClick(){this.loadingDryRun=!0;try{await this.settingsStore.runLdapSync({type:"dry"}),this.showToast({title:this.$locale.baseText("settings.ldap.runSync.title"),message:this.$locale.baseText("settings.ldap.toast.sync.success"),type:"success"})}catch(e){this.showError(e,this.$locale.baseText("settings.ldap.synchronizationError"))}finally{this.loadingDryRun=!1,await this.reloadLdapSynchronizations()}},async onLiveRunClick(){this.loadingLiveRun=!0;try{await this.settingsStore.runLdapSync({type:"live"}),this.showToast({title:this.$locale.baseText("settings.ldap.runSync.title"),message:this.$locale.baseText("settings.ldap.toast.sync.success"),type:"success"})}catch(e){this.showError(e,this.$locale.baseText("settings.ldap.synchronizationError"))}finally{this.loadingLiveRun=!1,await this.reloadLdapSynchronizations()}},async getLdapConfig(){try{this.adConfig=await this.settingsStore.getLdapConfig(),this.loginEnabled=this.adConfig.loginEnabled,this.syncEnabled=this.adConfig.synchronizationEnabled;const e=n=>n.loginEnabled===!0,t=n=>n.synchronizationEnabled===!0&&n.loginEnabled===!0,s=n=>n.bindingType==="admin"&&n.loginEnabled===!0;this.formInputs=[{name:"loginEnabled",initialValue:this.adConfig.loginEnabled,properties:{type:"toggle",label:this.$locale.baseText("settings.ldap.form.loginEnabled.label"),tooltipText:this.$locale.baseText("settings.ldap.form.loginEnabled.tooltip"),required:!0}},{name:"loginLabel",initialValue:this.adConfig.loginLabel,properties:{label:this.$locale.baseText("settings.ldap.form.loginLabel.label"),required:!0,placeholder:this.$locale.baseText("settings.ldap.form.loginLabel.placeholder"),infoText:this.$locale.baseText("settings.ldap.form.loginLabel.infoText")},shouldDisplay:e},{name:"serverAddress",initialValue:this.adConfig.connectionUrl,properties:{label:this.$locale.baseText("settings.ldap.form.serverAddress.label"),required:!0,capitalize:!0,placeholder:this.$locale.baseText("settings.ldap.form.serverAddress.placeholder"),infoText:this.$locale.baseText("settings.ldap.form.serverAddress.infoText")},shouldDisplay:e},{name:"port",initialValue:this.adConfig.connectionPort,properties:{type:"number",label:this.$locale.baseText("settings.ldap.form.port.label"),capitalize:!0,infoText:this.$locale.baseText("settings.ldap.form.port.infoText")},shouldDisplay:e},{name:"connectionSecurity",initialValue:this.adConfig.connectionSecurity,properties:{type:"select",label:this.$locale.baseText("settings.ldap.form.connectionSecurity.label"),infoText:this.$locale.baseText("settings.ldap.form.connectionSecurity.infoText"),options:[{label:"None",value:"none"},{label:"TLS",value:"tls"},{label:"STARTTLS",value:"startTls"}],required:!0,capitalize:!0},shouldDisplay:e},{name:"allowUnauthorizedCerts",initialValue:this.adConfig.allowUnauthorizedCerts,properties:{type:"toggle",label:this.$locale.baseText("settings.ldap.form.allowUnauthorizedCerts.label"),required:!1},shouldDisplay(n){return n.connectionSecurity!=="none"&&n.loginEnabled===!0}},{name:"baseDn",initialValue:this.adConfig.baseDn,properties:{label:this.$locale.baseText("settings.ldap.form.baseDn.label"),required:!0,capitalize:!0,placeholder:this.$locale.baseText("settings.ldap.form.baseDn.placeholder"),infoText:this.$locale.baseText("settings.ldap.form.baseDn.infoText")},shouldDisplay:e},{name:"bindingType",initialValue:"admin",properties:{type:"select",label:this.$locale.baseText("settings.ldap.form.bindingType.label"),infoText:this.$locale.baseText("settings.ldap.form.bindingType.infoText"),options:[{value:"admin",label:"Admin"},{value:"anonymous",label:"Anonymous"}]},shouldDisplay:e},{name:"adminDn",initialValue:this.adConfig.bindingAdminDn,properties:{label:this.$locale.baseText("settings.ldap.form.adminDn.label"),placeholder:this.$locale.baseText("settings.ldap.form.adminDn.placeholder"),infoText:this.$locale.baseText("settings.ldap.form.adminDn.infoText"),capitalize:!0},shouldDisplay:s},{name:"adminPassword",initialValue:this.adConfig.bindingAdminPassword,properties:{label:this.$locale.baseText("settings.ldap.form.adminPassword.label"),type:"password",capitalize:!0,infoText:this.$locale.baseText("settings.ldap.form.adminPassword.infoText")},shouldDisplay:s},{name:"userFilter",initialValue:this.adConfig.userFilter,properties:{label:this.$locale.baseText("settings.ldap.form.userFilter.label"),type:"text",required:!1,capitalize:!0,placeholder:this.$locale.baseText("settings.ldap.form.userFilter.placeholder"),infoText:this.$locale.baseText("settings.ldap.form.userFilter.infoText")},shouldDisplay:e},{name:"attributeMappingInfo",properties:{label:this.$locale.baseText("settings.ldap.form.attributeMappingInfo.label"),type:"info",labelSize:"large",labelAlignment:"left"},shouldDisplay:e},{name:"ldapId",initialValue:this.adConfig.ldapIdAttribute,properties:{label:this.$locale.baseText("settings.ldap.form.ldapId.label"),type:"text",required:!0,capitalize:!0,placeholder:this.$locale.baseText("settings.ldap.form.ldapId.placeholder"),infoText:this.$locale.baseText("settings.ldap.form.ldapId.infoText")},shouldDisplay:e},{name:"loginId",initialValue:this.adConfig.loginIdAttribute,properties:{label:this.$locale.baseText("settings.ldap.form.loginId.label"),type:"text",autocomplete:"email",required:!0,capitalize:!0,placeholder:this.$locale.baseText("settings.ldap.form.loginId.placeholder"),infoText:this.$locale.baseText("settings.ldap.form.loginId.infoText")},shouldDisplay:e},{name:"email",initialValue:this.adConfig.emailAttribute,properties:{label:this.$locale.baseText("settings.ldap.form.email.label"),type:"text",autocomplete:"email",required:!0,capitalize:!0,placeholder:this.$locale.baseText("settings.ldap.form.email.placeholder"),infoText:this.$locale.baseText("settings.ldap.form.email.infoText")},shouldDisplay:e},{name:"firstName",initialValue:this.adConfig.firstNameAttribute,properties:{label:this.$locale.baseText("settings.ldap.form.firstName.label"),type:"text",autocomplete:"email",required:!0,capitalize:!0,placeholder:this.$locale.baseText("settings.ldap.form.firstName.placeholder"),infoText:this.$locale.baseText("settings.ldap.form.firstName.infoText")},shouldDisplay:e},{name:"lastName",initialValue:this.adConfig.lastNameAttribute,properties:{label:this.$locale.baseText("settings.ldap.form.lastName.label"),type:"text",autocomplete:"email",required:!0,capitalize:!0,placeholder:this.$locale.baseText("settings.ldap.form.lastName.placeholder"),infoText:this.$locale.baseText("settings.ldap.form.lastName.infoText")},shouldDisplay:e},{name:"synchronizationEnabled",initialValue:this.adConfig.synchronizationEnabled,properties:{type:"toggle",label:this.$locale.baseText("settings.ldap.form.synchronizationEnabled.label"),tooltipText:this.$locale.baseText("settings.ldap.form.synchronizationEnabled.tooltip"),required:!0},shouldDisplay:e},{name:"synchronizationInterval",initialValue:this.adConfig.synchronizationInterval,properties:{type:"number",label:this.$locale.baseText("settings.ldap.form.synchronizationInterval.label"),infoText:this.$locale.baseText("settings.ldap.form.synchronizationInterval.infoText")},shouldDisplay:t},{name:"pageSize",initialValue:this.adConfig.searchPageSize,properties:{type:"number",label:this.$locale.baseText("settings.ldap.form.pageSize.label"),infoText:this.$locale.baseText("settings.ldap.form.pageSize.infoText")},shouldDisplay:t},{name:"searchTimeout",initialValue:this.adConfig.searchTimeout,properties:{type:"number",label:this.$locale.baseText("settings.ldap.form.searchTimeout.label"),infoText:this.$locale.baseText("settings.ldap.form.searchTimeout.infoText")},shouldDisplay:t}]}catch(e){this.showError(e,this.$locale.baseText("settings.ldap.configurationError"))}},async getLdapSynchronizations(e){try{this.loadingTable=!0;const t=await this.settingsStore.getLdapSynchronizations({page:this.page});t.length!==0?(this.dataTable.push(...t.map(this.syncDataMapper)),this.page+=1,e.loaded()):e.complete(),this.loadingTable=!1}catch(t){this.showError(t,this.$locale.baseText("settings.ldap.synchronizationError"))}},async reloadLdapSynchronizations(){try{this.page=0,this.tableKey+=1,this.dataTable=[]}catch(e){this.showError(e,this.$locale.baseText("settings.ldap.synchronizationError"))}}}}),Ewe="_container_f18ao_5",xwe="_syncTable_f18ao_9",Cwe="_header_f18ao_13",Owe="_enableFeatureContainer_f18ao_22",Dwe="_sectionHeader_f18ao_36",Awe="_settingsForm_f18ao_40",$we="_docsInfoTip_f18ao_44",Nwe={container:Ewe,syncTable:xwe,header:Cwe,enableFeatureContainer:Owe,sectionHeader:Dwe,settingsForm:Awe,docsInfoTip:$we},_we={key:0},Pwe={key:1},Iwe=["innerHTML"],Mwe={key:0},Lwe={class:"pb-3xl"};function Fwe(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-info-tip"),m=E("n8n-action-box"),c=E("n8n-form-inputs"),h=E("n8n-button"),p=E("el-table-column"),g=E("infinite-loading"),w=E("el-table"),S=Ls("loading");return e.isLDAPFeatureEnabled?(y(),P("div",Pwe,[D("div",{class:$(e.$style.container)},[D("div",{class:$(e.$style.header)},[b(r,{size:"2xlarge"},{default:v(()=>[V(N(e.$locale.baseText("settings.ldap")),1)]),_:1})],2),D("div",{class:$(e.$style.docsInfoTip)},[b(l,{theme:"info",type:"note"},{default:v(()=>[D("span",{innerHTML:e.$locale.baseText("settings.ldap.infoTip")},null,8,Iwe)]),_:1})],2),D("div",{class:$(e.$style.settingsForm)},[e.formInputs?(y(),R(c,{key:0,ref:"ldapConfigForm",inputs:e.formInputs,eventBus:e.formBus,columnView:!0,verticalSpacing:"l",onUpdate:e.onInput,onReady:e.onReadyToSubmit,onSubmit:e.onSubmit},null,8,["inputs","eventBus","onUpdate","onReady","onSubmit"])):W("",!0)],2),D("div",null,[e.loginEnabled?(y(),R(h,{key:0,label:e.loadingTestConnection?e.$locale.baseText("settings.ldap.testingConnection"):e.$locale.baseText("settings.ldap.testConnection"),size:"large",class:"mr-s",disabled:e.hasAnyChanges||!e.readyToSubmit,loading:e.loadingTestConnection,onClick:e.onTestConnectionClick},null,8,["label","disabled","loading","onClick"])):W("",!0),b(h,{label:e.$locale.baseText("settings.ldap.save"),size:"large",disabled:!e.hasAnyChanges||!e.readyToSubmit,onClick:e.onSaveClick},null,8,["label","disabled","onClick"])])],2),e.loginEnabled?(y(),P("div",Mwe,[b(r,{tag:"h1",class:"mb-xl mt-3xl",size:"medium"},{default:v(()=>[V(N(e.$locale.baseText("settings.ldap.section.synchronization.title")),1)]),_:1}),D("div",{class:$(e.$style.syncTable)},[He((y(),R(w,{border:!0,stripe:!0,data:e.dataTable,"cell-style":e.cellClassStyle,style:{width:"100%"},height:"250",key:e.tableKey},{empty:v(()=>[V(N(e.$locale.baseText("settings.ldap.synchronizationTable.empty.message")),1)]),append:v(()=>[b(g,{onInfinite:e.getLdapSynchronizations,"force-use-infinite-wrapper":".el-table__body-wrapper"},null,8,["onInfinite"])]),default:v(()=>[b(p,{prop:"status",label:e.$locale.baseText("settings.ldap.synchronizationTable.column.status")},null,8,["label"]),b(p,{prop:"endedAt",label:e.$locale.baseText("settings.ldap.synchronizationTable.column.endedAt")},null,8,["label"]),b(p,{prop:"runMode",label:e.$locale.baseText("settings.ldap.synchronizationTable.column.runMode")},null,8,["label"]),b(p,{prop:"runTime",label:e.$locale.baseText("settings.ldap.synchronizationTable.column.runTime")},null,8,["label"]),b(p,{prop:"details",label:e.$locale.baseText("settings.ldap.synchronizationTable.column.details")},null,8,["label"])]),_:1},8,["data","cell-style"])),[[S,e.loadingTable]])],2),D("div",Lwe,[b(h,{label:e.$locale.baseText("settings.ldap.dryRun"),type:"secondary",size:"large",class:"mr-s",disabled:e.hasAnyChanges||!e.readyToSubmit,loading:e.loadingDryRun,onClick:e.onDryRunClick},null,8,["label","disabled","loading","onClick"]),b(h,{label:e.$locale.baseText("settings.ldap.synchronizeNow"),size:"large",disabled:e.hasAnyChanges||!e.readyToSubmit,loading:e.loadingLiveRun,onClick:e.onLiveRunClick},null,8,["label","disabled","loading","onClick"])])])):W("",!0)])):(y(),P("div",_we,[D("div",{class:$([e.$style.header,"mb-2xl"])},[b(r,{size:"2xlarge"},{default:v(()=>[V(N(e.$locale.baseText("settings.ldap")),1)]),_:1})],2),b(l,{type:"note",theme:"info",tooltipPlacement:"right",class:"mb-l"},{default:v(()=>[V(N(e.$locale.baseText("settings.ldap.note")),1)]),_:1}),b(m,{description:e.$locale.baseText("settings.ldap.disabled.description"),buttonText:e.$locale.baseText("settings.ldap.disabled.buttonText"),"onClick:button":e.goToUpgrade},{heading:v(()=>[D("span",null,N(e.$locale.baseText("settings.ldap.disabled.title")),1)]),_:1},8,["description","buttonText","onClick:button"])]))}const Bwe={$style:Nwe},Rwe=te(kwe,[["render",Fwe],["__cssModules",Bwe]]),Vwe=J({name:"SettingsPersonalView",setup(){return{i18n:Lt(),...je()}},data(){return{hasAnyChanges:!1,formInputs:null,formBus:Ze(),readyToSubmit:!1}},mounted(){var e,t,s;this.formInputs=[{name:"firstName",initialValue:(e=this.currentUser)==null?void 0:e.firstName,properties:{label:this.i18n.baseText("auth.firstName"),maxlength:32,required:!0,autocomplete:"given-name",capitalize:!0,disabled:this.isLDAPFeatureEnabled&&this.signInWithLdap}},{name:"lastName",initialValue:(t=this.currentUser)==null?void 0:t.lastName,properties:{label:this.i18n.baseText("auth.lastName"),maxlength:32,required:!0,autocomplete:"family-name",capitalize:!0,disabled:this.isLDAPFeatureEnabled&&this.signInWithLdap}},{name:"email",initialValue:(s=this.currentUser)==null?void 0:s.email,properties:{label:this.i18n.baseText("auth.email"),type:"email",required:!0,validationRules:[{name:"VALID_EMAIL"}],autocomplete:"email",capitalize:!0,disabled:this.isLDAPFeatureEnabled&&this.signInWithLdap||this.signInWithSaml}}]},computed:{...be(Ee,Ge,Le),currentUser(){return this.usersStore.currentUser},signInWithLdap(){var e;return((e=this.currentUser)==null?void 0:e.signInType)==="ldap"},isLDAPFeatureEnabled(){return this.settingsStore.settings.enterprise.ldap===!0},signInWithSaml(){return this.settingsStore.isSamlLoginEnabled&&this.settingsStore.isDefaultAuthenticationSaml}},methods:{onInput(){this.hasAnyChanges=!0},onReadyToSubmit(e){this.readyToSubmit=e},async onSubmit(e){if(!(!this.hasAnyChanges||!this.usersStore.currentUserId))try{await this.usersStore.updateUser({id:this.usersStore.currentUserId,firstName:e.firstName,lastName:e.lastName,email:e.email}),this.showToast({title:this.i18n.baseText("settings.personal.personalSettingsUpdated"),message:"",type:"success"}),this.hasAnyChanges=!1}catch(t){this.showError(t,this.i18n.baseText("settings.personal.personalSettingsUpdatedError"))}},onSaveClick(){this.formBus.emit("submit")},openPasswordModal(){this.uiStore.openModal(Vc)}}}),Uwe="_container_1gxlb_5",Wwe="_header_1gxlb_12",jwe="_user_1gxlb_21",qwe="_username_1gxlb_31",zwe="_sectionHeader_1gxlb_43",Hwe={container:Uwe,header:Wwe,user:jwe,username:qwe,sectionHeader:zwe},Qwe={"data-test-id":"personal-data-form"},Gwe={key:0};function Ywe(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-text"),m=E("n8n-avatar"),c=E("n8n-form-inputs"),h=E("n8n-link"),p=E("n8n-input-label"),g=E("n8n-button");return y(),P("div",{class:$(e.$style.container),"data-test-id":"personal-settings-container"},[D("div",{class:$(e.$style.header)},[b(r,{size:"2xlarge"},{default:v(()=>[V(N(e.i18n.baseText("settings.personal.personalSettings")),1)]),_:1}),D("div",{class:$(e.$style.user)},[D("span",{class:$(e.$style.username),"data-test-id":"current-user-name"},[b(l,{color:"text-light"},{default:v(()=>[V(N(e.currentUser.fullName),1)]),_:1})],2),b(m,{firstName:e.currentUser.firstName,lastName:e.currentUser.lastName,size:"large"},null,8,["firstName","lastName"])],2)],2),D("div",null,[D("div",{class:$(e.$style.sectionHeader)},[b(r,{size:"large"},{default:v(()=>[V(N(e.i18n.baseText("settings.personal.basicInformation")),1)]),_:1})],2),D("div",Qwe,[e.formInputs?(y(),R(c,{key:0,inputs:e.formInputs,eventBus:e.formBus,onUpdate:e.onInput,onReady:e.onReadyToSubmit,onSubmit:e.onSubmit},null,8,["inputs","eventBus","onUpdate","onReady","onSubmit"])):W("",!0)])]),!e.signInWithLdap&&!e.signInWithSaml?(y(),P("div",Gwe,[D("div",{class:$(e.$style.sectionHeader)},[b(r,{size:"large"},{default:v(()=>[V(N(e.i18n.baseText("settings.personal.security")),1)]),_:1})],2),D("div",null,[b(p,{label:e.i18n.baseText("auth.password")},{default:v(()=>[b(h,{onClick:e.openPasswordModal,"data-test-id":"change-password-link"},{default:v(()=>[V(N(e.i18n.baseText("auth.changePassword")),1)]),_:1},8,["onClick"])]),_:1},8,["label"])])])):W("",!0),D("div",null,[b(g,{float:"right",label:e.i18n.baseText("settings.personal.save"),size:"large",disabled:!e.hasAnyChanges||!e.readyToSubmit,"data-test-id":"save-settings-button",onClick:e.onSaveClick},null,8,["label","disabled","onClick"])])],2)}const Xwe={$style:Hwe},Kwe=te(Vwe,[["render",Ywe],["__cssModules",Xwe]]),Jwe=J({name:"SettingsUsersView",mixins:[Ai],setup(){return{...je()}},async mounted(){this.usersStore.showUMSetupWarning||await this.usersStore.fetchUsers()},computed:{...be(Le,Ee,Ge,Oi,wl),isSharingEnabled(){return this.settingsStore.isEnterpriseFeatureEnabled(ot.Sharing)},usersListActions(){return[{label:this.$locale.baseText("settings.users.actions.copyInviteLink"),value:"copyInviteLink",guard:e=>this.settingsStore.isBelowUserQuota&&!e.firstName&&!!e.inviteAcceptUrl},{label:this.$locale.baseText("settings.users.actions.reinvite"),value:"reinvite",guard:e=>this.settingsStore.isBelowUserQuota&&!e.firstName&&this.settingsStore.isSmtpSetup},{label:this.$locale.baseText("settings.users.actions.delete"),value:"delete"},{label:this.$locale.baseText("settings.users.actions.copyPasswordResetLink"),value:"copyPasswordResetLink",guard:()=>this.settingsStore.isBelowUserQuota},{label:this.$locale.baseText("settings.users.actions.allowSSOManualLogin"),value:"allowSSOManualLogin",guard:e=>{var t;return this.settingsStore.isSamlLoginEnabled&&!((t=e.settings)!=null&&t.allowSSOManualLogin)}},{label:this.$locale.baseText("settings.users.actions.disallowSSOManualLogin"),value:"disallowSSOManualLogin",guard:e=>{var t;return this.settingsStore.isSamlLoginEnabled&&((t=e.settings)==null?void 0:t.allowSSOManualLogin)===!0}}]}},methods:{redirectToSetup(){this.$router.push({name:ee.SETUP})},onInvite(){this.uiStore.openModal(Wc)},async onDelete(e){this.usersStore.getUserById(e)&&this.uiStore.openDeleteUserModal(e)},async onReinvite(e){const t=this.usersStore.getUserById(e);if(t)try{await this.usersStore.reinviteUser({id:t.id}),this.showToast({type:"success",title:this.$locale.baseText("settings.users.inviteResent"),message:this.$locale.baseText("settings.users.emailSentTo",{interpolate:{email:t.email||""}})})}catch(s){this.showError(s,this.$locale.baseText("settings.users.userReinviteError"))}},async onCopyInviteLink(e){const t=this.usersStore.getUserById(e);t!=null&&t.inviteAcceptUrl&&(this.copyToClipboard(t.inviteAcceptUrl),this.showToast({type:"success",title:this.$locale.baseText("settings.users.inviteUrlCreated"),message:this.$locale.baseText("settings.users.inviteUrlCreated.message")}))},async onCopyPasswordResetLink(e){const t=this.usersStore.getUserById(e);if(t){const s=await this.usersStore.getUserPasswordResetLink(t);this.copyToClipboard(s.link),this.showToast({type:"success",title:this.$locale.baseText("settings.users.passwordResetUrlCreated"),message:this.$locale.baseText("settings.users.passwordResetUrlCreated.message")})}},async onAllowSSOManualLogin(e){const t=this.usersStore.getUserById(e);t&&(t.settings||(t.settings={}),t.settings.allowSSOManualLogin=!0,await this.usersStore.updateOtherUserSettings(e,t.settings),this.showToast({type:"success",title:this.$locale.baseText("settings.users.allowSSOManualLogin"),message:this.$locale.baseText("settings.users.allowSSOManualLogin.message")}))},async onDisallowSSOManualLogin(e){const t=this.usersStore.getUserById(e);t!=null&&t.settings&&(t.settings.allowSSOManualLogin=!1,await this.usersStore.updateOtherUserSettings(e,t.settings),this.showToast({type:"success",title:this.$locale.baseText("settings.users.disallowSSOManualLogin"),message:this.$locale.baseText("settings.users.disallowSSOManualLogin.message")}))},goToUpgrade(){this.uiStore.goToUpgrade("settings-users","upgrade-users")}}}),Zwe="_container_n5y84_5",ebe="_usersContainer_n5y84_13",tbe="_buttonContainer_n5y84_17",sbe="_setupInfoContainer_n5y84_23",nbe="_alert_n5y84_27",obe={container:Zwe,usersContainer:ebe,buttonContainer:tbe,setupInfoContainer:sbe,alert:nbe};function ibe(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-button"),m=E("n8n-tooltip"),c=E("n8n-action-box"),h=E("n8n-users-list");return y(),P("div",{class:$(e.$style.container)},[D("div",null,[b(r,{size:"2xlarge"},{default:v(()=>[V(N(e.$locale.baseText("settings.users")),1)]),_:1}),e.usersStore.showUMSetupWarning?W("",!0):(y(),P("div",{key:0,class:$(e.$style.buttonContainer)},[b(m,{disabled:!e.ssoStore.isSamlLoginEnabled},{content:v(()=>[D("span",null,N(e.$locale.baseText("settings.users.invite.tooltip")),1)]),default:v(()=>[D("div",null,[b(l,{disabled:e.ssoStore.isSamlLoginEnabled||!e.settingsStore.isBelowUserQuota,label:e.$locale.baseText("settings.users.invite"),onClick:e.onInvite,size:"large","data-test-id":"settings-users-invite-button"},null,8,["disabled","label","onClick"])])]),_:1},8,["disabled"])],2))]),e.settingsStore.isBelowUserQuota?W("",!0):(y(),P("div",{key:0,class:$(e.$style.setupInfoContainer)},[b(c,{heading:e.$locale.baseText(e.uiStore.contextBasedTranslationKeys.users.settings.unavailable.title),description:e.$locale.baseText(e.uiStore.contextBasedTranslationKeys.users.settings.unavailable.description),buttonText:e.$locale.baseText(e.uiStore.contextBasedTranslationKeys.users.settings.unavailable.button),"onClick:button":e.goToUpgrade},null,8,["heading","description","buttonText","onClick:button"])],2)),e.settingsStore.isBelowUserQuota||e.usersStore.allUsers.length>1?(y(),P("div",{key:1,class:$(e.$style.usersContainer)},[b(h,{actions:e.usersListActions,users:e.usersStore.allUsers,currentUserId:e.usersStore.currentUserId,isSamlLoginEnabled:e.ssoStore.isSamlLoginEnabled,onDelete:e.onDelete,onReinvite:e.onReinvite,onCopyInviteLink:e.onCopyInviteLink,onCopyPasswordResetLink:e.onCopyPasswordResetLink,onAllowSSOManualLogin:e.onAllowSSOManualLogin,onDisallowSSOManualLogin:e.onDisallowSSOManualLogin},null,8,["actions","users","currentUserId","isSamlLoginEnabled","onDelete","onReinvite","onCopyInviteLink","onCopyPasswordResetLink","onAllowSSOManualLogin","onDisallowSSOManualLogin"])],2)):W("",!0)],2)}const rbe={$style:obe},abe=te(Jwe,[["render",ibe],["__cssModules",rbe]]),lbe=J({name:"CommunityPackageCard",props:{communityPackage:{type:Object},loading:{type:Boolean,default:!1}},data(){return{packageActions:[{label:this.$locale.baseText("settings.communityNodes.viewDocsAction.label"),value:$n.VIEW_DOCS,type:"external-link"},{label:this.$locale.baseText("settings.communityNodes.uninstallAction.label"),value:$n.UNINSTALL}]}},computed:{...be(Ee)},methods:{async onAction(e){switch(e){case $n.VIEW_DOCS:this.$telemetry.track("user clicked to browse the cnr package documentation",{package_name:this.communityPackage.packageName,package_version:this.communityPackage.installedVersion}),window.open(`${yT}${this.communityPackage.packageName}`,"_blank");break;case $n.UNINSTALL:this.uiStore.openCommunityPackageUninstallConfirmModal(this.communityPackage.packageName);break}},onUpdateClick(){this.uiStore.openCommunityPackageUpdateConfirmModal(this.communityPackage.packageName)}}}),ube="_cardContainer_14eyd_5",cbe="_packageCard_14eyd_13",dbe="_cardSkeleton_14eyd_14",pbe="_loader_14eyd_28",hbe="_cardInfoContainer_14eyd_39",mbe="_cardTitle_14eyd_44",fbe="_cardSubtitle_14eyd_51",gbe="_cardControlsContainer_14eyd_56",ybe="_cardActions_14eyd_62",wbe={cardContainer:ube,packageCard:cbe,cardSkeleton:dbe,loader:pbe,cardInfoContainer:hbe,cardTitle:mbe,cardSubtitle:fbe,cardControlsContainer:gbe,cardActions:ybe},bbe={key:0};function vbe(e,t,s,n,o,i){const r=E("n8n-loading"),l=E("n8n-text"),m=E("n8n-icon"),c=E("n8n-tooltip"),h=E("n8n-button"),p=E("n8n-action-toggle");return y(),P("div",{class:$(e.$style.cardContainer)},[e.loading?(y(),P("div",{key:0,class:$(e.$style.cardSkeleton)},[b(r,{class:$(e.$style.loader),variant:"p",rows:1},null,8,["class"]),b(r,{class:$(e.$style.loader),variant:"p",rows:1},null,8,["class"])],2)):(y(),P("div",{key:1,class:$(e.$style.packageCard)},[D("div",{class:$(e.$style.cardInfoContainer)},[D("div",{class:$(e.$style.cardTitle)},[b(l,{bold:!0,size:"large"},{default:v(()=>[V(N(e.communityPackage.packageName),1)]),_:1})],2),D("div",{class:$(e.$style.cardSubtitle)},[b(l,{bold:!0,size:"small",color:"text-light"},{default:v(()=>[V(N(e.$locale.baseText("settings.communityNodes.packageNodes.label",{adjustToNumber:e.communityPackage.installedNodes.length}))+":  ",1)]),_:1}),b(l,{size:"small",color:"text-light"},{default:v(()=>[(y(!0),P(Ie,null,Re(e.communityPackage.installedNodes,(g,w)=>(y(),P("span",{key:g.name},[V(N(g.name),1),w!=e.communityPackage.installedNodes.length-1?(y(),P("span",bbe,",")):W("",!0)]))),128))]),_:1})],2)],2),D("div",{class:$(e.$style.cardControlsContainer)},[b(l,{bold:!0,size:"large",color:"text-light"},{default:v(()=>[V(" v"+N(e.communityPackage.installedVersion),1)]),_:1}),e.communityPackage.failedLoading===!0?(y(),R(c,{key:0,placement:"top"},{content:v(()=>[D("div",null,N(e.$locale.baseText("settings.communityNodes.failedToLoad.tooltip")),1)]),default:v(()=>[b(m,{icon:"exclamation-triangle",color:"danger",size:"large"})]),_:1})):e.communityPackage.updateAvailable?(y(),R(c,{key:1,placement:"top"},{content:v(()=>[D("div",null,N(e.$locale.baseText("settings.communityNodes.updateAvailable.tooltip")),1)]),default:v(()=>[b(h,{type:"outline",label:"Update",onClick:e.onUpdateClick},null,8,["onClick"])]),_:1})):(y(),R(c,{key:2,placement:"top"},{content:v(()=>[D("div",null,N(e.$locale.baseText("settings.communityNodes.upToDate.tooltip")),1)]),default:v(()=>[b(m,{icon:"check-circle",color:"text-light",size:"large"})]),_:1})),D("div",{class:$(e.$style.cardActions)},[b(p,{actions:e.packageActions,onAction:e.onAction},null,8,["actions","onAction"])],2)],2)],2))],2)}const Tbe={$style:wbe},Sbe=te(lbe,[["render",vbe],["__cssModules",Tbe]]),kbe=31,Ebe=J({name:"SettingsCommunityNodesView",mixins:[Io],components:{CommunityPackageCard:Sbe},setup(e){var t;return{...je(),...(t=Io.setup)==null?void 0:t.call(Io,e)}},data(){return{loading:!1}},async mounted(){this.pushConnect();try{this.loading=!0,await this.communityNodesStore.fetchInstalledPackages();const e=this.communityNodesStore.getInstalledPackages,t=e.filter(s=>s.updateAvailable);this.$telemetry.track("user viewed cnr settings page",{num_of_packages_installed:e.length,installed_packages:e.map(s=>({package_name:s.packageName,package_version:s.installedVersion,package_nodes:s.installedNodes.map(n=>`${n.name}-v${n.latestVersion}`),is_update_available:s.updateAvailable!==void 0})),packages_to_update:t.map(s=>({package_name:s.packageName,package_version_current:s.installedVersion,package_version_available:s.updateAvailable})),number_of_updates_available:t.length})}catch(e){this.showError(e,this.$locale.baseText("settings.communityNodes.fetchError.title"),this.$locale.baseText("settings.communityNodes.fetchError.message"))}finally{this.loading=!1}try{await this.communityNodesStore.fetchAvailableCommunityPackageCount()}finally{this.loading=!1}},beforeUnmount(){this.pushDisconnect()},computed:{...be(nf,Le,Ee),getEmptyStateDescription(){const e=this.communityNodesStore.availablePackageCount;return this.settingsStore.isDesktopDeployment?this.$locale.baseText("contextual.communityNodes.unavailable.description.desktop"):e<kbe?this.$locale.baseText("settings.communityNodes.empty.description.no-packages",{interpolate:{docURL:gr}}):this.$locale.baseText("settings.communityNodes.empty.description",{interpolate:{docURL:gr,count:(Math.floor(e/10)*10).toString()}})},getEmptyStateButtonText(){return this.settingsStore.isDesktopDeployment?this.$locale.baseText("contextual.communityNodes.unavailable.button.desktop"):this.shouldShowInstallButton?this.$locale.baseText("settings.communityNodes.empty.installPackageLabel"):""},shouldShowInstallButton(){return this.settingsStore.isDesktopDeployment||this.settingsStore.isNpmAvailable},actionBoxConfig(){return this.settingsStore.isNpmAvailable?this.settingsStore.isQueueModeEnabled?{calloutText:this.$locale.baseText("settings.communityNodes.queueMode.warning",{interpolate:{docURL:gr}}),calloutTheme:"warning",hideButton:!0}:{calloutText:"",calloutTheme:"",hideButton:!1}:{calloutText:this.$locale.baseText("settings.communityNodes.npmUnavailable.warning",{interpolate:{npmUrl:k_}}),calloutTheme:"warning",hideButton:!0}}},methods:{onClickEmptyStateButton(){if(this.settingsStore.isDesktopDeployment)return this.goToUpgrade();this.openInstallModal()},goToUpgrade(){const e=`${this.$locale.baseText("contextual.upgradeLinkUrl.desktop")}&utm_campaign=upgrade-community-nodes&selfHosted=true`;window.open(e,"_blank")},openInstallModal(){const e={is_empty_state:this.communityNodesStore.getInstalledPackages.length===0};this.$telemetry.track("user clicked cnr install button",e),this.$externalHooks().run("settingsCommunityNodesView.openInstallModal",e),this.uiStore.openModal(Qc)}}}),xbe="_container_12ljj_5",Cbe="_headingContainer_12ljj_13",Obe="_loadingContainer_12ljj_18",Dbe="_actionBoxContainer_12ljj_23",Abe="_cardsContainer_12ljj_27",$be={container:xbe,headingContainer:Cbe,loadingContainer:Obe,actionBoxContainer:Dbe,cardsContainer:Abe};function Nbe(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-button"),m=E("n8n-action-box"),c=E("community-package-card");return y(),P("div",{class:$(e.$style.container)},[D("div",{class:$(e.$style.headingContainer)},[b(r,{size:"2xlarge"},{default:v(()=>[V(N(e.$locale.baseText("settings.communityNodes")),1)]),_:1}),!e.settingsStore.isQueueModeEnabled&&e.communityNodesStore.getInstalledPackages.length>0&&!e.loading?(y(),R(l,{key:0,label:e.$locale.baseText("settings.communityNodes.installModal.installButton.label"),size:"large",onClick:e.openInstallModal},null,8,["label","onClick"])):W("",!0)],2),e.settingsStore.isQueueModeEnabled?(y(),P("div",{key:0,class:$(e.$style.actionBoxContainer)},[b(m,{heading:e.$locale.baseText("settings.communityNodes.empty.title"),description:e.getEmptyStateDescription,calloutText:e.actionBoxConfig.calloutText,calloutTheme:e.actionBoxConfig.calloutTheme},null,8,["heading","description","calloutText","calloutTheme"])],2)):e.loading?(y(),P("div",{key:1,class:$(e.$style.cardsContainer)},[(y(),P(Ie,null,Re(2,h=>b(c,{key:"index-"+h,loading:!0})),64))],2)):e.communityNodesStore.getInstalledPackages.length===0?(y(),P("div",{key:2,class:$(e.$style.actionBoxContainer)},[b(m,{heading:e.$locale.baseText("settings.communityNodes.empty.title"),description:e.getEmptyStateDescription,buttonText:e.getEmptyStateButtonText,calloutText:e.actionBoxConfig.calloutText,calloutTheme:e.actionBoxConfig.calloutTheme,"onClick:button":e.onClickEmptyStateButton},null,8,["heading","description","buttonText","calloutText","calloutTheme","onClick:button"])],2)):(y(),P("div",{key:3,class:$(e.$style.cardsContainer)},[(y(!0),P(Ie,null,Re(e.communityNodesStore.getInstalledPackages,h=>(y(),R(c,{key:h.packageName,communityPackage:h},null,8,["communityPackage"]))),128))],2))],2)}const _be={$style:$be},Pbe=te(Ebe,[["render",Nbe],["__cssModules",_be]]),Ibe=J({name:"SettingsApiView",components:{CopyInput:Dr},setup(){return{...je(),...St(),...Ee()}},data(){return{loading:!1,mounted:!1,apiKey:"",swaggerUIEnabled:!1,apiDocsURL:""}},mounted(){this.getApiKey();const e=this.rootStore.baseUrl,t=this.settingsStore.publicApiPath,s=this.settingsStore.publicApiLatestVersion;this.swaggerUIEnabled=this.settingsStore.isSwaggerUIEnabled,this.apiDocsURL=this.swaggerUIEnabled?`${e}${t}/v${s}/docs`:`https://${Tn}/api/api-reference/`},computed:{...be(fe,Le,Ge,Vn,Ee),currentUser(){return this.usersStore.currentUser},isTrialing(){return this.cloudPlanStore.userIsTrialing},isLoadingCloudPlans(){return this.cloudPlanStore.state.loadingPlan}},methods:{onUpgrade(){this.uiStore.goToUpgrade("settings-n8n-api","upgrade-api","redirect")},async showDeleteModal(){await this.confirm(this.$locale.baseText("settings.api.delete.description"),this.$locale.baseText("settings.api.delete.title"),{confirmButtonText:this.$locale.baseText("settings.api.delete.button"),cancelButtonText:this.$locale.baseText("generic.cancel")})===bt&&await this.deleteApiKey()},async getApiKey(){try{this.apiKey=await this.settingsStore.getApiKey()||""}catch(e){this.showError(e,this.$locale.baseText("settings.api.view.error"))}finally{this.mounted=!0}},async createApiKey(){this.loading=!0;try{this.apiKey=await this.settingsStore.createApiKey()||""}catch(e){this.showError(e,this.$locale.baseText("settings.api.create.error"))}finally{this.loading=!1,this.$telemetry.track("User clicked create API key button")}},async deleteApiKey(){try{await this.settingsStore.deleteApiKey(),this.showMessage({title:this.$locale.baseText("settings.api.delete.toast"),type:"success"}),this.apiKey=""}catch(e){this.showError(e,this.$locale.baseText("settings.api.delete.error"))}finally{this.$telemetry.track("User clicked delete API key button")}},onCopy(){this.$telemetry.track("User clicked copy API key button")}}}),Mbe="_container_1teme_5",Lbe="_header_1teme_9",Fbe="_card_1teme_18",Bbe="_hint_1teme_29",Rbe={container:Mbe,header:Lbe,card:Fbe,delete:"_delete_1teme_22",hint:Bbe},Vbe={key:0},Ube={class:"mb-s"},Wbe=["textContent"],jbe=["textContent"];function qbe(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("i18n-t"),m=E("n8n-info-tip"),c=E("n8n-link"),h=E("CopyInput"),p=E("n8n-card"),g=E("n8n-text"),w=E("n8n-action-box");return y(),P("div",{class:$(e.$style.container)},[D("div",{class:$(e.$style.header)},[b(r,{size:"2xlarge"},{default:v(()=>[V(N(e.$locale.baseText("settings.api"))+" ",1),D("span",{style:zt({fontSize:"var(--font-size-s)",color:"var(--color-text-light)"})}," ("+N(e.$locale.baseText("beta"))+") ",5)]),_:1})],2),e.apiKey?(y(),P("div",Vbe,[D("p",Ube,[b(m,{bold:!1},{default:v(()=>[b(l,{keypath:"settings.api.view.info",tag:"span"},{apiAction:v(()=>[D("a",{href:"https://docs.n8n.io/api",target:"_blank",textContent:N(e.$locale.baseText("settings.api.view.info.api"))},null,8,Wbe)]),webhookAction:v(()=>[D("a",{href:"https://docs.n8n.io/integrations/core-nodes/n8n-nodes-base.webhook/",target:"_blank",textContent:N(e.$locale.baseText("settings.api.view.info.webhook"))},null,8,jbe)]),_:1})]),_:1})]),b(p,{class:$(["mb-4xs",e.$style.card])},{default:v(()=>[D("span",{class:$(e.$style.delete)},[b(c,{onClick:e.showDeleteModal,bold:!0},{default:v(()=>[V(N(e.$locale.baseText("generic.delete")),1)]),_:1},8,["onClick"])],2),D("div",null,[b(h,{label:e.$locale.baseText("settings.api.view.myKey"),value:e.apiKey,"copy-button-text":e.$locale.baseText("generic.clickToCopy"),"toast-title":e.$locale.baseText("settings.api.view.copy.toast"),redactValue:!0,onCopy:e.onCopy},null,8,["label","value","copy-button-text","toast-title","onCopy"])])]),_:1},8,["class"]),D("div",{class:$(e.$style.hint)},[b(g,{size:"small"},{default:v(()=>[V(N(e.$locale.baseText(`settings.api.view.${e.swaggerUIEnabled?"tryapi":"more-details"}`)),1)]),_:1}),V(" "+N(" ")+" "),b(c,{to:e.apiDocsURL,newWindow:!0,size:"small"},{default:v(()=>[V(N(e.$locale.baseText(`settings.api.view.${e.swaggerUIEnabled?"apiPlayground":"external-docs"}`)),1)]),_:1},8,["to"])],2)])):e.isTrialing?(y(),R(w,{key:1,heading:e.$locale.baseText("settings.api.trial.upgradePlan.title"),description:e.$locale.baseText("settings.api.trial.upgradePlan.description"),buttonText:e.$locale.baseText("settings.api.trial.upgradePlan.cta"),"onClick:button":e.onUpgrade},null,8,["heading","description","buttonText","onClick:button"])):e.mounted&&!e.isLoadingCloudPlans?(y(),R(w,{key:2,buttonText:e.$locale.baseText(e.loading?"settings.api.create.button.loading":"settings.api.create.button"),description:e.$locale.baseText("settings.api.create.description"),"onClick:button":e.createApiKey},null,8,["buttonText","description","onClick:button"])):W("",!0)],2)}const zbe={$style:Rbe},Hbe=te(Ibe,[["render",qbe],["__cssModules",zbe]]),$u={OPEN:"open",DELETE:"delete"},Qbe=J({data(){return{EnterpriseEditionFeature:ot,nodeParameters:{}}},setup(){return{...St()}},components:{},props:{eventBus:{type:Object},destination:{type:Object,required:!0,default:at(pi)},isInstanceOwner:Boolean},mounted(){var e;this.nodeParameters=Object.assign(at(pi),this.destination),(e=this.eventBus)==null||e.on("destinationWasSaved",this.onDestinationWasSaved)},beforeUnmount(){var e;(e=this.eventBus)==null||e.off("destinationWasSaved",this.onDestinationWasSaved)},computed:{...be(Jc),actions(){const e=[{label:this.$locale.baseText("workflows.item.open"),value:$u.OPEN}];return this.isInstanceOwner&&e.push({label:this.$locale.baseText("workflows.item.delete"),value:$u.DELETE}),e},typeLabelName(){return`settings.log-streaming.${this.destination.__type}`}},methods:{onDestinationWasSaved(){this.logStreamingStore.getDestination(this.destination.id)&&(this.nodeParameters=Object.assign(at(pi),this.destination))},async onClick(e){e&&e.target&&"className"in e.target&&e.target.className==="el-switch__core"?e.stopPropagation():this.$emit("edit",this.destination.id)},onEnabledSwitched(e,t){this.nodeParameters.enabled=e,this.saveDestination()},async saveDestination(){await this.logStreamingStore.saveDestination(this.nodeParameters)},async onAction(e){if(e===$u.OPEN)this.$emit("edit",this.destination.id);else if(e===$u.DELETE){if(await this.confirm(this.$locale.baseText("settings.log-streaming.destinationDelete.message",{interpolate:{destinationName:this.destination.label}}),this.$locale.baseText("settings.log-streaming.destinationDelete.headline"),{type:"warning",confirmButtonText:this.$locale.baseText("settings.log-streaming.destinationDelete.confirmButtonText"),cancelButtonText:this.$locale.baseText("settings.log-streaming.destinationDelete.cancelButtonText")})!==bt)return;this.$emit("remove",this.destination.id)}}}}),Gbe="_cardLink_16a84_5",Ybe="_activeStatusText_16a84_13",Xbe="_cardHeading_16a84_21",Kbe="_cardDescription_16a84_26",Jbe="_cardActions_16a84_32",Zbe={cardLink:Gbe,activeStatusText:Ybe,cardHeading:Xbe,cardDescription:Kbe,cardActions:Jbe};function eve(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-text"),m=E("el-switch"),c=E("n8n-action-toggle"),h=E("n8n-card");return y(),R(h,{class:$(e.$style.cardLink),"data-test-id":"destination-card",onClick:e.onClick},{header:v(()=>[D("div",null,[b(r,{tag:"h2",bold:"",class:$(e.$style.cardHeading)},{default:v(()=>[V(N(e.destination.label),1)]),_:1},8,["class"]),D("div",{class:$(e.$style.cardDescription)},[b(l,{color:"text-light",size:"small"},{default:v(()=>[D("span",null,N(e.$locale.baseText(e.typeLabelName)),1)]),_:1})],2)])]),append:v(()=>[D("div",{class:$(e.$style.cardActions)},[D("div",{class:$(e.$style.activeStatusText),"data-test-id":"destination-activator-status"},[e.nodeParameters.enabled?(y(),R(l,{key:0,color:"success",size:"small",bold:""},{default:v(()=>[V(N(e.$locale.baseText("workflowActivator.active")),1)]),_:1})):(y(),R(l,{key:1,color:"text-base",size:"small",bold:""},{default:v(()=>[V(N(e.$locale.baseText("workflowActivator.inactive")),1)]),_:1}))],2),b(m,{class:"mr-s",disabled:!e.isInstanceOwner,modelValue:e.nodeParameters.enabled,"onUpdate:modelValue":t[0]||(t[0]=p=>e.onEnabledSwitched(p,e.destination.id)),title:e.nodeParameters.enabled?e.$locale.baseText("workflowActivator.deactivateWorkflow"):e.$locale.baseText("workflowActivator.activateWorkflow"),"active-color":"#13ce66","inactive-color":"#8899AA","element-loading-spinner":"el-icon-loading","data-test-id":"workflow-activate-switch"},null,8,["disabled","modelValue","title"]),b(c,{actions:e.actions,theme:"dark",onAction:e.onAction},null,8,["actions","onAction"])],2)]),_:1},8,["class","onClick"])}const tve={$style:Zbe},sve=te(Qbe,[["render",eve],["__cssModules",tve]]),nve=J({name:"SettingsLogStreamingView",props:{},components:{EventDestinationCard:sve},data(){return{eventBus:Ze(),destinations:Array,disableLicense:!1,allDestinations:[],isInstanceOwner:!1}},async mounted(){var e,t;this.isLicensed&&(this.isInstanceOwner=((t=(e=this.usersStore.currentUser)==null?void 0:e.globalRole)==null?void 0:t.name)==="owner",await this.credentialsStore.fetchCredentialTypes(!1),await this.credentialsStore.fetchAllCredentials(),this.uiStore.nodeViewInitialized=!1,await this.getDestinationDataFromBackend(),this.logStreamingStore.$onAction(({name:s,after:n})=>{(s==="removeDestination"||s==="updateDestination")&&n(async()=>{this.$forceUpdate()})}),this.eventBus.on("destinationWasSaved",this.onDestinationWasSaved),this.eventBus.on("remove",this.onRemove),this.eventBus.on("closing",this.onBusClosing))},beforeUnmount(){this.eventBus.off("destinationWasSaved",this.onDestinationWasSaved),this.eventBus.off("remove",this.onRemove),this.eventBus.off("closing",this.onBusClosing)},computed:{...be(Le,Jc,_e,Ee,Ge,It),sortedItemKeysByLabel(){var t;const e=[];for(const[s,n]of Object.entries(this.logStreamingStore.items))e.push({key:s,label:((t=n.destination)==null?void 0:t.label)??"Destination"});return e.sort((s,n)=>s.label.localeCompare(n.label))},environment(){return"production"},isLicensed(){return this.disableLicense===!0?!1:this.settingsStore.isEnterpriseFeatureEnabled(ot.LogStreaming)}},methods:{onDestinationWasSaved(){this.$forceUpdate()},onBusClosing(){this.workflowsStore.removeAllNodes({setStateDirty:!1,removePinData:!0}),this.uiStore.stateIsDirty=!1},async getDestinationDataFromBackend(){this.logStreamingStore.clearEventNames(),this.logStreamingStore.clearDestinationItemTrees(),this.allDestinations=[];const e=await this.logStreamingStore.fetchEventNames();if(e)for(const s of e)this.logStreamingStore.addEventName(s);const t=await this.logStreamingStore.fetchDestinations();if(t)for(const s of t)this.logStreamingStore.addDestination(s),this.allDestinations.push(s);this.$forceUpdate()},goToUpgrade(){this.uiStore.goToUpgrade("log-streaming","upgrade-log-streaming")},storeHasItems(){return this.logStreamingStore.items&&Object.keys(this.logStreamingStore.items).length>0},async addDestination(){const e=at(pi);e.id=Ds(),this.logStreamingStore.addDestination(e),await Xs(),this.uiStore.openModalWithData({name:Tr,data:{destination:e,isNew:!0,eventBus:this.eventBus}})},async onRemove(e){if(!e)return;await this.logStreamingStore.deleteDestination(e);const t=this.workflowsStore.getNodeByName(e);t&&this.workflowsStore.removeNode(t)},async onEdit(e){if(!e)return;const t=this.logStreamingStore.getDestination(e);t&&this.uiStore.openModalWithData({name:Tr,data:{destination:t,isNew:!1,eventBus:this.eventBus}})}}}),ove="_header_1lkg8_5",ive="_destinationItem_1lkg8_15",rve={header:ove,destinationItem:ive},ave={class:"mb-2xl"},lve={class:"ml-m"},uve={class:"mb-l"},cve=["innerHTML"],dve={class:"mt-m text-right"},pve={key:1,"data-test-id":"action-box-licensed"},hve=["innerHTML"],mve={key:0,class:"mb-l"},fve=["innerHTML"],gve={"data-test-id":"action-box-unlicensed"},yve=["innerHTML"];function wve(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("el-switch"),m=E("n8n-info-tip"),c=E("event-destination-card"),h=E("el-col"),p=E("el-row"),g=E("n8n-button"),w=E("n8n-action-box");return y(),P("div",null,[D("div",{class:$(e.$style.header)},[D("div",ave,[b(r,{size:"2xlarge"},{default:v(()=>[V(N(e.$locale.baseText("settings.log-streaming.heading")),1)]),_:1}),e.environment!=="production"?(y(),P(Ie,{key:0},[D("strong",lve,"Disable License ("+N(e.environment)+") ",1),b(l,{modelValue:e.disableLicense,"onUpdate:modelValue":t[0]||(t[0]=S=>e.disableLicense=S),size:"large","data-test-id":"disable-license-toggle"},null,8,["modelValue"])],64)):W("",!0)])],2),e.isLicensed?(y(),P(Ie,{key:0},[D("div",uve,[b(m,{theme:"info",type:"note"},{default:v(()=>[D("span",{innerHTML:e.$locale.baseText("settings.log-streaming.infoText")},null,8,cve)]),_:1})]),e.storeHasItems()?(y(),P(Ie,{key:0},[(y(!0),P(Ie,null,Re(e.sortedItemKeysByLabel,S=>(y(),R(p,{gutter:10,key:S.key,class:$(e.$style.destinationItem)},{default:v(()=>{var k;return[(k=e.logStreamingStore.items[S.key])!=null&&k.destination?(y(),R(h,{key:0},{default:v(()=>{var O;return[b(c,{destination:(O=e.logStreamingStore.items[S.key])==null?void 0:O.destination,eventBus:e.eventBus,isInstanceOwner:e.isInstanceOwner,onRemove:C=>{var A,T;return e.onRemove((T=(A=e.logStreamingStore.items[S.key])==null?void 0:A.destination)==null?void 0:T.id)},onEdit:C=>{var A,T;return e.onEdit((T=(A=e.logStreamingStore.items[S.key])==null?void 0:A.destination)==null?void 0:T.id)}},null,8,["destination","eventBus","isInstanceOwner","onRemove","onEdit"])]}),_:2},1024)):W("",!0)]}),_:2},1032,["class"]))),128)),D("div",dve,[e.isInstanceOwner?(y(),R(g,{key:0,size:"large",onClick:e.addDestination},{default:v(()=>[V(N(e.$locale.baseText("settings.log-streaming.add")),1)]),_:1},8,["onClick"])):W("",!0)])],64)):(y(),P("div",pve,[b(w,{buttonText:e.$locale.baseText("settings.log-streaming.add"),"onClick:button":e.addDestination},{heading:v(()=>[D("span",{innerHTML:e.$locale.baseText("settings.log-streaming.addFirstTitle")},null,8,hve)]),_:1},8,["buttonText","onClick:button"])]))],64)):(y(),P(Ie,{key:1},[e.$locale.baseText("settings.log-streaming.infoText")?(y(),P("div",mve,[b(m,{theme:"info",type:"note"},{default:v(()=>[D("span",{innerHTML:e.$locale.baseText("settings.log-streaming.infoText")},null,8,fve)]),_:1})])):W("",!0),D("div",gve,[b(w,{description:e.$locale.baseText("settings.log-streaming.actionBox.description"),buttonText:e.$locale.baseText("settings.log-streaming.actionBox.button"),"onClick:button":e.goToUpgrade},{heading:v(()=>[D("span",{innerHTML:e.$locale.baseText("settings.log-streaming.actionBox.title")},null,8,yve)]),_:1},8,["description","buttonText","onClick:button"])])],64))])}const bve={$style:rve},vve=te(nve,[["render",wve],["__cssModules",bve]]),Tve=J({name:"SettingsFakeDoorView",components:{FeatureComingSoon:B0},props:{featureId:{type:String,required:!0}},computed:{...be(Ee),featureInfo(){return this.uiStore.getFakeDoorById(this.featureId)}},methods:{openLinkPage(){this.featureInfo&&window.open(this.featureInfo.linkURL,"_blank")}}}),Sve="_header_em75e_5",kve={header:Sve};function Eve(e,t,s,n,o,i){const r=E("feature-coming-soon");return y(),R(r,{featureId:e.featureId,showTitle:""},null,8,["featureId"])}const xve={$style:kve},Cve=te(Tve,[["render",Eve],["__cssModules",xve]]),Ove=J({name:"SetupView",components:{AuthView:Xr},setup(){return je()},data(){return{FORM_CONFIG:{title:this.$locale.baseText("auth.setup.setupOwner"),buttonText:this.$locale.baseText("auth.setup.next"),inputs:[{name:"email",properties:{label:this.$locale.baseText("auth.email"),type:"email",required:!0,validationRules:[{name:"VALID_EMAIL"}],autocomplete:"email",capitalize:!0}},{name:"firstName",properties:{label:this.$locale.baseText("auth.firstName"),maxlength:32,required:!0,autocomplete:"given-name",capitalize:!0}},{name:"lastName",properties:{label:this.$locale.baseText("auth.lastName"),maxlength:32,required:!0,autocomplete:"family-name",capitalize:!0}},{name:"password",properties:{label:this.$locale.baseText("auth.password"),type:"password",required:!0,validationRules:[{name:"DEFAULT_PASSWORD_RULES"}],infoText:this.$locale.baseText("auth.defaultPasswordRequirements"),autocomplete:"new-password",capitalize:!0}},{name:"agree",properties:{label:this.$locale.baseText("auth.agreement.label"),type:"checkbox"}}]},loading:!1}},computed:{...be(Le,Ee,Ge)},methods:{async onSubmit(e){try{const t=this.settingsStore.showSetupPage;if(this.loading=!0,await this.usersStore.createOwner(e),e.agree===!0)try{await this.uiStore.submitContactEmail(e.email.toString(),e.agree)}catch{}t?await this.$router.push({name:ee.NEW_WORKFLOW}):await this.$router.push({name:ee.USERS_SETTINGS})}catch(t){this.showError(t,this.$locale.baseText("auth.setup.settingUpOwnerError"))}this.loading=!1}}});function Dve(e,t,s,n,o,i){const r=E("AuthView");return y(),R(r,{form:e.FORM_CONFIG,formLoading:e.loading,"data-test-id":"setup-form",onSubmit:e.onSubmit},null,8,["form","formLoading","onSubmit"])}const Ave=te(Ove,[["render",Dve]]),$ve=J({name:"SigninView",components:{AuthView:Xr},setup(){return{...je()}},data(){return{FORM_CONFIG:{},loading:!1}},computed:{...be(Ge,Le,Ee,Vn)},mounted(){let e=this.$locale.baseText("auth.email");const t=this.settingsStore.ldapLoginLabel,s=this.settingsStore.isLdapLoginEnabled;s&&t&&(e=t),this.FORM_CONFIG={title:this.$locale.baseText("auth.signin"),buttonText:this.$locale.baseText("auth.signin"),redirectText:this.$locale.baseText("forgotPassword"),inputs:[{name:"email",properties:{label:e,type:"email",required:!0,...!s&&{validationRules:[{name:"VALID_EMAIL"}]},showRequiredAsterisk:!1,validateOnBlur:!1,autocomplete:"email",capitalize:!0}},{name:"password",properties:{label:this.$locale.baseText("auth.password"),type:"password",required:!0,showRequiredAsterisk:!1,validateOnBlur:!1,autocomplete:"current-password",capitalize:!0}}]},this.settingsStore.isDesktopDeployment||(this.FORM_CONFIG.redirectLink="/forgot-password")},methods:{async onSubmit(e){try{if(this.loading=!0,await this.usersStore.loginWithCreds(e),await this.cloudPlanStore.checkForCloudPlanData(),await this.uiStore.initBanners(),this.clearAllStickyNotifications(),this.loading=!1,typeof this.$route.query.redirect=="string"){const t=decodeURIComponent(this.$route.query.redirect);if(t.startsWith("/")){this.$router.push(t);return}}await this.$router.push({name:ee.HOMEPAGE})}catch(t){this.showError(t,this.$locale.baseText("auth.signin.error")),this.loading=!1}}}});function Nve(e,t,s,n,o,i){const r=E("AuthView");return y(),R(r,{form:e.FORM_CONFIG,formLoading:e.loading,"with-sso":!0,"data-test-id":"signin-form",onSubmit:e.onSubmit},null,8,["form","formLoading","onSubmit"])}const _ve=te($ve,[["render",Nve]]),Pve=J({name:"SignupView",components:{AuthView:Xr},setup(){return{...je()}},data(){return{FORM_CONFIG:{title:this.$locale.baseText("auth.signup.setupYourAccount"),buttonText:this.$locale.baseText("auth.signup.finishAccountSetup"),inputs:[{name:"firstName",properties:{label:this.$locale.baseText("auth.firstName"),maxlength:32,required:!0,autocomplete:"given-name",capitalize:!0}},{name:"lastName",properties:{label:this.$locale.baseText("auth.lastName"),maxlength:32,required:!0,autocomplete:"family-name",capitalize:!0}},{name:"password",properties:{label:this.$locale.baseText("auth.password"),type:"password",validationRules:[{name:"DEFAULT_PASSWORD_RULES"}],required:!0,infoText:this.$locale.baseText("auth.defaultPasswordRequirements"),autocomplete:"new-password",capitalize:!0}},{name:"agree",properties:{label:this.$locale.baseText("auth.agreement.label"),type:"checkbox"}}]},loading:!1,inviter:null,inviterId:null,inviteeId:null}},async mounted(){const e=!this.$route.query.inviterId||typeof this.$route.query.inviterId!="string"?null:this.$route.query.inviterId,t=!this.$route.query.inviteeId||typeof this.$route.query.inviteeId!="string"?null:this.$route.query.inviteeId;try{if(!e||!t)throw new Error(this.$locale.baseText("auth.signup.missingTokenError"));this.inviterId=e,this.inviteeId=t;const s=await this.usersStore.validateSignupToken({inviteeId:t,inviterId:e});this.inviter=s.inviter}catch(s){this.showError(s,this.$locale.baseText("auth.signup.tokenValidationError")),this.$router.replace({name:ee.SIGNIN})}},computed:{...be(Ee,Ge),inviteMessage(){return this.inviter?this.$locale.baseText("settings.signup.signUpInviterInfo",{interpolate:{firstName:this.inviter.firstName,lastName:this.inviter.lastName}}):null}},methods:{async onSubmit(e){if(!this.inviterId||!this.inviteeId){this.showError(new Error(this.$locale.baseText("auth.changePassword.tokenValidationError")),this.$locale.baseText("auth.signup.setupYourAccountError"));return}try{if(this.loading=!0,await this.usersStore.signup({...e,inviterId:this.inviterId,inviteeId:this.inviteeId}),e.agree===!0)try{await this.uiStore.submitContactEmail(e.email.toString(),e.agree)}catch{}await this.$router.push({name:ee.NEW_WORKFLOW})}catch(t){this.showError(t,this.$locale.baseText("auth.signup.setupYourAccountError"))}this.loading=!1}}});function Ive(e,t,s,n,o,i){const r=E("AuthView");return y(),R(r,{form:e.FORM_CONFIG,formLoading:e.loading,subtitle:e.inviteMessage,onSubmit:e.onSubmit},null,8,["form","formLoading","subtitle","onSubmit"])}const Mve=te(Pve,[["render",Ive]]),Lve=J({name:"TemplateDetailsBlock",props:{title:{type:String}}}),Fve="_block_phs27_5",Bve="_header_phs27_9",Rve="_content_phs27_14",Vve={block:Fve,header:Bve,content:Rve};function Uve(e,t,s,n,o,i){const r=E("n8n-heading");return y(),P("div",{class:$(e.$style.block)},[D("div",{class:$(e.$style.header)},[b(r,{tag:"h3",size:"small",color:"text-base"},{default:v(()=>[V(N(e.title),1)]),_:1})],2),D("div",{class:$(e.$style.content)},[Ke(e.$slots,"default")],2)],2)}const Wve={$style:Vve},jve=te(Lve,[["render",Uve],["__cssModules",Wve]]),qve=J({name:"TemplateDetails",props:{blockTitle:{type:String},loading:{type:Boolean},template:{type:Object}},components:{NodeIcon:Di,TemplateDetailsBlock:jve,TimeAgo:Vi},computed:{...be(Ln)},methods:{abbreviateNumber:OS,filterTemplateNodes:uf,redirectToCategory(e){this.templatesStore.resetSessionId(),this.$router.push(`/templates?categories=${e}`)},redirectToSearchPage(e){this.templatesStore.resetSessionId(),this.$router.push(`/templates?search=${e.displayName}`)}}}),zve="_icons_1f0ax_5",Hve="_icon_1f0ax_5",Qve="_text_1f0ax_16",Gve={icons:zve,icon:Hve,text:Qve};function Yve(e,t,s,n,o,i){var g;const r=E("n8n-loading"),l=E("NodeIcon"),m=E("template-details-block"),c=E("n8n-tags"),h=E("TimeAgo"),p=E("n8n-text");return y(),P("div",null,[b(r,{loading:e.loading,rows:5,variant:"p"},null,8,["loading"]),!e.loading&&e.template.nodes.length>0?(y(),R(m,{key:0,title:e.blockTitle},{default:v(()=>[D("div",{class:$(e.$style.icons)},[(y(!0),P(Ie,null,Re(e.filterTemplateNodes(e.template.nodes),w=>(y(),P("div",{key:w.name,class:$(e.$style.icon)},[b(l,{nodeType:w,size:24,showTooltip:!0,onClick:S=>e.redirectToSearchPage(w)},null,8,["nodeType","onClick"])],2))),128))],2)]),_:1},8,["title"])):W("",!0),!e.loading&&((g=e.template)==null?void 0:g.categories.length)>0?(y(),R(m,{key:1,title:e.$locale.baseText("template.details.categories")},{default:v(()=>[b(c,{tags:e.template.categories,"onClick:tag":e.redirectToCategory},null,8,["tags","onClick:tag"])]),_:1},8,["title"])):W("",!0),e.loading?W("",!0):(y(),R(m,{key:2,title:e.$locale.baseText("template.details.details")},{default:v(()=>[D("div",{class:$(e.$style.text)},[b(p,{size:"small",color:"text-base"},{default:v(()=>[V(N(e.$locale.baseText("template.details.created"))+" ",1),b(h,{date:e.template.createdAt},null,8,["date"]),V(" "+N(e.$locale.baseText("template.details.by"))+" "+N(e.template.user?e.template.user.username:"n8n team"),1)]),_:1})],2),D("div",{class:$(e.$style.text)},[e.template.totalViews!==0?(y(),R(p,{key:0,size:"small",color:"text-base"},{default:v(()=>[V(N(e.$locale.baseText("template.details.viewed"))+" "+N(e.abbreviateNumber(e.template.totalViews))+" "+N(e.$locale.baseText("template.details.times")),1)]),_:1})):W("",!0)],2)]),_:1},8,["title"]))])}const Xve={$style:Gve},Z0=te(qve,[["render",Yve],["__cssModules",Xve]]),Kve=J({name:"NodeList",mixins:[Nt],props:{nodes:{type:Array},limit:{type:Number,default:4},size:{type:String,default:"sm"}},components:{NodeIcon:Di},computed:{filteredCoreNodes(){return uf(this.nodes)},hiddenNodes(){return this.filteredCoreNodes.length-this.countNodesToBeSliced(this.filteredCoreNodes)},slicedNodes(){return this.filteredCoreNodes.slice(0,this.countNodesToBeSliced(this.filteredCoreNodes))}},methods:{countNodesToBeSliced(e){return e.length>this.limit?this.limit-1:this.limit}}}),Jve="_list_8cn7s_5",Zve="_container_8cn7s_13",eTe="_sm_8cn7s_18",tTe="_md_8cn7s_22",sTe="_button_8cn7s_26",nTe="_buttonSm_8cn7s_40",oTe="_buttonMd_8cn7s_47",iTe={list:Jve,container:Zve,sm:eTe,md:tTe,button:sTe,buttonSm:nTe,buttonMd:oTe};function rTe(e,t,s,n,o,i){const r=E("NodeIcon");return y(),P("div",{class:$(e.$style.list)},[(y(!0),P(Ie,null,Re(e.slicedNodes,l=>(y(),P("div",{class:$([e.$style.container,e.$style[e.size]]),key:l.name},[b(r,{nodeType:l,size:e.size==="md"?24:18,showTooltip:!0},null,8,["nodeType","size"])],2))),128)),e.filteredCoreNodes.length>e.limit+1?(y(),P("div",{key:0,class:$([e.$style.button,e.size==="md"?e.$style.buttonMd:e.$style.buttonSm])}," +"+N(e.hiddenNodes),3)):W("",!0)],2)}const aTe={$style:iTe},eC=te(Kve,[["render",rTe],["__cssModules",aTe]]),lTe=J({name:"TemplateCard",mixins:[Nt],props:{lastItem:{type:Boolean,default:!1},firstItem:{type:Boolean,default:!1},workflow:{type:Object},useWorkflowButton:{type:Boolean},loading:{type:Boolean},simpleView:{type:Boolean,default:!1}},components:{TimeAgo:Vi,NodeList:eC},data(){return{nodesToBeShown:5}},methods:{filterTemplateNodes:uf,abbreviateNumber:OS,countNodesToBeSliced(e){return e.length>this.nodesToBeShown?this.nodesToBeShown-1:this.nodesToBeShown},onUseWorkflowClick(e){this.$emit("useWorkflow",e)},onCardClick(e){this.$emit("click",e)}}}),uTe="_nodes_akyr5_5",cTe="_icon_akyr5_12",dTe="_card_akyr5_16",pTe="_hideOnHover_akyr5_28",hTe="_buttonContainer_akyr5_31",mTe="_loaded_akyr5_42",fTe="_first_akyr5_46",gTe="_last_akyr5_52",yTe="_content_akyr5_57",wTe="_line_akyr5_62",bTe="_loading_akyr5_68",vTe="_nodesContainer_akyr5_73",TTe={nodes:uTe,icon:cTe,card:dTe,hideOnHover:pTe,buttonContainer:hTe,loaded:mTe,first:fTe,last:gTe,content:yTe,line:wTe,loading:bTe,nodesContainer:vTe},STe={key:1},kTe={key:0};function ETe(e,t,s,n,o,i){const r=E("n8n-loading"),l=E("n8n-heading"),m=E("font-awesome-icon"),c=E("n8n-text"),h=E("TimeAgo"),p=E("NodeList"),g=E("n8n-button");return y(),P("div",{class:$([e.$style.card,e.lastItem&&e.$style.last,e.firstItem&&e.$style.first,!e.loading&&e.$style.loaded]),onClick:t[0]||(t[0]=(...w)=>e.onCardClick&&e.onCardClick(...w))},[e.loading?(y(),P("div",{key:0,class:$(e.$style.loading)},[b(r,{rows:2,shrinkLast:!1,loading:e.loading},null,8,["loading"])],2)):(y(),P("div",STe,[b(l,{bold:!0,size:"small"},{default:v(()=>[V(N(e.workflow.name),1)]),_:1}),e.simpleView?W("",!0):(y(),P("div",{key:0,class:$(e.$style.content)},[e.workflow.totalViews?(y(),P("span",kTe,[b(c,{size:"small",color:"text-light"},{default:v(()=>[b(m,{icon:"eye"}),V(" "+N(e.abbreviateNumber(e.workflow.totalViews)),1)]),_:1})])):W("",!0),e.workflow.totalViews?(y(),P("div",{key:1,class:$(e.$style.line),textContent:"|"},null,2)):W("",!0),b(c,{size:"small",color:"text-light"},{default:v(()=>[b(h,{date:e.workflow.createdAt},null,8,["date"])]),_:1}),e.workflow.user?(y(),P("div",{key:2,class:$(e.$style.line),textContent:"|"},null,2)):W("",!0),e.workflow.user?(y(),R(c,{key:3,size:"small",color:"text-light"},{default:v(()=>[V("By "+N(e.workflow.user.username),1)]),_:1})):W("",!0)],2))])),e.loading?W("",!0):(y(),P("div",{key:2,class:$([e.$style.nodesContainer,e.useWorkflowButton&&e.$style.hideOnHover])},[e.workflow.nodes?(y(),R(p,{key:0,nodes:e.workflow.nodes,limit:e.nodesToBeShown,size:"md"},null,8,["nodes","limit"])):W("",!0)],2)),e.useWorkflowButton?(y(),P("div",{key:3,class:$(e.$style.buttonContainer)},[e.useWorkflowButton?(y(),R(g,{key:0,outline:"",label:"Use workflow",onClick:Qe(e.onUseWorkflowClick,["stop"])},null,8,["onClick"])):W("",!0)],2)):W("",!0)],2)}const xTe={$style:TTe},CTe=te(lTe,[["render",ETe],["__cssModules",xTe]]),OTe=J({name:"TemplateList",mixins:[Nt],props:{infiniteScrollEnabled:{type:Boolean,default:!1},loading:{type:Boolean},useWorkflowButton:{type:Boolean,default:!1},workflows:{type:Array},totalWorkflows:{type:Number},simpleView:{type:Boolean,default:!1}},mounted(){if(this.infiniteScrollEnabled){const e=document.getElementById("content");e&&e.addEventListener("scroll",this.onScroll)}},beforeUnmount(){const e=document.getElementById("content");e&&e.removeEventListener("scroll",this.onScroll)},components:{TemplateCard:CTe},methods:{onScroll(){const e=this.$refs.loader;if(!e||this.loading)return;const t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)&&this.$emit("loadMore")},onCardClick(e,t){this.$emit("openTemplate",{event:e,id:t})},onUseWorkflow(e,t){this.$emit("useWorkflow",{event:e,id:t})}}}),DTe="_header_cr9gx_5",ATe="_workflowButton_cr9gx_9",$Te="_button_cr9gx_9",NTe="_nodes_cr9gx_12",_Te={header:DTe,workflowButton:ATe,button:$Te,nodes:NTe},PTe=["textContent"],ITe={key:0,ref:"loader"},MTe={key:1};function LTe(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("TemplateCard");return e.loading||e.workflows.length?(y(),P("div",{key:0,class:$(e.$style.list)},[e.simpleView?W("",!0):(y(),P("div",{key:0,class:$(e.$style.header)},[b(r,{bold:!0,size:"medium",color:"text-light"},{default:v(()=>[V(N(e.$locale.baseText("templates.workflows"))+" ",1),!e.loading&&e.totalWorkflows?(y(),P("span",{key:0,textContent:N(`(${e.totalWorkflows})`)},null,8,PTe)):W("",!0)]),_:1})],2)),D("div",{class:$(e.$style.container)},[(y(!0),P(Ie,null,Re(e.workflows,(m,c)=>(y(),R(l,{key:m.id,workflow:m,firstItem:c===0,"simple-view":e.simpleView,lastItem:c===e.workflows.length-1&&!e.loading,useWorkflowButton:e.useWorkflowButton,onClick:h=>e.onCardClick(h,m.id),onUseWorkflow:h=>e.onUseWorkflow(h,m.id)},null,8,["workflow","firstItem","simple-view","lastItem","useWorkflowButton","onClick","onUseWorkflow"]))),128)),e.infiniteScrollEnabled?(y(),P("div",ITe,null,512)):W("",!0),e.loading?(y(),P("div",MTe,[(y(),P(Ie,null,Re(4,m=>b(l,{key:"index-"+m,loading:!0,firstItem:e.workflows.length===0&&m===1,lastItem:m===4},null,8,["firstItem","lastItem"])),64))])):W("",!0)],2)],2)):W("",!0)}const FTe={$style:_Te},tC=te(OTe,[["render",LTe],["__cssModules",FTe]]),BTe=J({name:"GoBackButton",data(){return{routeHasHistory:!1}},methods:{navigateTo(){this.routeHasHistory?this.$router.go(-1):this.$router.push({name:ee.TEMPLATES})}},mounted(){window.history.state?this.routeHasHistory=!0:this.routeHasHistory=!1}}),RTe="_wrapper_8n8b4_5",VTe="_icon_8n8b4_10",UTe="_text_8n8b4_11",WTe={wrapper:RTe,icon:VTe,text:UTe},jTe=["textContent"];function qTe(e,t,s,n,o,i){const r=E("font-awesome-icon");return y(),P("div",{class:$(e.$style.wrapper),onClick:t[0]||(t[0]=(...l)=>e.navigateTo&&e.navigateTo(...l))},[b(r,{class:$(e.$style.icon),icon:"arrow-left"},null,8,["class"]),D("div",{class:$(e.$style.text),textContent:N(e.$locale.baseText("template.buttons.goBackButton"))},null,10,jTe)],2)}const zTe={$style:WTe},HTe=te(BTe,[["render",qTe],["__cssModules",zTe]]),QTe=J({name:"TemplatesView",components:{GoBackButton:HTe},props:{goBackEnabled:{type:Boolean,default:!1}}}),GTe="_template_zfb12_5",YTe="_container_zfb12_18",XTe="_header_zfb12_22",KTe="_goBack_zfb12_28",JTe={template:GTe,container:YTe,header:XTe,goBack:KTe};function ZTe(e,t,s,n,o,i){const r=E("GoBackButton");return y(),P("div",{class:$(e.$style.template)},[D("div",{class:$(e.$style.container)},[D("div",{class:$(e.$style.header)},[e.goBackEnabled?(y(),P("div",{key:0,class:$(e.$style.goBack)},[b(r)],2)):W("",!0),Ke(e.$slots,"header")],2),D("div",null,[Ke(e.$slots,"content")])],2)],2)}const eSe={$style:JTe},Yg=te(QTe,[["render",ZTe],["__cssModules",eSe]]),tSe=J({name:"TemplatesCollectionView",mixins:[ut],components:{TemplateDetails:Z0,TemplateList:tC,TemplatesView:Yg},computed:{...be(Ln,js),collection(){return this.templatesStore.getCollectionById(this.collectionId)},collectionId(){return this.$route.params.id},collectionWorkflows(){return this.collection?this.collection.workflows.map(({id:e})=>this.templatesStore.getTemplateById(e.toString())):null}},data(){return{loading:!0,notFoundError:!1}},methods:{scrollToTop(){setTimeout(()=>{const e=document.getElementById("content");e&&e.scrollTo({top:0,behavior:"smooth"})},50)},onOpenTemplate({event:e,id:t}){this.navigateTo(e,ee.TEMPLATE,t)},onUseWorkflow({event:e,id:t}){const s={template_id:t,wf_template_repo_session_id:this.workflowsStore.currentSessionId,source:"collection"};this.$externalHooks().run("templatesCollectionView.onUseWorkflow",s),this.$telemetry.track("User inserted workflow template",s,{withPostHog:!0}),this.navigateTo(e,ee.TEMPLATE_IMPORT,t)},navigateTo(e,t,s){if(e.metaKey||e.ctrlKey){const n=this.$router.resolve({name:t,params:{id:s}});window.open(n.href,"_blank");return}else this.$router.push({name:t,params:{id:s}})}},watch:{collection(e){Er(e?`n8n - Template collection: ${e.name}`:"n8n - Templates")}},async mounted(){if(this.scrollToTop(),this.collection&&this.collection.full){this.loading=!1;return}try{await this.templatesStore.fetchCollectionById(this.collectionId)}catch{this.notFoundError=!0}this.loading=!1}}),sSe="_wrapper_19isr_5",nSe="_notFound_19isr_15",oSe="_title_19isr_19",iSe="_button_19isr_23",rSe="_mainContent_19isr_27",aSe="_markdown_19isr_38",lSe="_details_19isr_42",uSe={wrapper:sSe,notFound:nSe,title:oSe,button:iSe,mainContent:rSe,markdown:aSe,details:lSe};function cSe(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-text"),m=E("n8n-loading"),c=E("n8n-markdown"),h=E("TemplateList"),p=E("TemplateDetails"),g=E("TemplatesView");return y(),R(g,{goBackEnabled:!0},Ms({header:v(()=>[e.notFoundError?(y(),P("div",{key:1,class:$(e.$style.notFound)},[b(l,{color:"text-base"},{default:v(()=>[V(N(e.$locale.baseText("templates.collectionsNotFound")),1)]),_:1})],2)):(y(),P("div",{key:0,class:$(e.$style.wrapper)},[D("div",{class:$(e.$style.title)},[e.collection&&e.collection.name?(y(),R(r,{key:0,tag:"h1",size:"2xlarge"},{default:v(()=>[V(N(e.collection.name),1)]),_:1})):W("",!0),e.collection&&e.collection.name?(y(),R(l,{key:1,color:"text-base",size:"small"},{default:v(()=>[V(N(e.$locale.baseText("templates.collection")),1)]),_:1})):W("",!0),b(m,{loading:!e.collection||!e.collection.name,rows:2,variant:"h1"},null,8,["loading"])],2)],2))]),_:2},[e.notFoundError?void 0:{name:"content",fn:v(()=>[D("div",{class:$(e.$style.wrapper)},[D("div",{class:$(e.$style.mainContent)},[e.loading||e.collection&&e.collection.description?(y(),P("div",{key:0,class:$(e.$style.markdown)},[b(c,{content:e.collection&&e.collection.description,images:e.collection&&e.collection.image,loading:e.loading},null,8,["content","images","loading"])],2)):W("",!0),b(h,{"infinite-scroll-enabled":!1,loading:e.loading,"use-workflow-button":!0,workflows:e.loading?[]:e.collectionWorkflows,onUseWorkflow:e.onUseWorkflow,onOpenTemplate:e.onOpenTemplate},null,8,["loading","workflows","onUseWorkflow","onOpenTemplate"])],2),D("div",{class:$(e.$style.details)},[b(p,{"block-title":e.$locale.baseText("template.details.appsInTheCollection"),loading:e.loading,template:e.collection},null,8,["block-title","loading","template"])],2)],2)]),key:"0"}]),1024)}const dSe={$style:uSe},pSe=te(tSe,[["render",cSe],["__cssModules",dSe]]),hSe=J({name:"TemplatesWorkflowView",mixins:[ut],components:{TemplateDetails:Z0,TemplatesView:Yg,WorkflowPreview:J0},computed:{...be(Ln,js),template(){return this.templatesStore.getTemplateById(this.templateId)},templateId(){return this.$route.params.id}},data(){return{loading:!0,showPreview:!0,notFoundError:!1}},methods:{openWorkflow(e,t){const s={source:"workflow",template_id:e,wf_template_repo_session_id:this.templatesStore.currentSessionId};if(this.$externalHooks().run("templatesWorkflowView.openWorkflow",s),this.$telemetry.track("User inserted workflow template",s,{withPostHog:!0}),t.metaKey||t.ctrlKey){const n=this.$router.resolve({name:ee.TEMPLATE_IMPORT,params:{id:e}});window.open(n.href,"_blank");return}else this.$router.push({name:ee.TEMPLATE_IMPORT,params:{id:e}})},onHidePreview(){this.showPreview=!1},scrollToTop(){const e=document.getElementById("content");e&&e.scrollTo({top:0})}},watch:{template(e){Er(e?`n8n - Template template: ${e.name}`:"n8n - Templates")}},async mounted(){if(this.scrollToTop(),this.template&&this.template.full){this.loading=!1;return}try{await this.templatesStore.fetchTemplateById(this.templateId)}catch{this.notFoundError=!0}this.loading=!1}}),mSe="_wrapper_1c2lm_5",fSe="_notFound_1c2lm_10",gSe="_title_1c2lm_14",ySe="_button_1c2lm_18",wSe="_image_1c2lm_22",bSe="_content_1c2lm_33",vSe="_markdown_1c2lm_44",TSe="_details_1c2lm_55",SSe={wrapper:mSe,notFound:fSe,title:gSe,button:ySe,image:wSe,content:bSe,markdown:vSe,details:TSe};function kSe(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-text"),m=E("n8n-loading"),c=E("n8n-button"),h=E("WorkflowPreview"),p=E("n8n-markdown"),g=E("TemplateDetails"),w=E("TemplatesView");return y(),R(w,{goBackEnabled:!0},Ms({header:v(()=>[e.notFoundError?(y(),P("div",{key:1,class:$(e.$style.notFound)},[b(l,{color:"text-base"},{default:v(()=>[V(N(e.$locale.baseText("templates.workflowsNotFound")),1)]),_:1})],2)):(y(),P("div",{key:0,class:$(e.$style.wrapper)},[D("div",{class:$(e.$style.title)},[e.template&&e.template.name?(y(),R(r,{key:0,tag:"h1",size:"2xlarge"},{default:v(()=>[V(N(e.template.name),1)]),_:1})):W("",!0),e.template&&e.template.name?(y(),R(l,{key:1,color:"text-base",size:"small"},{default:v(()=>[V(N(e.$locale.baseText("generic.workflow")),1)]),_:1})):W("",!0),b(m,{loading:!e.template||!e.template.name,rows:2,variant:"h1"},null,8,["loading"])],2),D("div",{class:$(e.$style.button)},[e.template?(y(),R(c,{key:0,label:e.$locale.baseText("template.buttons.useThisWorkflowButton"),size:"large",onClick:t[0]||(t[0]=S=>e.openWorkflow(e.template.id,S))},null,8,["label"])):W("",!0),b(m,{loading:!e.template,rows:1,variant:"button"},null,8,["loading"])],2)],2))]),_:2},[e.notFoundError?void 0:{name:"content",fn:v(()=>[D("div",{class:$(e.$style.image)},[e.showPreview?(y(),R(h,{key:0,loading:e.loading,workflow:e.template&&e.template.workflow,onClose:e.onHidePreview},null,8,["loading","workflow","onClose"])):W("",!0)],2),D("div",{class:$(e.$style.content)},[D("div",{class:$(e.$style.markdown)},[b(p,{content:e.template&&e.template.description,images:e.template&&e.template.image,loading:e.loading},null,8,["content","images","loading"])],2),D("div",{class:$(e.$style.details)},[b(g,{"block-title":e.$locale.baseText("template.details.appsInTheWorkflow"),loading:e.loading,template:e.template},null,8,["block-title","loading","template"])],2)],2)]),key:"0"}]),1024)}const ESe={$style:SSe},xSe=te(hSe,[["render",kSe],["__cssModules",ESe]]),CSe=J({name:"Card",mixins:[Nt],props:{loading:{type:Boolean},title:{type:String}}}),OSe="_card_fly8k_5",DSe="_title_fly8k_21",ASe={card:OSe,title:DSe},$Se=["textContent"];function NSe(e,t,s,n,o,i){const r=E("n8n-loading"),l=E("n8n-card");return y(),R(l,Lc({class:e.$style.card},e.$attrs),Ms({default:v(()=>[b(r,{loading:e.loading,rows:3,variant:"p"},null,8,["loading"])]),_:2},[e.loading?void 0:{name:"header",fn:v(()=>[D("span",{textContent:N(e.title),class:$(e.$style.title)},null,10,$Se)]),key:"0"},e.loading?void 0:{name:"footer",fn:v(()=>[Ke(e.$slots,"footer")]),key:"1"}]),1040,["class"])}const _Se={$style:ASe},sC=te(CSe,[["render",NSe],["__cssModules",_Se]]),PSe=J({name:"CollectionCard",mixins:[Nt],props:{loading:{type:Boolean},collection:{type:Object}},components:{Card:sC,NodeList:eC}});function ISe(e,t,s,n,o,i){const r=E("n8n-text"),l=E("NodeList"),m=E("Card");return y(),R(m,{loading:e.loading,title:e.collection.name},{footer:v(()=>[b(r,{size:"small",color:"text-light"},{default:v(()=>[V(N(e.collection.workflows.length)+" "+N(e.$locale.baseText("templates.workflows")),1)]),_:1}),b(l,{nodes:e.collection.nodes,showMore:!1},null,8,["nodes"])]),_:1},8,["loading","title"])}const MSe=te(PSe,[["render",ISe]]),LSe=J({name:"CollectionsCarousel",mixins:[Nt],props:{collections:{type:Array},loading:{type:Boolean}},watch:{collections(){setTimeout(()=>{this.updateCarouselScroll()},0)},loading(){setTimeout(()=>{this.updateCarouselScroll()},0)}},components:{Card:sC,CollectionCard:MSe,agile:MA},data(){return{carouselScrollPosition:0,cardWidth:240,scrollEnd:!1,listElement:null}},methods:{updateCarouselScroll(){if(this.listElement){this.carouselScrollPosition=Number(this.listElement.scrollLeft.toFixed());const e=this.listElement.clientWidth,t=this.listElement.scrollWidth,s=this.carouselScrollPosition;this.scrollEnd=t-e<=s+7}},onCardClick(e,t){this.$emit("openCollection",{event:e,id:t})},scrollLeft(){this.listElement&&this.listElement.scrollBy({left:-(this.cardWidth*2),top:0,behavior:"smooth"})},scrollRight(){this.listElement&&this.listElement.scrollBy({left:this.cardWidth*2,top:0,behavior:"smooth"})}},async mounted(){await this.$nextTick();const e=this.$refs.slider;e&&(this.listElement=e.$el.querySelector(".agile__list"),this.listElement&&this.listElement.addEventListener("scroll",this.updateCarouselScroll))},beforeUnmount(){const e=this.$refs.slider;e&&e.destroy(),window.removeEventListener("scroll",this.updateCarouselScroll)}}),FSe="_container_gpmxb_5",BSe="_button_gpmxb_9",RSe="_leftButton_gpmxb_30 _button_gpmxb_9",VSe="_rightButton_gpmxb_39 _button_gpmxb_9",USe={container:FSe,button:BSe,leftButton:RSe,rightButton:VSe};function WSe(e,t,s,n,o,i){const r=E("Card"),l=E("CollectionCard"),m=E("agile"),c=E("font-awesome-icon");return He((y(),P("div",{class:$(e.$style.container)},[b(m,{ref:"slider",dots:!1,navButtons:!1,infinite:!1,"slides-to-show":4,onAfterChange:e.updateCarouselScroll},{default:v(()=>[(y(!0),P(Ie,null,Re(e.loading?4:0,h=>(y(),R(r,{key:`loading-${h}`,loading:e.loading},null,8,["loading"]))),128)),(y(!0),P(Ie,null,Re(e.loading?[]:e.collections,h=>(y(),R(l,{key:h.id,collection:h,onClick:p=>e.onCardClick(p,h.id)},null,8,["collection","onClick"]))),128))]),_:1},8,["onAfterChange"]),He(D("button",{class:$(e.$style.leftButton),onClick:t[0]||(t[0]=(...h)=>e.scrollLeft&&e.scrollLeft(...h))},[b(c,{icon:"chevron-left"})],2),[[nt,e.carouselScrollPosition>0]]),He(D("button",{class:$(e.$style.rightButton),onClick:t[1]||(t[1]=(...h)=>e.scrollRight&&e.scrollRight(...h))},[b(c,{icon:"chevron-right"})],2),[[nt,!e.scrollEnd]])],2)),[[nt,e.loading||e.collections.length]])}const jSe={$style:USe},qSe=te(LSe,[["render",WSe],["__cssModules",jSe]]),zSe=J({name:"TemplateFilters",mixins:[Nt],props:{sortOnPopulate:{type:Boolean,default:!1},categories:{type:Array},expandLimit:{type:Number,default:12},loading:{type:Boolean},selected:{type:Array}},watch:{categories:{handler(e){if(!this.sortOnPopulate)this.sortedCategories=e;else{const t=this.selected||[],s=e.filter(({id:o})=>t.includes(o)),n=e.filter(({id:o})=>!t.includes(o));this.sortedCategories=s.concat(n)}},immediate:!0}},data(){return{collapsed:!0,sortedCategories:[]}},computed:{allSelected(){return this.selected.length===0}},methods:{collapseAction(){this.collapsed=!1},handleCheckboxChanged(e,t){this.$emit(e?"select":"clear",t.id)},isSelected(e){return this.selected.includes(e)},resetCategories(){this.$emit("clearAll")}}}),HSe="_title_7aevl_5",QSe="_categories_7aevl_10",GSe="_item_7aevl_15",YSe="_button_7aevl_22",XSe={title:HSe,categories:QSe,item:GSe,button:YSe};const KSe=["textContent"];function JSe(e,t,s,n,o,i){const r=E("n8n-loading"),l=E("el-checkbox"),m=E("n8n-text");return y(),P("div",{class:$([e.$style.filters,"template-filters"])},[D("div",{class:$(e.$style.title),textContent:N(e.$locale.baseText("templates.categoriesHeading"))},null,10,KSe),e.loading?(y(),P("div",{key:0,class:$(e.$style.list)},[b(r,{loading:e.loading,rows:e.expandLimit},null,8,["loading","rows"])],2)):W("",!0),e.loading?W("",!0):(y(),P("ul",{key:1,class:$(e.$style.categories)},[D("li",{class:$(e.$style.item)},[b(l,{label:e.$locale.baseText("templates.allCategories"),modelValue:e.allSelected,"onUpdate:modelValue":t[0]||(t[0]=c=>e.resetCategories(c))},null,8,["label","modelValue"])],2),(y(!0),P(Ie,null,Re(e.collapsed?e.sortedCategories.slice(0,e.expandLimit):e.sortedCategories,c=>(y(),P("li",{key:c.id,class:$(e.$style.item)},[b(l,{label:c.name,modelValue:e.isSelected(c.id),"onUpdate:modelValue":h=>e.handleCheckboxChanged(h,c)},null,8,["label","modelValue","onUpdate:modelValue"])],2))),128))],2)),e.sortedCategories.length>e.expandLimit&&e.collapsed&&!e.loading?(y(),P("div",{key:2,class:$(e.$style.button),onClick:t[1]||(t[1]=(...c)=>e.collapseAction&&e.collapseAction(...c))},[b(m,{size:"small",color:"primary"},{default:v(()=>[V(" + "+N(`${e.sortedCategories.length-e.expandLimit} more`),1)]),_:1})],2)):W("",!0)],2)}const ZSe={$style:XSe},e1e=te(zSe,[["render",JSe],["__cssModules",ZSe]]),t1e=J({name:"TemplatesSearchView",mixins:[Nt,kn],components:{CollectionsCarousel:qSe,TemplateFilters:e1e,TemplateList:tC,TemplatesView:Yg},setup(){return{...je()}},data(){return{areCategoriesPrepopulated:!1,categories:[],loading:!0,loadingCategories:!0,loadingCollections:!0,loadingWorkflows:!0,search:"",searchEventToTrack:null,errorLoadingWorkflows:!1}},computed:{...be(Le,Ln,Ee,Ge,js),totalWorkflows(){return this.templatesStore.getSearchedWorkflowsTotal(this.query)},workflows(){return this.templatesStore.getSearchedWorkflows(this.query)||[]},collections(){return this.templatesStore.getSearchedCollections(this.query)||[]},endOfSearchMessage(){return this.loadingWorkflows?null:!this.loadingCollections&&this.workflows.length===0&&this.collections.length===0?!this.settingsStore.isTemplatesEndpointReachable&&this.errorLoadingWorkflows?this.$locale.baseText("templates.connectionWarning"):this.$locale.baseText("templates.noSearchResults"):null},query(){return{categories:this.categories,search:this.search}},nothingFound(){return!this.loadingWorkflows&&!this.loadingCollections&&this.workflows.length===0&&this.collections.length===0}},methods:{onOpenCollection({event:e,id:t}){this.navigateTo(e,ee.COLLECTION,t)},onOpenTemplate({event:e,id:t}){this.navigateTo(e,ee.TEMPLATE,t)},navigateTo(e,t,s){if(e.metaKey||e.ctrlKey){const n=this.$router.resolve({name:t,params:{id:s}});window.open(n.href,"_blank");return}else this.$router.push({name:t,params:{id:s}})},updateSearch(){this.updateQueryParam(this.search,this.categories.join(",")),this.loadWorkflowsAndCollections(!1)},updateSearchTracking(e,t){e&&(this.searchEventToTrack&&this.searchEventToTrack.search_string.length>e.length||(this.searchEventToTrack={search_string:e,workflow_results_count:this.workflows.length,collection_results_count:this.collections.length,categories_applied:t.map(s=>this.templatesStore.getCategoryById(s.toString())),wf_template_repo_session_id:this.templatesStore.currentSessionId}))},trackSearch(){this.searchEventToTrack&&(this.$telemetry.track("User searched workflow templates",this.searchEventToTrack),this.searchEventToTrack=null)},openNewWorkflow(){this.uiStore.nodeViewInitialized=!1,this.$router.push({name:ee.NEW_WORKFLOW})},onSearchInput(e){this.loadingWorkflows=!0,this.loadingCollections=!0,this.search=e,this.callDebounced("updateSearch",{debounceTime:500,trailing:!0}),e.length===0&&this.trackSearch()},onCategorySelected(e){this.categories=this.categories.concat(e),this.updateSearch(),this.trackCategories()},onCategoryUnselected(e){this.categories=this.categories.filter(t=>t!==e),this.updateSearch(),this.trackCategories()},onCategoriesCleared(){this.categories=[],this.updateSearch()},trackCategories(){this.categories.length&&this.$telemetry.track("User changed template filters",{search_string:this.search,categories_applied:this.categories.map(e=>this.templatesStore.getCollectionById(e.toString())),wf_template_repo_session_id:this.templatesStore.currentSessionId})},updateQueryParam(e,t){const s=Object.assign({},this.$route.query);t.length?s.categories=t:delete s.categories,e.length?s.search=e:delete s.search,this.$router.replace({query:s})},async onLoadMore(){if(!(this.workflows.length>=this.totalWorkflows))try{this.loadingWorkflows=!0,await this.templatesStore.getMoreWorkflows({categories:this.categories,search:this.search})}catch{this.showMessage({title:"Error",message:"Could not load more workflows",type:"error"})}finally{this.loadingWorkflows=!1}},async loadCategories(){try{await this.templatesStore.getCategories()}catch{}this.loadingCategories=!1},async loadCollections(){try{this.loadingCollections=!0,await this.templatesStore.getCollections({categories:this.categories,search:this.search})}catch{}this.loadingCollections=!1},async loadWorkflows(){try{this.loadingWorkflows=!0,await this.templatesStore.getWorkflows({search:this.search,categories:this.categories}),this.errorLoadingWorkflows=!1}catch{this.errorLoadingWorkflows=!0}this.loadingWorkflows=!1},async loadWorkflowsAndCollections(e){const t=this.search,s=[...this.categories];await Promise.all([this.loadWorkflows(),this.loadCollections()]),e||this.updateSearchTracking(t,s)},scrollTo(e,t="smooth"){setTimeout(()=>{const s=document.getElementById("content");s&&s.scrollTo({top:e,behavior:t})},0)}},watch:{workflows(e){e.length===0&&this.scrollTo(0)}},beforeRouteLeave(e,t,s){const n=document.getElementById("content");n&&this.$route.meta&&this.$route.meta.setScrollPosition&&typeof this.$route.meta.setScrollPosition=="function"&&this.$route.meta.setScrollPosition(n.scrollTop),this.trackSearch(),s()},async mounted(){Er("n8n - Templates"),this.loadCategories(),this.loadWorkflowsAndCollections(!0),this.usersStore.showPersonalizationSurvey(),setTimeout(()=>{this.$route.meta&&this.$route.meta.scrollOffset>0&&this.scrollTo(this.$route.meta.scrollOffset,"auto")},100)},async created(){this.$route.query.search&&typeof this.$route.query.search=="string"&&(this.search=this.$route.query.search),typeof this.$route.query.categories=="string"&&this.$route.query.categories.length&&(this.categories=this.$route.query.categories.split(",").map(e=>parseInt(e,10)),this.areCategoriesPrepopulated=!0)}}),s1e="_wrapper_p3frq_5",n1e="_contentWrapper_p3frq_10",o1e="_filters_p3frq_20",i1e="_search_p3frq_26",r1e="_header_p3frq_38",a1e={wrapper:s1e,contentWrapper:n1e,filters:o1e,search:i1e,header:r1e},l1e=["textContent"],u1e=["innerHTML"];function c1e(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-button"),m=E("TemplateFilters"),c=E("font-awesome-icon"),h=E("n8n-input"),p=E("CollectionsCarousel"),g=E("TemplateList"),w=E("n8n-text"),S=E("TemplatesView");return y(),R(S,null,{header:v(()=>[D("div",{class:$(e.$style.wrapper)},[D("div",{class:$(e.$style.title)},[b(r,{tag:"h1",size:"2xlarge"},{default:v(()=>[V(N(e.$locale.baseText("templates.heading")),1)]),_:1})],2),D("div",{class:$(e.$style.button)},[b(l,{size:"large",label:e.$locale.baseText("templates.newButton"),onClick:e.openNewWorkflow},null,8,["label","onClick"])],2)],2)]),content:v(()=>[D("div",{class:$(e.$style.contentWrapper)},[D("div",{class:$(e.$style.filters)},[b(m,{categories:e.templatesStore.allCategories,sortOnPopulate:e.areCategoriesPrepopulated,loading:e.loadingCategories,selected:e.categories,onClear:e.onCategoryUnselected,onClearAll:e.onCategoriesCleared,onSelect:e.onCategorySelected},null,8,["categories","sortOnPopulate","loading","selected","onClear","onClearAll","onSelect"])],2),D("div",{class:$(e.$style.search)},[b(h,{modelValue:e.search,placeholder:e.$locale.baseText("templates.searchPlaceholder"),"onUpdate:modelValue":e.onSearchInput,onBlur:e.trackSearch,clearable:""},{prefix:v(()=>[b(c,{icon:"search"})]),_:1},8,["modelValue","placeholder","onUpdate:modelValue","onBlur"]),He(D("div",{class:$(e.$style.carouselContainer)},[D("div",{class:$(e.$style.header)},[b(r,{bold:!0,size:"medium",color:"text-light"},{default:v(()=>[V(N(e.$locale.baseText("templates.collections"))+" ",1),e.loadingCollections?W("",!0):(y(),P("span",{key:0,textContent:N(`(${e.collections.length})`)},null,8,l1e))]),_:1})],2),b(p,{collections:e.collections,loading:e.loadingCollections,onOpenCollection:e.onOpenCollection},null,8,["collections","loading","onOpenCollection"])],2),[[nt,e.collections.length||e.loadingCollections]]),b(g,{"infinite-scroll-enabled":!0,loading:e.loadingWorkflows,"total-workflows":e.totalWorkflows,workflows:e.workflows,onLoadMore:e.onLoadMore,onOpenTemplate:e.onOpenTemplate},null,8,["loading","total-workflows","workflows","onLoadMore","onOpenTemplate"]),e.endOfSearchMessage?(y(),P("div",{key:0,class:$(e.$style.endText)},[b(w,{size:"medium",color:"text-base"},{default:v(()=>[D("span",{innerHTML:e.endOfSearchMessage},null,8,u1e)]),_:1})],2)):W("",!0)],2)],2)]),_:1})}const d1e={$style:a1e},p1e=te(t1e,[["render",c1e],["__cssModules",d1e]]),h1e=J({name:"PageViewLayout",data(){return{loading:!1}},computed:{...be(Ee)}}),m1e="_wrapper_167dc_5",f1e="_container_167dc_21",g1e="_aside_167dc_30",y1e="_content_167dc_44",w1e={wrapper:m1e,container:f1e,aside:g1e,content:y1e};function b1e(e,t,s,n,o,i){return y(),P("div",{class:$([e.$style.wrapper,!this.uiStore.sidebarMenuCollapsed&&e.$style.expandedSidebar])},[D("div",{class:$(e.$style.container)},[e.$slots.aside?(y(),P("aside",{key:0,class:$(e.$style.aside)},[Ke(e.$slots,"aside")],2)):W("",!0),D("main",{class:$(e.$style.content)},[Ke(e.$slots,"default")],2)],2)],2)}const v1e={$style:w1e},T1e=te(h1e,[["render",b1e],["__cssModules",v1e]]),S1e=J({props:{overflow:{type:Boolean,default:!1}}}),k1e="_wrapper_l75f8_5",E1e="_overflow_l75f8_11",x1e="_list_l75f8_11",C1e="_body_l75f8_11",O1e="_header_l75f8_21",D1e={wrapper:k1e,overflow:E1e,list:x1e,body:C1e,header:O1e};function A1e(e,t,s,n,o,i){return y(),P("div",{class:$({[e.$style.wrapper]:!0,[e.$style.overflow]:e.overflow})},[D("div",{class:$(e.$style.list)},[e.$slots.header?(y(),P("div",{key:0,class:$(e.$style.header)},[Ke(e.$slots,"header")],2)):W("",!0),D("div",{class:$(e.$style.body)},[Ke(e.$slots,"default")],2)],2)],2)}const $1e={$style:D1e},N1e=te(S1e,[["render",A1e],["__cssModules",$1e]]),_1e=J({props:{value:{type:Boolean,default:!0},myResourcesLabel:{type:String,default:""},allResourcesLabel:{type:String,default:""}},computed:{menuItems(){return[{id:"all",icon:"globe-americas",label:this.allResourcesLabel,position:"top"},{id:"owner",icon:"user",label:this.myResourcesLabel,position:"top"}]}},methods:{onSelectOwner(e){this.$emit("update:modelValue",e==="owner")}}});const P1e={class:"resource-ownership-select"};function I1e(e,t,s,n,o,i){const r=E("n8n-menu");return y(),P("div",P1e,[b(r,{items:e.menuItems,mode:"tabs",modelValue:e.value?"owner":"all","onUpdate:modelValue":e.onSelectOwner},null,8,["items","modelValue","onUpdate:modelValue"])])}const M1e=te(_1e,[["render",I1e],["__scopeId","data-v-64775fda"]]),L1e=J({props:{modelValue:{type:Object,default:()=>({})},keys:{type:Array,default:()=>[]},shareable:{type:Boolean,default:!0},reset:{type:Function}},data(){return{EnterpriseEditionFeature:ot}},computed:{...be(Ge),ownedByUsers(){return this.usersStore.allUsers.map(e=>e.id===this.modelValue.sharedWith?{...e,disabled:!0}:e)},sharedWithUsers(){return this.usersStore.allUsers.map(e=>e.id===this.modelValue.ownedBy?{...e,disabled:!0}:e)},filtersLength(){let e=0;return this.keys.forEach(t=>{t!=="search"&&(e+=(Array.isArray(this.modelValue[t])?this.modelValue[t].length>0:this.modelValue[t]!=="")?1:0)}),e},hasFilters(){return this.filtersLength>0}},methods:{setKeyValue(e,t){const s={...this.modelValue,[e]:t};this.$emit("update:modelValue",s)},resetFilters(){if(this.reset)this.reset();else{const e={...this.modelValue};this.keys.forEach(t=>{e[t]=Array.isArray(this.modelValue[t])?[]:""}),this.$emit("update:modelValue",e)}}},watch:{filtersLength(e){this.$emit("update:filtersLength",e)}}}),F1e={"filter-button":"_filter-button_157qk_5","filters-dropdown":"_filters-dropdown_157qk_10","filters-dropdown-footer":"_filters-dropdown-footer_157qk_15"};function B1e(e,t,s,n,o,i){const r=E("n8n-badge"),l=E("n8n-button"),m=E("n8n-input-label"),c=E("n8n-user-select"),h=E("enterprise-edition"),p=E("n8n-link"),g=E("n8n-popover");return y(),R(g,{trigger:"click",width:"304",size:"large"},{reference:v(()=>[b(l,{icon:"filter",type:"tertiary",active:e.hasFilters,class:$([e.$style["filter-button"],"ml-2xs"]),"data-test-id":"resources-list-filters-trigger"},{default:v(()=>[He(b(r,{theme:"primary",class:"mr-4xs"},{default:v(()=>[V(N(e.filtersLength),1)]),_:1},512),[[nt,e.filtersLength>0]]),V(" "+N(e.$locale.baseText("forms.resourceFiltersDropdown.filters")),1)]),_:1},8,["active","class"])]),default:v(()=>[D("div",{class:$(e.$style["filters-dropdown"]),"data-test-id":"resources-list-filters-dropdown"},[Ke(e.$slots,"default",{filters:e.modelValue,setKeyValue:e.setKeyValue}),e.shareable?(y(),R(h,{key:0,class:"mb-s",features:[e.EnterpriseEditionFeature.Sharing]},{default:v(()=>[b(m,{label:e.$locale.baseText("forms.resourceFiltersDropdown.ownedBy"),bold:!1,size:"small",color:"text-base",class:"mb-3xs"},null,8,["label"]),b(c,{users:e.ownedByUsers,currentUserId:e.usersStore.currentUser.id,modelValue:e.modelValue.ownedBy,size:"medium","onUpdate:modelValue":t[0]||(t[0]=w=>e.setKeyValue("ownedBy",w))},null,8,["users","currentUserId","modelValue"])]),_:1},8,["features"])):W("",!0),e.shareable?(y(),R(h,{key:1,features:[e.EnterpriseEditionFeature.Sharing]},{default:v(()=>[b(m,{label:e.$locale.baseText("forms.resourceFiltersDropdown.sharedWith"),bold:!1,size:"small",color:"text-base",class:"mb-3xs"},null,8,["label"]),b(c,{users:e.sharedWithUsers,currentUserId:e.usersStore.currentUser.id,modelValue:e.modelValue.sharedWith,size:"medium","onUpdate:modelValue":t[1]||(t[1]=w=>e.setKeyValue("sharedWith",w))},null,8,["users","currentUserId","modelValue"])]),_:1},8,["features"])):W("",!0),e.hasFilters?(y(),P("div",{key:2,class:$([e.$style["filters-dropdown-footer"],"mt-s"])},[b(p,{onClick:e.resetFilters},{default:v(()=>[V(N(e.$locale.baseText("forms.resourceFiltersDropdown.reset")),1)]),_:1},8,["onClick"])],2)):W("",!0)],2)]),_:3})}const R1e={$style:F1e},V1e=te(L1e,[["render",B1e],["__cssModules",R1e]]),U1e=J({name:"resources-list-layout",mixins:[kn],components:{PageViewLayout:T1e,PageViewLayoutList:N1e,ResourceOwnershipSelect:M1e,ResourceFiltersDropdown:V1e},props:{resourceKey:{type:String,default:""},displayName:{type:Function,default:e=>e.name},resources:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},initialize:{type:Function,default:()=>async()=>{}},filters:{type:Object,default:()=>({search:"",ownedBy:"",sharedWith:""})},additionalFiltersHandler:{type:Function},showAside:{type:Boolean,default:!0},shareable:{type:Boolean,default:!0},showFiltersDropdown:{type:Boolean,default:!0},sortFns:{type:Object,default:()=>({})},sortOptions:{type:Array,default:()=>["lastUpdated","lastCreated","nameAsc","nameDesc"]},type:{type:String,default:"list"},typeProps:{type:Object,default:()=>({itemSize:80})}},setup(){return{i18n:Lt()}},data(){return{loading:!0,isOwnerSubview:!1,sortBy:this.sortOptions[0],hasFilters:!1,filtersModel:{...this.filters},currentPage:1,rowsPerPage:10,resettingFilters:!1,EnterpriseEditionFeature:ot}},computed:{...be(Le,Ge),subviewResources(){return this.shareable?this.resources.filter(e=>{var t;return this.isOwnerSubview&&this.settingsStore.isEnterpriseFeatureEnabled(ot.Sharing)?!!(e.ownedBy&&e.ownedBy.id===((t=this.usersStore.currentUser)==null?void 0:t.id)):!0}):this.resources},filterKeys(){return Object.keys(this.filtersModel)},filteredAndSortedSubviewResources(){return this.subviewResources.filter(t=>{let s=!0;if(this.filtersModel.ownedBy&&(s=s&&!!(t.ownedBy&&t.ownedBy.id===this.filtersModel.ownedBy)),this.filtersModel.sharedWith&&(s=s&&!!(t.sharedWith&&t.sharedWith.find(n=>n.id===this.filtersModel.sharedWith))),this.filtersModel.search){const n=this.filtersModel.search.toLowerCase();s=s&&this.displayName(t).toLowerCase().includes(n)}return this.additionalFiltersHandler&&(s=this.additionalFiltersHandler(t,this.filtersModel,s)),s}).sort((t,s)=>{switch(this.sortBy){case"lastUpdated":return this.sortFns.lastUpdated?this.sortFns.lastUpdated(t,s):new Date(s.updatedAt).valueOf()-new Date(t.updatedAt).valueOf();case"lastCreated":return this.sortFns.lastCreated?this.sortFns.lastCreated(t,s):new Date(s.createdAt).valueOf()-new Date(t.createdAt).valueOf();case"nameAsc":return this.sortFns.nameAsc?this.sortFns.nameAsc(t,s):this.displayName(t).trim().localeCompare(this.displayName(s).trim());case"nameDesc":return this.sortFns.nameDesc?this.sortFns.nameDesc(t,s):this.displayName(s).trim().localeCompare(this.displayName(t).trim());default:return this.sortFns[this.sortBy]?this.sortFns[this.sortBy](t,s):0}})},resourcesNotOwned(){return this.resources.filter(e=>{var t;return e.ownedBy&&e.ownedBy.id!==((t=this.usersStore.currentUser)==null?void 0:t.id)})},shouldSwitchToAllSubview(){return!this.hasFilters&&this.isOwnerSubview&&this.resourcesNotOwned.length>0}},methods:{async onMounted(){await this.initialize(),this.loading=!1,await this.$nextTick(),this.focusSearchInput()},setCurrentPage(e){this.currentPage=e},setRowsPerPage(e){this.rowsPerPage=e},resetFilters(){Object.keys(this.filtersModel).forEach(e=>{this.filtersModel[e]=Array.isArray(this.filtersModel[e])?[]:""}),this.resettingFilters=!0,this.sendFiltersTelemetry("reset")},focusSearchInput(){this.$refs.search&&this.$refs.search.focus()},setOwnerSubview(e){this.isOwnerSubview=e},getTelemetrySubview(){return this.i18n.baseText(`${this.resourceKey}.menu.${this.isOwnerSubview?"my":"all"}`)},sendSubviewTelemetry(){this.$telemetry.track(`User changed ${this.resourceKey} sub view`,{sub_view:this.getTelemetrySubview()})},sendSortingTelemetry(){this.$telemetry.track(`User changed sorting in ${this.resourceKey} list`,{sub_view:this.getTelemetrySubview(),sorting:this.sortBy})},sendFiltersTelemetry(e){if(this.resettingFilters){if(e!=="reset")return;setTimeout(()=>this.resettingFilters=!1,1500)}const t=this.filtersModel,s=[],n=[];Object.keys(t).forEach(o=>{t[o]&&(s.push(o),n.push(o==="search"?null:t[o]))}),this.$telemetry.track(`User set filters in ${this.resourceKey} list`,{filters_set:s,filter_values:n,sub_view:this.getTelemetrySubview(),[`${this.resourceKey}_total_in_view`]:this.subviewResources.length,[`${this.resourceKey}_after_filtering`]:this.filteredAndSortedSubviewResources.length})},onUpdateFiltersLength(e){this.hasFilters=e>0},onSearch(e){this.filtersModel.search=e,this.$emit("update:filters",this.filtersModel)}},mounted(){this.onMounted()},watch:{isOwnerSubview(){this.sendSubviewTelemetry()},filters(e){this.filtersModel=e},"filtersModel.ownedBy"(e){e&&this.setOwnerSubview(!1),this.sendFiltersTelemetry("ownedBy")},"filtersModel.sharedWith"(){this.sendFiltersTelemetry("sharedWith")},"filtersModel.search"(){this.callDebounced("sendFiltersTelemetry",{debounceTime:1e3,trailing:!0},"search")},sortBy(e){this.$emit("sort",e),this.sendSortingTelemetry()}}}),W1e="_search_1l5ez_16",j1e="_listWrapper_1l5ez_20",q1e="_datatable_1l5ez_39",z1e={"heading-wrapper":"_heading-wrapper_1l5ez_5","filters-row":"_filters-row_1l5ez_9",search:W1e,listWrapper:j1e,"sort-and-filter":"_sort-and-filter_1l5ez_24","header-loading":"_header-loading_1l5ez_31","card-loading":"_card-loading_1l5ez_35",datatable:q1e},H1e={class:"mt-xs mb-l"},Q1e={key:0},G1e={key:0},Y1e={class:"mb-xs"},X1e={key:0,class:"mt-xs"},K1e=D("div",{class:"pb-xs"},null,-1),J1e={key:0},Z1e={key:1};function eke(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-button"),m=E("resource-ownership-select"),c=E("enterprise-edition"),h=E("n8n-loading"),p=E("n8n-action-box"),g=E("n8n-icon"),w=E("n8n-input"),S=E("n8n-option"),k=E("n8n-select"),O=E("resource-filters-dropdown"),C=E("n8n-link"),A=E("n8n-info-tip"),T=E("n8n-recycle-scroller"),F=E("n8n-datatable"),L=E("n8n-text"),I=E("page-view-layout-list"),j=E("page-view-layout");return y(),R(j,null,Ms({default:v(()=>[e.loading?(y(),P("div",Q1e,[b(h,{class:$([e.$style["header-loading"],"mb-l"]),variant:"custom"},null,8,["class"]),b(h,{class:$([e.$style["card-loading"],"mb-2xs"]),variant:"custom"},null,8,["class"]),b(h,{class:$(e.$style["card-loading"]),variant:"custom"},null,8,["class"])])):(y(),P(Ie,{key:1},[e.resources.length===0?(y(),P("div",G1e,[Ke(e.$slots,"empty",{},()=>[b(p,{"data-test-id":"empty-resources-list",emoji:"👋",heading:e.i18n.baseText(e.usersStore.currentUser.firstName?`${e.resourceKey}.empty.heading`:`${e.resourceKey}.empty.heading.userNotSetup`,{interpolate:{name:e.usersStore.currentUser.firstName}}),description:e.i18n.baseText(`${e.resourceKey}.empty.description`),buttonText:e.i18n.baseText(`${e.resourceKey}.empty.button`),buttonType:"secondary","onClick:button":t[2]||(t[2]=q=>e.$emit("click:add",q))},null,8,["heading","description","buttonText"])])])):(y(),R(I,{key:1,overflow:e.type!=="list"},{header:v(()=>[D("div",Y1e,[D("div",{class:$(e.$style["filters-row"])},[b(w,{modelValue:e.filtersModel.search,class:$([e.$style.search,"mr-2xs"]),placeholder:e.i18n.baseText(`${e.resourceKey}.search.placeholder`),clearable:"",ref:"search","data-test-id":"resources-list-search","onUpdate:modelValue":e.onSearch},{prefix:v(()=>[b(g,{icon:"search"})]),_:1},8,["modelValue","class","placeholder","onUpdate:modelValue"]),D("div",{class:$(e.$style["sort-and-filter"])},[b(k,{modelValue:e.sortBy,"onUpdate:modelValue":t[3]||(t[3]=q=>e.sortBy=q),"data-test-id":"resources-list-sort"},{default:v(()=>[(y(!0),P(Ie,null,Re(e.sortOptions,q=>(y(),R(S,{"data-test-id":"resources-list-sort-item",key:q,value:q,label:e.i18n.baseText(`${e.resourceKey}.sort.${q}`)},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),e.showFiltersDropdown?(y(),R(O,{key:0,keys:e.filterKeys,reset:e.resetFilters,modelValue:e.filtersModel,shareable:e.shareable,"onUpdate:modelValue":t[4]||(t[4]=q=>e.$emit("update:filters",q)),"onUpdate:filtersLength":e.onUpdateFiltersLength},{default:v(q=>[Ke(e.$slots,"filters",VO(UO(q)))]),_:3},8,["keys","reset","modelValue","shareable","onUpdate:filtersLength"])):W("",!0)],2)],2)]),Ke(e.$slots,"callout"),e.showFiltersDropdown?He((y(),P("div",X1e,[b(A,{bold:!1},{default:v(()=>[V(N(e.i18n.baseText(`${e.resourceKey}.filters.active`))+" ",1),b(C,{onClick:e.resetFilters,size:"small"},{default:v(()=>[V(N(e.i18n.baseText(`${e.resourceKey}.filters.active.reset`)),1)]),_:1},8,["onClick"])]),_:1})],512)),[[nt,e.hasFilters]]):W("",!0),K1e]),default:v(()=>[Ke(e.$slots,"preamble"),e.filteredAndSortedSubviewResources.length>0?(y(),P("div",{key:0,class:$(e.$style.listWrapper),ref:"listWrapperRef"},[e.type==="list"?(y(),R(T,{key:0,"data-test-id":"resources-list",class:$([e.$style.list,"list-style-none"]),items:e.filteredAndSortedSubviewResources,"item-size":e.typeProps.itemSize,"item-key":"id"},{default:v(({item:q,updateItemSize:Q})=>[Ke(e.$slots,"default",{data:q,updateItemSize:Q})]),_:3},8,["class","items","item-size"])):W("",!0),e.typeProps.columns?(y(),R(F,{key:1,"data-test-id":"resources-table",class:$(e.$style.datatable),columns:e.typeProps.columns,rows:e.filteredAndSortedSubviewResources,currentPage:e.currentPage,rowsPerPage:e.rowsPerPage,"onUpdate:currentPage":e.setCurrentPage,"onUpdate:rowsPerPage":e.setRowsPerPage},{row:v(({columns:q,row:Q})=>[Ke(e.$slots,"default",{data:Q,columns:q})]),_:3},8,["class","columns","rows","currentPage","rowsPerPage","onUpdate:currentPage","onUpdate:rowsPerPage"])):W("",!0)],2)):(y(),R(L,{key:1,color:"text-base",size:"medium","data-test-id":"resources-list-empty"},{default:v(()=>[V(N(e.i18n.baseText(`${e.resourceKey}.noResults`))+" ",1),e.shouldSwitchToAllSubview?(y(),P(Ie,{key:0},[e.filtersModel.search?(y(),P("span",Z1e,[V(" ("+N(e.i18n.baseText(`${e.resourceKey}.noResults.withSearch.switchToShared.preamble`))+" ",1),b(C,{onClick:t[6]||(t[6]=q=>e.setOwnerSubview(!1))},{default:v(()=>[V(N(e.i18n.baseText(`${e.resourceKey}.noResults.withSearch.switchToShared.link`)),1)]),_:1}),V(") ")])):(y(),P("span",J1e,[V(" ("+N(e.i18n.baseText(`${e.resourceKey}.noResults.switchToShared.preamble`))+" ",1),b(C,{onClick:t[5]||(t[5]=q=>e.setOwnerSubview(!1))},{default:v(()=>[V(N(e.i18n.baseText(`${e.resourceKey}.noResults.switchToShared.link`)),1)]),_:1}),V(") ")]))],64)):W("",!0)]),_:1})),Ke(e.$slots,"postamble")]),_:3},8,["overflow"]))],64))]),_:2},[e.showAside?{name:"aside",fn:v(()=>[D("div",{class:$([e.$style["heading-wrapper"],"mb-xs"])},[b(r,{size:"2xlarge"},{default:v(()=>[V(N(e.i18n.baseText(`${e.resourceKey}.heading`)),1)]),_:1})],2),D("div",H1e,[Ke(e.$slots,"add-button",{disabled:e.disabled},()=>[b(l,{size:"large",block:"",disabled:e.disabled,onClick:t[0]||(t[0]=q=>e.$emit("click:add",q)),"data-test-id":"resources-list-add"},{default:v(()=>[V(N(e.i18n.baseText(`${e.resourceKey}.add`)),1)]),_:1},8,["disabled"])])]),e.shareable?(y(),R(c,{key:0,features:[e.EnterpriseEditionFeature.Sharing]},{default:v(()=>[b(m,{modelValue:e.isOwnerSubview,"onUpdate:modelValue":t[1]||(t[1]=q=>e.isOwnerSubview=q),"my-resources-label":e.i18n.baseText(`${e.resourceKey}.menu.my`),"all-resources-label":e.i18n.baseText(`${e.resourceKey}.menu.all`)},null,8,["modelValue","my-resources-label","all-resources-label"])]),_:1},8,["features"])):W("",!0)]),key:"0"}:void 0]),1024)}const tke={$style:z1e},Xg=te(U1e,[["render",eke],["__cssModules",tke]]),Nu={OPEN:"open",DELETE:"delete"},ske=J({data(){return{EnterpriseEditionFeature:ot}},setup(){return{...St()}},components:{TimeAgo:Vi,CredentialIcon:_S},props:{data:{type:Object,required:!0,default:()=>({id:"",createdAt:"",updatedAt:"",type:"",name:"",nodesAccess:[],sharedWith:[],ownedBy:{}})},readonly:{type:Boolean,default:!1}},computed:{...be(It,Ee,Ge),currentUser(){return this.usersStore.currentUser},credentialType(){return this.credentialsStore.getCredentialTypeByName(this.data.type)},credentialPermissions(){return this.currentUser?Xc(this.currentUser,this.data):null},actions(){return this.credentialPermissions?[{label:this.$locale.baseText("credentials.item.open"),value:Nu.OPEN}].concat(this.credentialPermissions.delete?[{label:this.$locale.baseText("credentials.item.delete"),value:Nu.DELETE}]:[]):[]},formattedCreatedAtDate(){const e=new Date().getFullYear();return fi(this.data.createdAt,`d mmmm${this.data.createdAt.startsWith(e)?"":", yyyy"}`)}},methods:{async onClick(){this.uiStore.openExistingCredential(this.data.id)},async onAction(e){e===Nu.OPEN?await this.onClick():e===Nu.DELETE&&await this.confirm(this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.deleteCredential.message",{interpolate:{savedCredentialName:this.data.name}}),this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.deleteCredential.headline"),{confirmButtonText:this.$locale.baseText("credentialEdit.credentialEdit.confirmMessage.deleteCredential.confirmButtonText")})===bt&&await this.credentialsStore.deleteCredential({id:this.data.id})}}}),nke={"card-link":"_card-link_2ffmg_5","card-heading":"_card-heading_2ffmg_13","card-actions":"_card-actions_2ffmg_17"},oke={key:0};function ike(e,t,s,n,o,i){const r=E("credential-icon"),l=E("n8n-heading"),m=E("time-ago"),c=E("n8n-text"),h=E("n8n-badge"),p=E("enterprise-edition"),g=E("n8n-action-toggle"),w=E("n8n-card");return y(),R(w,{class:$(e.$style["card-link"]),onClick:e.onClick},{prepend:v(()=>[b(r,{"credential-type-name":e.credentialType?e.credentialType.name:""},null,8,["credential-type-name"])]),header:v(()=>[b(l,{tag:"h2",bold:"",class:$(e.$style["card-heading"])},{default:v(()=>[V(N(e.data.name),1)]),_:1},8,["class"])]),append:v(()=>[D("div",{class:$(e.$style["card-actions"])},[b(p,{features:[e.EnterpriseEditionFeature.Sharing]},{default:v(()=>[e.credentialPermissions.isOwner?(y(),R(h,{key:0,class:"mr-xs",theme:"tertiary",bold:""},{default:v(()=>[V(N(e.$locale.baseText("credentials.item.owner")),1)]),_:1})):W("",!0)]),_:1},8,["features"]),b(g,{actions:e.actions,theme:"dark",onAction:e.onAction,onClick:t[0]||(t[0]=Qe(()=>{},["stop"]))},null,8,["actions","onAction"])],2)]),default:v(()=>[b(c,{color:"text-light",size:"small"},{default:v(()=>[e.credentialType?(y(),P("span",oke,N(e.credentialType.displayName)+" | ",1)):W("",!0),He(D("span",null,[V(N(e.$locale.baseText("credentials.item.updated"))+" ",1),b(m,{date:e.data.updatedAt},null,8,["date"]),V(" | ")],512),[[nt,e.data]]),He(D("span",null,N(e.$locale.baseText("credentials.item.created"))+" "+N(e.formattedCreatedAtDate),513),[[nt,e.data]])]),_:1})]),_:1},8,["class","onClick"])}const rke={$style:nke},ake=te(ske,[["render",ike],["__cssModules",rke]]),lke=J({name:"CredentialsView",components:{ResourcesListLayout:Xg,CredentialCard:ake},data(){return{filters:{search:"",ownedBy:"",sharedWith:"",type:""},sourceControlStoreUnsubscribe:()=>{}}},computed:{...be(It,it,Ee,Ge,Fs),allCredentials(){return this.credentialsStore.allCredentials},allCredentialTypes(){return this.credentialsStore.allCredentialTypes},credentialTypesById(){return this.credentialsStore.credentialTypesById}},methods:{addCredential(){this.uiStore.openModal(Uc),this.$telemetry.track("User clicked add cred button",{source:"Creds list"})},async initialize(){const e=[this.credentialsStore.fetchAllCredentials(),this.credentialsStore.fetchCredentialTypes(!1)];this.nodeTypesStore.allNodeTypes.length===0&&e.push(this.nodeTypesStore.getNodeTypes()),await Promise.all(e),await this.usersStore.fetchUsers()},onFilter(e,t,s){if(t.type.length>0&&(s=s&&t.type.includes(e.type)),t.search){const n=t.search.toLowerCase();s=s||this.credentialTypesById[e.type]&&this.credentialTypesById[e.type].displayName.toLowerCase().includes(n)}return s},sendFiltersTelemetry(e){this.$refs.layout.sendFiltersTelemetry(e)}},watch:{"filters.type"(){this.sendFiltersTelemetry("type")}},mounted(){this.sourceControlStoreUnsubscribe=this.sourceControlStore.$onAction(({name:e,after:t})=>{e==="pullWorkfolder"&&t&&t(()=>{this.initialize()})})},beforeUnmount(){this.sourceControlStoreUnsubscribe()}}),uke="_sidebarContainer_1qflh_9",cke={"type-input":"_type-input_1qflh_5",sidebarContainer:uke},dke={class:"mb-s"};function pke(e,t,s,n,o,i){const r=E("credential-card"),l=E("n8n-input-label"),m=E("n8n-option"),c=E("n8n-select"),h=E("resources-list-layout");return y(),R(h,{ref:"layout","resource-key":"credentials",resources:e.allCredentials,initialize:e.initialize,filters:e.filters,"additional-filters-handler":e.onFilter,"type-props":{itemSize:77},"onClick:add":e.addCredential,"onUpdate:filters":t[0]||(t[0]=p=>e.filters=p)},{default:v(({data:p})=>[b(r,{"data-test-id":"resources-list-item",class:"mb-2xs",data:p},null,8,["data"])]),filters:v(({setKeyValue:p})=>[D("div",dke,[b(l,{label:e.$locale.baseText("credentials.filters.type"),bold:!1,size:"small",color:"text-base",class:"mb-3xs"},null,8,["label"]),b(c,{modelValue:e.filters.type,size:"medium",multiple:"",filterable:"",ref:"typeInput",class:$(e.$style["type-input"]),"onUpdate:modelValue":g=>p("type",g)},{default:v(()=>[(y(!0),P(Ie,null,Re(e.allCredentialTypes,g=>(y(),R(m,{key:g.name,value:g.name,label:g.displayName},null,8,["value","label"]))),128))]),_:2},1032,["modelValue","class","onUpdate:modelValue"])])]),_:1},8,["resources","initialize","filters","additional-filters-handler","onClick:add"])}const hke={$style:cke},mke=te(lke,[["render",pke],["__cssModules",hke]]),fke=J({name:"ExecutionsList",mixins:[Ft,Nt,zd],components:{ExecutionTime:G0,ExecutionFilter:X0},props:{autoRefreshEnabled:{type:Boolean,default:!0}},setup(){const e=Lt(),t=bl();return{i18n:e,telemetry:t,...je(),...St()}},data(){return{isMounting:!0,finishedExecutions:[],finishedExecutionsCount:0,finishedExecutionsCountEstimated:!1,allVisibleSelected:!1,allExistingSelected:!1,autoRefresh:this.autoRefreshEnabled,autoRefreshTimeout:void 0,filter:{},isDataLoading:!1,requestItemsPerRequest:10,selectedItems:{},stoppingExecutions:[],workflows:[]}},mounted(){Er(`n8n - ${this.pageTitle}`),this.handleAutoRefreshToggle(),document.addEventListener("visibilitychange",this.onDocumentVisibilityChange)},async created(){await this.loadWorkflows(),this.$externalHooks().run("executionsList.openDialog"),this.telemetry.track("User opened Executions log",{workflow_id:this.workflowsStore.workflowId})},beforeUnmount(){this.stopAutoRefreshInterval(),document.removeEventListener("visibilitychange",this.onDocumentVisibilityChange)},computed:{...be(Ee,_e),activeExecutions(){return this.workflowsStore.activeExecutions},combinedExecutions(){const e=[];return["all","running"].includes(this.filter.status)&&e.push(...this.activeExecutions),["all","error","success","waiting"].includes(this.filter.status)&&e.push(...this.finishedExecutions),e.filter(t=>this.filter.workflowId==="all"||t.workflowId===this.filter.workflowId)},numSelected(){return this.allExistingSelected?this.finishedExecutionsCount:Object.keys(this.selectedItems).length},workflowFilterCurrent(){const e={};return this.filter.workflowId!=="all"&&(e.workflowId=this.filter.workflowId),e},workflowFilterPast(){return K0(this.filter)},pageTitle(){return this.i18n.baseText("executionsList.workflowExecutions")}},methods:{closeDialog(){this.$emit("closeModal")},displayExecution(e){const t=this.$router.resolve({name:ee.EXECUTION_PREVIEW,params:{name:e.workflowId,executionId:e.id}});window.open(t.href,"_blank")},async handleAutoRefreshToggle(){this.stopAutoRefreshInterval(),this.startAutoRefreshInterval()},handleCheckAllExistingChange(){this.allExistingSelected=!this.allExistingSelected,this.allVisibleSelected=!this.allExistingSelected,this.handleCheckAllVisibleChange()},handleCheckAllVisibleChange(){this.allVisibleSelected=!this.allVisibleSelected,this.allVisibleSelected?this.selectAllVisibleExecutions():(this.allExistingSelected=!1,this.selectedItems={})},handleCheckboxChanged(e){if(this.selectedItems[e]){const{[e]:t,...s}=this.selectedItems;this.selectedItems=s}else this.selectedItems={...this.selectedItems,[e]:!0};this.allVisibleSelected=Object.keys(this.selectedItems).length===this.combinedExecutions.length,this.allExistingSelected=Object.keys(this.selectedItems).length===this.finishedExecutionsCount},async handleDeleteSelected(){if(await this.confirm(this.i18n.baseText("executionsList.confirmMessage.message",{interpolate:{numSelected:this.numSelected.toString()}}),this.i18n.baseText("executionsList.confirmMessage.headline"),{type:"warning",confirmButtonText:this.i18n.baseText("executionsList.confirmMessage.confirmButtonText"),cancelButtonText:this.i18n.baseText("executionsList.confirmMessage.cancelButtonText")})!==bt)return;this.isDataLoading=!0;const t={};this.allExistingSelected?t.deleteBefore=this.finishedExecutions[0].startedAt:t.ids=Object.keys(this.selectedItems),t.filters=this.workflowFilterPast;try{await this.workflowsStore.deleteExecutions(t)}catch(s){this.isDataLoading=!1,this.showError(s,this.i18n.baseText("executionsList.showError.handleDeleteSelected.title"));return}this.isDataLoading=!1,this.showMessage({title:this.i18n.baseText("executionsList.showMessage.handleDeleteSelected.title"),type:"success"}),this.handleClearSelection(),await this.refreshData()},handleClearSelection(){this.allVisibleSelected=!1,this.allExistingSelected=!1,this.selectedItems={}},async onFilterChanged(e){this.filter=e,await this.refreshData(),this.handleClearSelection(),this.isMounting=!1},async handleActionItemClick(e){if(["currentlySaved","original"].includes(e.command)){let t=!1;e.command==="currentlySaved"&&(t=!0),await this.retryExecution(e.execution,t),this.telemetry.track("User clicked retry execution button",{workflow_id:this.workflowsStore.workflowId,execution_id:e.execution.id,retry_type:t?"current":"original"})}e.command==="delete"&&await this.deleteExecution(e.execution)},getWorkflowName(e){var t;return(t=this.workflows.find(s=>s.id===e))==null?void 0:t.name},async loadActiveExecutions(){const e=Un(this.workflowFilterCurrent.metadata)?await this.workflowsStore.getCurrentExecutions(this.workflowFilterCurrent):[];for(const t of e)t.workflowId&&!t.workflowName&&(t.workflowName=this.getWorkflowName(t.workflowId));this.workflowsStore.activeExecutions=e,this.workflowsStore.addToCurrentExecutions(e)},async loadAutoRefresh(){const e=this.workflowFilterPast,t=[this.workflowsStore.getPastExecutions(e,this.requestItemsPerRequest)];Un(e.metadata)&&t.push(this.workflowsStore.getCurrentExecutions({}));const s=await Promise.all(t);for(const c of s[1])c.workflowId!==void 0&&c.workflowName===void 0&&(c.workflowName=this.getWorkflowName(c.workflowId));this.workflowsStore.activeExecutions=s[1];const n=[...this.finishedExecutions],o=n.map(c=>parseInt(c.id,10));let i=0;const r=[],l=s[0]||{results:[],count:0,estimated:!1};for(let c=l.results.length-1;c>=0;c--){const h=l.results[c],p=parseInt(h.id,10);if(i!==0&&!isNaN(p)&&p-i>1){const S=Hv(i+1,p);r.push(...S)}i=parseInt(h.id,10)||0;const g=o.indexOf(p);if(g!==-1){n[g].finished===!1&&h.finished===!0&&(n[g]=h);continue}let w;for(w=n.length-1;w>=0;w--)if(p<parseInt(n[w].id,10)){n.splice(w+1,0,h);break}w===-1&&n.unshift(h)}const m=n.filter(c=>!r.includes(parseInt(c.id,10))&&i>=parseInt(c.id,10));this.finishedExecutionsCount=l.count,this.finishedExecutionsCountEstimated=l.estimated,this.finishedExecutions=m,this.workflowsStore.addToCurrentExecutions(m),this.adjustSelectionAfterMoreItemsLoaded()},async loadFinishedExecutions(){if(this.filter.status==="running"){this.finishedExecutions=[],this.finishedExecutionsCount=0,this.finishedExecutionsCountEstimated=!1;return}const e=await this.workflowsStore.getPastExecutions(this.workflowFilterPast,this.requestItemsPerRequest);this.finishedExecutions=e.results,this.finishedExecutionsCount=e.count,this.finishedExecutionsCountEstimated=e.estimated,this.workflowsStore.addToCurrentExecutions(e.results),this.finishedExecutions.length===0&&this.handleClearSelection()},async loadMore(){if(this.filter.status==="running")return;this.isDataLoading=!0;const e=this.workflowFilterPast;let t;this.finishedExecutions.length!==0&&(t=this.finishedExecutions.slice(-1)[0].id);let s;try{s=await this.workflowsStore.getPastExecutions(e,this.requestItemsPerRequest,t)}catch(n){this.isDataLoading=!1,this.showError(n,this.i18n.baseText("executionsList.showError.loadMore.title"));return}s.results=s.results.map(n=>({...n,mode:n.mode})),this.finishedExecutions.push(...s.results),this.finishedExecutionsCount=s.count,this.finishedExecutionsCountEstimated=s.estimated,this.isDataLoading=!1,this.workflowsStore.addToCurrentExecutions(s.results),this.adjustSelectionAfterMoreItemsLoaded()},async loadWorkflows(){try{const e=await this.workflowsStore.fetchAllWorkflows();e.sort((t,s)=>t.name.toLowerCase()<s.name.toLowerCase()?-1:t.name.toLowerCase()>s.name.toLowerCase()?1:0),e.unshift({id:"all",name:this.i18n.baseText("executionsList.allWorkflows")}),this.workflows=e}catch(e){this.showError(e,this.i18n.baseText("executionsList.showError.loadWorkflows.title"))}},async retryExecution(e,t){this.isDataLoading=!0;try{await this.workflowsStore.retryExecution(e.id,t)?this.showMessage({title:this.i18n.baseText("executionsList.showMessage.retrySuccessfulTrue.title"),type:"success"}):this.showMessage({title:this.i18n.baseText("executionsList.showMessage.retrySuccessfulFalse.title"),type:"error"}),this.isDataLoading=!1}catch(s){this.showError(s,this.i18n.baseText("executionsList.showError.retryExecution.title")),this.isDataLoading=!1}},async refreshData(){this.isDataLoading=!0;try{await Promise.all([this.loadActiveExecutions(),this.loadFinishedExecutions()])}catch(e){this.showError(e,this.i18n.baseText("executionsList.showError.refreshData.title"))}this.isDataLoading=!1},getStatus(e){if(e.status)return e.status;{let t="unknown";return e.waitTill?t="waiting":e.stoppedAt===void 0?t="running":e.finished?t="success":e.stoppedAt!==null?t="failed":t="unknown",t}},getRowClass(e){return[this.$style.execRow,this.$style[this.getStatus(e)]].join(" ")},getStatusText(e){const t=this.getStatus(e);let s="";return t==="waiting"?s=this.i18n.baseText("executionsList.waiting"):t==="canceled"?s=this.i18n.baseText("executionsList.canceled"):t==="crashed"?s=this.i18n.baseText("executionsList.error"):t==="new"?s=this.i18n.baseText("executionsList.running"):t==="running"?s=this.i18n.baseText("executionsList.running"):t==="success"?s=this.i18n.baseText("executionsList.succeeded"):t==="failed"?s=this.i18n.baseText("executionsList.error"):s=this.i18n.baseText("executionsList.unknown"),s},getStatusTextTranslationPath(e){const t=this.getStatus(e);let s="";return t==="waiting"?s="executionsList.statusWaiting":t==="canceled"?s="executionsList.statusCanceled":["crashed","failed","success"].includes(t)?e.stoppedAt?s="executionsList.statusText":s="executionsList.statusTextWithoutTime":t==="new"||t==="running"?s="executionsList.statusRunning":s="executionsList.statusUnknown",s},getStatusTooltipText(e){const t=this.getStatus(e);let s="";return t==="waiting"&&this.isWaitTillIndefinite(e)&&(s=this.i18n.baseText("executionsList.statusTooltipText.theWorkflowIsWaitingIndefinitely")),s},async stopExecution(e){try{this.stoppingExecutions.push(e),await this.workflowsStore.stopCurrentExecution(e);const t=this.stoppingExecutions.indexOf(e);this.stoppingExecutions.splice(t,1),this.showMessage({title:this.i18n.baseText("executionsList.showMessage.stopExecution.title"),message:this.i18n.baseText("executionsList.showMessage.stopExecution.message",{interpolate:{activeExecutionId:e}}),type:"success"}),await this.refreshData()}catch(t){this.showError(t,this.i18n.baseText("executionsList.showError.stopExecution.title"))}},isExecutionRetriable(e){return e.stoppedAt!==void 0&&!e.finished&&e.retryOf===void 0&&e.retrySuccessId===void 0&&!e.waitTill},async deleteExecution(e){this.isDataLoading=!0;try{await this.workflowsStore.deleteExecutions({ids:[e.id]}),await this.refreshData(),this.allVisibleSelected&&(this.selectedItems={},this.selectAllVisibleExecutions())}catch(t){this.showError(t,this.i18n.baseText("executionsList.showError.handleDeleteSelected.title"))}this.isDataLoading=!0},isWaitTillIndefinite(e){return e.waitTill?new Date(e.waitTill).toISOString()===DT:!1},isRunning(e){return this.getStatus(e)==="running"},selectAllVisibleExecutions(){this.combinedExecutions.forEach(e=>{this.selectedItems={...this.selectedItems,[e.id]:!0}})},adjustSelectionAfterMoreItemsLoaded(){this.allExistingSelected&&(this.allVisibleSelected=!0,this.selectAllVisibleExecutions())},async startAutoRefreshInterval(){this.autoRefresh&&(await this.loadAutoRefresh(),this.autoRefreshTimeout=setTimeout(()=>{this.startAutoRefreshInterval()},4*1e3))},stopAutoRefreshInterval(){this.autoRefreshTimeout&&(clearTimeout(this.autoRefreshTimeout),this.autoRefreshTimeout=void 0)},onDocumentVisibilityChange(){document.visibilityState==="hidden"?this.stopAutoRefreshInterval():this.startAutoRefreshInterval()}}}),gke="_execListWrapper_1drj8_5",yke="_execList_1drj8_5",wke="_execListHeader_1drj8_26",bke="_execListHeaderControls_1drj8_33",vke="_selectionOptions_1drj8_39",Tke="_statusColumn_1drj8_57",Ske="_spinner_1drj8_62",kke="_status_1drj8_57",Eke="_crashed_1drj8_72",xke="_failed_1drj8_72",Cke="_waiting_1drj8_75",Oke="_success_1drj8_78",Dke="_running_1drj8_81",Ake="_unknown_1drj8_84",$ke="_buttonCell_1drj8_88",Nke="_execRow_1drj8_95",_ke="_execTable_1drj8_99",Pke="_loadMore_1drj8_182",Ike="_loadedAll_1drj8_188",Mke="_actions_1drj8_194",Lke="_deleteOnly_1drj8_194",Fke="_retryAction_1drj8_198",Bke="_deleteAction_1drj8_198",Rke="_selectAll_1drj8_202",Vke="_filterLoader_1drj8_208",Uke="_tableLoader_1drj8_213",Wke="_link_1drj8_219",jke={execListWrapper:gke,execList:yke,execListHeader:wke,execListHeaderControls:bke,selectionOptions:vke,statusColumn:Tke,spinner:Ske,status:kke,crashed:Eke,failed:xke,waiting:Cke,success:Oke,new:"_new_1drj8_81",running:Dke,unknown:Ake,buttonCell:$ke,execRow:Nke,execTable:_ke,loadMore:Pke,loadedAll:Ike,actions:Mke,deleteOnly:Lke,retryAction:Fke,deleteAction:Bke,selectAll:Rke,filterLoader:Vke,tableLoader:Uke,link:Wke},qke={key:1},zke=D("th",null,null,-1),Hke=D("th",null,null,-1),Qke=D("th",null,null,-1),Gke=D("th",null,null,-1),Yke=["onClick"],Xke={key:0},Kke={key:1},Jke={key:0},Zke={key:1},eEe=D("br",null,null,-1),tEe={key:2},sEe=D("br",null,null,-1),nEe={class:"retry-button"};function oEe(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("n8n-loading"),m=E("el-checkbox"),c=E("execution-filter"),h=E("font-awesome-icon"),p=E("execution-time"),g=E("i18n-t"),w=E("n8n-tooltip"),S=E("n8n-button"),k=E("n8n-icon-button"),O=E("el-dropdown-item"),C=E("el-dropdown-menu"),A=E("el-dropdown");return y(),P("div",{class:$(e.$style.execListWrapper)},[D("div",{class:$(e.$style.execList)},[D("div",{class:$(e.$style.execListHeader)},[b(r,{tag:"h1",size:"2xlarge"},{default:v(()=>[V(N(this.pageTitle),1)]),_:1}),D("div",{class:$(e.$style.execListHeaderControls)},[e.isMounting?(y(),R(l,{key:0,class:$(e.$style.filterLoader),variant:"custom"},null,8,["class"])):(y(),R(m,{key:1,class:"mr-xl",modelValue:e.autoRefresh,"onUpdate:modelValue":[t[0]||(t[0]=T=>e.autoRefresh=T),e.handleAutoRefreshToggle],"data-test-id":"execution-auto-refresh-checkbox"},{default:v(()=>[V(N(e.i18n.baseText("executionsList.autoRefresh")),1)]),_:1},8,["modelValue","onUpdate:modelValue"])),He(b(c,{workflows:e.workflows,onFilterChanged:e.onFilterChanged},null,8,["workflows","onFilterChanged"]),[[nt,!e.isMounting]])],2)],2),e.allVisibleSelected&&e.finishedExecutionsCount>0?(y(),R(m,{key:0,class:$(e.$style.selectAll),label:e.i18n.baseText("executionsList.selectAll",{adjustToNumber:e.finishedExecutionsCount,interpolate:{executionNum:e.finishedExecutionsCount}}),modelValue:e.allExistingSelected,"onUpdate:modelValue":e.handleCheckAllExistingChange,"data-test-id":"select-all-executions-checkbox"},null,8,["class","label","modelValue","onUpdate:modelValue"])):W("",!0),e.isMounting?(y(),P("div",qke,[b(l,{class:$(e.$style.tableLoader),variant:"custom"},null,8,["class"]),b(l,{class:$(e.$style.tableLoader),variant:"custom"},null,8,["class"]),b(l,{class:$(e.$style.tableLoader),variant:"custom"},null,8,["class"])])):(y(),P("table",{key:2,class:$(e.$style.execTable)},[D("thead",null,[D("tr",null,[D("th",null,[b(m,{modelValue:e.allVisibleSelected,"onUpdate:modelValue":e.handleCheckAllVisibleChange,disabled:e.finishedExecutionsCount<1,label:"","data-test-id":"select-visible-executions-checkbox"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),D("th",null,N(e.i18n.baseText("executionsList.name")),1),D("th",null,N(e.i18n.baseText("executionsList.startedAt")),1),D("th",null,N(e.i18n.baseText("executionsList.status")),1),D("th",null,N(e.i18n.baseText("executionsList.id")),1),zke,Hke,Qke,Gke])]),D("tbody",null,[(y(!0),P(Ie,null,Re(e.combinedExecutions,T=>(y(),P("tr",{key:T.id,class:$(e.getRowClass(T))},[D("td",null,[T.stoppedAt!==void 0&&T.id?(y(),R(m,{key:0,modelValue:e.selectedItems[T.id]||e.allExistingSelected,"onUpdate:modelValue":F=>e.handleCheckboxChanged(T.id),label:"","data-test-id":"select-execution-checkbox"},null,8,["modelValue","onUpdate:modelValue"])):W("",!0)]),D("td",null,[D("span",{onClick:Qe(F=>e.displayExecution(T),["stop"])},[D("a",{href:"#",class:$(e.$style.link)},N(T.workflowName||e.i18n.baseText("executionsList.unsavedWorkflow")),3)],8,Yke)]),D("td",null,[D("span",null,N(e.formatDate(T.startedAt)),1)]),D("td",null,[D("div",{class:$(e.$style.statusColumn)},[e.isRunning(T)?(y(),P("span",{key:0,class:$(e.$style.spinner)},[b(h,{icon:"spinner",spin:""})],2)):W("",!0),e.isWaitTillIndefinite(T)?(y(),R(w,{key:2,placement:"top"},{content:v(()=>[D("span",null,N(e.getStatusTooltipText(T)),1)]),default:v(()=>[D("span",{class:$(e.$style.status)},N(e.getStatusText(T)),3)]),_:2},1024)):(y(),R(g,{key:1,tag:"span",keypath:e.getStatusTextTranslationPath(T)},{status:v(()=>[D("span",{class:$(e.$style.status)},N(e.getStatusText(T)),3)]),time:v(()=>[T.waitTill?(y(),P("span",Xke,N(e.formatDate(T.waitTill)),1)):T.stoppedAt!==null&&T.stoppedAt!==void 0?(y(),P("span",Kke,N(e.displayTimer(new Date(T.stoppedAt).getTime()-new Date(T.startedAt).getTime(),!0)),1)):(y(),R(p,{key:2,"start-time":T.startedAt},null,8,["start-time"]))]),_:2},1032,["keypath"]))],2)]),D("td",null,[T.id?(y(),P("span",Jke,"#"+N(T.id),1)):W("",!0),T.retryOf?(y(),P("span",Zke,[eEe,D("small",null," ("+N(e.i18n.baseText("executionsList.retryOf"))+" #"+N(T.retryOf)+") ",1)])):T.retrySuccessId?(y(),P("span",tEe,[sEe,D("small",null," ("+N(e.i18n.baseText("executionsList.successRetry"))+" #"+N(T.retrySuccessId)+") ",1)])):W("",!0)]),D("td",null,[T.mode==="manual"?(y(),R(w,{key:0,placement:"top"},{content:v(()=>[D("span",null,N(e.i18n.baseText("executionsList.test")),1)]),default:v(()=>[b(h,{icon:"flask"})]),_:1})):W("",!0)]),D("td",null,[D("div",{class:$(e.$style.buttonCell)},[T.stoppedAt!==void 0&&T.id?(y(),R(S,{key:0,size:"small",outline:"",label:e.i18n.baseText("executionsList.view"),onClick:Qe(F=>e.displayExecution(T),["stop"])},null,8,["label","onClick"])):W("",!0)],2)]),D("td",null,[D("div",{class:$(e.$style.buttonCell)},[T.stoppedAt===void 0||T.waitTill?(y(),R(S,{key:0,size:"small",outline:"",label:e.i18n.baseText("executionsList.stop"),onClick:Qe(F=>e.stopExecution(T.id),["stop"]),loading:e.stoppingExecutions.includes(T.id)},null,8,["label","onClick","loading"])):W("",!0)],2)]),D("td",null,[e.isRunning(T)?W("",!0):(y(),R(A,{key:0,trigger:"click",onCommand:e.handleActionItemClick},{dropdown:v(()=>[b(C,{class:$({[e.$style.actions]:!0,[e.$style.deleteOnly]:!e.isExecutionRetriable(T)})},{default:v(()=>[e.isExecutionRetriable(T)?(y(),R(O,{key:0,class:$(e.$style.retryAction),command:{command:"currentlySaved",execution:T}},{default:v(()=>[V(N(e.i18n.baseText("executionsList.retryWithCurrentlySavedWorkflow")),1)]),_:2},1032,["class","command"])):W("",!0),e.isExecutionRetriable(T)?(y(),R(O,{key:1,class:$(e.$style.retryAction),command:{command:"original",execution:T}},{default:v(()=>[V(N(e.i18n.baseText("executionsList.retryWithOriginalWorkflow")),1)]),_:2},1032,["class","command"])):W("",!0),b(O,{class:$(e.$style.deleteAction),command:{command:"delete",execution:T}},{default:v(()=>[V(N(e.i18n.baseText("generic.delete")),1)]),_:2},1032,["class","command"])]),_:2},1032,["class"])]),default:v(()=>[D("span",nEe,[b(k,{text:"",type:"tertiary",size:"mini",title:e.i18n.baseText("executionsList.retryExecution"),icon:"ellipsis-v"},null,8,["title"])])]),_:2},1032,["onCommand"]))])],2))),128))])],2)),!e.combinedExecutions.length&&!e.isMounting&&!e.isDataLoading?(y(),P("div",{key:3,class:$(e.$style.loadedAll),"data-test-id":"execution-list-empty"},N(e.i18n.baseText("executionsList.empty")),3)):e.finishedExecutionsCount>e.finishedExecutions.length||e.finishedExecutionsCountEstimated?(y(),P("div",{key:4,class:$(e.$style.loadMore)},[b(S,{icon:"sync",title:e.i18n.baseText("executionsList.loadMore"),label:e.i18n.baseText("executionsList.loadMore"),onClick:t[1]||(t[1]=T=>e.loadMore()),loading:e.isDataLoading,"data-test-id":"load-more-button"},null,8,["title","label","loading"])],2)):!e.isMounting&&!e.isDataLoading?(y(),P("div",{key:5,class:$(e.$style.loadedAll),"data-test-id":"execution-all-loaded"},N(e.i18n.baseText("executionsList.loadedAll")),3)):W("",!0)],2),e.numSelected>0?(y(),P("div",{key:0,class:$(e.$style.selectionOptions),"data-test-id":"selected-executions-info"},[D("span",null,N(e.i18n.baseText("executionsList.selected",{adjustToNumber:e.numSelected,interpolate:{numSelected:e.numSelected}})),1),b(S,{label:e.i18n.baseText("generic.delete"),type:"tertiary",onClick:e.handleDeleteSelected,"data-test-id":"delete-selected-button"},null,8,["label","onClick"]),b(S,{label:e.i18n.baseText("executionsList.clearSelection"),type:"tertiary",onClick:e.handleClearSelection,"data-test-id":"clear-selection-button"},null,8,["label","onClick"])],2)):W("",!0)],2)}const iEe={$style:jke},rEe=te(fke,[["render",oEe],["__cssModules",iEe]]),aEe=J({name:"ExecutionsView",components:{ExecutionsList:rEe}});function lEe(e,t,s,n,o,i){const r=E("ExecutionsList");return y(),R(r)}const uEe=te(aEe,[["render",lEe]]),xo={OPEN:"open",SHARE:"share",DUPLICATE:"duplicate",DELETE:"delete"},cEe=J({data(){return{EnterpriseEditionFeature:ot}},setup(){return{...je(),...St()}},components:{TimeAgo:Vi,WorkflowActivator:U0},props:{data:{type:Object,required:!0,default:()=>({id:"",createdAt:"",updatedAt:"",active:!1,connections:{},nodes:[],name:"",sharedWith:[],ownedBy:{},versionId:""})},readOnly:{type:Boolean,default:!1}},computed:{...be(Le,Ee,Ge,_e),currentUser(){return this.usersStore.currentUser||{}},workflowPermissions(){return fl(this.currentUser,this.data)},actions(){const e=[{label:this.$locale.baseText("workflows.item.open"),value:xo.OPEN},{label:this.$locale.baseText("workflows.item.share"),value:xo.SHARE}];return this.readOnly||e.push({label:this.$locale.baseText("workflows.item.duplicate"),value:xo.DUPLICATE}),this.workflowPermissions.delete&&!this.readOnly&&e.push({label:this.$locale.baseText("workflows.item.delete"),value:xo.DELETE}),e},formattedCreatedAtDate(){const e=new Date().getFullYear();return fi(this.data.createdAt,`d mmmm${this.data.createdAt.startsWith(e)?"":", yyyy"}`)}},methods:{async onClick(e){var t;if(e){if((t=this.$refs.activator)!=null&&t.$el.contains(e.target))return;if(e.metaKey||e.ctrlKey){const s=this.$router.resolve({name:ee.WORKFLOW,params:{name:this.data.id}});window.open(s.href,"_blank");return}}await this.$router.push({name:ee.WORKFLOW,params:{name:this.data.id}})},onClickTag(e,t){t.stopPropagation(),this.$emit("click:tag",e,t)},onExpandTags(){this.$emit("expand:tags")},async onAction(e){if(e===xo.OPEN)await this.onClick();else if(e===xo.DUPLICATE)this.uiStore.openModalWithData({name:jc,data:{id:this.data.id,name:this.data.name,tags:(this.data.tags||[]).map(t=>t.id)}});else if(e===xo.SHARE)this.uiStore.openModalWithData({name:dl,data:{id:this.data.id}}),this.$telemetry.track("User opened sharing modal",{workflow_id:this.data.id,user_id_sharer:this.currentUser.id,sub_view:this.$route.name===ee.WORKFLOWS?"Workflows listing":"Workflow editor"});else if(e===xo.DELETE){if(await this.confirm(this.$locale.baseText("mainSidebar.confirmMessage.workflowDelete.message",{interpolate:{workflowName:this.data.name}}),this.$locale.baseText("mainSidebar.confirmMessage.workflowDelete.headline"),{type:"warning",confirmButtonText:this.$locale.baseText("mainSidebar.confirmMessage.workflowDelete.confirmButtonText"),cancelButtonText:this.$locale.baseText("mainSidebar.confirmMessage.workflowDelete.cancelButtonText")})!==bt)return;try{await this.workflowsStore.deleteWorkflow(this.data.id)}catch(s){this.showError(s,this.$locale.baseText("generic.deleteWorkflowError"));return}this.showMessage({title:this.$locale.baseText("mainSidebar.showMessage.handleSelect1.title"),type:"success"})}}}}),dEe="_cardLink_86eyf_5",pEe="_cardHeading_86eyf_13",hEe="_cardDescription_86eyf_18",mEe="_cardActions_86eyf_24",fEe={cardLink:dEe,cardHeading:pEe,cardDescription:hEe,cardActions:mEe},gEe={key:0};function yEe(e,t,s,n,o,i){const r=E("n8n-heading"),l=E("time-ago"),m=E("n8n-tags"),c=E("n8n-text"),h=E("n8n-badge"),p=E("enterprise-edition"),g=E("workflow-activator"),w=E("n8n-action-toggle"),S=E("n8n-card");return y(),R(S,{class:$(e.$style.cardLink),onClick:e.onClick},{header:v(()=>[b(r,{tag:"h2",bold:"",class:$(e.$style.cardHeading),"data-test-id":"workflow-card-name"},{default:v(()=>[V(N(e.data.name),1)]),_:1},8,["class"])]),append:v(()=>[D("div",{class:$(e.$style.cardActions)},[b(p,{features:[e.EnterpriseEditionFeature.Sharing]},{default:v(()=>[e.workflowPermissions.isOwner?(y(),R(h,{key:0,class:"mr-xs",theme:"tertiary",bold:""},{default:v(()=>[V(N(e.$locale.baseText("workflows.item.owner")),1)]),_:1})):W("",!0)]),_:1},8,["features"]),b(g,{class:"mr-s","workflow-active":e.data.active,"workflow-id":e.data.id,ref:"activator","data-test-id":"workflow-card-activator"},null,8,["workflow-active","workflow-id"]),b(w,{actions:e.actions,theme:"dark",onAction:e.onAction,onClick:t[0]||(t[0]=Qe(()=>{},["stop"])),"data-test-id":"workflow-card-actions"},null,8,["actions","onAction"])],2)]),default:v(()=>[D("div",{class:$(e.$style.cardDescription)},[b(c,{color:"text-light",size:"small"},{default:v(()=>[He(D("span",null,[V(N(e.$locale.baseText("workflows.item.updated"))+" ",1),b(l,{date:e.data.updatedAt},null,8,["date"]),V(" | ")],512),[[nt,e.data]]),He(D("span",{class:"mr-2xs"},N(e.$locale.baseText("workflows.item.created"))+" "+N(e.formattedCreatedAtDate),513),[[nt,e.data]]),e.settingsStore.areTagsEnabled&&e.data.tags&&e.data.tags.length>0?He((y(),P("span",gEe,[b(m,{tags:e.data.tags,truncateAt:3,truncate:"","onClick:tag":e.onClickTag,onExpand:e.onExpandTags,"data-test-id":"workflow-card-tags"},null,8,["tags","onClick:tag","onExpand"])],512)),[[nt,e.data]]):W("",!0)]),_:1})],2)]),_:1},8,["class","onClick"])}const wEe={$style:fEe},bEe=te(cEe,[["render",yEe],["__cssModules",wEe]]),_u={ACTIVE:!0,DEACTIVATED:!1,ALL:""},vEe=J({name:"WorkflowsView",mixins:[Nt],components:{ResourcesListLayout:Xg,WorkflowCard:bEe,TagsDropdown:qd},data(){return{filters:{search:"",ownedBy:"",sharedWith:"",status:_u.ALL,tags:[]},sourceControlStoreUnsubscribe:()=>{}}},computed:{...be(Le,Ee,Ge,_e,It,Fs),currentUser(){return this.usersStore.currentUser||{}},allWorkflows(){return this.workflowsStore.allWorkflows},isShareable(){return this.settingsStore.isEnterpriseFeatureEnabled(ot.Sharing)},statusFilterOptions(){return[{label:this.$locale.baseText("workflows.filters.status.all"),value:_u.ALL},{label:this.$locale.baseText("workflows.filters.status.active"),value:_u.ACTIVE},{label:this.$locale.baseText("workflows.filters.status.deactivated"),value:_u.DEACTIVATED}]}},methods:{addWorkflow(){this.uiStore.nodeViewInitialized=!1,this.$router.push({name:ee.NEW_WORKFLOW}),this.$telemetry.track("User clicked add workflow button",{source:"Workflows list"})},async initialize(){await Promise.all([this.usersStore.fetchUsers(),this.workflowsStore.fetchAllWorkflows(),this.workflowsStore.fetchActiveWorkflows(),this.credentialsStore.fetchAllCredentials()])},onClickTag(e,t){this.filters.tags.includes(e)||this.filters.tags.push(e)},onFilter(e,t,s){return this.settingsStore.areTagsEnabled&&t.tags.length>0&&(s=s&&t.tags.every(n=>{var o;return(o=e.tags)==null?void 0:o.find(i=>typeof i=="object"?`${i.id}`==`${n}`:`${i}`==`${n}`)})),t.status!==""&&(s=s&&e.active===t.status),s},sendFiltersTelemetry(e){this.$refs.layout.sendFiltersTelemetry(e)}},watch:{"filters.tags"(){this.sendFiltersTelemetry("tags")}},mounted(){this.usersStore.showPersonalizationSurvey(),this.sourceControlStoreUnsubscribe=this.sourceControlStore.$onAction(({name:e,after:t})=>{e==="pullWorkfolder"&&t&&t(()=>{this.initialize()})})},beforeUnmount(){this.sourceControlStoreUnsubscribe()}}),TEe="_actionsContainer_51pcb_5",SEe="_emptyStateCard_51pcb_10",kEe="_emptyStateCardIcon_51pcb_23",EEe={actionsContainer:TEe,emptyStateCard:SEe,emptyStateCardIcon:kEe},xEe={class:"text-center mt-s"},CEe={key:0,class:"mb-s"},OEe={class:"mb-s"};function DEe(e,t,s,n,o,i){const r=E("n8n-button"),l=E("n8n-tooltip"),m=E("workflow-card"),c=E("n8n-heading"),h=E("n8n-text"),p=E("n8n-icon"),g=E("n8n-card"),w=E("n8n-input-label"),S=E("TagsDropdown"),k=E("n8n-option"),O=E("n8n-select"),C=E("resources-list-layout");return y(),R(C,{ref:"layout","resource-key":"workflows",resources:e.allWorkflows,filters:e.filters,"additional-filters-handler":e.onFilter,"type-props":{itemSize:80},"show-aside":e.allWorkflows.length>0,shareable:e.isShareable,initialize:e.initialize,disabled:e.readOnlyEnv,"onClick:add":e.addWorkflow,"onUpdate:filters":t[0]||(t[0]=A=>e.filters=A)},{"add-button":v(({disabled:A})=>[b(l,{disabled:!e.readOnlyEnv},{content:v(()=>[V(N(e.$locale.baseText("mainSidebar.workflows.readOnlyEnv.tooltip")),1)]),default:v(()=>[D("div",null,[b(r,{size:"large",block:"",disabled:A,onClick:e.addWorkflow,"data-test-id":"resources-list-add"},{default:v(()=>[V(N(e.$locale.baseText("workflows.add")),1)]),_:2},1032,["disabled","onClick"])])]),_:2},1032,["disabled"])]),default:v(({data:A,updateItemSize:T})=>[b(m,{"data-test-id":"resources-list-item",class:"mb-2xs",data:A,"onExpand:tags":F=>T(A),"onClick:tag":e.onClickTag,readOnly:e.readOnlyEnv},null,8,["data","onExpand:tags","onClick:tag","readOnly"])]),empty:v(()=>[D("div",xEe,[b(c,{tag:"h2",size:"xlarge",class:"mb-2xs"},{default:v(()=>[V(N(e.$locale.baseText(e.currentUser.firstName?"workflows.empty.heading":"workflows.empty.heading.userNotSetup",{interpolate:{name:e.currentUser.firstName}})),1)]),_:1}),b(h,{size:"large",color:"text-base"},{default:v(()=>[V(N(e.$locale.baseText(e.readOnlyEnv?"workflows.empty.description.readOnlyEnv":"workflows.empty.description")),1)]),_:1})]),e.readOnlyEnv?W("",!0):(y(),P("div",{key:0,class:$(["text-center","mt-2xl",e.$style.actionsContainer])},[b(g,{class:$(e.$style.emptyStateCard),hoverable:"",onClick:e.addWorkflow,"data-test-id":"new-workflow-card"},{default:v(()=>[b(p,{class:$(e.$style.emptyStateCardIcon),icon:"file"},null,8,["class"]),b(h,{size:"large",class:"mt-xs",color:"text-base"},{default:v(()=>[V(N(e.$locale.baseText("workflows.empty.startFromScratch")),1)]),_:1})]),_:1},8,["class","onClick"])],2))]),filters:v(({setKeyValue:A})=>[e.settingsStore.areTagsEnabled?(y(),P("div",CEe,[b(w,{label:e.$locale.baseText("workflows.filters.tags"),bold:!1,size:"small",color:"text-base",class:"mb-3xs"},null,8,["label"]),b(S,{placeholder:e.$locale.baseText("workflowOpen.filterWorkflows"),modelValue:e.filters.tags,createEnabled:!1,"onUpdate:modelValue":T=>A("tags",T)},null,8,["placeholder","modelValue","onUpdate:modelValue"])])):W("",!0),D("div",OEe,[b(w,{label:e.$locale.baseText("workflows.filters.status"),bold:!1,size:"small",color:"text-base",class:"mb-3xs"},null,8,["label"]),b(O,{modelValue:e.filters.status,"onUpdate:modelValue":T=>A("status",T)},{default:v(()=>[(y(!0),P(Ie,null,Re(e.statusFilterOptions,T=>(y(),R(k,{key:T.label,label:T.label,value:T.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),_:1},8,["resources","filters","additional-filters-handler","show-aside","shareable","initialize","disabled","onClick:add"])}const AEe={$style:EEe},$Ee=te(vEe,[["render",DEe],["__cssModules",AEe]]),NEe={class:"variables-key-column"},_Ee={key:0},PEe={class:"variables-value-column"},IEe={key:0},MEe={class:"variables-usage-column"},LEe={key:0},FEe=J({__name:"VariablesRow",props:{data:{type:Object,default:()=>({})},editing:{type:Boolean,default:!1}},emits:["save","cancel","edit","delete"],setup(e,{emit:t}){const s=e,n=Lt(),o=qL(),{showMessage:i}=je(),r=Le(),l=Ge(),m=mS(l.currentUser),c=Be({...s.data}),h=Be({key:!1,value:!1}),p=we(()=>h.value.key&&h.value.value),g=Be(),w=Be(),S=Be(`$vars.${s.data.key}`),k=we(()=>r.isEnterpriseFeatureEnabled(ot.Variables));we(()=>k.value&&(m.edit||m.delete)),Is(()=>{Q()});const O=[{name:"REQUIRED"},{name:"MAX_LENGTH",config:{maximum:50}},{name:"MATCH_REGEX",config:{regex:/^[a-zA-Z]/,message:n.baseText("variables.editing.key.error.startsWithLetter")}},{name:"MATCH_REGEX",config:{regex:/^[a-zA-Z][a-zA-Z0-9_]*$/,message:n.baseText("variables.editing.key.error.jsonKey")}}],C=[{name:"MAX_LENGTH",config:{maximum:220}}];jn(()=>c.value.key,async()=>{await Xs(),h.value.key&&A()});function A(){S.value=`$vars.${c.value.key||s.data.key}`}async function T(){c.value={...s.data},t("cancel",c.value)}async function F(){t("save",c.value)}async function L(){t("edit",c.value),await Xs(),Q()}async function I(){t("delete",c.value)}function j(X,U){h.value[X]=U}function q(){o(S.value),i({title:n.baseText("variables.row.usage.copiedToClipboard"),type:"success"})}function Q(){var X,U,ne;(ne=(U=(X=g.value)==null?void 0:X.inputRef)==null?void 0:U.focus)==null||ne.call(U)}return(X,U)=>{const ne=E("n8n-form-input"),ie=E("n8n-tooltip"),M=E("n8n-button");return y(),P("tr",{class:$(X.$style.variablesRow),"data-test-id":"variables-row"},[D("td",NEe,[D("div",null,[e.editing?(y(),R(ne,{key:1,label:"",name:"key","data-test-id":"variable-row-key-input",placeholder:Z(n).baseText("variables.editing.key.placeholder"),required:"",validateOnBlur:"",validationRules:O,modelValue:c.value.key,"onUpdate:modelValue":U[0]||(U[0]=z=>c.value.key=z),ref_key:"keyInputRef",ref:g,onValidate:U[1]||(U[1]=z=>j("key",z))},null,8,["placeholder","modelValue"])):(y(),P("span",_Ee,N(e.data.key),1))])]),D("td",PEe,[D("div",null,[e.editing?(y(),R(ne,{key:1,label:"",name:"value","data-test-id":"variable-row-value-input",placeholder:Z(n).baseText("variables.editing.value.placeholder"),validateOnBlur:"",validationRules:C,modelValue:c.value.value,"onUpdate:modelValue":U[2]||(U[2]=z=>c.value.value=z),ref_key:"valueInputRef",ref:w,onValidate:U[3]||(U[3]=z=>j("value",z))},null,8,["placeholder","modelValue"])):(y(),P("span",IEe,N(e.data.value),1))])]),D("td",MEe,[D("div",null,[b(ie,{placement:"top"},{content:v(()=>[V(N(Z(n).baseText("variables.row.usage.copyToClipboard")),1)]),default:v(()=>[c.value.key&&S.value?(y(),P("span",{key:0,class:$(X.$style.usageSyntax),onClick:q},N(S.value),3)):W("",!0)]),_:1})])]),k.value?(y(),P("td",LEe,[e.editing?(y(),P("div",{key:0,class:$(X.$style.buttons)},[b(M,{"data-test-id":"variable-row-cancel-button",type:"tertiary",class:"mr-xs",onClick:T},{default:v(()=>[V(N(Z(n).baseText("variables.row.button.cancel")),1)]),_:1}),b(M,{"data-test-id":"variable-row-save-button",disabled:!p.value,type:"primary",onClick:F},{default:v(()=>[V(N(Z(n).baseText("variables.row.button.save")),1)]),_:1},8,["disabled"])],2)):(y(),P("div",{key:1,class:$([X.$style.buttons,X.$style.hoverButtons])},[b(ie,{disabled:Z(m).edit,placement:"top"},{content:v(()=>[V(N(Z(n).baseText("variables.row.button.edit.onlyOwnerCanSave")),1)]),default:v(()=>[D("div",null,[b(M,{"data-test-id":"variable-row-edit-button",type:"tertiary",class:"mr-xs",disabled:!Z(m).edit,onClick:L},{default:v(()=>[V(N(Z(n).baseText("variables.row.button.edit")),1)]),_:1},8,["disabled"])])]),_:1},8,["disabled"]),b(ie,{disabled:Z(m).delete,placement:"top"},{content:v(()=>[V(N(Z(n).baseText("variables.row.button.delete.onlyOwnerCanDelete")),1)]),default:v(()=>[D("div",null,[b(M,{"data-test-id":"variable-row-delete-button",type:"tertiary",disabled:!Z(m).delete,onClick:I},{default:v(()=>[V(N(Z(n).baseText("variables.row.button.delete")),1)]),_:1},8,["disabled"])])]),_:1},8,["disabled"])],2))])):W("",!0)],2)}}}),BEe="_variablesRow_1m3e8_5",REe="_hoverButtons_1m3e8_5",VEe="_buttons_1m3e8_14",UEe="_usageSyntax_1m3e8_25",WEe={variablesRow:BEe,hoverButtons:REe,buttons:VEe,usageSyntax:UEe},jEe={$style:WEe},qEe=te(FEe,[["__cssModules",jEe]]),zEe={key:0},HEe={key:1},ha="@tmpvar",QEe=J({__name:"VariablesView",setup(e){const t=Le(),s=gl(),n=Ge(),o=Ee(),i=bl(),r=Lt(),l=St(),m=Fs();let c=()=>{};const h=Be(null),{showError:p}=je(),g=Be([]),w=Be({}),S=mS(n.currentUser),k=we(()=>t.isEnterpriseFeatureEnabled(ot.Variables)),O=we(()=>k.value&&S.create),C=we(()=>[{id:0,path:"name",label:r.baseText("variables.table.key"),classes:["variables-key-column"]},{id:1,path:"value",label:r.baseText("variables.table.value"),classes:["variables-value-column"]},{id:2,path:"usage",label:r.baseText("variables.table.usage"),classes:["variables-usage-column"]},...k.value?[{id:3,path:"actions",label:""}]:[]]),A=we(()=>o.contextBasedTranslationKeys),T=Be([]),F=(z,K,oe)=>`${z.id}`.startsWith(ha)?-1:`${K.id}`.startsWith(ha)?1:T.value.includes(z.id)&&T.value.includes(K.id)?T.value.indexOf(z.id)-T.value.indexOf(K.id):T.value.includes(z.id)?-1:T.value.includes(K.id)?1:oe==="asc"?M(z).trim().localeCompare(M(K).trim()):M(K).trim().localeCompare(M(z).trim()),L={nameAsc:(z,K)=>F(z,K,"asc"),nameDesc:(z,K)=>F(z,K,"desc")};function I(){T.value=[]}async function j(){await s.fetchAllVariables(),g.value=[...s.variables]}function q(){const z={id:kD(ha),key:"",value:""};h.value&&(h.value.$refs.listWrapperRef&&(h.value.$refs.listWrapperRef.scrollTop=0),h.value.currentPage!==1&&h.value.setCurrentPage(1)),g.value.unshift(z),w.value[z.id]=!0,i.track("User clicked add variable button")}async function Q(z){let K;try{if(typeof z.id=="string"&&z.id.startsWith(ha)){const{id:oe,...ve}=z;K=await s.createVariable(ve),g.value.unshift(K),g.value=g.value.filter(ae=>ae.id!==z.id),T.value.unshift(K.id)}else K=await s.updateVariable(z),g.value=g.value.filter(oe=>oe.id!==z.id),g.value.push(K),X(K)}catch(oe){p(oe,r.baseText("variables.errors.save"))}}function X(z){w.value={...w.value,[z.id]:!w.value[z.id]}}function U(z){typeof z.id=="string"&&z.id.startsWith(ha)?g.value=g.value.filter(K=>K.id!==z.id):X(z)}async function ne(z){try{if(await l.confirm(r.baseText("variables.modals.deleteConfirm.message",{interpolate:{name:z.key}}),r.baseText("variables.modals.deleteConfirm.title"),{confirmButtonText:r.baseText("variables.modals.deleteConfirm.confirmButton"),cancelButtonText:r.baseText("variables.modals.deleteConfirm.cancelButton")})!==bt)return;await s.deleteVariable(z),g.value=g.value.filter(oe=>oe.id!==z.id)}catch(K){p(K,r.baseText("variables.errors.delete"))}}function ie(){o.goToUpgrade("variables","upgrade-variables")}function M(z){return z.key}return Bv(()=>{c=m.$onAction(({name:z,after:K})=>{z==="pullWorkfolder"&&K&&K(()=>{j()})})}),Mv(()=>{c()}),(z,K)=>{const oe=E("n8n-button"),ve=E("n8n-tooltip"),ae=E("n8n-action-box");return y(),R(Xg,{class:"variables-view",ref_key:"layoutRef",ref:h,"resource-key":"variables",disabled:!k.value,resources:g.value,initialize:j,shareable:!1,displayName:M,sortFns:L,sortOptions:["nameAsc","nameDesc"],showFiltersDropdown:!1,type:"datatable","type-props":{columns:C.value},onSort:I,"onClick:add":q},Ms({"add-button":v(()=>[b(ve,{placement:"top",disabled:O.value},{content:v(()=>[k.value?(y(),P("span",HEe,N(Z(r).baseText("variables.add.onlyOwnerCanCreate")),1)):(y(),P("span",zEe,N(Z(r).baseText(`variables.add.unavailable${g.value.length===0?".empty":""}`)),1))]),default:v(()=>[D("div",null,[b(oe,{size:"large",block:"",disabled:!O.value,onClick:q,"data-test-id":"resources-list-add"},{default:v(()=>[V(N(z.$locale.baseText("variables.add")),1)]),_:1},8,["disabled"])])]),_:1},8,["disabled"])]),default:v(({data:ce})=>[(y(),R(qEe,{key:ce.id,editing:w.value[ce.id],data:ce,onSave:Q,onEdit:X,onCancel:U,onDelete:ne},null,8,["editing","data"]))]),_:2},[k.value?void 0:{name:"preamble",fn:v(()=>[b(ae,{class:"mb-m","data-test-id":"unavailable-resources-list",emoji:"👋",heading:z.$locale.baseText(A.value.variables.unavailable.title),description:z.$locale.baseText(A.value.variables.unavailable.description),buttonText:z.$locale.baseText(A.value.variables.unavailable.button),buttonType:"secondary","onClick:button":ie},null,8,["heading","description","buttonText"])]),key:"0"},!k.value||k.value&&!O.value?{name:"empty",fn:v(()=>[k.value?O.value?W("",!0):(y(),R(ae,{key:1,"data-test-id":"cannot-create-variables",emoji:"👋",heading:z.$locale.baseText("variables.empty.notAllowedToCreate.heading",{interpolate:{name:Z(n).currentUser.firstName}}),description:z.$locale.baseText("variables.empty.notAllowedToCreate.description"),onClick:ie},null,8,["heading","description"])):(y(),R(ae,{key:0,"data-test-id":"unavailable-resources-list",emoji:"👋",heading:z.$locale.baseText(A.value.variables.unavailable.title),description:z.$locale.baseText(A.value.variables.unavailable.description),buttonText:z.$locale.baseText(A.value.variables.unavailable.button),buttonType:"secondary","onClick:button":ie},null,8,["heading","description","buttonText"]))]),key:"1"}:void 0]),1032,["disabled","resources","type-props"])}}}),GEe="_sidebarContainer_1qflh_9",YEe={"type-input":"_type-input_1qflh_5",sidebarContainer:GEe};const XEe={$style:YEe},KEe=te(QEe,[["__cssModules",XEe],["__scopeId","data-v-9daa3b79"]]),JEe={class:"settings-usage-and-plan"},ZEe={key:1},exe={key:0},txe={key:1},sxe={key:0},nxe={key:1},oxe=["href"],ixe=["href"],rxe=J({__name:"SettingsUsageAndPlan",setup(e){const t=Oi(),s=Ic(),n=Mc(),o=Ee(),i=je(),r=Be(`callback=${encodeURIComponent(`${window.location.origin}${window.location.pathname}`)}`),l=we(()=>`${t.viewPlansUrl}&${r.value}&source=usage_page`),m=we(()=>`${t.managePlanUrl}&${r.value}`),c=Be(!1),h=Be(""),p=Be(null),g=()=>{i.showMessage({type:"success",title:Te.baseText("settings.usageAndPlan.license.activation.success.title"),message:Te.baseText("settings.usageAndPlan.license.activation.success.message",{interpolate:{name:t.planName,type:t.planId?Te.baseText("settings.usageAndPlan.plan"):Te.baseText("settings.usageAndPlan.edition")}})})},w=I=>{i.showError(I,Te.baseText("settings.usageAndPlan.license.activation.error.title"),I.message)},S=async()=>{try{await t.activateLicense(h.value),c.value=!1,g()}catch(I){w(I)}};Is(async()=>{if(!t.isDesktop){if(t.setLoading(!0),s.query.key)try{await t.activateLicense(s.query.key),await n.replace({query:{}}),g(),t.setLoading(!1);return}catch(I){w(I)}try{!s.query.key&&t.canUserActivateLicense?await t.refreshLicenseManagementToken():await t.getLicenseInfo(),t.setLoading(!1)}catch(I){I.name||(I.name=Te.baseText("settings.usageAndPlan.error")),i.showError(I,I.name,I.message)}}});const k=I=>{const j=t.telemetryPayload;j.action=I,gf.track("User clicked button on usage page",j)},O=()=>{c.value=!0,k("add_activation_key")},C=()=>{o.goToUpgrade("usage_page","open"),k("view_plans")},A=()=>{k("manage_plan")},T=()=>{h.value=""},F=()=>{var I;(I=p.value)==null||I.focus()},L=()=>{k("desktop_view_plans"),window.open(C_,"_blank")};return(I,j)=>{const q=E("n8n-heading"),Q=E("n8n-action-box"),X=E("i18n-t"),U=E("n8n-text"),ne=E("n8n-info-tip"),ie=E("n8n-button"),M=E("n8n-input"),z=E("el-dialog");return y(),P("div",JEe,[b(q,{size:"2xlarge"},{default:v(()=>[V(N(Z(Te).baseText("settings.usageAndPlan.title")),1)]),_:1}),Z(t).isDesktop?(y(),R(Q,{key:0,class:$(I.$style.actionBox),heading:Z(Te).baseText("settings.usageAndPlan.desktop.title"),description:Z(Te).baseText("settings.usageAndPlan.desktop.description"),buttonText:Z(Te).baseText("settings.usageAndPlan.button.plans"),"onClick:button":L},null,8,["class","heading","description","buttonText"])):W("",!0),!Z(t).isDesktop&&!Z(t).isLoading?(y(),P("div",ZEe,[b(q,{class:$(I.$style.title),size:"large"},{default:v(()=>[b(X,{keypath:"settings.usageAndPlan.description",tag:"span"},{name:v(()=>[V(N(Z(t).planName),1)]),type:v(()=>[Z(t).planId?(y(),P("span",exe,N(Z(Te).baseText("settings.usageAndPlan.plan")),1)):(y(),P("span",txe,N(Z(Te).baseText("settings.usageAndPlan.edition")),1))]),_:1})]),_:1},8,["class"]),D("div",{class:$(I.$style.quota)},[b(U,{size:"medium",color:"text-light"},{default:v(()=>[V(N(Z(Te).baseText("settings.usageAndPlan.activeWorkflows")),1)]),_:1}),D("div",{class:$(I.$style.chart)},[Z(t).executionLimit>0?(y(),P("span",{key:0,class:$(I.$style.chartLine)},[D("span",{class:$(I.$style.chartBar),style:zt({width:`${Z(t).executionPercentage}%`})},null,6)],2)):W("",!0),b(X,{tag:"span",class:$(I.$style.count),keypath:"settings.usageAndPlan.activeWorkflows.count"},{count:v(()=>[V(N(Z(t).executionCount),1)]),limit:v(()=>[Z(t).executionLimit<0?(y(),P("span",sxe,N(Z(Te).baseText("settings.usageAndPlan.activeWorkflows.unlimited")),1)):(y(),P("span",nxe,N(Z(t).executionLimit),1))]),_:1},8,["class"])],2)],2),b(ne,null,{default:v(()=>[V(N(Z(Te).baseText("settings.usageAndPlan.activeWorkflows.hint")),1)]),_:1}),D("div",{class:$(I.$style.buttons)},[Z(t).canUserActivateLicense?(y(),R(ie,{key:0,class:$(I.$style.buttonTertiary),onClick:O,type:"tertiary",size:"large"},{default:v(()=>[D("strong",null,N(Z(Te).baseText("settings.usageAndPlan.button.activation")),1)]),_:1},8,["class"])):W("",!0),Z(t).managementToken?(y(),R(ie,{key:1,onClick:A,size:"large"},{default:v(()=>[D("a",{href:m.value,target:"_blank"},N(Z(Te).baseText("settings.usageAndPlan.button.manage")),9,oxe)]),_:1})):(y(),R(ie,{key:2,onClick:C,size:"large"},{default:v(()=>[D("a",{href:l.value,target:"_blank"},N(Z(Te).baseText("settings.usageAndPlan.button.plans")),9,ixe)]),_:1}))],2),b(z,{width:"480px",top:"0",onClosed:T,onOpened:F,modelValue:c.value,"onUpdate:modelValue":j[2]||(j[2]=K=>c.value=K),title:Z(Te).baseText("settings.usageAndPlan.dialog.activation.title"),"modal-class":I.$style.center},{default:v(()=>[b(M,{ref_key:"activationKeyInput",ref:p,modelValue:h.value,"onUpdate:modelValue":j[0]||(j[0]=K=>h.value=K),placeholder:Z(Te).baseText("settings.usageAndPlan.dialog.activation.label")},null,8,["modelValue","placeholder"])]),footer:v(()=>[b(ie,{onClick:j[1]||(j[1]=K=>c.value=!1),type:"secondary"},{default:v(()=>[V(N(Z(Te).baseText("settings.usageAndPlan.dialog.activation.cancel")),1)]),_:1}),b(ie,{onClick:S},{default:v(()=>[V(N(Z(Te).baseText("settings.usageAndPlan.dialog.activation.activate")),1)]),_:1})]),_:1},8,["modelValue","title","modal-class"])])):W("",!0)])}}}),axe="_center_nlz4e_5",lxe="_actionBox_nlz4e_9",uxe="_spacedFlex_nlz4e_13",cxe="_title_nlz4e_19",dxe="_quota_nlz4e_24",pxe="_count_nlz4e_36",hxe="_buttons_nlz4e_41",mxe="_chart_nlz4e_57",fxe="_chartLine_nlz4e_64",gxe="_chartBar_nlz4e_74",yxe="_buttonTertiary_nlz4e_88",wxe={center:axe,actionBox:lxe,spacedFlex:uxe,title:cxe,quota:dxe,count:pxe,buttons:hxe,chart:mxe,chartLine:fxe,chartBar:gxe,buttonTertiary:yxe};const bxe={$style:wxe},vxe=te(rxe,[["__cssModules",bxe],["__scopeId","data-v-a7b70d18"]]),Txe={class:"pb-3xl"},Sxe={href:"https://docs.n8n.io/user-management/saml/",target:"_blank"},kxe={key:0,"data-test-id":"sso-content-licensed"},Exe={class:"mt-2xs mb-s"},xxe=J({__name:"SettingsSso",setup(e){const t={URL:"url",XML:"xml"},s=Lt(),n=wl(),o=Ee(),i=St(),r=je(),l=we(()=>n.isSamlLoginEnabled?s.baseText("settings.sso.activated"):s.baseText("settings.sso.deactivated")),m=Be(!1),c=Be(),h=Be(),p=Be([{label:s.baseText("settings.sso.settings.ips.options.url"),value:t.URL},{label:s.baseText("settings.sso.settings.ips.options.xml"),value:t.XML}]),g=Be(t.URL),w=Be(),S=Be(),k=we(()=>{var L,I;return g.value===t.URL?!!w.value&&w.value!==((L=n.samlConfig)==null?void 0:L.metadataUrl):g.value===t.XML?!!S.value&&S.value!==((I=n.samlConfig)==null?void 0:I.metadata):!1}),O=we(()=>g.value===t.URL?!!w.value&&m.value:g.value===t.XML?!!S.value&&m.value:!1),C=async()=>{const L=await n.getSamlConfig();h.value=L==null?void 0:L.entityID,c.value=L==null?void 0:L.returnUrl,L!=null&&L.metadataUrl?g.value=t.URL:L!=null&&L.metadata&&(g.value=t.XML),S.value=L==null?void 0:L.metadata,w.value=L==null?void 0:L.metadataUrl,m.value=!!(L!=null&&L.metadata)},A=async()=>{try{const L=g.value===t.URL?{metadataUrl:w.value}:{metadata:S.value};await n.saveSamlConfig(L),n.isSamlLoginEnabled||await i.confirm(s.baseText("settings.sso.settings.save.activate.message"),s.baseText("settings.sso.settings.save.activate.title"),{confirmButtonText:s.baseText("settings.sso.settings.save.activate.test"),cancelButtonText:s.baseText("settings.sso.settings.save.activate.cancel")})==="confirm"&&await T()}catch(L){r.showError(L,s.baseText("settings.sso.settings.save.error"));return}finally{await C()}},T=async()=>{try{const L=await n.testSamlConfig();typeof window<"u"&&window.open(L,"_blank")}catch(L){r.showError(L,"error")}},F=()=>{o.goToUpgrade("sso","upgrade-sso")};return Is(async()=>{if(n.isEnterpriseSamlEnabled)try{await C()}catch(L){r.showError(L,"error")}}),(L,I)=>{const j=E("n8n-heading"),q=E("el-switch"),Q=E("n8n-tooltip"),X=E("n8n-info-tip"),U=E("n8n-radio-buttons"),ne=E("n8n-input"),ie=E("n8n-button"),M=E("n8n-action-box");return y(),P("div",Txe,[b(j,{size:"2xlarge"},{default:v(()=>[V(N(Z(s).baseText("settings.sso.title")),1)]),_:1}),D("div",{class:$(L.$style.top)},[b(j,{size:"xlarge"},{default:v(()=>[V(N(Z(s).baseText("settings.sso.subtitle")),1)]),_:1}),Z(n).isEnterpriseSamlEnabled?(y(),R(Q,{key:0,disabled:Z(n).isSamlLoginEnabled||m.value},{content:v(()=>[D("span",null,N(Z(s).baseText("settings.sso.activation.tooltip")),1)]),default:v(()=>[b(q,{modelValue:Z(n).isSamlLoginEnabled,"onUpdate:modelValue":I[0]||(I[0]=z=>Z(n).isSamlLoginEnabled=z),disabled:!m.value,class:$(L.$style.switch),"inactive-text":l.value},null,8,["modelValue","disabled","class","inactive-text"])]),_:1},8,["disabled"])):W("",!0)],2),b(X,null,{default:v(()=>[V(N(Z(s).baseText("settings.sso.info"))+" ",1),D("a",Sxe,N(Z(s).baseText("settings.sso.info.link")),1)]),_:1}),Z(n).isEnterpriseSamlEnabled?(y(),P("div",kxe,[D("div",{class:$(L.$style.group)},[D("label",null,N(Z(s).baseText("settings.sso.settings.redirectUrl.label")),1),b(Dr,{value:c.value,"copy-button-text":Z(s).baseText("generic.clickToCopy"),"toast-title":Z(s).baseText("settings.sso.settings.redirectUrl.copied")},null,8,["value","copy-button-text","toast-title"]),D("small",null,N(Z(s).baseText("settings.sso.settings.redirectUrl.help")),1)],2),D("div",{class:$(L.$style.group)},[D("label",null,N(Z(s).baseText("settings.sso.settings.entityId.label")),1),b(Dr,{value:h.value,"copy-button-text":Z(s).baseText("generic.clickToCopy"),"toast-title":Z(s).baseText("settings.sso.settings.entityId.copied")},null,8,["value","copy-button-text","toast-title"]),D("small",null,N(Z(s).baseText("settings.sso.settings.entityId.help")),1)],2),D("div",{class:$(L.$style.group)},[D("label",null,N(Z(s).baseText("settings.sso.settings.ips.label")),1),D("div",Exe,[b(U,{options:p.value,modelValue:g.value,"onUpdate:modelValue":I[1]||(I[1]=z=>g.value=z)},null,8,["options","modelValue"])]),He(D("div",null,[b(ne,{modelValue:w.value,"onUpdate:modelValue":I[2]||(I[2]=z=>w.value=z),type:"text",name:"metadataUrl",size:"large",placeholder:Z(s).baseText("settings.sso.settings.ips.url.placeholder")},null,8,["modelValue","placeholder"]),D("small",null,N(Z(s).baseText("settings.sso.settings.ips.url.help")),1)],512),[[nt,g.value===t.URL]]),He(D("div",null,[b(ne,{modelValue:S.value,"onUpdate:modelValue":I[3]||(I[3]=z=>S.value=z),type:"textarea",name:"metadata",rows:4},null,8,["modelValue"]),D("small",null,N(Z(s).baseText("settings.sso.settings.ips.xml.help")),1)],512),[[nt,g.value===t.XML]])],2),D("div",{class:$(L.$style.buttons)},[b(ie,{disabled:!k.value,onClick:A,size:"large","data-test-id":"sso-save"},{default:v(()=>[V(N(Z(s).baseText("settings.sso.settings.save")),1)]),_:1},8,["disabled"]),b(ie,{disabled:!O.value,size:"large",type:"tertiary",onClick:T,"data-test-id":"sso-test"},{default:v(()=>[V(N(Z(s).baseText("settings.sso.settings.test")),1)]),_:1},8,["disabled"])],2),D("footer",{class:$(L.$style.footer)},N(Z(s).baseText("settings.sso.settings.footer.hint")),3)])):(y(),R(M,{key:1,"data-test-id":"sso-content-unlicensed",class:$(L.$style.actionBox),description:Z(s).baseText("settings.sso.actionBox.description"),buttonText:Z(s).baseText("settings.sso.actionBox.buttonText"),"onClick:button":F},{heading:v(()=>[D("span",null,N(Z(s).baseText("settings.sso.actionBox.title")),1)]),_:1},8,["class","description","buttonText"]))])}}}),Cxe="_top_1891z_5",Oxe="_buttons_1891z_18",Dxe="_group_1891z_27",Axe="_actionBox_1891z_43",$xe="_footer_1891z_47",Nxe={top:Cxe,switch:"_switch_1891z_12",buttons:Oxe,group:Dxe,actionBox:Axe,footer:$xe},_xe={$style:Nxe},Pxe=te(xxe,[["__cssModules",_xe]]),Ixe=J({name:"SignoutView",setup(){return{...je()}},computed:{...be(Ge)},methods:{async logout(){try{await this.usersStore.logout(),this.$router.replace({name:ee.SIGNIN})}catch(e){this.showError(e,this.$locale.baseText("auth.signout.error"))}}},mounted(){this.logout()}});function Mxe(e,t,s,n,o,i){return y(),P("div")}const Lxe=te(Ixe,[["render",Mxe]]),Fxe=J({__name:"SamlOnboarding",setup(e){var r,l;const t=Mc(),s=wl(),n=Be(!1),o=en({title:Te.baseText("auth.signup.setupYourAccount"),buttonText:Te.baseText("auth.signup.finishAccountSetup"),inputs:[{name:"firstName",initialValue:(r=s.userData)==null?void 0:r.firstName,properties:{label:Te.baseText("auth.firstName"),maxlength:32,required:!0,autocomplete:"given-name",capitalize:!0}},{name:"lastName",initialValue:(l=s.userData)==null?void 0:l.lastName,properties:{label:Te.baseText("auth.lastName"),maxlength:32,required:!0,autocomplete:"family-name",capitalize:!0}}]}),i=async m=>{try{n.value=!0,await s.updateUser(m),await t.push({name:ee.HOMEPAGE})}catch(c){n.value=!1,yh.error({title:"Error",message:c.message,position:"bottom-right"})}};return(m,c)=>(y(),R(Xr,{form:o,formLoading:n.value,onSubmit:i},null,8,["form","formLoading"]))}}),Bxe={key:0,"data-test-id":"source-control-content-licensed"},Rxe=["href"],Vxe={for:"repoUrl"},Uxe=["href"],Wxe={key:2,"data-test-id":"source-control-connected-content"},jxe=D("hr",null,null,-1),qxe=["href"],zxe=J({__name:"SettingsSourceControl",setup(e){const t=Lt(),s=Fs(),n=Ee(),o=je(),i=St(),r=td(),l=Be(!1),m=we(()=>s.preferences.branches.map(I=>({value:I,label:I}))),c=async()=>{r.startLoading(),r.setLoadingText(t.baseText("settings.sourceControl.loading.connecting"));try{await s.savePreferences({repositoryUrl:s.preferences.repositoryUrl}),await s.getBranches(),l.value=!0,o.showMessage({title:t.baseText("settings.sourceControl.toast.connected.title"),message:t.baseText("settings.sourceControl.toast.connected.message"),type:"success"})}catch(I){o.showError(I,t.baseText("settings.sourceControl.toast.connected.error"))}r.stopLoading()},h=async()=>{try{await i.confirm(t.baseText("settings.sourceControl.modals.disconnect.message"),t.baseText("settings.sourceControl.modals.disconnect.title"),{confirmButtonText:t.baseText("settings.sourceControl.modals.disconnect.confirm"),cancelButtonText:t.baseText("settings.sourceControl.modals.disconnect.cancel")})===bt&&(r.startLoading(),await s.disconnect(!0),l.value=!1,o.showMessage({title:t.baseText("settings.sourceControl.toast.disconnected.title"),message:t.baseText("settings.sourceControl.toast.disconnected.message"),type:"success"}))}catch(I){o.showError(I,t.baseText("settings.sourceControl.toast.disconnected.error"))}r.stopLoading()},p=async()=>{r.startLoading();try{await s.updatePreferences({branchName:s.preferences.branchName,branchReadOnly:s.preferences.branchReadOnly,branchColor:s.preferences.branchColor}),o.showMessage({title:t.baseText("settings.sourceControl.saved.title"),type:"success"})}catch(I){o.showError(I,"Error setting branch")}r.stopLoading()},g=async I=>{I!==s.preferences.branchName&&(s.preferences.branchName=I)},w=()=>{n.goToUpgrade("source-control","upgrade-source-control")},S=async()=>{await s.getPreferences(),s.preferences.connected&&(l.value=!0,s.getBranches())};Is(async()=>{await S()});const k=en({repoUrl:!1});function O(I,j){k[I]=j}const C=[{name:"REQUIRED"},{name:"MATCH_REGEX",config:{regex:/^(?!https?:\/\/)(?:git|ssh|git@[-\w.]+):(\/\/)?(.*?)(\.git)(\/?|\#[-\d\w._]+?)$/,message:t.baseText("settings.sourceControl.repoUrlInvalid")}}],A=we(()=>k.repoUrl),T=[{name:"REQUIRED"}];async function F(){try{await i.confirm(t.baseText("settings.sourceControl.modals.refreshSshKey.message"),t.baseText("settings.sourceControl.modals.refreshSshKey.title"),{confirmButtonText:t.baseText("settings.sourceControl.modals.refreshSshKey.confirm"),cancelButtonText:t.baseText("settings.sourceControl.modals.refreshSshKey.cancel")})===bt&&(await s.generateKeyPair(),o.showMessage({title:t.baseText("settings.sourceControl.refreshSshKey.successful.title"),type:"success"}))}catch(I){o.showError(I,t.baseText("settings.sourceControl.refreshSshKey.error.title"))}}const L=async()=>{try{await s.getBranches(),o.showMessage({title:t.baseText("settings.sourceControl.refreshBranches.success"),type:"success"})}catch(I){o.showError(I,t.baseText("settings.sourceControl.refreshBranches.error"))}};return(I,j)=>{const q=E("n8n-heading"),Q=E("i18n-t"),X=E("n8n-callout"),U=E("n8n-form-input"),ne=E("n8n-button"),ie=E("n8n-notice"),M=E("n8n-tooltip"),z=E("n8n-checkbox"),K=E("n8n-color-picker"),oe=E("n8n-action-box");return y(),P("div",null,[b(q,{size:"2xlarge",tag:"h1"},{default:v(()=>[V(N(Z(t).baseText("settings.sourceControl.title")),1)]),_:1}),Z(s).isEnterpriseSourceControlEnabled?(y(),P("div",Bxe,[b(X,{theme:"secondary",icon:"info-circle",class:"mt-2xl mb-l"},{default:v(()=>[b(Q,{keypath:"settings.sourceControl.description",tag:"span"},{link:v(()=>[D("a",{href:Z(t).baseText("settings.sourceControl.docs.url"),target:"_blank"},N(Z(t).baseText("settings.sourceControl.description.link")),9,Rxe)]),_:1})]),_:1}),b(q,{size:"xlarge",tag:"h2",class:"mb-s"},{default:v(()=>[V(N(Z(t).baseText("settings.sourceControl.gitConfig")),1)]),_:1}),D("div",{class:$(I.$style.group)},[D("label",Vxe,N(Z(t).baseText("settings.sourceControl.repoUrl")),1),D("div",{class:$(I.$style.groupFlex)},[b(U,{label:"",class:"ml-0",id:"repoUrl",name:"repoUrl",validateOnBlur:"",validationRules:C,disabled:l.value,placeholder:Z(t).baseText("settings.sourceControl.repoUrlPlaceholder"),modelValue:Z(s).preferences.repositoryUrl,"onUpdate:modelValue":j[0]||(j[0]=ve=>Z(s).preferences.repositoryUrl=ve),onValidate:j[1]||(j[1]=ve=>O("repoUrl",ve))},null,8,["disabled","placeholder","modelValue"]),l.value?(y(),R(ne,{key:0,class:$(I.$style.disconnectButton),type:"tertiary",onClick:h,size:"large",icon:"trash","data-test-id":"source-control-disconnect-button"},{default:v(()=>[V(N(Z(t).baseText("settings.sourceControl.button.disconnect")),1)]),_:1},8,["class"])):W("",!0)],2)],2),Z(s).preferences.publicKey?(y(),P("div",{key:0,class:$(I.$style.group)},[D("label",null,N(Z(t).baseText("settings.sourceControl.sshKey")),1),D("div",{class:$({[I.$style.sshInput]:!l.value})},[b(Dr,{collapse:"",size:"medium",value:Z(s).preferences.publicKey,"copy-button-text":Z(t).baseText("generic.clickToCopy")},null,8,["value","copy-button-text"]),l.value?W("",!0):(y(),R(ne,{key:0,size:"large",type:"tertiary",icon:"sync",class:"ml-s",onClick:F},{default:v(()=>[V(N(Z(t).baseText("settings.sourceControl.refreshSshKey")),1)]),_:1}))],2),b(ie,{type:"info",class:"mt-s"},{default:v(()=>[b(Q,{keypath:"settings.sourceControl.sshKeyDescription",tag:"span"},{link:v(()=>[D("a",{href:Z(t).baseText("settings.sourceControl.docs.setup.ssh.url"),target:"_blank"},N(Z(t).baseText("settings.sourceControl.sshKeyDescriptionLink")),9,Uxe)]),_:1})]),_:1})],2)):W("",!0),l.value?W("",!0):(y(),R(ne,{key:1,onClick:c,size:"large",disabled:!A.value,class:$(I.$style.connect),"data-test-id":"source-control-connect-button"},{default:v(()=>[V(N(Z(t).baseText("settings.sourceControl.button.connect")),1)]),_:1},8,["disabled","class"])),l.value?(y(),P("div",Wxe,[D("div",{class:$(I.$style.group)},[jxe,b(q,{size:"xlarge",tag:"h2",class:"mb-s"},{default:v(()=>[V(N(Z(t).baseText("settings.sourceControl.instanceSettings")),1)]),_:1}),D("label",null,N(Z(t).baseText("settings.sourceControl.branches")),1),D("div",{class:$(I.$style.branchSelection)},[b(U,{label:"",type:"select",id:"branchName",name:"branchName",class:"mb-s","data-test-id":"source-control-branch-select",validateOnBlur:"",validationRules:T,options:m.value,modelValue:Z(s).preferences.branchName,onValidate:j[2]||(j[2]=ve=>O("branchName",ve)),"onUpdate:modelValue":g},null,8,["options","modelValue"]),b(M,{placement:"top"},{content:v(()=>[D("span",null,N(Z(t).baseText("settings.sourceControl.refreshBranches.tooltip")),1)]),default:v(()=>[b(ne,{size:"small",type:"tertiary",icon:"sync",square:"",class:$(I.$style.refreshBranches),onClick:L,"data-test-id":"source-control-refresh-branches-button"},null,8,["class"])]),_:1})],2),b(z,{modelValue:Z(s).preferences.branchReadOnly,"onUpdate:modelValue":j[3]||(j[3]=ve=>Z(s).preferences.branchReadOnly=ve),class:$(I.$style.readOnly)},{default:v(()=>[b(Q,{keypath:"settings.sourceControl.protected",tag:"span"},{bold:v(()=>[D("strong",null,N(Z(t).baseText("settings.sourceControl.protected.bold")),1)]),_:1})]),_:1},8,["modelValue","class"])],2),D("div",{class:$(I.$style.group)},[D("label",null,N(Z(t).baseText("settings.sourceControl.color")),1),D("div",null,[b(K,{size:"small",modelValue:Z(s).preferences.branchColor,"onUpdate:modelValue":j[4]||(j[4]=ve=>Z(s).preferences.branchColor=ve)},null,8,["modelValue"])])],2),D("div",{class:$([I.$style.group,"pt-s"])},[b(ne,{onClick:p,size:"large",disabled:!Z(s).preferences.branchName,"data-test-id":"source-control-save-settings-button"},{default:v(()=>[V(N(Z(t).baseText("settings.sourceControl.button.save")),1)]),_:1},8,["disabled"])],2)])):W("",!0)])):(y(),R(oe,{key:1,"data-test-id":"source-control-content-unlicensed",class:$(I.$style.actionBox),description:Z(t).baseText("settings.sourceControl.actionBox.description"),buttonText:Z(t).baseText("settings.sourceControl.actionBox.buttonText"),"onClick:button":w},{heading:v(()=>[D("span",null,N(Z(t).baseText("settings.sourceControl.actionBox.title")),1)]),description:v(()=>[V(N(Z(t).baseText("settings.sourceControl.actionBox.description"))+" ",1),D("a",{href:Z(t).baseText("settings.sourceControl.docs.url"),target:"_blank"},N(Z(t).baseText("settings.sourceControl.actionBox.description.link")),9,qxe)]),_:1},8,["class","description","buttonText"]))])}}}),Hxe="_group_bnyf9_5",Qxe="_readOnly_bnyf9_26",Gxe="_groupFlex_bnyf9_30",Yxe="_connect_bnyf9_44",Xxe="_disconnectButton_bnyf9_48",Kxe="_actionBox_bnyf9_53",Jxe="_sshInput_bnyf9_57",Zxe="_branchSelection_bnyf9_69",e0e="_refreshBranches_bnyf9_78",t0e={group:Hxe,readOnly:Qxe,groupFlex:Gxe,connect:Yxe,disconnectButton:Xxe,actionBox:Kxe,sshInput:Jxe,branchSelection:Zxe,refreshBranches:e0e},s0e={$style:t0e},n0e=te(zxe,[["__cssModules",s0e]]),o0e={key:0,"data-test-id":"audit-logs-content-licensed"},i0e=J({__name:"SettingsAuditLogs",setup(e){const t=Lt(),s=Ee(),n=$8(),o=()=>{s.goToUpgrade("audit-logs","upgrade-audit-logs")};return(i,r)=>{const l=E("n8n-heading"),m=E("n8n-action-box");return y(),P("div",null,[b(l,{size:"2xlarge",tag:"h1"},{default:v(()=>[V(N(Z(t).baseText("settings.auditLogs.title")),1)]),_:1}),Z(n).isEnterpriseAuditLogsFeatureEnabled?(y(),P("div",o0e)):(y(),R(m,{key:1,"data-test-id":"audit-logs-content-unlicensed",class:$(i.$style.actionBox),description:Z(t).baseText("settings.auditLogs.actionBox.description"),buttonText:Z(t).baseText("settings.auditLogs.actionBox.buttonText"),"onClick:button":o},{heading:v(()=>[D("span",null,N(Z(t).baseText("settings.auditLogs.actionBox.title")),1)]),_:1},8,["class","description","buttonText"]))])}}}),r0e="_actionBox_wwwe5_5",a0e={actionBox:r0e},l0e={$style:a0e},u0e=te(i0e,[["__cssModules",l0e]]);function Pu(){return Le().isTemplatesEnabled?!1:{name:ee.NOT_FOUND}}const c0e=[{path:"/",name:ee.HOMEPAGE,redirect:e=>({name:ee.WORKFLOWS}),meta:{permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:"/collections/:id",name:ee.COLLECTION,components:{default:pSe,sidebar:rn},meta:{templatesEnabled:!0,telemetry:{getProperties(e){const t=Ln();return{collection_id:e.params.id,wf_template_repo_session_id:t.currentSessionId}}},getRedirect:Pu,permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:"/templates/:id",name:ee.TEMPLATE,components:{default:xSe,sidebar:rn},meta:{templatesEnabled:!0,getRedirect:Pu,telemetry:{getProperties(e){const t=Ln();return{template_id:e.params.id,wf_template_repo_session_id:t.currentSessionId}}},permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:"/templates/",name:ee.TEMPLATES,components:{default:p1e,sidebar:rn},meta:{templatesEnabled:!0,getRedirect:Pu,scrollOffset:0,telemetry:{getProperties(e){return{wf_template_repo_session_id:Ln().currentSessionId}}},setScrollPosition(e){this.scrollOffset=e},permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:"/credentials",name:ee.CREDENTIALS,components:{default:mke,sidebar:rn},meta:{permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:"/variables",name:ee.VARIABLES,components:{default:KEe,sidebar:rn},meta:{permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:"/executions",name:ee.EXECUTIONS,components:{default:uEe,sidebar:rn},meta:{permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:"/workflow",redirect:"/workflow/new"},{path:"/workflows",name:ee.WORKFLOWS,components:{default:$Ee,sidebar:rn},meta:{permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:"/workflow/new",name:ee.NEW_WORKFLOW,components:{default:Au,header:Du,sidebar:rn},meta:{nodeView:!0,permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:"/workflow/:name",name:ee.WORKFLOW,components:{default:Au,header:Du,sidebar:rn},meta:{nodeView:!0,permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:"/workflow/:name/executions",name:ee.WORKFLOW_EXECUTIONS,components:{default:bye,header:Du,sidebar:rn},meta:{keepWorkflowAlive:!0,permissions:{allow:{loginStatus:[mt.LoggedIn]}}},children:[{path:"",name:ee.EXECUTION_HOME,components:{executionPreview:Aye},meta:{keepWorkflowAlive:!0,permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:":executionId",name:ee.EXECUTION_PREVIEW,components:{executionPreview:iwe},meta:{keepWorkflowAlive:!0,permissions:{allow:{loginStatus:[mt.LoggedIn]}}}}]},{path:"/workflows/demo",name:ee.DEMO,components:{default:Au},meta:{permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:"/workflows/templates/:id",name:ee.TEMPLATE_IMPORT,components:{default:Au,header:Du,sidebar:rn},meta:{templatesEnabled:!0,getRedirect:Pu,permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:"/signin",name:ee.SIGNIN,components:{default:_ve},meta:{telemetry:{pageCategory:"auth"},permissions:{allow:{loginStatus:[mt.LoggedOut]}}}},{path:"/signup",name:ee.SIGNUP,components:{default:Mve},meta:{telemetry:{pageCategory:"auth"},permissions:{allow:{loginStatus:[mt.LoggedOut]}}}},{path:"/signout",name:ee.SIGNOUT,components:{default:Lxe},meta:{telemetry:{pageCategory:"auth"},permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:"/setup",name:ee.SETUP,components:{default:Ave},meta:{telemetry:{pageCategory:"auth"},permissions:{allow:{role:[$t.Default]}}}},{path:"/forgot-password",name:ee.FORGOT_PASSWORD,components:{default:zae},meta:{telemetry:{pageCategory:"auth"},permissions:{allow:{loginStatus:[mt.LoggedOut]}}}},{path:"/change-password",name:ee.CHANGE_PASSWORD,components:{default:Iae},meta:{telemetry:{pageCategory:"auth"},permissions:{allow:{loginStatus:[mt.LoggedOut]}}}},{path:"/settings",component:Swe,props:!0,children:[{path:"usage",name:ee.USAGE,components:{settingsView:vxe},meta:{telemetry:{pageCategory:"settings",getProperties(e){return{feature:"usage"}}},permissions:{allow:{loginStatus:[mt.LoggedIn]},deny:{shouldDeny:()=>{var t;const e=Le();return e.settings.hideUsagePage===!0||((t=e.settings.deployment)==null?void 0:t.type)==="cloud"}}}}},{path:"personal",name:ee.PERSONAL_SETTINGS,components:{settingsView:Kwe},meta:{telemetry:{pageCategory:"settings",getProperties(e){return{feature:"personal"}}},permissions:{allow:{loginStatus:[mt.LoggedIn]},deny:{role:[$t.Default]}}}},{path:"users",name:ee.USERS_SETTINGS,components:{settingsView:abe},meta:{telemetry:{pageCategory:"settings",getProperties(e){return{feature:"users"}}},permissions:{allow:{role:[$t.Owner]}}}},{path:"api",name:ee.API_SETTINGS,components:{settingsView:Hbe},meta:{telemetry:{pageCategory:"settings",getProperties(e){return{feature:"api"}}},permissions:{allow:{loginStatus:[mt.LoggedIn]},deny:{shouldDeny:()=>Le().isPublicApiEnabled===!1}}}},{path:"environments",name:ee.SOURCE_CONTROL,components:{settingsView:n0e},meta:{telemetry:{pageCategory:"settings",getProperties(e){return{feature:"environments"}}},permissions:{allow:{role:[$t.Owner]}}}},{path:"sso",name:ee.SSO_SETTINGS,components:{settingsView:Pxe},meta:{telemetry:{pageCategory:"settings",getProperties(e){return{feature:"sso"}}},permissions:{allow:{role:[$t.Owner]},deny:{shouldDeny:()=>Le().isDesktopDeployment}}}},{path:"log-streaming",name:ee.LOG_STREAMING_SETTINGS,components:{settingsView:vve},meta:{telemetry:{pageCategory:"settings"},permissions:{allow:{role:[$t.Owner]},deny:{role:[$t.Member]}}}},{path:"community-nodes",name:ee.COMMUNITY_NODES,components:{settingsView:Pbe},meta:{telemetry:{pageCategory:"settings"},permissions:{allow:{role:[$t.Owner]},deny:{shouldDeny:()=>Le().isCommunityNodesFeatureEnabled===!1}}}},{path:"coming-soon/:featureId",name:ee.FAKE_DOOR,components:{settingsView:Cve},meta:{telemetry:{pageCategory:"settings",getProperties(e){return{feature:e.params.featureId}}},permissions:{allow:{loginStatus:[mt.LoggedIn]}}}},{path:"ldap",name:ee.LDAP_SETTINGS,components:{settingsView:Rwe},meta:{permissions:{allow:{role:[$t.Owner]},deny:{role:[$t.Member]}}}},{path:"audit-logs",name:ee.AUDIT_LOGS,components:{settingsView:u0e},meta:{telemetry:{pageCategory:"settings",getProperties(e){return{feature:"audit-logs"}}},permissions:{allow:{role:[$t.Owner]},deny:{shouldDeny:()=>!window.localStorage.getItem("audit-logs")}}}}]},{path:"/saml/onboarding",name:ee.SAML_ONBOARDING,components:{default:Fxe},meta:{telemetry:{pageCategory:"auth"},permissions:{allow:{loginStatus:[mt.LoggedIn]},deny:{shouldDeny:()=>{const e=Le();return!wl().isEnterpriseSamlEnabled||e.isCloudDeployment||e.isDesktopDeployment}}}}},{path:"/:pathMatch(.*)*",name:ee.NOT_FOUND,component:Wae,props:{messageKey:"error.pageNotFound",errorCode:404,redirectTextKey:"error.goBack",redirectPage:ee.HOMEPAGE},meta:{nodeView:!0,telemetry:{disabled:!0},permissions:{allow:{loginStatus:[mt.LoggedIn,mt.LoggedOut]}}}}],nC=WO({history:jO(window.BASE_PATH??"/"),scrollBehavior(e,t,s){s===null&&e.name===ee.TEMPLATES&&e.meta&&e.meta.setScrollPosition(0)},routes:c0e});var d0e={exports:{}};(function(e){var t=function(s){var n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(ae,ce,pe){ae[ce]=pe.value},r,l=typeof Symbol=="function"?Symbol:{},m=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function p(ae,ce,pe){return Object.defineProperty(ae,ce,{value:pe,enumerable:!0,configurable:!0,writable:!0}),ae[ce]}try{p({},"")}catch{p=function(ce,pe,ge){return ce[pe]=ge}}function g(ae,ce,pe,ge){var Ae=ce&&ce.prototype instanceof T?ce:T,ue=Object.create(Ae.prototype),Ce=new K(ge||[]);return i(ue,"_invoke",{value:ne(ae,pe,Ce)}),ue}s.wrap=g;function w(ae,ce,pe){try{return{type:"normal",arg:ae.call(ce,pe)}}catch(ge){return{type:"throw",arg:ge}}}var S="suspendedStart",k="suspendedYield",O="executing",C="completed",A={};function T(){}function F(){}function L(){}var I={};p(I,m,function(){return this});var j=Object.getPrototypeOf,q=j&&j(j(oe([])));q&&q!==n&&o.call(q,m)&&(I=q);var Q=L.prototype=T.prototype=Object.create(I);F.prototype=L,i(Q,"constructor",{value:L,configurable:!0}),i(L,"constructor",{value:F,configurable:!0}),F.displayName=p(L,h,"GeneratorFunction");function X(ae){["next","throw","return"].forEach(function(ce){p(ae,ce,function(pe){return this._invoke(ce,pe)})})}s.isGeneratorFunction=function(ae){var ce=typeof ae=="function"&&ae.constructor;return ce?ce===F||(ce.displayName||ce.name)==="GeneratorFunction":!1},s.mark=function(ae){return Object.setPrototypeOf?Object.setPrototypeOf(ae,L):(ae.__proto__=L,p(ae,h,"GeneratorFunction")),ae.prototype=Object.create(Q),ae},s.awrap=function(ae){return{__await:ae}};function U(ae,ce){function pe(ue,Ce,re,de){var se=w(ae[ue],ae,Ce);if(se.type==="throw")de(se.arg);else{var he=se.arg,le=he.value;return le&&typeof le=="object"&&o.call(le,"__await")?ce.resolve(le.__await).then(function(Je){pe("next",Je,re,de)},function(Je){pe("throw",Je,re,de)}):ce.resolve(le).then(function(Je){he.value=Je,re(he)},function(Je){return pe("throw",Je,re,de)})}}var ge;function Ae(ue,Ce){function re(){return new ce(function(de,se){pe(ue,Ce,de,se)})}return ge=ge?ge.then(re,re):re()}i(this,"_invoke",{value:Ae})}X(U.prototype),p(U.prototype,c,function(){return this}),s.AsyncIterator=U,s.async=function(ae,ce,pe,ge,Ae){Ae===void 0&&(Ae=Promise);var ue=new U(g(ae,ce,pe,ge),Ae);return s.isGeneratorFunction(ce)?ue:ue.next().then(function(Ce){return Ce.done?Ce.value:ue.next()})};function ne(ae,ce,pe){var ge=S;return function(ue,Ce){if(ge===O)throw new Error("Generator is already running");if(ge===C){if(ue==="throw")throw Ce;return ve()}for(pe.method=ue,pe.arg=Ce;;){var re=pe.delegate;if(re){var de=ie(re,pe);if(de){if(de===A)continue;return de}}if(pe.method==="next")pe.sent=pe._sent=pe.arg;else if(pe.method==="throw"){if(ge===S)throw ge=C,pe.arg;pe.dispatchException(pe.arg)}else pe.method==="return"&&pe.abrupt("return",pe.arg);ge=O;var se=w(ae,ce,pe);if(se.type==="normal"){if(ge=pe.done?C:k,se.arg===A)continue;return{value:se.arg,done:pe.done}}else se.type==="throw"&&(ge=C,pe.method="throw",pe.arg=se.arg)}}}function ie(ae,ce){var pe=ce.method,ge=ae.iterator[pe];if(ge===r)return ce.delegate=null,pe==="throw"&&ae.iterator.return&&(ce.method="return",ce.arg=r,ie(ae,ce),ce.method==="throw")||pe!=="return"&&(ce.method="throw",ce.arg=new TypeError("The iterator does not provide a '"+pe+"' method")),A;var Ae=w(ge,ae.iterator,ce.arg);if(Ae.type==="throw")return ce.method="throw",ce.arg=Ae.arg,ce.delegate=null,A;var ue=Ae.arg;if(!ue)return ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,A;if(ue.done)ce[ae.resultName]=ue.value,ce.next=ae.nextLoc,ce.method!=="return"&&(ce.method="next",ce.arg=r);else return ue;return ce.delegate=null,A}X(Q),p(Q,h,"Generator"),p(Q,m,function(){return this}),p(Q,"toString",function(){return"[object Generator]"});function M(ae){var ce={tryLoc:ae[0]};1 in ae&&(ce.catchLoc=ae[1]),2 in ae&&(ce.finallyLoc=ae[2],ce.afterLoc=ae[3]),this.tryEntries.push(ce)}function z(ae){var ce=ae.completion||{};ce.type="normal",delete ce.arg,ae.completion=ce}function K(ae){this.tryEntries=[{tryLoc:"root"}],ae.forEach(M,this),this.reset(!0)}s.keys=function(ae){var ce=Object(ae),pe=[];for(var ge in ce)pe.push(ge);return pe.reverse(),function Ae(){for(;pe.length;){var ue=pe.pop();if(ue in ce)return Ae.value=ue,Ae.done=!1,Ae}return Ae.done=!0,Ae}};function oe(ae){if(ae){var ce=ae[m];if(ce)return ce.call(ae);if(typeof ae.next=="function")return ae;if(!isNaN(ae.length)){var pe=-1,ge=function Ae(){for(;++pe<ae.length;)if(o.call(ae,pe))return Ae.value=ae[pe],Ae.done=!1,Ae;return Ae.value=r,Ae.done=!0,Ae};return ge.next=ge}}return{next:ve}}s.values=oe;function ve(){return{value:r,done:!0}}return K.prototype={constructor:K,reset:function(ae){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(z),!ae)for(var ce in this)ce.charAt(0)==="t"&&o.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=r)},stop:function(){this.done=!0;var ae=this.tryEntries[0],ce=ae.completion;if(ce.type==="throw")throw ce.arg;return this.rval},dispatchException:function(ae){if(this.done)throw ae;var ce=this;function pe(de,se){return ue.type="throw",ue.arg=ae,ce.next=de,se&&(ce.method="next",ce.arg=r),!!se}for(var ge=this.tryEntries.length-1;ge>=0;--ge){var Ae=this.tryEntries[ge],ue=Ae.completion;if(Ae.tryLoc==="root")return pe("end");if(Ae.tryLoc<=this.prev){var Ce=o.call(Ae,"catchLoc"),re=o.call(Ae,"finallyLoc");if(Ce&&re){if(this.prev<Ae.catchLoc)return pe(Ae.catchLoc,!0);if(this.prev<Ae.finallyLoc)return pe(Ae.finallyLoc)}else if(Ce){if(this.prev<Ae.catchLoc)return pe(Ae.catchLoc,!0)}else if(re){if(this.prev<Ae.finallyLoc)return pe(Ae.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(ae,ce){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var ge=this.tryEntries[pe];if(ge.tryLoc<=this.prev&&o.call(ge,"finallyLoc")&&this.prev<ge.finallyLoc){var Ae=ge;break}}Ae&&(ae==="break"||ae==="continue")&&Ae.tryLoc<=ce&&ce<=Ae.finallyLoc&&(Ae=null);var ue=Ae?Ae.completion:{};return ue.type=ae,ue.arg=ce,Ae?(this.method="next",this.next=Ae.finallyLoc,A):this.complete(ue)},complete:function(ae,ce){if(ae.type==="throw")throw ae.arg;return ae.type==="break"||ae.type==="continue"?this.next=ae.arg:ae.type==="return"?(this.rval=this.arg=ae.arg,this.method="return",this.next="end"):ae.type==="normal"&&ce&&(this.next=ce),A},finish:function(ae){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var pe=this.tryEntries[ce];if(pe.finallyLoc===ae)return this.complete(pe.completion,pe.afterLoc),z(pe),A}},catch:function(ae){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var pe=this.tryEntries[ce];if(pe.tryLoc===ae){var ge=pe.completion;if(ge.type==="throw"){var Ae=ge.arg;z(pe)}return Ae}}throw new Error("illegal catch attempt")},delegateYield:function(ae,ce,pe){return this.delegate={iterator:oe(ae),resultName:ce,nextLoc:pe},this.method==="next"&&(this.arg=r),A}},s}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(d0e);const p0e=J({name:"EnterpriseEdition",props:{features:{type:Array,default:()=>[]}},computed:{...be(Le),canAccess(){return this.features.reduce((e,t)=>e&&!!this.settingsStore.isEnterpriseFeatureEnabled(t),!0)}}});function h0e(e,t,s,n,o,i){return y(),P("div",null,[e.canAccess?Ke(e.$slots,"default",{key:0}):Ke(e.$slots,"fallback",{key:1})])}const m0e=te(p0e,[["render",h0e]]),f0e={install(e){const t=St();e.component("enterprise-edition",m0e),e.use(ED),e.use(xD),e.config.globalProperties.$loading=Wv.service,e.config.globalProperties.$msgbox=Co,e.config.globalProperties.$alert=t.alert,e.config.globalProperties.$confirm=t.confirm,e.config.globalProperties.$prompt=t.prompt,e.config.globalProperties.$message=t.message}};function Ta(e){var t;const s=sc(e);return(t=s==null?void 0:s.$el)!=null?t:s}const oC=$A?window:void 0;function Ju(...e){let t,s,n,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([s,n,o]=e,t=oC):[t,s,n,o]=e,!t)return cT;Array.isArray(s)||(s=[s]),Array.isArray(n)||(n=[n]);const i=[],r=()=>{i.forEach(h=>h()),i.length=0},l=(h,p,g,w)=>(h.addEventListener(p,g,w),()=>h.removeEventListener(p,g,w)),m=jn(()=>[Ta(t),sc(o)],([h,p])=>{r(),h&&i.push(...s.flatMap(g=>n.map(w=>l(h,g,w,p))))},{immediate:!0,flush:"post"}),c=()=>{m(),r()};return dT(c),c}let _v=!1;function Pv(e,t,s={}){const{window:n=oC,ignore:o=[],capture:i=!0,detectIframe:r=!1}=s;if(!n)return;Ch&&!_v&&(_v=!0,Array.from(n.document.body.children).forEach(g=>g.addEventListener("click",cT)));let l=!0;const m=g=>o.some(w=>{if(typeof w=="string")return Array.from(n.document.querySelectorAll(w)).some(S=>S===g.target||g.composedPath().includes(S));{const S=Ta(w);return S&&(g.target===S||g.composedPath().includes(S))}}),h=[Ju(n,"click",g=>{const w=Ta(e);if(!(!w||w===g.target||g.composedPath().includes(w))){if(g.detail===0&&(l=!m(g)),!l){l=!0;return}t(g)}},{passive:!0,capture:i}),Ju(n,"pointerdown",g=>{const w=Ta(e);w&&(l=!g.composedPath().includes(w)&&!m(g))},{passive:!0}),r&&Ju(n,"blur",g=>{setTimeout(()=>{var w;const S=Ta(e);((w=n.document.activeElement)==null?void 0:w.tagName)==="IFRAME"&&!(S!=null&&S.contains(n.document.activeElement))&&t(g)},0)})].filter(Boolean);return()=>h.forEach(g=>g())}const g0e={[Yy.mounted](e,t){const s=!t.modifiers.bubble;if(typeof t.value=="function")e.__onClickOutside_stop=Pv(e,t.value,{capture:s});else{const[n,o]=t.value;e.__onClickOutside_stop=Pv(e,n,Object.assign({capture:s},o))}},[Yy.unmounted](e){e.__onClickOutside_stop()}};function iC(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const s=e.parentNode;return!s||s.tagName==="BODY"?!1:iC(s)}}function y0e(e){const t=e||window.event,s=t.target;return iC(s)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function w0e(e,t=!1){const s=Be(t);let n=null,o;jn(AA(e),l=>{if(l){const m=l;o=m.style.overflow,s.value&&(m.style.overflow="hidden")}},{immediate:!0});const i=()=>{const l=sc(e);!l||s.value||(Ch&&(n=Ju(l,"touchmove",m=>{y0e(m)},{passive:!1})),l.style.overflow="hidden",s.value=!0)},r=()=>{const l=sc(e);!l||!s.value||(Ch&&(n==null||n()),l.style.overflow=o,s.value=!1)};return dT(r),we({get(){return s.value},set(l){l?i():r()}})}function b0e(){let e=!1;const t=Be(!1);return(s,n)=>{if(t.value=n.value,e)return;e=!0;const o=w0e(s,n.value);jn(t,i=>o.value=i)}}b0e();const v0e={install(e){e.use(FA),e.directive("on-click-outside",g0e)}},T0e={prefix:"fas",iconName:"variable",icon:[52,52,[],"e001","M42.6,17.8c2.4,0,7.2-2,7.2-8.4c0-6.4-4.6-6.8-6.1-6.8c-2.8,0-5.6,2-8.1,6.3c-2.5,4.4-5.3,9.1-5.3,9.1 l-0.1,0c-0.6-3.1-1.1-5.6-1.3-6.7c-0.5-2.7-3.6-8.4-9.9-8.4c-6.4,0-12.2,3.7-12.2,3.7l0,0C5.8,7.3,5.1,8.5,5.1,9.9 c0,2.1,1.7,3.9,3.9,3.9c0.6,0,1.2-0.2,1.7-0.4l0,0c0,0,4.8-2.7,5.9,0c0.3,0.8,0.6,1.7,0.9,2.7c1.2,4.2,2.4,9.1,3.3,13.5l-4.2,6 c0,0-4.7-1.7-7.1-1.7s-7.2,2-7.2,8.4s4.6,6.8,6.1,6.8c2.8,0,5.6-2,8.1-6.3c2.5-4.4,5.3-9.1,5.3-9.1c0.8,4,1.5,7.1,1.9,8.5 c1.6,4.5,5.3,7.2,10.1,7.2c0,0,5,0,10.9-3.3c1.4-0.6,2.4-2,2.4-3.6c0-2.1-1.7-3.9-3.9-3.9c-0.6,0-1.2,0.2-1.7,0.4l0,0 c0,0-4.2,2.4-5.6,0.5c-1-2-1.9-4.6-2.6-7.8c-0.6-2.8-1.3-6.2-2-9.5l4.3-6.2C35.5,16.1,40.2,17.8,42.6,17.8z"]},S0e={prefix:"fas",iconName:"xmark",icon:[400,400,[],"","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]};function me(e){BA.add(e)}const k0e={install:e=>{me(RA),me(VA),me(UA),me(WA),me(jA),me(qA),me(zA),me(HA),me(QA),me(GA),me(YA),me(XA),me(KA),me(JA),me(ZA),me(e$),me(t$),me(s$),me(n$),me(o$),me(i$),me(r$),me(a$),me(l$),me(u$),me(c$),me(d$),me(p$),me(h$),me(m$),me(f$),me(g$),me(y$),me(w$),me(b$),me(v$),me(T$),me(S$),me(k$),me(E$),me(x$),me(C$),me(O$),me(D$),me(A$),me($$),me(N$),me(_$),me(P$),me(I$),me(M$),me(L$),me(F$),me(B$),me(R$),me(V$),me(U$),me(W$),me(j$),me(q$),me(z$),me(H$),me(Q$),me(G$),me(Y$),me(X$),me(K$),me(J$),me(Z$),me(eN),me(tN),me(sN),me(nN),me(oN),me(iN),me(rN),me(aN),me(lN),me(uN),me(cN),me(dN),me(pN),me(hN),me(mN),me(fN),me(gN),me(yN),me(wN),me(bN),me(vN),me(TN),me(SN),me(kN),me(EN),me(xN),me(CN),me(ON),me(DN),me(AN),me($N),me(NN),me(_N),me(PN),me(IN),me(MN),me(LN),me(FN),me(BN),me(l_),me(RN),me(VN),me(UN),me(WN),me(jN),me(qN),me(zN),me(HN),me(QN),me(GN),me(YN),me(XN),me(KN),me(JN),me(ZN),me(e_),me(t_),me(s_),me(n_),me(T0e),me(o_),me(i_),me(r_),me(a_),me(S0e),e.component("font-awesome-icon",zv)}},E0e=HO(),Hn=qO(cae);Hn.use(GL);Hn.use(QO);Hn.use(L8);Hn.use(k0e);Hn.use(f0e);Hn.use(v0e);Hn.use(E0e);Hn.use(nC);Hn.use(ds);Hn.mount("#app");nC.afterEach((e,t)=>{Jm("main.routeChange",lf(),{from:t,to:e})});export{Bs as $,uCe as A,cCe as B,Z_ as C,fCe as D,rCe as E,dCe as F,Lt as G,pCe as H,it as I,cf as J,gr as K,Di as L,Bo as M,ei as N,lCe as O,ni as P,hn as Q,eP as R,As as S,Lu as T,bl as U,Ge as V,Ns as W,_o as X,hCe as Y,fe as Z,Nt as _,mCe as a,Bl as a0,Ai as a1,je as a2,Yw as a3,wCe as a4,_ie as a5,sf as b,dde as c,_e as d,Ft as e,Xe as f,AI as g,xS as h,vCe as i,Qh as j,Gw as k,yCe as l,lf as m,gCe as n,Un as o,Te as p,KL as q,Jm as r,sL as s,gf as t,Ee as u,aCe as v,Hh as w,fr as x,kr as y,H_ as z};
//# sourceMappingURL=index-683d9781.js.map
